!function(g){function I(g){delete installedChunks[g]}function t(g){var I=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.src=d.p+""+g+"."+Q+".hot-update.js",I.appendChild(t)}function C(g){return g=g||1e4,new Promise(function(I,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var C=new XMLHttpRequest,i=d.p+""+Q+".hot-update.json";C.open("GET",i,!0),C.timeout=g,C.send(null)}catch(g){return t(g)}C.onreadystatechange=function(){if(4===C.readyState)if(0===C.status)t(new Error("Manifest request to "+i+" timed out."));else if(404===C.status)I();else if(200!==C.status&&304!==C.status)t(new Error("Manifest request to "+i+" failed."));else{try{var g=JSON.parse(C.responseText)}catch(g){return void t(g)}I(g)}}})}function i(g){var I=V[g];if(!I)return d;var t=function(t){return I.hot.active?(V[t]?V[t].parents.indexOf(g)<0&&V[t].parents.push(g):(m=[g],u=t),I.children.indexOf(t)<0&&I.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+g),m=[]),d(t)};for(var C in d)Object.prototype.hasOwnProperty.call(d,C)&&"e"!==C&&Object.defineProperty(t,C,function(g){return{configurable:!0,enumerable:!0,get:function(){return d[g]},set:function(I){d[g]=I}}}(C));return t.e=function(g){function I(){H--,"prepare"===F&&(L[g]||a(g),0===H&&0===y&&c())}return"ready"===F&&A("prepare"),H++,d.e(g).then(I,function(g){throw I(),g})},t}function n(g){var I={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:u!==g,active:!0,accept:function(g,t){if(void 0===g)I._selfAccepted=!0;else if("function"==typeof g)I._selfAccepted=g;else if("object"==typeof g)for(var C=0;C<g.length;C++)I._acceptedDependencies[g[C]]=t||function(){};else I._acceptedDependencies[g]=t||function(){}},decline:function(g){if(void 0===g)I._selfDeclined=!0;else if("object"==typeof g)for(var t=0;t<g.length;t++)I._declinedDependencies[g[t]]=!0;else I._declinedDependencies[g]=!0},dispose:function(g){I._disposeHandlers.push(g)},addDisposeHandler:function(g){I._disposeHandlers.push(g)},removeDisposeHandler:function(g){var t=I._disposeHandlers.indexOf(g);t>=0&&I._disposeHandlers.splice(t,1)},check:B,apply:l,status:function(g){if(!g)return F;X.push(g)},addStatusHandler:function(g){X.push(g)},removeStatusHandler:function(g){var I=X.indexOf(g);I>=0&&X.splice(I,1)},data:S[g]};return u=void 0,I}function A(g){F=g;for(var I=0;I<X.length;I++)X[I].call(null,g)}function e(g){return+g+""===g?+g:g}function B(g){if("idle"!==F)throw new Error("check() is only allowed in idle status");return r=g,A("check"),C(Z).then(function(g){if(!g)return A("idle"),null;U={},L={},R=g.c,b=g.h,A("prepare");var I=new Promise(function(g,I){o={resolve:g,reject:I}});return h={},a(1),"prepare"===F&&0===H&&0===y&&c(),I})}function s(g,I){if(R[g]&&U[g]){U[g]=!1;for(var t in I)Object.prototype.hasOwnProperty.call(I,t)&&(h[t]=I[t]);0==--y&&0===H&&c()}}function a(g){R[g]?(U[g]=!0,y++,t(g)):L[g]=!0}function c(){A("ready");var g=o;if(o=null,g)if(r)Promise.resolve().then(function(){return l(r)}).then(function(I){g.resolve(I)},function(I){g.reject(I)});else{var I=[];for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&I.push(e(t));g.resolve(I)}}function l(t){function C(g,I){for(var t=0;t<I.length;t++){var C=I[t];g.indexOf(C)<0&&g.push(C)}}if("ready"!==F)throw new Error("apply() is only allowed in ready status");t=t||{};var i,n,B,s,a,c={},l=[],G={},u=function(){console.warn("[HMR] unexpected require("+r.moduleId+") to disposed module")};for(var o in h)if(Object.prototype.hasOwnProperty.call(h,o)){a=e(o);var r;r=h[o]?function(g){for(var I=[g],t={},i=I.slice().map(function(g){return{chain:[g],id:g}});i.length>0;){var n=i.pop(),A=n.id,e=n.chain;if((s=V[A])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:e,moduleId:A};if(s.hot._main)return{type:"unaccepted",chain:e,moduleId:A};for(var B=0;B<s.parents.length;B++){var a=s.parents[B],c=V[a];if(c){if(c.hot._declinedDependencies[A])return{type:"declined",chain:e.concat([a]),moduleId:A,parentId:a};I.indexOf(a)>=0||(c.hot._acceptedDependencies[A]?(t[a]||(t[a]=[]),C(t[a],[A])):(delete t[a],I.push(a),i.push({chain:e.concat([a]),id:a})))}}}}return{type:"accepted",moduleId:g,outdatedModules:I,outdatedDependencies:t}}(a):{type:"disposed",moduleId:o};var Z=!1,p=!1,X=!1,y="";switch(r.chain&&(y="\nUpdate propagation: "+r.chain.join(" -> ")),r.type){case"self-declined":t.onDeclined&&t.onDeclined(r),t.ignoreDeclined||(Z=new Error("Aborted because of self decline: "+r.moduleId+y));break;case"declined":t.onDeclined&&t.onDeclined(r),t.ignoreDeclined||(Z=new Error("Aborted because of declined dependency: "+r.moduleId+" in "+r.parentId+y));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(r),t.ignoreUnaccepted||(Z=new Error("Aborted because "+a+" is not accepted"+y));break;case"accepted":t.onAccepted&&t.onAccepted(r),p=!0;break;case"disposed":t.onDisposed&&t.onDisposed(r),X=!0;break;default:throw new Error("Unexception type "+r.type)}if(Z)return A("abort"),Promise.reject(Z);if(p){G[a]=h[a],C(l,r.outdatedModules);for(a in r.outdatedDependencies)Object.prototype.hasOwnProperty.call(r.outdatedDependencies,a)&&(c[a]||(c[a]=[]),C(c[a],r.outdatedDependencies[a]))}X&&(C(l,[r.moduleId]),G[a]=u)}var H=[];for(n=0;n<l.length;n++)a=l[n],V[a]&&V[a].hot._selfAccepted&&H.push({module:a,errorHandler:V[a].hot._selfAccepted});A("dispose"),Object.keys(R).forEach(function(g){!1===R[g]&&I(g)});for(var L,U=l.slice();U.length>0;)if(a=U.pop(),s=V[a]){var w={},D=s.hot._disposeHandlers;for(B=0;B<D.length;B++)(i=D[B])(w);for(S[a]=w,s.hot.active=!1,delete V[a],B=0;B<s.children.length;B++){var W=V[s.children[B]];W&&(L=W.parents.indexOf(a))>=0&&W.parents.splice(L,1)}}var x,N;for(a in c)if(Object.prototype.hasOwnProperty.call(c,a)&&(s=V[a]))for(N=c[a],B=0;B<N.length;B++)x=N[B],(L=s.children.indexOf(x))>=0&&s.children.splice(L,1);A("apply"),Q=b;for(a in G)Object.prototype.hasOwnProperty.call(G,a)&&(g[a]=G[a]);var k=null;for(a in c)if(Object.prototype.hasOwnProperty.call(c,a)){s=V[a],N=c[a];var Y=[];for(n=0;n<N.length;n++)x=N[n],i=s.hot._acceptedDependencies[x],Y.indexOf(i)>=0||Y.push(i);for(n=0;n<Y.length;n++){i=Y[n];try{i(N)}catch(g){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:N[n],error:g}),t.ignoreErrored||k||(k=g)}}}for(n=0;n<H.length;n++){var T=H[n];a=T.module,m=[a];try{d(a)}catch(g){if("function"==typeof T.errorHandler)try{T.errorHandler(g)}catch(I){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:a,error:I,orginalError:g}),t.ignoreErrored||k||(k=I),k||(k=g)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:a,error:g}),t.ignoreErrored||k||(k=g)}}return k?(A("fail"),Promise.reject(k)):(A("idle"),new Promise(function(g){g(l)}))}function d(I){if(V[I])return V[I].exports;var t=V[I]={i:I,l:!1,exports:{},hot:n(I),parents:(p=m,m=[],p),children:[]};return g[I].call(t.exports,t,t.exports,i(I)),t.l=!0,t.exports}var G=this.webpackHotUpdate;this.webpackHotUpdate=function(g,I){s(g,I),G&&G(g,I)};var u,o,h,b,r=!0,Q="0864b5b69b589ba1ed8e",Z=1e4,S={},m=[],p=[],X=[],F="idle",y=0,H=0,L={},U={},R={},V={};d.m=g,d.c=V,d.d=function(g,I,t){d.o(g,I)||Object.defineProperty(g,I,{configurable:!1,enumerable:!0,get:t})},d.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return d.d(I,"a",I),I},d.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},d.p="",d.h=function(){return Q},i(0)(d.s=0)}([function(module,exports,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\n!function (t, e) {\n  "object" == ( false ? "undefined" : _typeof(exports)) && "object" == ( false ? "undefined" : _typeof(module)) ? module.exports = e() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) ? exports.Phaser = e() : t.Phaser = e();\n}(undefined, function () {\n  return function (t) {\n    function e(n) {\n      if (i[n]) return i[n].exports;var r = i[n] = { i: n, l: !1, exports: {} };return t[n].call(r.exports, r, r.exports, e), r.l = !0, r.exports;\n    }var i = {};return e.m = t, e.c = i, e.d = function (t, i, n) {\n      e.o(t, i) || Object.defineProperty(t, i, { configurable: !1, enumerable: !0, get: n });\n    }, e.n = function (t) {\n      var i = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };return e.d(i, "a", i), i;\n    }, e.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, e.p = "", e(e.s = 228);\n  }([function (t, e) {\n    function i(t) {\n      return !!t.get && "function" == typeof t.get || !!t.set && "function" == typeof t.set;\n    }function n(t, e, n) {\n      var r = n ? t[e] : Object.getOwnPropertyDescriptor(t, e);return !n && r.value && "object" == _typeof(r.value) && (r = r.value), !(!r || !i(r)) && (void 0 === r.enumerable && (r.enumerable = !0), void 0 === r.configurable && (r.configurable = !0), r);\n    }function r(t, e) {\n      var i = Object.getOwnPropertyDescriptor(t, e);return !!i && (i.value && "object" == _typeof(i.value) && (i = i.value), !1 === i.configurable);\n    }function s(t, e, i, s) {\n      for (var a in e) {\n        if (e.hasOwnProperty(a)) {\n          var h = n(e, a, i);if (!1 !== h) {\n            var u = s || t;if (r(u.prototype, a)) {\n              if (o.ignoreFinals) continue;throw new Error("cannot override final property \'" + a + "\', set Class.ignoreFinals = true to skip");\n            }Object.defineProperty(t.prototype, a, h);\n          } else t.prototype[a] = e[a];\n        }\n      }\n    }function a(t, e) {\n      if (e) {\n        Array.isArray(e) || (e = [e]);for (var i = 0; i < e.length; i++) {\n          s(t, e[i].prototype || e[i]);\n        }\n      }\n    }function o(t) {\n      t || (t = {});var e, i;if (t.initialize) {\n        if ("function" != typeof t.initialize) throw new Error("initialize must be a function");e = t.initialize, delete t.initialize;\n      } else if (t.Extends) {\n        var n = t.Extends;e = function e() {\n          n.apply(this, arguments);\n        };\n      } else e = function e() {};t.Extends ? (e.prototype = Object.create(t.Extends.prototype), e.prototype.constructor = e, i = t.Extends, delete t.Extends) : e.prototype.constructor = e;var r = null;return t.Mixins && (r = t.Mixins, delete t.Mixins), a(e, r), s(e, t, !0, i), e;\n    }o.extend = s, o.mixin = a, o.ignoreFinals = !1, t.exports = o;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.type = t, this.target, this._propagate = !0;\n      }, reset: function reset(t) {\n        this.target = t, this._propagate = !0;\n      }, stopPropagation: function stopPropagation() {\n        this._propagate = !1;\n      } });t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i) {\n      if (t && "number" != typeof t) {\n        if (t.hasOwnProperty(e)) return t[e];if (e.indexOf(".")) {\n          for (var n = e.split("."), r = t, s = _i, a = 0; a < n.length; a++) {\n            if (!r.hasOwnProperty(n[a])) {\n              s = _i;break;\n            }s = r[n[a]], r = r[n[a]];\n          }return s;\n        }return _i;\n      }return _i;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { Alpha: i(244), Animation: i(245), BlendMode: i(267), ComputedSize: i(268), Flip: i(269), GetBounds: i(270), Origin: i(271), RenderTarget: i(272), ScaleMode: i(273), ScrollFactor: i(274), Size: i(275), Texture: i(276), Tint: i(277), ToJSON: i(278), Transform: i(279), TransformMatrix: i(14), Visible: i(280) };\n  }, function (t, e, i) {\n    var n = { VERSION: "3.0.0", BlendModes: i(31), ScaleModes: i(26), AUTO: 0, CANVAS: 1, WEBGL: 2, HEADLESS: 3, FOREVER: -1, NONE: 4, UP: 5, DOWN: 6, LEFT: 7, RIGHT: 8 };t.exports = n;\n  }, function (t, e, i) {\n    var n = i(69),\n        r = i(2),\n        s = function s(t, e, i) {\n      var s = r(t, e, null);if (null === s) return i;if (Array.isArray(s)) return n.RND.pick(s);if ("object" == (typeof s === "undefined" ? "undefined" : _typeof(s))) {\n        if (s.hasOwnProperty("randInt")) return n.RND.integerInRange(s.randInt[0], s.randInt[1]);if (s.hasOwnProperty("randFloat")) return n.RND.realInRange(s.randFloat[0], s.randFloat[1]);\n      } else if ("function" == typeof s) return s(e);return s;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(3),\n        s = new n({ initialize: function initialize(t, e) {\n        this.scene = t, this.type = e, this.name = "", this.active = !0, this.tabIndex = -1, this.renderMask = 15, this.renderFlags = 15, this.cameraFilter = 0, this.input = null, this.body = null, this.scene.sys.sortChildrenFlag = !0;\n      }, setActive: function setActive(t) {\n        return this.active = t, this;\n      }, setName: function setName(t) {\n        return this.name = t, this;\n      }, setInteractive: function setInteractive(t, e) {\n        return this.scene.sys.inputManager.enable(this, t, e), this;\n      }, update: function update() {}, toJSON: function toJSON() {\n        return r.ToJSON(this);\n      }, willRender: function willRender() {\n        return this.renderMask === this.renderFlags;\n      }, destroy: function destroy() {\n        this.scene.sys.displayList.remove(this), this.scene.sys.updateList.remove(this), this.input && this.scene.sys.inputManager.clear(this), this.body && this.scene.sys.physicsManager.remove(this), this.active = !1, this.scene = void 0;\n      } });t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e, _i2) {\n      var n = typeof t === "undefined" ? "undefined" : _typeof(t);return t && "number" !== n && "string" !== n && t.hasOwnProperty(e) ? t[e] : _i2;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e) {\n        void 0 === t && (t = 0), void 0 === e && (e = t), this.x = t, this.y = e;\n      }, setTo: function setTo(t, e) {\n        return void 0 === t && (t = 0), void 0 === e && (e = t), this.x = t, this.y = e, this;\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(5),\n        r = i(26),\n        s = i(31),\n        a = function a(t, e, i) {\n      e.x = n(i, "x", 0), e.y = n(i, "y", 0), e.z = n(i, "z", 0), e.flipX = n(i, "flipX", !1), e.flipY = n(i, "flipY", !1);var a = n(i, "scale", null);"number" == typeof a ? e.setScale(a) : null !== a && (e.scaleX = n(a, "x", 1), e.scaleY = n(a, "y", 1));var o = n(i, "scrollFactor", null);"number" == typeof o ? e.setScrollFactor(o) : null !== o && (e.scrollFactorX = n(o, "x", 1), e.scrollFactorY = n(o, "y", 1)), e.rotation = n(i, "rotation", 0);var h = n(i, "angle", null);null !== h && (e.angle = h), e.alpha = n(i, "alpha", 1);var u = n(i, "origin", null);if ("number" == typeof u) e.setOrigin(u);else if (null !== u) {\n        var c = n(i, "x", .5),\n            l = n(i, "y", .5);e.setOrigin(c, l);\n      }return e.scaleMode = n(i, "scaleMode", r.DEFAULT), e.blendMode = n(i, "blendMode", s.NORMAL), e.visible = n(i, "visible", !0), n(i, "add", !0) && t.sys.displayList.add(e), e;\n    };t.exports = a;\n  }, function (t, e) {\n    var i = { PI2: 2 * Math.PI, TAU: .5 * Math.PI, EPSILON: 1e-6, DEG_TO_RAD: Math.PI / 180, RAD_TO_DEG: 180 / Math.PI };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(4),\n        r = i(67),\n        s = [],\n        a = !1;t.exports = function () {\n      var t = function t(_t2, e, i, h) {\n        void 0 === e && (e = 1), void 0 === i && (i = 1), void 0 === h && (h = n.CANVAS);var u,\n            c = o(h);return null === c ? (c = { parent: _t2, canvas: document.createElement("canvas"), type: h }, s.push(c), u = c.canvas) : (c.parent = _t2, u = c.canvas), u.width = e, u.height = i, a && h === n.CANVAS && r.disable(u.getContext("2d")), u;\n      },\n          e = function e(_e, i, r) {\n        return t(_e, i, r, n.CANVAS);\n      },\n          i = function i(e, _i3, r) {\n        return t(e, _i3, r, n.WEBGL);\n      },\n          o = function o(t) {\n        return void 0 === t && (t = n.CANVAS), s.forEach(function (e) {\n          if (!e.parent && e.type === t) return e;\n        }), null;\n      },\n          h = function h(t) {\n        var e = t instanceof HTMLCanvasElement;s.forEach(function (i) {\n          (e && i.canvas === t || !e && i.parent === t) && (i.parent = null, i.canvas.width = 1, i.canvas.height = 1);\n        });\n      },\n          u = function u() {\n        var t = 0;return s.forEach(function (e) {\n          e.parent && t++;\n        }), t;\n      },\n          c = function c() {\n        return s.length - u();\n      };return { create2D: e, create: t, createWebGL: i, disableSmoothing: function disableSmoothing() {\n          a = !0;\n        }, enableSmoothing: function enableSmoothing() {\n          a = !1;\n        }, first: o, free: c, pool: s, remove: h, total: u };\n    }();\n  }, function (t, e) {\n    var i = { LOADER_IDLE: 0, LOADER_LOADING: 1, LOADER_PROCESSING: 2, LOADER_COMPLETE: 3, LOADER_DESTROYED: 4, FILE_PENDING: 5, FILE_LOADING: 6, FILE_LOADED: 7, FILE_FAILED: 8, FILE_PROCESSING: 9, FILE_WAITING_LINKFILE: 10, FILE_ERRORED: 11, FILE_COMPLETE: 12, FILE_DESTROYED: 13, TEXTURE_ATLAS_JSON_ARRAY: 20, TEXTURE_ATLAS_JSON_HASH: 21 };t.exports = i;\n  }, function (t, e) {\n    var i = { CREATED: 0, INIT: 1, DELAY: 2, OFFSET_DELAY: 3, PENDING_RENDER: 4, PLAYING_FORWARD: 5, PLAYING_BACKWARD: 6, HOLD_DELAY: 7, REPEAT_DELAY: 8, COMPLETE: 9, PENDING_ADD: 20, PAUSED: 21, LOOP_DELAY: 22, ACTIVE: 23, COMPLETE_DELAY: 24, PENDING_REMOVE: 25, REMOVED: 26 };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i, n, r, s) {\n        void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 1), void 0 === r && (r = 0), void 0 === s && (s = 0), this.matrix = new Float32Array([t, e, i, n, r, s, 0, 0, 1]), this.decomposedMatrix = { translateX: 0, translateY: 0, scaleX: 1, scaleY: 1, rotation: 0 };\n      }, loadIdentity: function loadIdentity() {\n        var t = this.matrix;return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, this;\n      }, translate: function translate(t, e) {\n        var i = this.matrix;return i[4] = i[0] * t + i[2] * e + i[4], i[5] = i[1] * t + i[3] * e + i[5], this;\n      }, scale: function scale(t, e) {\n        var i = this.matrix;return i[0] *= t, i[1] *= t, i[2] *= e, i[3] *= e, this;\n      }, rotate: function rotate(t) {\n        var e = Math.sin(t),\n            i = Math.cos(t);return this.transform(i, -e, e, i, 0, 0);\n      }, multiply: function multiply(t) {\n        var e = this.matrix,\n            i = e[0],\n            n = e[1],\n            r = e[2],\n            s = e[3],\n            a = e[4],\n            o = e[5],\n            h = t[0],\n            u = t[1],\n            c = t[2],\n            l = t[3],\n            f = t[4],\n            d = t[5];return e[0] = h * i + u * r, e[1] = h * n + u * s, e[2] = c * i + l * r, e[3] = c * n + l * s, e[4] = f * i + d * r + a, e[5] = f * n + d * s + o, this;\n      }, transform: function transform(t, e, i, n, r, s) {\n        var a = this.matrix,\n            o = a[0],\n            h = a[1],\n            u = a[2],\n            c = a[3],\n            l = a[4],\n            f = a[5];return a[0] = t * o + e * u, a[1] = t * h + e * c, a[2] = i * o + n * u, a[3] = i * h + n * c, a[4] = r * o + s * u + l, a[5] = r * h + s * c + f, this;\n      }, transformPoint: function transformPoint(t, e, i) {\n        void 0 === i && (i = { x: 0, y: 0 });var n = this.matrix,\n            r = n[0],\n            s = n[1],\n            a = n[2],\n            o = n[3],\n            h = n[4],\n            u = n[5];return i.x = t * r + e * a + h, i.y = t * s + e * o + u, i;\n      }, invert: function invert() {\n        var t = this.matrix,\n            e = t[0],\n            i = t[1],\n            n = t[2],\n            r = t[3],\n            s = t[4],\n            a = t[5],\n            o = e * r - i * n;return t[0] = r / o, t[1] = -i / o, t[2] = -n / o, t[3] = e / o, t[4] = (n * a - r * s) / o, t[5] = -(e * a - i * s) / o, this;\n      }, setTransform: function setTransform(t, e, i, n, r, s) {\n        var a = this.matrix;return a[0] = t, a[1] = e, a[2] = i, a[3] = n, a[4] = r, a[5] = s, this;\n      }, decomposeMatrix: function decomposeMatrix() {\n        var t = this.decomposedMatrix,\n            e = this.matrix,\n            i = e[0],\n            n = e[1],\n            r = e[2],\n            s = e[3],\n            a = i * i,\n            o = n * n,\n            h = r * r,\n            u = s * s,\n            c = Math.sqrt(a + h),\n            l = Math.sqrt(o + u);return t.translateX = e[4], t.translateY = e[5], t.scaleX = c, t.scaleY = l, t.rotation = Math.acos(i / c) * (Math.atan(-r / i) < 0 ? -1 : 1), t;\n      }, applyITRS: function applyITRS(t, e, i, n, r) {\n        var s = this.matrix,\n            a = Math.sin(i),\n            o = Math.cos(i);return s[4] = t, s[5] = e, s[0] = o * n, s[1] = -a * n, s[2] = a * r, s[3] = o * r, this;\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i, n) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.x = t, this.y = e, this.width = i, this.height = n;\n      }, setTo: function setTo(t, e, i, n) {\n        return this.x = t, this.y = e, this.width = i, this.height = n, this;\n      }, setEmpty: function setEmpty() {\n        return this.setTo(0, 0, 0, 0);\n      }, setPosition: function setPosition(t, e) {\n        return void 0 === e && (e = t), this.x = t, this.y = e, this;\n      }, setSize: function setSize(t, e) {\n        return void 0 === e && (e = t), this.width = t, this.height = e, this;\n      }, isEmpty: function isEmpty() {\n        return this.width <= 0 || this.height <= 0;\n      }, getLineA: function getLineA() {\n        return { x1: this.x, y1: this.y, x2: this.right, y2: this.y };\n      }, getLineB: function getLineB() {\n        return { x1: this.right, y1: this.y, x2: this.right, y2: this.bottom };\n      }, getLineC: function getLineC() {\n        return { x1: this.right, y1: this.bottom, x2: this.x, y2: this.bottom };\n      }, getLineD: function getLineD() {\n        return { x1: this.x, y1: this.bottom, x2: this.x, y2: this.y };\n      }, left: { get: function get() {\n          return this.x;\n        }, set: function set(t) {\n          t >= this.right ? this.width = 0 : this.width = this.right - t, this.x = t;\n        } }, right: { get: function get() {\n          return this.x + this.width;\n        }, set: function set(t) {\n          t <= this.x ? this.width = 0 : this.width = t - this.x;\n        } }, top: { get: function get() {\n          return this.y;\n        }, set: function set(t) {\n          t >= this.bottom ? (this.height = 0, this.y = t) : this.height = this.bottom - t;\n        } }, bottom: { get: function get() {\n          return this.y + this.height;\n        }, set: function set(t) {\n          t <= this.y ? this.height = 0 : this.height = t - this.y;\n        } }, centerX: { get: function get() {\n          return this.x + this.width / 2;\n        }, set: function set(t) {\n          this.x = t - this.width / 2;\n        } }, centerY: { get: function get() {\n          return this.y + this.height / 2;\n        }, set: function set(t) {\n          this.y = t - this.height / 2;\n        } } });t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.y + t.height - t.height * t.originY;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.y = e - t.height + t.height * t.originY, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.x - t.width * t.originX;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x = e + t.width * t.originX, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.x + t.width - t.width * t.originX;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x = e - t.width + t.width * t.originX, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.y - t.height * t.originY;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.y = e + t.height * t.originY, t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(7),\n        s = i(12),\n        a = i(666),\n        o = i(186),\n        h = i(667),\n        u = i(90),\n        c = new n({ initialize: function initialize(t) {\n        if (this.type = r(t, "type", !1), this.key = r(t, "key", !1), !this.type || !this.key) throw new Error("Error calling \'Loader." + this.type + "\' invalid key provided.");this.url = r(t, "url"), void 0 === this.url ? this.url = r(t, "path", "") + this.key + "." + r(t, "extension", "") : this.url = r(t, "path", "").concat(this.url), this.src = "", this.xhrSettings = u(r(t, "responseType", void 0)), r(t, "xhrSettings", !1) && (this.xhrSettings = o(this.xhrSettings, r(t, "xhrSettings", {}))), this.xhrLoader = null, this.state = s.FILE_PENDING, this.bytesTotal = 0, this.bytesLoaded = -1, this.percentComplete = -1, this.crossOrigin = void 0, this.data = void 0, this.config = r(t, "config", {}), this.linkFile = void 0, this.linkType = "", this.callback = null;\n      }, resetXHR: function resetXHR() {\n        this.xhrLoader.onload = void 0, this.xhrLoader.onerror = void 0, this.xhrLoader.onprogress = void 0;\n      }, onLoad: function onLoad(t) {\n        this.resetXHR(), this.callback(this, !0);\n      }, onError: function onError(t) {\n        this.resetXHR(), this.callback(this, !1);\n      }, onProgress: function onProgress(t) {\n        t.lengthComputable && (this.bytesLoaded = t.loaded, this.bytesTotal = t.total, this.percentComplete = Math.min(this.bytesLoaded / this.bytesTotal, 1));\n      }, onProcess: function onProcess(t) {\n        this.state = s.FILE_PROCESSING, this.onComplete(), t(this);\n      }, onComplete: function onComplete() {\n        this.linkFile ? this.linkFile.state === s.FILE_WAITING_LINKFILE ? (this.state = s.FILE_COMPLETE, this.linkFile.state = s.FILE_COMPLETE) : this.state = s.FILE_WAITING_LINKFILE : this.state = s.FILE_COMPLETE;\n      }, load: function load(t, e, i) {\n        void 0 === e && (e = ""), this.callback = t, this.src = a(this, e), 0 === this.src.indexOf("data:") ? console.log("Local data URI") : this.xhrLoader = h(this, i);\n      } });t.exports = c;\n  }, function (t, e) {\n    var i = function i() {};t.exports = i;\n  }, function (t, e) {\n    t.exports = { DEFAULT: 0, LINEAR: 0, NEAREST: 1 };\n  }, function (t, e) {\n    var i = function i(t, e, _i4) {\n      return !(t.width <= 0 || t.height <= 0) && t.x <= e && t.x + t.width >= e && t.y <= _i4 && t.y + t.height >= _i4;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(72),\n        s = i(154),\n        a = new n({ initialize: function initialize(t, e, i, n) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 255), this.r = 0, this.g = 0, this.b = 0, this.a = 255, this.gl = [0, 0, 0, 1], this._color = 0, this._color32 = 0, this._rgba = "", this.setTo(t, e, i, n);\n      }, transparent: function transparent() {\n        return this.red = 0, this.green = 0, this.blue = 0, this.alpha = 0, this.update();\n      }, setTo: function setTo(t, e, i, n) {\n        return void 0 === n && (n = 255), this.red = t, this.green = e, this.blue = i, this.alpha = n, this.update();\n      }, setGLTo: function setGLTo(t, e, i, n) {\n        return void 0 === n && (n = 1), this.redGL = t, this.greenGL = e, this.blueGL = i, this.alphaGL = n, this.update();\n      }, setFromRGB: function setFromRGB(t) {\n        return this.red = t.r, this.green = t.g, this.blue = t.b, t.hasOwnProperty("a") && (this.alpha = t.a), this.update();\n      }, update: function update() {\n        return this._color = r(this.r, this.g, this.b), this._color32 = s(this.r, this.g, this.b, this.a), this._rgba = "rgba(" + this.r + "," + this.g + "," + this.b + "," + this.a / 255 + ")", this;\n      }, clone: function clone() {\n        return new a(this.r, this.g, this.b, this.a);\n      }, color: { get: function get() {\n          return this._color;\n        } }, color32: { get: function get() {\n          return this._color32;\n        } }, rgba: { get: function get() {\n          return this._rgba;\n        } }, redGL: { get: function get() {\n          return this.gl[0];\n        }, set: function set(t) {\n          this.gl[0] = Math.min(Math.abs(t), 1), this.r = Math.floor(255 * this.gl[0]), this.update();\n        } }, greenGL: { get: function get() {\n          return this.gl[1];\n        }, set: function set(t) {\n          this.gl[1] = Math.min(Math.abs(t), 1), this.g = Math.floor(255 * this.gl[1]), this.update();\n        } }, blueGL: { get: function get() {\n          return this.gl[2];\n        }, set: function set(t) {\n          this.gl[2] = Math.min(Math.abs(t), 1), this.b = Math.floor(255 * this.gl[2]), this.update();\n        } }, alphaGL: { get: function get() {\n          return this.gl[3];\n        }, set: function set(t) {\n          this.gl[3] = Math.min(Math.abs(t), 1), this.a = Math.floor(255 * this.gl[3]), this.update();\n        } }, red: { get: function get() {\n          return this.r;\n        }, set: function set(t) {\n          t = Math.floor(Math.abs(t)), this.r = Math.min(t, 255), this.gl[0] = t / 255, this.update();\n        } }, green: { get: function get() {\n          return this.g;\n        }, set: function set(t) {\n          t = Math.floor(Math.abs(t)), this.g = Math.min(t, 255), this.gl[1] = t / 255, this.update();\n        } }, blue: { get: function get() {\n          return this.b;\n        }, set: function set(t) {\n          t = Math.floor(Math.abs(t)), this.b = Math.min(t, 255), this.gl[2] = t / 255, this.update();\n        } }, alpha: { get: function get() {\n          return this.a;\n        }, set: function set(t) {\n          t = Math.floor(Math.abs(t)), this.a = Math.min(t, 255), this.gl[3] = t / 255, this.update();\n        } } });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(388),\n        s = new n({ initialize: function initialize() {\n        this.bindings = {}, this.filters = [], this.hasFilters = !1;\n      }, getBinding: function getBinding(t) {\n        if (this.bindings.hasOwnProperty(t)) return this.bindings[t];\n      }, createBinding: function createBinding(t) {\n        return this.getBinding(t) || (this.bindings[t] = new r(this, t)), this.bindings[t];\n      }, on: function on(t, e, i) {\n        void 0 === i && (i = 0);var n = this.createBinding(t);return n && n.add(e, i, !1), this;\n      }, once: function once(t, e, i) {\n        void 0 === i && (i = 0);var n = this.createBinding(t);return n && n.add(e, i, !0), this;\n      }, filter: function filter(t) {\n        var e = this.filters.indexOf(t);return -1 === e ? this.filters.push(t) : this.filters.splice(e, 1), this.hasFilters = this.filters.length > 0, this;\n      }, has: function has(t, e) {\n        var i = this.getBinding(t);return !!i && i.has(e);\n      }, total: function total(t) {\n        var e = this.getBinding(t);if (e) return e.total();\n      }, off: function off(t, e) {\n        var i = this.getBinding(t);return i && i.remove(e), this;\n      }, _dispatchHandler: function _dispatchHandler(t) {\n        if (t.reset(this), this.hasFilters) for (var e = 0; e < this.filters.length; e++) {\n          if (this.filters[e].call(this, t), !t._propagate) return;\n        }var i = this.getBinding(t.type);i && i.dispatch(t);\n      }, dispatch: function dispatch(t) {\n        if (Array.isArray(t)) for (var e = 0; e < t.length; e++) {\n          this._dispatchHandler(t[e]);\n        } else this._dispatchHandler(t);\n      }, removeAll: function removeAll(t) {\n        var e = this.getBinding(t);return e && e.removeAll(), this;\n      }, removeAllFilters: function removeAllFilters() {\n        return this.filters.length = 0, this.hasFilters = !1, this;\n      }, delete: function _delete(t) {\n        var e = this.getBinding(t);return e && (e.destroy(), delete this.bindings[t]), this;\n      }, deleteAll: function deleteAll() {\n        for (var t in this.bindings) {\n          t.destroy();\n        }this.bindings = {};\n      }, destroy: function destroy() {\n        this.deleteAll(), this.removeAllFilters();\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.dwordLength = 0, this.dwordCapacity = t / 4, this.buffer = new ArrayBuffer(t), this.floatView = new Float32Array(this.buffer), this.intView = new Int32Array(this.buffer), this.uintView = new Uint32Array(this.buffer);\n      }, clear: function clear() {\n        this.dwordLength = 0;\n      }, getByteLength: function getByteLength() {\n        return 4 * this.dwordLength;\n      }, getByteCapacity: function getByteCapacity() {\n        return this.buffer.byteLength;\n      }, allocate: function allocate(t) {\n        var e = this.dwordLength;return this.dwordLength += t, e;\n      }, getUsedBufferAsFloat: function getUsedBufferAsFloat() {\n        return this.floatView.subarray(0, this.dwordLength);\n      }, getUsedBufferAsInt: function getUsedBufferAsInt() {\n        return this.intView.subarray(0, this.dwordLength);\n      }, getUsedBufferAsUint: function getUsedBufferAsUint() {\n        return this.uintView.subarray(0, this.dwordLength);\n      } });t.exports = r;\n  }, function (t, e) {\n    t.exports = { NORMAL: 0, ADD: 1, MULTIPLY: 2, SCREEN: 3, OVERLAY: 4, DARKEN: 5, LIGHTEN: 6, COLOR_DODGE: 7, COLOR_BURN: 8, HARD_LIGHT: 9, SOFT_LIGHT: 10, DIFFERENCE: 11, EXCLUSION: 12, HUE: 13, SATURATION: 14, COLOR: 15, LUMINOSITY: 16 };\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.x - t.width * t.originX + .5 * t.width;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = t.width * t.originX;return t.x = e + i - .5 * t.width, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.y - t.height * t.originY + .5 * t.height;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = t.height * t.originY;return t.y = e + i - .5 * t.height, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i5) {\n      if (t.radius > 0 && e >= t.left && e <= t.right && _i5 >= t.top && _i5 <= t.bottom) {\n        return (t.x - e) * (t.x - e) + (t.y - _i5) * (t.y - _i5) <= t.radius * t.radius;\n      }return !1;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.wordLength = 0, this.wordCapacity = t / 2, this.buffer = new ArrayBuffer(t), this.intView = new Int16Array(this.buffer), this.uintView = new Uint16Array(this.buffer);\n      }, clear: function clear() {\n        this.wordLength = 0;\n      }, getByteLength: function getByteLength() {\n        return 2 * this.wordLength;\n      }, getByteCapacity: function getByteCapacity() {\n        return this.buffer.byteLength;\n      }, allocate: function allocate(t) {\n        var e = this.wordLength;return this.wordLength += t, e;\n      }, getUsedBufferAsShort: function getUsedBufferAsShort() {\n        return this.intView.subarray(0, this.wordLength);\n      }, getUsedBufferAsWord: function getUsedBufferAsWord() {\n        return this.uintView.subarray(0, this.wordLength);\n      } });t.exports = r;\n  }, function (t, e) {\n    t.exports = { vert: ["uniform mat4 u_view_matrix;", "attribute vec2 a_position;", "attribute vec2 a_tex_coord;", "attribute vec3 a_color;", "attribute float a_alpha;", "varying vec2 v_tex_coord;", "varying vec3 v_color;", "varying float v_alpha;", "void main () {", "   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);", "   v_tex_coord = a_tex_coord;", "   v_color = a_color;", "   v_alpha = a_alpha;", "}"].join("\\n"), frag: ["precision mediump float;", "uniform sampler2D u_sampler2D;", "varying vec2 v_tex_coord;", "varying vec3 v_color;", "varying float v_alpha;", "void main() {", "   gl_FragColor = texture2D(u_sampler2D, v_tex_coord) * vec4(v_color, v_alpha);", "}"].join("\\n") };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(541),\n        o = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.ScrollFactor, s.Size, s.Texture, s.Tint, s.Transform, s.Visible, a], initialize: function initialize(t, e, i, n, a) {\n        r.call(this, t, "Sprite"), this.anims = new s.Animation(this), this.setTexture(n, a), this.setPosition(e, i), this.setSizeToFrame(), this.setOrigin();\n      }, preUpdate: function preUpdate(t, e) {\n        this.anims.update(t, e);\n      }, play: function play(t, e) {\n        return this.anims.play(t, e), this;\n      }, toJSON: function toJSON() {\n        return s.ToJSON(this);\n      } });t.exports = o;\n  }, function (t, e, i) {\n    t.exports = { DRAG: i(607), DRAG_END: i(608), DRAG_ENTER: i(609), DRAG_LEAVE: i(610), DRAG_OVER: i(611), DRAG_START: i(612), DROP: i(613), GAME_OBJECT_DOWN: i(614), GAME_OBJECT_MOVE: i(615), GAME_OBJECT_OUT: i(616), GAME_OBJECT_OVER: i(617), GAME_OBJECT_UP: i(618), POINTER_DOWN: i(619), POINTER_MOVE: i(620), POINTER_OUT: i(621), POINTER_OVER: i(622), POINTER_UP: i(623) };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i, n, r, s) {\n        this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.x3 = 0, this.y3 = 0, this.setTo(t, e, i, n, r, s);\n      }, setTo: function setTo(t, e, i, n, r, s) {\n        return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), void 0 === s && (s = 0), this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = n, this.x3 = r, this.y3 = s, this;\n      }, getLineA: function getLineA() {\n        return { x1: this.x1, y1: this.y1, x2: this.x2, y2: this.y2 };\n      }, getLineB: function getLineB() {\n        return { x1: this.x2, y1: this.y2, x2: this.x3, y2: this.y3 };\n      }, getLineC: function getLineC() {\n        return { x1: this.x3, y1: this.y3, x2: this.x1, y2: this.y1 };\n      }, left: { get: function get() {\n          return Math.min(this.x1, this.x2, this.x3);\n        }, set: function set(t) {\n          var e = 0;e = this.x1 <= this.x2 && this.x1 <= this.x3 ? this.x1 - t : this.x2 <= this.x1 && this.x2 <= this.x3 ? this.x2 - t : this.x3 - t, this.x1 -= e, this.x2 -= e, this.x3 -= e;\n        } }, right: { get: function get() {\n          return Math.max(this.x1, this.x2, this.x3);\n        }, set: function set(t) {\n          var e = 0;e = this.x1 >= this.x2 && this.x1 >= this.x3 ? this.x1 - t : this.x2 >= this.x1 && this.x2 >= this.x3 ? this.x2 - t : this.x3 - t, this.x1 -= e, this.x2 -= e, this.x3 -= e;\n        } }, top: { get: function get() {\n          return Math.min(this.y1, this.y2, this.y3);\n        }, set: function set(t) {\n          var e = 0;e = this.y1 <= this.y2 && this.y1 <= this.y3 ? this.y1 - t : this.y2 <= this.y1 && this.y2 <= this.y3 ? this.y2 - t : this.y3 - t, this.y1 -= e, this.y2 -= e, this.y3 -= e;\n        } }, bottom: { get: function get() {\n          return Math.max(this.y1, this.y2, this.y3);\n        }, set: function set(t) {\n          var e = 0;e = this.y1 >= this.y2 && this.y1 >= this.y3 ? this.y1 - t : this.y2 >= this.y1 && this.y2 >= this.y3 ? this.y2 - t : this.y3 - t, this.y1 -= e, this.y2 -= e, this.y3 -= e;\n        } } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = i(7),\n        o = new n({ Extends: s, initialize: function initialize(t, e, i, n, r) {\n        var o = "string" == typeof t ? t : a(t, "key", ""),\n            h = { type: "image", extension: a(t, "extension", "png"), responseType: "blob", key: o, url: a(t, "file", e), path: i, xhrSettings: a(t, "xhr", n), config: a(t, "config", r) };s.call(this, h);\n      }, onProcess: function onProcess(t) {\n        this.state = r.FILE_PROCESSING, this.data = new Image(), this.data.crossOrigin = this.crossOrigin;var e = this;this.data.onload = function () {\n          URL.revokeObjectURL(e.data.src), e.onComplete(), t(e);\n        }, this.data.onerror = function () {\n          URL.revokeObjectURL(e.data.src), e.state = r.FILE_ERRORED, t(e);\n        }, this.data.src = URL.createObjectURL(this.xhrLoader.response);\n      } });o.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        t.addFile(new o(e[r], i, t.path, n));\n      } else t.addFile(new o(e, i, t.path, n));return t;\n    }, t.exports = o;\n  }, function (t, e) {\n    var i = function i(t) {\n      return Math.atan2(t.y2 - t.y1, t.x2 - t.x1);\n    };t.exports = i;\n  }, function (t, e, i) {\n    (function (e) {\n      var i = { desktop: !1, webApp: !1, iOS: !1, iOSVersion: 0, iPhone: !1, iPad: !1, cocoonJS: !1, cocoonJSApp: !1, cordova: !1, node: !1, nodeWebkit: !1, electron: !1, ejecta: !1, crosswalk: !1, android: !1, chromeOS: !1, linux: !1, macOS: !1, windows: !1, windowsPhone: !1, vita: !1, kindle: !1, pixelRatio: 1 };t.exports = function () {\n        var t = navigator.userAgent;/Windows/.test(t) ? i.windows = !0 : /Mac OS/.test(t) ? i.macOS = !0 : /Linux/.test(t) ? i.linux = !0 : /Android/.test(t) ? i.android = !0 : /iP[ao]d|iPhone/i.test(t) ? (i.iOS = !0, navigator.appVersion.match(/OS (\\d+)/), i.iOSVersion = parseInt(RegExp.$1, 10)) : /Kindle/.test(t) || /\\bKF[A-Z][A-Z]+/.test(t) || /Silk.*Mobile Safari/.test(t) ? i.kindle = !0 : /CrOS/.test(t) ? i.chromeOS = !0 : /Playstation Vita/.test(t) && (i.vita = !0), (/Windows Phone/i.test(t) || /IEMobile/i.test(t)) && (i.android = !1, i.iOS = !1, i.macOS = !1, i.windows = !0, i.windowsPhone = !0);var n = /Silk/.test(t);if ((i.windows || i.macOS || i.linux && !n || i.chromeOS) && (i.desktop = !0), (i.windowsPhone || /Windows NT/i.test(t) && /Touch/i.test(t)) && (i.desktop = !1), navigator.standalone && (i.webApp = !0), void 0 !== window.cordova && (i.cordova = !0), void 0 !== e && void 0 !== e.versions.node && (i.node = !0), i.node && "object" == _typeof(e.versions) && (i.nodeWebkit = !!e.versions["node-webkit"], i.electron = !!e.versions.electron), navigator.isCocoonJS) {\n          i.cocoonJS = !0;try {\n            i.cocoonJSApp = "undefined" != typeof CocoonJS;\n          } catch (t) {\n            i.cocoonJSApp = !1;\n          }\n        }return void 0 !== window.ejecta && (i.ejecta = !0), /Crosswalk/.test(t) && (i.crosswalk = !0), i.iPhone = -1 !== t.toLowerCase().indexOf("iphone"), i.iPad = -1 !== t.toLowerCase().indexOf("ipad"), i.pixelRatio = window.devicePixelRatio || 1, i;\n      }();\n    }).call(e, i(328));\n  }, function (t, e, i) {\n    t.exports = { ADD_ANIMATION_EVENT: i(394), PAUSE_ALL_ANIMATION_EVENT: i(395), REMOVE_ANIMATION_EVENT: i(396), RESUME_ALL_ANIMATION_EVENT: i(397) };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(175),\n        s = new n({ initialize: function initialize(t) {\n        this.sys = new r(this, t);\n      }, update: function update() {}, render: function render() {} });t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e, _i6) {\n      var n = t.x3 - t.x1,\n          r = t.y3 - t.y1,\n          s = t.x2 - t.x1,\n          a = t.y2 - t.y1,\n          o = e - t.x1,\n          h = _i6 - t.y1,\n          u = n * n + r * r,\n          c = n * s + r * a,\n          l = n * o + r * h,\n          f = s * s + a * a,\n          d = s * o + a * h,\n          p = u * f - c * c,\n          v = 0 === p ? 0 : 1 / p,\n          g = (f * l - c * d) * v,\n          x = (u * d - c * l) * v;return g >= 0 && x >= 0 && g + x < 1;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), this.x = t, this.y = e, this._radius = i, this._diameter = 2 * i;\n      }, setTo: function setTo(t, e, i) {\n        return this.x = t, this.y = e, this._radius = i, this._diameter = 2 * i, this;\n      }, setEmpty: function setEmpty() {\n        return this.setTo(0, 0, 0);\n      }, setPosition: function setPosition(t, e) {\n        return void 0 === e && (e = t), this.x = t, this.y = e, this;\n      }, isEmpty: function isEmpty() {\n        return this._radius <= 0;\n      }, radius: { get: function get() {\n          return this._radius;\n        }, set: function set(t) {\n          this._radius = t, this._diameter = 2 * t;\n        } }, diameter: { get: function get() {\n          return this._diameter;\n        }, set: function set(t) {\n          this._diameter = t, this._radius = .5 * t;\n        } }, left: { get: function get() {\n          return this.x - this._radius;\n        }, set: function set(t) {\n          this.x = t + this._radius;\n        } }, right: { get: function get() {\n          return this.x + this._radius;\n        }, set: function set(t) {\n          this.x = t - this._radius;\n        } }, top: { get: function get() {\n          return this.y - this._radius;\n        }, set: function set(t) {\n          this.y = t + this._radius;\n        } }, bottom: { get: function get() {\n          return this.y + this._radius;\n        }, set: function set(t) {\n          this.y = t - this._radius;\n        } } });t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i7) {\n      return t < e ? e : _i7 < t ? _i7 : t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i8) {\n      var n = _i8 - e;return e + ((t - e) % n + n) % n;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i9, n) {\n      var r = t - _i9,\n          s = e - n;return Math.sqrt(r * r + s * s);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(153),\n        r = i(155),\n        s = i(156),\n        a = function a(t) {\n      return "string" == typeof t ? "rgb" === t.substr(0, 3).toLowerCase() ? n(t) : r(t) : "number" == typeof t ? s(t) : void 0;\n    };t.exports = a;\n  }, function (t, e, i) {\n    var n = i(44),\n        r = { arora: !1, chrome: !1, chromeVersion: 0, epiphany: !1, firefox: !1, firefoxVersion: 0, mobileSafari: !1, ie: !1, ieVersion: 0, midori: !1, opera: !1, safari: !1, safariVersion: 0, trident: !1, tridentVersion: 0, edge: !1, silk: !1 };t.exports = function () {\n      var t = navigator.userAgent;return (/Arora/.test(t) ? r.arora = !0 : /Edge\\/\\d+/.test(t) ? r.edge = !0 : /Chrome\\/(\\d+)/.test(t) && !n.windowsPhone ? (r.chrome = !0, r.chromeVersion = parseInt(RegExp.$1, 10)) : /Epiphany/.test(t) ? r.epiphany = !0 : /Firefox\\D+(\\d+)/.test(t) ? (r.firefox = !0, r.firefoxVersion = parseInt(RegExp.$1, 10)) : /AppleWebKit/.test(t) && n.iOS ? r.mobileSafari = !0 : /MSIE (\\d+\\.\\d+);/.test(t) ? (r.ie = !0, r.ieVersion = parseInt(RegExp.$1, 10)) : /Midori/.test(t) ? r.midori = !0 : /Opera/.test(t) ? r.opera = !0 : /Safari/.test(t) && !n.windowsPhone ? r.safari = !0 : /Trident\\/(\\d+\\.\\d+)(.*)rv:(\\d+\\.\\d+)/.test(t) && (r.ie = !0, r.trident = !0, r.tridentVersion = parseInt(RegExp.$1, 10), r.ieVersion = parseInt(RegExp.$3, 10)), /Silk/.test(t) && (r.silk = !0), r\n      );\n    }();\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        if (this.entries = [], Array.isArray(t)) for (var e = 0; e < t.length; e++) {\n          this.set(t[e]);\n        }\n      }, set: function set(t) {\n        return -1 === this.entries.indexOf(t) && this.entries.push(t), this;\n      }, get: function get(t, e) {\n        for (var i = 0; i < this.entries.length; i++) {\n          var n = this.entries[i];if (n[t] === e) return n;\n        }\n      }, getArray: function getArray() {\n        return this.entries.slice(0);\n      }, delete: function _delete(t) {\n        var e = this.entries.indexOf(t);return e > -1 && this.entries.splice(e, 1), this;\n      }, dump: function dump() {\n        console.group("Set");for (var t = 0; t < this.entries.length; t++) {\n          var e = this.entries[t];console.log(e);\n        }console.groupEnd();\n      }, each: function each(t) {\n        for (var e = this.entries.slice(), i = 0; i < e.length && !1 !== t(e[i]); i++) {}return this;\n      }, iterate: function iterate(t) {\n        for (var e = 0; e < this.entries.length && !1 !== t(this.entries[e], e); e++) {}return this;\n      }, clear: function clear() {\n        return this.entries.length = 0, this;\n      }, contains: function contains(t) {\n        return this.entries.indexOf(t) > -1;\n      }, union: function union(t) {\n        var e = new r();return t.values.forEach(function (t) {\n          e.add(t);\n        }), this.entries.forEach(function (t) {\n          e.add(t);\n        }), e;\n      }, intersect: function intersect(t) {\n        var e = new r();return this.entries.forEach(function (i) {\n          t.contains(i) && e.add(i);\n        }), e;\n      }, difference: function difference(t) {\n        var e = new r();return this.entries.forEach(function (i) {\n          t.contains(i) || e.add(i);\n        }), e;\n      }, size: { get: function get() {\n          return this.entries.length;\n        }, set: function set(t) {\n          return this.entries.length = t;\n        } } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(545),\n        o = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.ScrollFactor, s.Size, s.Texture, s.Tint, s.Transform, s.Visible, a], initialize: function initialize(t, e, i, n, s) {\n        r.call(this, t, "Image"), this.setTexture(n, s), this.setPosition(e, i), this.setSizeToFrame(), this.setOrigin();\n      } });t.exports = o;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(549),\n        o = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.Size, s.Texture, s.Transform, s.Visible, s.ScrollFactor, a], initialize: function initialize(t, e, i, n, s, a, o, h, u, c) {\n        if (r.call(this, t, "Mesh"), this.setTexture(u, c), this.setPosition(e, i), this.setSizeToFrame(), this.setOrigin(), n.length !== s.length) throw new Error("Phaser: Vertex count must match UV count");var l = n.length / 2 | 0;if (o.length > 0 && o.length < l) throw new Error("Phaser: Color count must match Vertex count");if (h.length > 0 && h.length < l) throw new Error("Phaser: Alpha count must match Vertex count");var f;if (0 === o.length) for (f = 0; f < l; ++f) {\n          o[f] = 16777215;\n        }if (0 === h.length) for (f = 0; f < l; ++f) {\n          h[f] = 1;\n        }this.vertices = new Float32Array(n), this.uv = new Float32Array(s), this.indices = new Uint16Array(a), this.colors = new Uint32Array(o), this.alphas = new Float32Array(h);\n      } });t.exports = o;\n  }, function (t, e) {\n    var i = function i(t, e, _i10) {\n      if (t.width <= 0 || t.height <= 0) return !1;var n = (e - t.x) / t.width - .5,\n          r = (_i10 - t.y) / t.height - .5;return n *= n, r *= r, n + r < .25;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = {};for (var i in t) {\n        Array.isArray(t[i]) ? e[i] = t[i].slice(0) : e[i] = t[i];\n      }return e;\n    };t.exports = i;\n  }, function (t, e) {\n    t.exports = { NEVER: 0, LITE: 1, PASSIVE: 2, ACTIVE: 4, FIXED: 8 };\n  }, function (t, e) {\n    t.exports = { NONE: 0, A: 1, B: 2, BOTH: 3 };\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.index < e.index ? -1 : t.index > e.index ? 1 : 0;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i11) {\n      void 0 === _i11 && (_i11 = { x: 0, y: 0 });var n = t.x1,\n          r = t.y1,\n          s = t.x2,\n          a = t.y2,\n          o = e.x1,\n          h = e.y1,\n          u = e.x2,\n          c = e.y2,\n          l = (u - o) * (r - h) - (c - h) * (n - o),\n          f = (s - n) * (r - h) - (a - r) * (n - o),\n          d = (c - h) * (s - n) - (u - o) * (a - r);if (0 === d) return !1;var p = l / d,\n          v = f / d;return p >= 0 && p <= 1 && v >= 0 && v <= 1 && (_i11.x = n + p * (s - n), _i11.y = r + p * (a - r), !0);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(102),\n        r = function r() {\n      var t,\n          e,\n          i,\n          s,\n          a,\n          o,\n          h = arguments[0] || {},\n          u = 1,\n          c = arguments.length,\n          l = !1;for ("boolean" == typeof h && (l = h, h = arguments[1] || {}, u = 2), c === u && (h = this, --u); u < c; u++) {\n        if (null != (t = arguments[u])) for (e in t) {\n          i = h[e], s = t[e], h !== s && (l && s && (n(s) || (a = Array.isArray(s))) ? (a ? (a = !1, o = i && Array.isArray(i) ? i : []) : o = i && n(i) ? i : {}, h[e] = r(l, o, s)) : void 0 !== s && (h[e] = s));\n        }\n      }return h;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(31),\n        r = i(48),\n        s = i(36),\n        a = i(0),\n        o = i(3),\n        h = i(6),\n        u = i(15),\n        c = i(27),\n        l = new a({ Extends: h, Mixins: [o.GetBounds, o.Origin, o.ScaleMode, o.Size, o.Transform, o.ScrollFactor, o.Visible], initialize: function initialize(t, e, i, r, s) {\n        void 0 === r && (r = 1), void 0 === s && (s = r), h.call(this, t, "Zone"), this.setPosition(e, i), this.setSize(r, s), this.blendMode = n.NORMAL;\n      }, setCircleDropZone: function setCircleDropZone(t) {\n        return this.setDropZone(new r(0, 0, t), s);\n      }, setRectangleDropZone: function setRectangleDropZone(t, e) {\n        var i = -t / 2,\n            n = -e / 2;return this.setDropZone(new u(i, n, t, e), c);\n      }, setDropZone: function setDropZone(t, e) {\n        return void 0 === t ? this.setRectangleDropZone(this.width, this.height) : (this.input || this.setInteractive(t, e), this.input.dropZone = !0), this;\n      }, renderCanvas: function renderCanvas() {}, renderWebGL: function renderWebGL() {} });t.exports = l;\n  }, function (t, e) {\n    var i = function i(t, e, _i12) {\n      void 0 === e && (e = 1), void 0 === _i12 && (_i12 = []);var n = Math.round(t.x1),\n          r = Math.round(t.y1),\n          s = Math.round(t.x2),\n          a = Math.round(t.y2),\n          o = Math.abs(s - n),\n          h = Math.abs(a - r),\n          u = n < s ? 1 : -1,\n          c = r < a ? 1 : -1,\n          l = o - h;_i12.push([n, r]);for (var f = 1; n !== s || r !== a;) {\n        var d = l << 1;d > -h && (l -= h, n += u), d < o && (l += o, r += c), f % e == 0 && _i12.push([n, r]), f++;\n      }return _i12;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i13, n, r) {\n      var s = n + Math.atan2(t.y - _i13, t.x - e);return t.x = e + r * Math.cos(s), t.y = _i13 + r * Math.sin(s), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = "";t.exports = function () {\n      var t = function t(_t3) {\n        for (var e = ["i", "webkitI", "msI", "mozI", "oI"], i = 0; i < e.length; i++) {\n          var n = e[i] + "mageSmoothingEnabled";if (n in _t3) return n;\n        }return null;\n      },\n          e = function e(_e2) {\n        return "" === i && (i = t(_e2)), i && (_e2[i] = !0), _e2;\n      };return { disable: function disable(e) {\n          return "" === i && (i = t(e)), i && (e[i] = !1), e;\n        }, enable: e, getPrefix: t, isEnabled: function isEnabled(t) {\n          return null !== i ? t[i] : null;\n        } };\n    }();\n  }, function (t, e) {\n    var i = { setCrisp: function setCrisp(t) {\n        return ["optimizeSpeed", "crisp-edges", "-moz-crisp-edges", "-webkit-optimize-contrast", "optimize-contrast", "pixelated"].forEach(function (e) {\n          t.style["image-rendering"] = e;\n        }), t.style.msInterpolationMode = "nearest-neighbor", t;\n      }, setBicubic: function setBicubic(t) {\n        return t.style["image-rendering"] = "auto", t.style.msInterpolationMode = "bicubic", t;\n      } };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(335);t.exports = { PI2: 2 * Math.PI, TAU: .5 * Math.PI, EPSILON: 1e-6, DEG_TO_RAD: Math.PI / 180, RAD_TO_DEG: 180 / Math.PI, Angle: i(336), Distance: i(344), Easing: i(347), Fuzzy: i(348), Interpolation: i(354), Pow2: i(357), Snap: i(359), RND: new n(), Average: i(363), Bernstein: i(146), Between: i(71), CatmullRom: i(148), CeilTo: i(364), Clamp: i(49), DegToRad: i(365), Difference: i(366), Factorial: i(147), FloatBetween: i(367), FloorTo: i(368), GetSpeed: i(369), IsEven: i(370), IsEvenStrict: i(371), Linear: i(150), MaxAdd: i(372), MinSub: i(373), Percent: i(374), RadToDeg: i(375), Rotate: i(376), RotateAround: i(377), RotateAroundDistance: i(66), RoundAwayFromZero: i(152), RoundTo: i(378), SinCosTableGenerator: i(379), SmootherStep: i(126), SmoothStep: i(127), Within: i(380), Wrap: i(50) };\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t > 0 && 0 == (t & t - 1) && e > 0 && 0 == (e & e - 1);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.floor(Math.random() * (e - t + 1) + t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i14) {\n      return t << 16 | e << 8 | _i14;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = null,\n        s = new n({ initialize: function initialize(t, e) {\n        this.gl = t, this.bufferTarget = t.ARRAY_BUFFER, this.bufferObject = e, this.attributes = [];\n      }, addAttribute: function addAttribute(t, e, i, n, r, s) {\n        return this.attributes.push({ index: t, size: e, type: i, normalized: n, stride: r, offset: s }), this;\n      }, updateResource: function updateResource(t, e) {\n        var i = this.gl;return r !== this && (r = this, i.bindBuffer(i.ARRAY_BUFFER, this.bufferObject)), i.bufferSubData(i.ARRAY_BUFFER, e, t), this;\n      }, bind: function bind() {\n        var t = this.gl,\n            e = this.bufferObject,\n            i = this.attributes,\n            n = i.length;if (r !== this) {\n          r = this, t.bindBuffer(t.ARRAY_BUFFER, e);for (var s = 0; s < n; ++s) {\n            var a = i[s];void 0 !== a && null !== a && (t.enableVertexAttribArray(a.index), t.vertexAttribPointer(a.index, a.size, a.type, a.normalized, a.stride, a.offset));\n          }\n        }return this;\n      } });s.SetDirty = function () {\n      r = null;\n    }, t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e, _i15, n, r) {\n      return void 0 === r && (r = { x: 0, y: 0 }), t.applyITRS(e.x, e.y, -e.rotation, e.scaleX, e.scaleY), t.invert(), t.transformPoint(_i15, n, r);\n    };t.exports = i;\n  }, function (t, e) {\n    t.exports = { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, PAUSE: 19, CAPS_LOCK: 20, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, PRINT_SCREEN: 42, INSERT: 45, DELETE: 46, ZERO: 48, ONE: 49, TWO: 50, THREE: 51, FOUR: 52, FIVE: 53, SIX: 54, SEVEN: 55, EIGHT: 56, NINE: 57, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, F1: 112, F2: 113, F3: 114, F4: 115, F5: 116, F6: 117, F7: 118, F8: 119, F9: 120, F10: 121, F11: 122, F12: 123, SEMICOLON: 186, PLUS: 187, COMMA: 188, MINUS: 189, PERIOD: 190, FORWAD_SLASH: 191, BACK_SLASH: 220, QUOTES: 222 };\n  }, function (t, e, i) {\n    var n = i(519),\n        r = i(522),\n        s = i(0),\n        a = i(3),\n        o = i(177),\n        h = i(6),\n        u = new s({ Extends: h, Mixins: [a.Alpha, a.BlendMode, a.RenderTarget, a.ScaleMode, a.Size, a.Texture, a.Transform, a.Visible, a.ScrollFactor, n], initialize: function initialize(t, e, i, n, r) {\n        h.call(this, t, "Blitter"), this.setTexture(n, r), this.setPosition(e, i), this.children = new o(this), this.renderList = [], this.dirty = !1;\n      }, create: function create(t, e, i, n, s) {\n        void 0 === n && (n = !0), void 0 === s && (s = this.children.length), i = void 0 === i ? this.frame : this.texture.get(i);var a = new r(t, e, i, n);return this.children.addAt(a, s, !1), this.dirty = !0, a;\n      }, createFromCallback: function createFromCallback(t, e, i, n) {\n        for (var r = this.createMultiple(e, i, n), s = 0; s < r.length; s++) {\n          var a = r[s];t.call(this, a, s);\n        }return r;\n      }, createMultiple: function createMultiple(t, e, i) {\n        void 0 === e && (e = this.frame), void 0 === i && (i = !0), Array.isArray(e) || (e = [e]);var n = [],\n            r = this;return e.forEach(function (e) {\n          for (var s = 0; s < t; s++) {\n            n.push(r.create(0, 0, e, i));\n          }\n        }), n;\n      }, childCanRender: function childCanRender(t) {\n        return t.visible && t.alpha > 0;\n      }, getRenderList: function getRenderList() {\n        return this.dirty && (this.renderList = this.children.list.filter(this.childCanRender, this), this.dirty = !1), this.renderList;\n      }, clear: function clear() {\n        this.children.removeAll(), this.dirty = !0;\n      } });t.exports = u;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(524),\n        o = i(178),\n        h = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Origin, s.RenderTarget, s.Texture, s.Tint, s.Transform, s.Visible, s.ScrollFactor, a], initialize: function initialize(t, e, i, n, s, a) {\n        void 0 === s && (s = ""), r.call(this, t, "DynamicBitmapText"), this.font = n;var o = this.scene.sys.cache.bitmapFont.get(n);this.fontData = o.data, this.text = Array.isArray(s) ? s.join("\\n") : s, this.fontSize = a || this.fontData.size, this.setTexture(o.texture, o.frame), this.setPosition(e, i), this.setOrigin(0, 0), this._bounds = this.getTextBounds(), this.scrollX = 0, this.scrollY = 0, this.cropWidth = 0, this.cropHeight = 0, this.displayCallback;\n      }, setSize: function setSize(t, e) {\n        return this.cropWidth = t, this.cropHeight = e, this;\n      }, setDisplayCallback: function setDisplayCallback(t) {\n        return this.displayCallback = t, this;\n      }, setFontSize: function setFontSize(t) {\n        return this.fontSize = t, this;\n      }, setText: function setText(t) {\n        return this.text = t, this;\n      }, setScrollX: function setScrollX(t) {\n        return this.scrollX = t, this;\n      }, setScrollY: function setScrollY(t) {\n        return this.scrollY = t, this;\n      }, getTextBounds: function getTextBounds(t) {\n        return this._bounds = o(this, t), this._bounds;\n      }, width: { get: function get() {\n          return this.getTextBounds(!1), this._bounds.global.width;\n        } }, height: { get: function get() {\n          return this.getTextBounds(!1), this._bounds.global.height;\n        } }, toJSON: function toJSON() {\n        var t = s.ToJSON(this),\n            e = { font: this.font, text: this.text, fontSize: this.fontSize };return t.data = e, t;\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(528),\n        o = i(531),\n        h = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.Size, s.Texture, s.Transform, s.Visible, s.ScrollFactor, a], initialize: function initialize(t, e, i, n, s, a, o, h, u, c, l) {\n        r.call(this, t, "Tilemap"), this.mapData = null !== e ? new Uint32Array(e) : new Uint32Array(o * h), this.tileWidth = s, this.tileHeight = a, this.mapWidth = o, this.mapHeight = h, this.tileArray = [], this.culledTiles = [], this.tileBorder = u, this.setTexture(c, l), this.setPosition(i, n), this.setSizeToFrame(), this.setOrigin(), this.setSize(s * o, a * h), this.buildTilemap(!!t.sys.game.renderer.gl);\n      }, getTotalTileCount: function getTotalTileCount() {\n        return this.tileArray.length;\n      }, getVisibleTileCount: function getVisibleTileCount(t) {\n        return this.cull(t).length;\n      }, buildTilemap: function buildTilemap(t) {\n        var e = this.tileArray,\n            i = this.mapData,\n            n = this.tileBorder,\n            r = this.tileWidth,\n            s = this.tileHeight,\n            a = r + 2 * n,\n            h = s + 2 * n,\n            u = this.texture.source[0].width,\n            c = this.texture.source[0].height,\n            l = this.mapWidth,\n            f = this.mapHeight,\n            d = u / r,\n            p = .5 * a,\n            v = .5 * h;t || (p = 0, v = 0), e.length = 0;for (var g = 0; g < f; ++g) {\n          for (var x = 0; x < l; ++x) {\n            var m = i[g * l + x],\n                y = (m % d | 0) * a + p,\n                w = (m / d | 0) * h + v,\n                E = x * r,\n                T = g * s;e.push(new o({ index: x + g, id: m, x: E, y: T, width: r, height: s, frameX: y, frameY: w, frameWidth: r, frameHeight: s, textureWidth: u, textureHeight: c, border: n, center: t }));\n          }\n        }\n      }, cull: function cull(t) {\n        var e = this.culledTiles,\n            i = this.tileArray,\n            n = i.length,\n            r = t.scrollX * this.scrollFactorX,\n            s = t.scrollY * this.scrollFactorY,\n            a = t.width,\n            o = t.height;e.length = 0;for (var h = 0; h < n; ++h) {\n          var u = i[h],\n              c = u.x - r,\n              l = u.y - s,\n              f = u.width,\n              d = u.height,\n              p = a + f,\n              v = o + d;u.visible && c > -f && l > -d && c < p && l < v && e.push(u);\n        }return e;\n      }, forEach: function forEach(t) {\n        this.tileArray.forEach(t);\n      }, getTileAt: function getTileAt(t, e) {\n        var i = 0 | t,\n            n = 0 | e,\n            r = this.tileArray,\n            s = n * this.mapWidth + i;return s < r.length ? r[s] : null;\n      }, getTileAtIndex: function getTileAtIndex(t) {\n        var e = this.tileArray;return t < e.length ? e[t] : null;\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(533),\n        o = i(38),\n        h = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.Size, s.Transform, s.Visible, s.ScrollFactor, a], initialize: function initialize(t, e, i, n, s, a, h) {\n        r.call(this, t, "EffectLayer");var u,\n            c,\n            l = 0 == (n & n - 1) && 0 == (s & s - 1),\n            f = t.sys.game.renderer.resourceManager;this.dstRenderTarget = null, this.renderTexture = null, this.dstShader = null, this.uniforms = {}, void 0 !== f && (c = t.sys.game.renderer.gl, u = l ? c.REPEAT : c.CLAMP_TO_EDGE, this.dstShader = f.createShader(a, { vert: o.vert, frag: h }), this.renderTexture = f.createTexture(0, c.LINEAR, c.LINEAR, u, u, c.RGBA, null, n, s), this.dstRenderTarget = f.createRenderTarget(n, s, this.renderTexture, null), t.sys.game.renderer.currentTexture[0] = null), this.flipY = !0, this.setPosition(e, i), this.setSize(n, s), this.setOrigin(0, 0);\n      }, setClearAlpha: function setClearAlpha(t) {\n        this.dstRenderTarget && (this.dstRenderTarget.clearAlpha = t);\n      }, renderOffScreen: function renderOffScreen() {\n        this.renderTarget = this.dstRenderTarget;\n      }, renderOnScreen: function renderOnScreen() {\n        this.renderTarget = null;\n      }, add: function add(t) {\n        void 0 !== t.renderTarget && (t.renderTarget = this.dstRenderTarget);\n      }, remove: function remove(t) {\n        void 0 !== t.renderTarget && (t.renderTarget = null);\n      }, getUniformLocation: function getUniformLocation(t) {\n        var e,\n            i = this.dstShader,\n            n = this.uniforms;return t in n ? e = n[t] : (e = i.getUniformLocation(t), n[t] = e), e;\n      }, setFloat: function setFloat(t, e) {\n        var i = this.dstShader;null !== i && i.setConstantFloat1(this.getUniformLocation(t), e);\n      }, setFloat2: function setFloat2(t, e, i) {\n        var n = this.dstShader;null !== n && n.setConstantFloat2(this.getUniformLocation(t), e, i);\n      }, setFloat3: function setFloat3(t, e, i, n) {\n        var r = this.dstShader;null !== r && r.setConstantFloat3(this.getUniformLocation(t), e, i, n);\n      }, setFloat4: function setFloat4(t, e, i, n, r) {\n        var s = this.dstShader;null !== s && s.setConstantFloat4(this.getUniformLocation(t), e, i, n, r);\n      }, setInt: function setInt(t, e) {\n        var i = this.dstShader;null !== i && i.setConstantInt1(this.getUniformLocation(t), e);\n      }, setInt2: function setInt2(t, e, i) {\n        var n = this.dstShader;null !== n && n.setConstantInt2(this.getUniformLocation(t), e, i);\n      }, setInt3: function setInt3(t, e, i, n) {\n        var r = this.dstShader;null !== r && r.setConstantInt3(this.getUniformLocation(t), e, i, n);\n      }, setInt4: function setInt4(t, e, i, n, r) {\n        var s = this.dstShader;null !== s && s.setConstantInt4(this.getUniformLocation(t), e, i, n, r);\n      }, setMatrix2x2: function setMatrix2x2(t, e) {\n        var i = this.dstShader;null !== i && i.setConstantMatrix2x2(this.getUniformLocation(t), e);\n      }, setMatrix3x3: function setMatrix3x3(t, e) {\n        var i = this.dstShader;null !== i && i.setConstantMatrix3x3(this.getUniformLocation(t), e);\n      }, setMatrix4x4: function setMatrix4x4(t, e) {\n        var i = this.dstShader;null !== i && i.setConstantMatrix4x4(this.getUniformLocation(t), e);\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(537),\n        o = i(81),\n        h = i(10),\n        u = i(2),\n        c = (i(11), i(176)),\n        l = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Transform, s.RenderTarget, s.Visible, s.ScrollFactor, a], initialize: function initialize(t, e) {\n        var i = u(e, "x", 0),\n            n = u(e, "y", 0);r.call(this, t, "Graphics"), this.setPosition(i, n), this.displayOriginX = 0, this.displayOriginY = 0, this.commandBuffer = [], this.defaultFillColor = -1, this.defaultFillAlpha = 1, this.defaultStrokeWidth = 1, this.defaultStrokeColor = -1, this.defaultStrokeAlpha = 1, this.setDefaultStyles(e);var s = t.sys.game.renderer.resourceManager;void 0 !== s && (this.resourceManager = s, this.gl = t.sys.game.renderer.gl);\n      }, setDefaultStyles: function setDefaultStyles(t) {\n        return u(t, "lineStyle", null) && (this.defaultStrokeWidth = u(t, "lineStyle.width", 1), this.defaultStrokeColor = u(t, "lineStyle.color", 16777215), this.defaultStrokeAlpha = u(t, "lineStyle.alpha", 1), this.lineStyle(this.defaultStrokeWidth, this.defaultStrokeColor, this.defaultStrokeAlpha)), u(t, "fillStyle", null) && (this.defaultFillColor = u(t, "fillStyle.color", 16777215), this.defaultFillAlpha = u(t, "fillStyle.alpha", 1), this.fillStyle(this.defaultFillColor, this.defaultFillAlpha)), this;\n      }, lineStyle: function lineStyle(t, e, i) {\n        return void 0 === i && (i = 1), this.commandBuffer.push(o.LINE_STYLE, t, e, i), this;\n      }, fillStyle: function fillStyle(t, e) {\n        return void 0 === e && (e = 1), this.commandBuffer.push(o.FILL_STYLE, t, e), this;\n      }, beginPath: function beginPath() {\n        return this.commandBuffer.push(o.BEGIN_PATH), this;\n      }, closePath: function closePath() {\n        return this.commandBuffer.push(o.CLOSE_PATH), this;\n      }, fillPath: function fillPath() {\n        return this.commandBuffer.push(o.FILL_PATH), this;\n      }, strokePath: function strokePath() {\n        return this.commandBuffer.push(o.STROKE_PATH), this;\n      }, fillCircleShape: function fillCircleShape(t) {\n        return this.fillCircle(t.x, t.y, t.radius);\n      }, strokeCircleShape: function strokeCircleShape(t) {\n        return this.strokeCircle(t.x, t.y, t.radius);\n      }, fillCircle: function fillCircle(t, e, i) {\n        return this.beginPath(), this.arc(t, e, i, 0, h.PI2), this.fillPath(), this.closePath(), this;\n      }, strokeCircle: function strokeCircle(t, e, i) {\n        return this.beginPath(), this.arc(t, e, i, 0, h.PI2), this.closePath(), this.strokePath(), this;\n      }, fillRectShape: function fillRectShape(t) {\n        return this.fillRect(t.x, t.y, t.width, t.height);\n      }, strokeRectShape: function strokeRectShape(t) {\n        return this.strokeRect(t.x, t.y, t.width, t.height);\n      }, fillRect: function fillRect(t, e, i, n) {\n        return this.commandBuffer.push(o.FILL_RECT, t, e, i, n), this;\n      }, strokeRect: function strokeRect(t, e, i, n) {\n        return this.beginPath(), this.moveTo(t, e), this.lineTo(t + i, e), this.lineTo(t + i, e + n), this.lineTo(t, e + n), this.lineTo(t, e), this.strokePath(), this.closePath(), this;\n      }, fillPointShape: function fillPointShape(t, e) {\n        return this.fillPoint(t.x, t.y, e);\n      }, fillPoint: function fillPoint(t, e, i) {\n        return this.commandBuffer.push(o.FILL_RECT, t, e, i, i), this;\n      }, fillTriangleShape: function fillTriangleShape(t) {\n        return this.fillTriangle(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3);\n      }, strokeTriangleShape: function strokeTriangleShape(t) {\n        return this.strokeTriangle(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3);\n      }, fillTriangle: function fillTriangle(t, e, i, n, r, s) {\n        return this.commandBuffer.push(o.FILL_TRIANGLE, t, e, i, n, r, s), this;\n      }, strokeTriangle: function strokeTriangle(t, e, i, n, r, s) {\n        return this.commandBuffer.push(o.STROKE_TRIANGLE, t, e, i, n, r, s), this;\n      }, strokeLineShape: function strokeLineShape(t) {\n        return this.lineBetween(t.x1, t.y1, t.x2, t.y2);\n      }, lineBetween: function lineBetween(t, e, i, n) {\n        return this.beginPath(), this.moveTo(t, e), this.lineTo(i, n), this.strokePath(), this.closePath(), this;\n      }, lineTo: function lineTo(t, e) {\n        return this.commandBuffer.push(o.LINE_TO, t, e), this;\n      }, moveTo: function moveTo(t, e) {\n        return this.commandBuffer.push(o.MOVE_TO, t, e), this;\n      }, lineFxTo: function lineFxTo(t, e, i, n) {\n        return this.commandBuffer.push(o.LINE_FX_TO, t, e, i, n, 1), this;\n      }, moveFxTo: function moveFxTo(t, e, i, n) {\n        return this.commandBuffer.push(o.MOVE_FX_TO, t, e, i, n, 1), this;\n      }, arc: function arc(t, e, i, n, r, s) {\n        return this.commandBuffer.push(o.ARC, t, e, i, n, r, s), this;\n      }, save: function save() {\n        return this.commandBuffer.push(o.SAVE), this;\n      }, restore: function restore() {\n        return this.commandBuffer.push(o.RESTORE), this;\n      }, translate: function translate(t, e) {\n        return this.commandBuffer.push(o.TRANSLATE, t, e), this;\n      }, scale: function scale(t, e) {\n        return this.commandBuffer.push(o.SCALE, t, e), this;\n      }, rotate: function rotate(t) {\n        return this.commandBuffer.push(o.ROTATE, t), this;\n      }, clear: function clear() {\n        return this.commandBuffer.length = 0, this.defaultFillColor > -1 && this.fillStyle(this.defaultFillColor, this.defaultFillAlpha), this.defaultStrokeColor > -1 && this.lineStyle(this.defaultStrokeWidth, this.defaultStrokeColor, this.defaultStrokeAlpha), this;\n      }, generateTexture: function generateTexture(t, e, i) {\n        void 0 === e && (e = this.scene.sys.game.config.width), void 0 === i && (i = this.scene.sys.game.config.height), l.TargetCamera.setViewport(0, 0, e, i), l.TargetCamera.scrollX = this.x, l.TargetCamera.scrollY = this.y;var n = this.scene.sys.game.textures.createCanvas(t, e, i),\n            r = n.source[0].image.getContext("2d");n.add("__BASE", 0, 0, 0, e, i), this.renderCanvas(this.scene.sys.game.renderer, this, 0, l.TargetCamera, r), this.gl && this.scene.sys.game.renderer.uploadCanvasToGPU(r.canvas, n.source[0].glTexture, !0);\n      } });l.TargetCamera = new c(0, 0, 0, 0), t.exports = l;\n  }, function (t, e) {\n    t.exports = { ARC: 0, BEGIN_PATH: 1, CLOSE_PATH: 2, FILL_RECT: 3, LINE_TO: 4, MOVE_TO: 5, LINE_STYLE: 6, FILL_STYLE: 7, FILL_PATH: 8, STROKE_PATH: 9, FILL_TRIANGLE: 10, STROKE_TRIANGLE: 11, LINE_FX_TO: 12, MOVE_FX_TO: 13, SAVE: 14, RESTORE: 15, TRANSLATE: 16, SCALE: 17, ROTATE: 18 };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(54),\n        s = i(2),\n        a = i(179),\n        o = i(103),\n        h = i(39),\n        u = new n({ initialize: function initialize(t, e, i) {\n        this.scene = t, this.children = new r(e), this.classType = h, i && this.createMultiple(i);\n      }, update: function update(t, e) {\n        for (var i = this.children.entries.slice(), n = 0; n < i.length && !1 !== i[n].update(t, e); n++) {}\n      }, add: function add(t) {\n        return this.children.set(t), this;\n      }, addMultiple: function addMultiple(t) {\n        if (Array.isArray(t)) for (var e = 0; e < t.length; e++) {\n          this.children.set(t[e]);\n        }return this;\n      }, create: function create(t, e, i, n, r) {\n        void 0 === r && (r = !0);var s = new this.classType(this.scene, t, e, i, n);return this.scene.sys.displayList.add(s), s.preUpdate && this.scene.sys.updateList.add(s), s.visible = r, this.children.set(s), s;\n      }, createFromConfig: function createFromConfig(t) {\n        this.classType = s(t, "classType", this.classType);var e = s(t, "key", void 0),\n            i = s(t, "frame", null),\n            n = s(t, "visible", !0),\n            r = [];if (void 0 === e) return r;Array.isArray(e) || (e = [e]), Array.isArray(i) || (i = [i]);for (var h = s(t, "repeat", 0), u = s(t, "randomKey", !1), c = s(t, "randomFrame", !1), l = s(t, "yoyo", !1), f = s(t, "frameQuantity", 1), d = s(t, "max", 0), p = a(e, i, { max: d, qty: f, random: u, randomB: c, repeat: h, yoyo: l }), v = 0; v < p.length; v++) {\n          r.push(this.create(0, 0, p[v].a, p[v].b, n));\n        }var g = s(t, "setXY.x", 0),\n            x = s(t, "setXY.y", 0),\n            m = s(t, "setXY.stepX", 0),\n            y = s(t, "setXY.stepY", 0);o.SetXY(r, g, x, m, y);var w = s(t, "setRotation.value", 0),\n            E = s(t, "setRotation.step", 0);o.SetRotation(r, w, E);var T = s(t, "setScale.x", 1),\n            b = s(t, "setScale.y", T),\n            _ = s(t, "setScale.stepX", 0),\n            A = s(t, "setScale.stepY", 0);o.SetScale(r, T, b, _, A);var S = s(t, "setAlpha.value", 1),\n            R = s(t, "setAlpha.step", 0);o.SetAlpha(r, S, R);var M = s(t, "hitArea", null),\n            O = s(t, "hitAreaCallback", null);M && o.SetHitArea(r, M, O);var C = s(t, "gridAlign", !1);return C && o.GridAlign(r, C), r;\n      }, createMultiple: function createMultiple(t) {\n        Array.isArray(t) || (t = [t]);for (var e = [], i = 0; i < t.length; i++) {\n          var n = this.createFromConfig(t[i]);e = e.concat(n);\n        }return e;\n      }, remove: function remove(t) {\n        return this.children.delete(t), this;\n      }, clear: function clear() {\n        return this.children.clear(), this;\n      }, getChildren: function getChildren() {\n        return this.children.entries;\n      }, getLength: function getLength() {\n        return this.children.size;\n      }, getFirst: function getFirst(t, e) {\n        return void 0 === e && (e = 0), o.GetFirst(this.children.entries, t, e);\n      }, destroy: function destroy() {\n        this.children.clear(), this.scene = void 0, this.children = void 0;\n      }, angle: function angle(t) {\n        return o.Angle(this.children.entries, t), this;\n      }, gridAlign: function gridAlign(t) {\n        return o.GridAlign(this.children.entries, t), this;\n      }, incAlpha: function incAlpha(t, e) {\n        return o.IncAlpha(this.children.entries, t, e), this;\n      }, incX: function incX(t) {\n        return o.IncX(this.children.entries, t), this;\n      }, incXY: function incXY(t, e) {\n        return o.IncXY(this.children.entries, t, e), this;\n      }, incY: function incY(t) {\n        return o.IncY(this.children.entries, t), this;\n      }, placeOnCircle: function placeOnCircle(t, e, i) {\n        return o.PlaceOnCircle(this.children.entries, t, e, i), this;\n      }, placeOnEllipse: function placeOnEllipse(t, e, i) {\n        return o.PlaceOnEllipse(this.children.entries, t, e, i), this;\n      }, placeOnLine: function placeOnLine(t) {\n        return o.PlaceOnLine(this.children.entries, t), this;\n      }, placeOnRectangle: function placeOnRectangle(t, e) {\n        return o.PlaceOnRectangle(this.children.entries, t, e), this;\n      }, placeOnTriangle: function placeOnTriangle(t, e) {\n        return o.PlaceOnTriangle(this.children.entries, t, e), this;\n      }, playAnimation: function playAnimation(t, e) {\n        return o.PlayAnimation(this.children.entries, t, e), this;\n      }, randomCircle: function randomCircle(t) {\n        return o.RandomCircle(this.children.entries, t), this;\n      }, randomEllipse: function randomEllipse(t) {\n        return o.RandomEllipse(this.children.entries, t), this;\n      }, randomLine: function randomLine(t) {\n        return o.RandomLine(this.children.entries, t), this;\n      }, randomRectangle: function randomRectangle(t) {\n        return o.RandomRectangle(this.children.entries, t), this;\n      }, randomTriangle: function randomTriangle(t) {\n        return o.RandomTriangle(this.children.entries, t), this;\n      }, rotate: function rotate(t, e) {\n        return o.Rotate(this.children.entries, t, e), this;\n      }, rotateAround: function rotateAround(t, e) {\n        return o.RotateAround(this.children.entries, t, e), this;\n      }, rotateAroundDistance: function rotateAroundDistance(t, e, i) {\n        return o.RotateAroundDistance(this.children.entries, t, e, i), this;\n      }, setAlpha: function setAlpha(t, e) {\n        return o.SetAlpha(this.children.entries, t, e), this;\n      }, setOrigin: function setOrigin(t, e) {\n        return o.SetOrigin(this.children.entries, t, e), this;\n      }, scaleX: function scaleX(t) {\n        return o.ScaleX(this.children.entries, t), this;\n      }, scaleXY: function scaleXY(t, e) {\n        return o.ScaleXY(this.children.entries, t, e), this;\n      }, scaleY: function scaleY(t) {\n        return o.ScaleY(this.children.entries, t), this;\n      }, setRotation: function setRotation(t, e) {\n        return o.SetRotation(this.children.entries, t, e), this;\n      }, setScale: function setScale(t, e, i, n) {\n        return o.SetScale(this.children.entries, t, e, i, n), this;\n      }, setScaleX: function setScaleX(t, e) {\n        return o.SetScaleX(this.children.entries, t, e), this;\n      }, setScaleY: function setScaleY(t, e) {\n        return o.SetScaleY(this.children.entries, t, e), this;\n      }, setVisible: function setVisible(t) {\n        return o.SetVisible(this.children.entries, t), this;\n      }, setX: function setX(t, e) {\n        return o.SetX(this.children.entries, t, e), this;\n      }, setXY: function setXY(t, e, i, n) {\n        return o.SetXY(this.children.entries, t, e, i, n), this;\n      }, setY: function setY(t, e) {\n        return o.SetY(this.children.entries, t, e), this;\n      }, setZ: function setZ(t, e) {\n        return o.SetZ(this.children.entries, t, e), this;\n      }, shiftPosition: function shiftPosition(t, e, i, n) {\n        return o.ShiftPosition(this.children.entries, t, e, i, n), this;\n      }, smootherStep: function smootherStep(t, e, i, n) {\n        return o.SmootherStep(this.children.entries, t, e, i, n), this;\n      }, smoothStep: function smoothStep(t, e, i, n) {\n        return o.SmoothStep(this.children.entries, t, e, i, n), this;\n      }, spread: function spread(t, e, i, n) {\n        return o.Spread(this.children.entries, t, e, i, n), this;\n      }, toggleVisible: function toggleVisible() {\n        return o.ToggleVisible(this.children.entries), this;\n      } });t.exports = u;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(56),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i, n, s) {\n        var a = [0, 0, 0, 0, 0, 0, 0, 0],\n            o = [0, 0, 0, 1, 1, 1, 1, 0],\n            h = [0, 1, 2, 0, 2, 3],\n            u = [16777215, 16777215, 16777215, 16777215],\n            c = [1, 1, 1, 1];r.call(this, t, e, i, a, o, h, u, c, n, s), this.resetPosition();\n      }, topLeftX: { get: function get() {\n          return this.x + this.vertices[0];\n        }, set: function set(t) {\n          this.vertices[0] = t - this.x;\n        } }, topLeftY: { get: function get() {\n          return this.y + this.vertices[1];\n        }, set: function set(t) {\n          this.vertices[1] = t - this.y;\n        } }, topRightX: { get: function get() {\n          return this.x + this.vertices[6];\n        }, set: function set(t) {\n          this.vertices[6] = t - this.x;\n        } }, topRightY: { get: function get() {\n          return this.y + this.vertices[7];\n        }, set: function set(t) {\n          this.vertices[7] = t - this.y;\n        } }, bottomLeftX: { get: function get() {\n          return this.x + this.vertices[2];\n        }, set: function set(t) {\n          this.vertices[2] = t - this.x;\n        } }, bottomLeftY: { get: function get() {\n          return this.y + this.vertices[3];\n        }, set: function set(t) {\n          this.vertices[3] = t - this.y;\n        } }, bottomRightX: { get: function get() {\n          return this.x + this.vertices[4];\n        }, set: function set(t) {\n          this.vertices[4] = t - this.x;\n        } }, bottomRightY: { get: function get() {\n          return this.y + this.vertices[5];\n        }, set: function set(t) {\n          this.vertices[5] = t - this.y;\n        } }, topLeftAlpha: { get: function get() {\n          return this.alphas[0];\n        }, set: function set(t) {\n          this.alphas[0] = t;\n        } }, topRightAlpha: { get: function get() {\n          return this.alphas[3];\n        }, set: function set(t) {\n          this.alphas[3] = t;\n        } }, bottomLeftAlpha: { get: function get() {\n          return this.alphas[1];\n        }, set: function set(t) {\n          this.alphas[1] = t;\n        } }, bottomRightAlpha: { get: function get() {\n          return this.alphas[2];\n        }, set: function set(t) {\n          this.alphas[2] = t;\n        } }, topLeftColor: { get: function get() {\n          return this.colors[0];\n        }, set: function set(t) {\n          this.colors[0] = t;\n        } }, topRightColor: { get: function get() {\n          return this.colors[3];\n        }, set: function set(t) {\n          this.colors[3] = t;\n        } }, bottomLeftColor: { get: function get() {\n          return this.colors[1];\n        }, set: function set(t) {\n          this.colors[1] = t;\n        } }, bottomRightColor: { get: function get() {\n          return this.colors[2];\n        }, set: function set(t) {\n          this.colors[2] = t;\n        } }, setTopLeft: function setTopLeft(t, e) {\n        return this.topLeftX = t, this.topLeftY = e, this;\n      }, setTopRight: function setTopRight(t, e) {\n        return this.topRightX = t, this.topRightY = e, this;\n      }, setBottomLeft: function setBottomLeft(t, e) {\n        return this.bottomLeftX = t, this.bottomLeftY = e, this;\n      }, setBottomRight: function setBottomRight(t, e) {\n        return this.bottomRightX = t, this.bottomRightY = e, this;\n      }, resetPosition: function resetPosition() {\n        var t = this.x,\n            e = this.y,\n            i = Math.floor(this.width / 2),\n            n = Math.floor(this.height / 2);return this.setTopLeft(t - i, e - n), this.setTopRight(t + i, e - n), this.setBottomLeft(t - i, e + n), this.setBottomRight(t + i, e + n), this;\n      }, resetAlpha: function resetAlpha() {\n        var t = this.alphas;return t[0] = 1, t[1] = 1, t[2] = 1, t[3] = 1, this;\n      }, resetColors: function resetColors() {\n        var t = this.colors;return t[0] = 16777215, t[1] = 16777215, t[2] = 16777215, t[3] = 16777215, this;\n      }, reset: function reset() {\n        this.resetPosition(), this.resetAlpha(), this.resetColors();\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(554),\n        o = i(38),\n        h = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.ScrollFactor, s.Size, s.Tint, s.Transform, s.Visible, a], initialize: function initialize(t, e, i, n, s, a, h) {\n        r.call(this, t, "RenderPass");var u,\n            c,\n            l = t.sys.game.renderer.resourceManager,\n            f = 0 == (n & n - 1) && 0 == (s & s - 1);this.renderer = t.sys.game.renderer, this.passRenderTarget = null, this.renderTexture = null, this.passShader = null, this.uniforms = {}, this.textures = {}, void 0 !== l && (u = t.sys.game.renderer.gl, c = f ? u.REPEAT : u.CLAMP_TO_EDGE, this.passShader = l.createShader(a, { vert: o.vert, frag: h }), this.renderTexture = l.createTexture(0, u.LINEAR, u.LINEAR, c, c, u.RGBA, null, n, s), this.passRenderTarget = l.createRenderTarget(n, s, this.renderTexture, null), t.sys.game.renderer.currentTexture[0] = null), this.flipY = !0, this.setPosition(e, i), this.setSize(n, s), this.setOrigin(0, 0);\n      }, clearColorBuffer: function clearColorBuffer(t, e, i, n) {\n        var r = this.renderer.gl;r && (r.bindFramebuffer(r.FRAMEBUFFER, this.passRenderTarget.framebufferObject), r.clearColor(t, e, i, n), r.clear(r.COLOR_BUFFER_BIT), r.bindFramebuffer(r.FRAMEBUFFER, null));\n      }, clearDepthStencilBuffers: function clearDepthStencilBuffers(t, e) {\n        var i = this.renderer.gl;i && (i.bindFramebuffer(i.FRAMEBUFFER, this.passRenderTarget.framebufferObject), i.clearDepth(t), i.clearStencil(e), i.clear(i.DEPTH_BUFFER_BIT | i.STENCIL_BUFFER_BIT), i.bindFramebuffer(i.FRAMEBUFFER, null));\n      }, clearAllBuffers: function clearAllBuffers(t, e, i, n, r, s) {\n        var a = this.renderer.gl;a && (a.bindFramebuffer(a.FRAMEBUFFER, this.passRenderTarget.framebufferObject), a.clearColor(t, e, i, n), a.clearDepth(r), a.clearStencil(s), a.clear(a.COLOR_BUFFER_BIT | a.DEPTH_BUFFER_BIT | a.STENCIL_BUFFER_BIT), a.bindFramebuffer(a.FRAMEBUFFER, null));\n      }, render: function render(t, e) {\n        var i = this.renderer.gl;if (i) {\n          this.renderer.setRenderer(this.renderer.spriteBatch, null, null), this.renderer.spriteBatch.addSprite(t, e);for (var n in this.textures) {\n            var r = this.textures[n];this.setInt(n, r.unit), i.activeTexture(i.TEXTURE0 + r.unit), i.bindTexture(i.TEXTURE_2D, r.texture), i.activeTexture(i.TEXTURE0);\n          }this.renderer.spriteBatch.flush(this.passShader, this.passRenderTarget.framebufferObject);\n        }\n      }, renderRect: function renderRect(t, e, i, n, r) {\n        var s = this.renderer.gl;if (s) {\n          this.renderer.setRenderer(this.renderer.spriteBatch, null, null), this.renderer.spriteBatch.addTileTextureRect(null, t, e, i, n, 1, 4294967295, this.scrollFactorX, this.scrollFactorY, i, n, 0, 0, i, n, r, null);for (var a in this.textures) {\n            var o = this.textures[a];this.setInt(a, o.unit), s.activeTexture(s.TEXTURE0 + o.unit), s.bindTexture(s.TEXTURE_2D, o.texture), s.activeTexture(s.TEXTURE0);\n          }this.renderer.spriteBatch.flush(this.passShader, this.passRenderTarget.framebufferObject);\n        }\n      }, setRenderTextureAt: function setRenderTextureAt(t, e, i) {\n        this.renderer.gl && (i = i > 0 ? i : 1, this.textures[e] = { texture: t.texture, unit: i });\n      }, getUniformLocation: function getUniformLocation(t) {\n        var e,\n            i = this.passShader,\n            n = this.uniforms;return t in n ? e = n[t] : (e = i.getUniformLocation(t), n[t] = e), e;\n      }, setFloat: function setFloat(t, e) {\n        var i = this.passShader;null !== i && i.setConstantFloat1(this.getUniformLocation(t), e);\n      }, setFloat2: function setFloat2(t, e, i) {\n        var n = this.passShader;null !== n && n.setConstantFloat2(this.getUniformLocation(t), e, i);\n      }, setFloat3: function setFloat3(t, e, i, n) {\n        var r = this.passShader;null !== r && r.setConstantFloat3(this.getUniformLocation(t), e, i, n);\n      }, setFloat4: function setFloat4(t, e, i, n, r) {\n        var s = this.passShader;null !== s && s.setConstantFloat4(this.getUniformLocation(t), e, i, n, r);\n      }, setInt: function setInt(t, e) {\n        var i = this.passShader;null !== i && i.setConstantInt1(this.getUniformLocation(t), e);\n      }, setInt2: function setInt2(t, e, i) {\n        var n = this.passShader;null !== n && n.setConstantInt2(this.getUniformLocation(t), e, i);\n      }, setInt3: function setInt3(t, e, i, n) {\n        var r = this.passShader;null !== r && r.setConstantInt3(this.getUniformLocation(t), e, i, n);\n      }, setInt4: function setInt4(t, e, i, n, r) {\n        var s = this.passShader;null !== s && s.setConstantInt4(this.getUniformLocation(t), e, i, n, r);\n      }, setMatrix2x2: function setMatrix2x2(t, e) {\n        var i = this.passShader;null !== i && i.setConstantMatrix2x2(this.getUniformLocation(t), e);\n      }, setMatrix3x3: function setMatrix3x3(t, e) {\n        var i = this.passShader;null !== i && i.setConstantMatrix3x3(this.getUniformLocation(t), e);\n      }, setMatrix4x4: function setMatrix4x4(t, e) {\n        var i = this.passShader;null !== i && i.setConstantMatrix4x4(this.getUniformLocation(t), e);\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(3),\n        s = i(6),\n        a = i(178),\n        o = i(560),\n        h = i(561),\n        u = i(562),\n        c = new n({ Extends: s, Mixins: [r.Alpha, r.BlendMode, r.Origin, r.RenderTarget, r.ScaleMode, r.Texture, r.Tint, r.Transform, r.Visible, r.ScrollFactor, u], initialize: function initialize(t, e, i, n, r, a) {\n        void 0 === r && (r = ""), s.call(this, t, "BitmapText"), this.font = n;var o = this.scene.sys.cache.bitmapFont.get(n);this.fontData = o.data, this.text = Array.isArray(r) ? r.join("\\n") : r, this.fontSize = a || this.fontData.size, this.setTexture(o.texture, o.frame), this.setPosition(e, i), this.setOrigin(0, 0), this._bounds = this.getTextBounds();\n      }, setFontSize: function setFontSize(t) {\n        return this.fontSize = t, this;\n      }, setText: function setText(t) {\n        return this.text = t, this;\n      }, getTextBounds: function getTextBounds(t) {\n        return this._bounds = a(this, t), this._bounds;\n      }, width: { get: function get() {\n          return this.getTextBounds(!1), this._bounds.global.width;\n        } }, height: { get: function get() {\n          return this.getTextBounds(!1), this._bounds.global.height;\n        } }, toJSON: function toJSON() {\n        var t = r.ToJSON(this),\n            e = { font: this.font, text: this.text, fontSize: this.fontSize };return t.data = e, t;\n      } });c.ParseRetroFont = h, c.ParseFromAtlas = o, t.exports = c;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(566),\n        o = i(167),\n        h = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.Size, s.Texture, s.Transform, s.Visible, s.ScrollFactor, a], initialize: function initialize(t, e, i, n, s, a, o, h, u, c, l) {\n        r.call(this, t, "StaticTilemap"), this.vbo = null, this.gl = t.sys.game.renderer.gl ? t.sys.game.renderer.gl : null, this.tilemapRenderer = t.sys.game.renderer.tilemapRenderer ? t.sys.game.renderer.tilemapRenderer : null, this.resourceManager = this.gl ? t.sys.game.renderer.resourceManager : null, this.bufferData = null, this.mapData = e, this.tileWidth = s, this.tileHeight = a, this.mapWidth = o, this.mapHeight = h, this.dirty = !0, this.vertexCount = 0, this.cullStart = 0, this.cullEnd = 0, this.tileBorder = u, this.setTexture(c, l), this.setPosition(i, n), this.setSizeToFrame(), this.setOrigin(), this.setSize(s * o, a * h);\n      }, upload: function upload(t) {\n        if (this.gl) {\n          if (this.dirty) {\n            var e,\n                i = this.gl,\n                n = this.vbo,\n                r = this.mapWidth,\n                s = this.mapHeight,\n                a = this.tileBorder,\n                h = this.tileWidth,\n                u = this.tileHeight,\n                c = h + 2 * a,\n                l = u + 2 * a,\n                f = this.bufferData,\n                d = 0,\n                p = 0,\n                v = this.texture.source[0].width,\n                g = this.texture.source[0].height,\n                x = v / h,\n                m = this.mapData;null === this.vbo && (n = this.resourceManager.createBuffer(i.ARRAY_BUFFER, r * s * 24 * 4, i.STATIC_DRAW), n.addAttribute(this.tilemapRenderer.shader.getAttribLocation("a_position"), 2, i.FLOAT, !1, o.VERTEX_SIZE, 0), n.addAttribute(this.tilemapRenderer.shader.getAttribLocation("a_tex_coord"), 2, i.FLOAT, !1, o.VERTEX_SIZE, 8), f = this.bufferData = new ArrayBuffer(r * s * 24 * 4), this.vbo = n, n.bind()), e = new Float32Array(f);for (var y = 0; y < s; ++y) {\n              for (var w = 0; w < r; ++w) {\n                var E = m[y * r + w],\n                    T = .5 * c,\n                    b = .5 * l,\n                    _ = (E % x | 0) * c + T,\n                    A = (E / x | 0) * l + b,\n                    S = w * h,\n                    R = y * u,\n                    M = S + h,\n                    O = R + u,\n                    C = (_ - (T - .5)) / v,\n                    L = (A - (b - .5)) / g,\n                    F = (_ + (T - .5)) / v,\n                    I = (A + (b - .5)) / g,\n                    D = S,\n                    B = R,\n                    P = S,\n                    k = O,\n                    N = M,\n                    X = O,\n                    U = M,\n                    Y = R;e[d + 0] = D, e[d + 1] = B, e[d + 2] = C, e[d + 3] = L, e[d + 4] = P, e[d + 5] = k, e[d + 6] = C, e[d + 7] = I, e[d + 8] = N, e[d + 9] = X, e[d + 10] = F, e[d + 11] = I, e[d + 12] = D, e[d + 13] = B, e[d + 14] = C, e[d + 15] = L, e[d + 16] = N, e[d + 17] = X, e[d + 18] = F, e[d + 19] = I, e[d + 20] = U, e[d + 21] = Y, e[d + 22] = F, e[d + 23] = L, d += 24, p += 6;\n              }\n            }this.vertexCount = p, n.updateResource(f, 0), this.dirty = !1;\n          }this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.scrollLocation, -t.scrollX, -t.scrollY), this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.scrollFactorLocation, this.scrollFactorX, this.scrollFactorY), this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.tilemapPositionLocation, this.x, this.y);\n        } else if (this.dirty && !this.gl) {\n          var r = this.mapWidth,\n              s = this.mapHeight,\n              a = this.tileBorder,\n              h = this.tileWidth,\n              u = this.tileHeight,\n              c = h + 2 * a,\n              l = u + 2 * a,\n              v = this.texture.source[0].width,\n              g = this.texture.source[0].height,\n              x = v / h,\n              m = this.mapData;this.tiles = [];for (var y = 0; y < s; ++y) {\n            for (var w = 0; w < r; ++w) {\n              var E = m[y * r + w],\n                  V = (E % x | 0) * c,\n                  z = (E / x | 0) * l,\n                  S = w * h,\n                  R = y * u;this.tiles.push({ x: S, y: R, frameX: V, frameY: z });\n            }\n          }this.dirty = !1;\n        }\n      }, getTotalTileCount: function getTotalTileCount() {\n        return this.mapData.length;\n      }, getVisibleTileCount: function getVisibleTileCount(t) {\n        return this.cull(t), (this.cullEnd - this.cullStart) / 6;\n      }, cull: function cull(t) {\n        this.cullStart = 0, this.cullEnd = 0;var e = this.tileWidth,\n            i = this.tileHeight,\n            n = this.x - t.scrollX * this.scrollFactorX,\n            r = this.y - t.scrollY * this.scrollFactorY,\n            s = this.mapWidth * e,\n            a = this.mapHeight * i;if (n < t.x + t.width + 2 * e && n + s > t.x + -2 * e && r < t.y + t.height + 2 * i && r + a > t.y + -2 * i) {\n          var o = Math.max(n, t.x + -2 * e),\n              h = Math.max(r, t.y + -2 * i),\n              u = Math.min(n + s, t.x + t.width + 2 * e) - o,\n              c = Math.min(r + a, t.y + t.height + 2 * i) - h;o = (o + t.scrollX * this.scrollFactorX) / e | 0, h = (h + t.scrollY * this.scrollFactorY) / i | 0, u = u / e | 0, c = c / i | 0, this.cullStart = 6 * (h * this.mapWidth + o), this.cullEnd = 6 * ((h + c) * this.mapWidth + o);\n        }\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(11),\n        o = i(570),\n        h = i(573),\n        u = i(575),\n        c = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.ScrollFactor, s.Tint, s.Transform, s.Visible, o], initialize: function initialize(t, e, i, n, s) {\n        void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = " "), r.call(this, t, "Text"), this.setPosition(e, i), this.setOrigin(0, 0), this.canvas = a.create(this), this.context = this.canvas.getContext("2d"), this.style = new h(this, s), this.autoRound = !0, this.splitRegExp = /(?:\\r\\n|\\r|\\n)/, this.text = Array.isArray(n) ? n.join("\\n") : n, this.resolution = 1, this.padding = { x: 0, y: 0 }, this.width = 1, this.height = 1, this.canvasTexture = null, this.dirty = !1, "" !== n && this.updateText();\n      }, setText: function setText(t) {\n        return Array.isArray(t) && (t = t.join("\\n")), t !== this.text && (this.text = t.toString(), this.updateText()), this;\n      }, setStyle: function setStyle(t) {\n        return this.style.setStyle(t);\n      }, setFont: function setFont(t) {\n        return this.style.setFont(t);\n      }, setFixedSize: function setFixedSize(t, e) {\n        return this.style.setFixedSize(t, e);\n      }, setBackgroundColor: function setBackgroundColor(t) {\n        return this.style.setBackgroundColor(t);\n      }, setFill: function setFill(t) {\n        return this.style.setFill(t);\n      }, setStroke: function setStroke(t, e) {\n        return this.style.setStroke(t, e);\n      }, setShadow: function setShadow(t, e, i, n, r, s) {\n        return this.style.setShadow(t, e, i, n, r, s);\n      }, setShadowOffset: function setShadowOffset(t, e) {\n        return this.style.setShadowOffset(t, e);\n      }, setShadowColor: function setShadowColor(t) {\n        return this.style.setShadowColor(t);\n      }, setShadowBlur: function setShadowBlur(t) {\n        return this.style.setShadowBlur(t);\n      }, setShadowStroke: function setShadowStroke(t) {\n        return this.style.setShadowStroke(t);\n      }, setShadowFill: function setShadowFill(t) {\n        return this.style.setShadowFill(t);\n      }, setAlign: function setAlign(t) {\n        return this.style.setAlign(t);\n      }, setMaxLines: function setMaxLines(t) {\n        return this.style.setMaxLines(t);\n      }, updateText: function updateText() {\n        var t = this.canvas,\n            e = this.context,\n            i = this.style,\n            n = i.metrics,\n            r = this.text,\n            s = r.split(this.splitRegExp),\n            a = u(this, n, s);i.fixedWidth || (this.width = a.width), i.fixedHeight || (this.height = a.height), this.updateOrigin();var o = this.padding,\n            h = (a.width + 2 * o.x) * this.resolution,\n            c = (a.height + 2 * o.y) * this.resolution;t.width !== h || t.height !== c ? (t.width = h, t.height = c) : e.clearRect(0, 0, h, c), i.backgroundColor && (e.fillStyle = i.backgroundColor, e.fillRect(0, 0, h, c)), i.syncFont(t, e), e.textBaseline = "alphabetic", e.translate(o.x, o.y);for (var l, f, d = 0; d < a.lines; d++) {\n          l = i.strokeThickness / 2, f = i.strokeThickness / 2 + d * a.lineHeight + n.ascent, d > 0 && (f += a.lineSpacing * d), "right" === i.align ? l += a.width - a.lineWidths[d] : "center" === i.align && (l += (a.width - a.lineWidths[d]) / 2), this.autoRound && (l = Math.round(l), f = Math.round(f)), i.strokeThickness && (this.style.syncShadow(e, i.shadowStroke), e.strokeText(s[d], l, f)), i.fill && (this.style.syncShadow(e, i.shadowFill), e.fillText(s[d], l, f));\n        }return this.dirty = !0, this;\n      }, getTextMetrics: function getTextMetrics() {\n        return this.style.getTextMetrics();\n      }, toJSON: function toJSON() {\n        var t = s.ToJSON(this),\n            e = { autoRound: this.autoRound, text: this.text, style: this.style.toJSON(), resolution: this.resolution, padding: { x: this.padding.x, y: this.padding.y } };return t.data = e, t;\n      } });t.exports = c;\n  }, function (t, e, i) {\n    var n = i(11),\n        r = i(0),\n        s = i(3),\n        a = i(6),\n        o = i(151),\n        h = i(577),\n        u = new r({ Extends: a, Mixins: [s.Alpha, s.BlendMode, s.Flip, s.GetBounds, s.Origin, s.RenderTarget, s.ScaleMode, s.ScrollFactor, s.Size, s.Texture, s.Tint, s.Transform, s.Visible, h], initialize: function initialize(t, e, i, r, s, h, u) {\n        var c = t.sys.game.renderer.resourceManager;if (a.call(this, t, "TileSprite"), this.tilePositionX = 0, this.tilePositionY = 0, this.dirty = !0, this.tileTexture = null, this.renderer = null, this.setTexture(h, u), this.setPosition(e, i), this.setSize(r, s), this.setOrigin(), this.potWidth = o(this.frame.width), this.potHeight = o(this.frame.height), this.canvasPattern = null, c) {\n          this.renderer = t.sys.game.renderer;var l = t.sys.game.renderer.gl;this.tileTexture = c.createTexture(0, l.LINEAR, l.LINEAR, l.REPEAT, l.REPEAT, l.RGBA, this.canvasBuffer, this.potWidth, this.potHeight);\n        }this.canvasBuffer = n.create2D(null, this.potWidth, this.potHeight), this.canvasBufferCtx = this.canvasBuffer.getContext("2d"), this.updateTileTexture();\n      }, updateTileTexture: function updateTileTexture() {\n        this.dirty && (this.canvasBufferCtx.drawImage(this.frame.source.image, this.frame.cutX, this.frame.cutY, this.frame.cutWidth, this.frame.cutHeight, 0, 0, this.potWidth, this.potHeight), this.renderer ? this.renderer.uploadCanvasToGPU(this.canvasBuffer, this.tileTexture, !1) : this.canvasPattern = this.canvasBufferCtx.createPattern(this.canvasBuffer, "repeat"), this.dirty = !1);\n      }, destroy: function destroy() {\n        this.renderer && this.renderer.gl.deleteTexture(this.tileTexture), n.remove(this.canvasBuffer), this.canvasPattern = null, this.canvasBufferCtx = null, this.canvasBuffer = null, this.renderer = null, this.visible = !1;\n      } });t.exports = u;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i, n) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.x = t, this.y = e, this.width = i, this.height = n;\n      }, setTo: function setTo(t, e, i, n) {\n        return this.x = t, this.y = e, this.width = i, this.height = n, this;\n      }, setEmpty: function setEmpty() {\n        return this.setTo(0, 0, 0, 0);\n      }, setPosition: function setPosition(t, e) {\n        return void 0 === e && (e = t), this.x = t, this.y = e, this;\n      }, setSize: function setSize(t, e) {\n        return void 0 === e && (e = t), this.width = t, this.height = e, this;\n      }, isEmpty: function isEmpty() {\n        return this.width <= 0 || this.height <= 0;\n      }, getMinorRadius: function getMinorRadius() {\n        return Math.min(this.width, this.height) / 2;\n      }, getMajorRadius: function getMajorRadius() {\n        return Math.max(this.width, this.height) / 2;\n      }, left: { get: function get() {\n          return this.x;\n        }, set: function set(t) {\n          t >= this.right ? this.width = 0 : this.width = this.right - t, this.x = t;\n        } }, right: { get: function get() {\n          return this.x + this.width;\n        }, set: function set(t) {\n          t <= this.x ? this.width = 0 : this.width = t - this.x;\n        } }, top: { get: function get() {\n          return this.y;\n        }, set: function set(t) {\n          t >= this.bottom ? (this.height = 0, this.y = t) : this.height = this.bottom - t;\n        } }, bottom: { get: function get() {\n          return this.y + this.height;\n        }, set: function set(t) {\n          t <= this.y ? this.height = 0 : this.height = t - this.y;\n        } } });t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i16, n, r) {\n      return void 0 === t && (t = ""), void 0 === e && (e = !0), void 0 === _i16 && (_i16 = ""), void 0 === n && (n = ""), void 0 === r && (r = 0), { responseType: t, async: e, user: _i16, password: n, timeout: r, header: void 0, headerValue: void 0, overrideMimeType: void 0 };\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = i(7),\n        o = new n({ Extends: s, initialize: function initialize(t, e, i, n) {\n        var r = "string" == typeof t ? t : a(t, "key", ""),\n            o = { type: "json", extension: a(t, "extension", "json"), responseType: "text", key: r, url: a(t, "file", e), path: i, xhrSettings: a(t, "xhr", n) };s.call(this, o);\n      }, onProcess: function onProcess(t) {\n        this.state = r.FILE_PROCESSING, this.data = JSON.parse(this.xhrLoader.responseText), this.onComplete(), t(this);\n      } });o.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        t.addFile(new o(e[r], i, t.path, n));\n      } else t.addFile(new o(e, i, t.path, n));return t;\n    }, t.exports = o;\n  }, function (t, e, i) {\n    var n = i(58),\n        r = function r(t, e) {\n      var i = n(t);for (var r in e) {\n        i.hasOwnProperty(r) || (i[r] = e[r]);\n      }return i;\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { Acceleration: i(692), BodyScale: i(693), BodyType: i(694), Bounce: i(695), CheckAgainst: i(696), Collides: i(697), Debug: i(698), Friction: i(699), Gravity: i(700), Offset: i(701), SetGameObject: i(702), Velocity: i(703) };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i, n, r) {\n        void 0 === i && (i = -1), void 0 === n && (n = this.makeGameObject), void 0 === r && (r = this), this.manager = t, this.scene = t.scene, this.displayList = this.scene.sys.displayList, this.updateList = this.scene.sys.updateList, this.createCallback = n, this.callbackScope = r, this.maxSize = i, this.classType = e, this._list = [];\n      }, makeGameObject: function makeGameObject() {\n        var t = new this.classType(this.scene);return this.displayList.add(t), t.setActive(!1), t.setVisible(!1), t;\n      }, add: function add(t) {\n        var e;e = Array.isArray(t) ? t : t.hasOwnProperty("children") ? t.children.getArray() : [t];var i = e.length;if (this.maxSize > -1) {\n          var n = this.maxSize - this._list.length;i > n && (i = n);\n        }for (var r = 0; r < i; r++) {\n          this._list.push(e[r]);\n        }return this;\n      }, create: function create(t) {\n        for (var e = 0; e < t; e++) {\n          this.isFull() || this._list.push(this.createCallback.call(this.callbackScope));\n        }return this;\n      }, get: function get() {\n        return this.getFreeGameObject();\n      }, getFreeGameObject: function getFreeGameObject() {\n        for (var t, e = 0; e < this._list.length; e++) {\n          if (t = this._list[e], !t.active) return t.setActive(!0), t.setVisible(!0), t;\n        }return this.isFull() ? null : (t = this.createCallback.call(this.callbackScope), t.setActive(!0), t.setVisible(!0), this._list.push(t), t);\n      }, kill: function kill(t) {\n        this._list.indexOf(t) > -1 && t.setActive(!1);\n      }, killAndHide: function killAndHide(t) {\n        this._list.indexOf(t) > -1 && (t.setActive(!1), t.setVisible(!1));\n      }, purge: function purge(t) {\n        if (void 0 === t && (t = !0), t) for (var e = 0; e < this._list.length; e++) {\n          this._list[e].destroy();\n        }this._list.length = 0;\n      }, isFull: function isFull() {\n        return -1 !== this.maxSize && this._list.length === this.maxSize;\n      }, update: function update(t, e) {\n        for (var i = 0; i < this._list.length; i++) {\n          var n = this._list[i];n.active && n.update(t, e);\n        }\n      }, getTotalUsed: function getTotalUsed() {\n        for (var t = 0, e = 0; e < this._list.length; e++) {\n          this._list[e].active && t++;\n        }return t;\n      }, getTotalFree: function getTotalFree() {\n        var t = this.getTotalUsed();return (-1 === this.maxSize ? 999999999999 : this.maxSize) - t;\n      }, destroy: function destroy() {\n        this.manager = void 0, this.scene = void 0, this.displayList = void 0, this.updateList = void 0, this.createCallback = void 0, this.callbackScope = void 0, this._list.length = 0;\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(189),\n        r = i(5),\n        s = i(190),\n        a = i(191),\n        o = i(192),\n        h = i(718),\n        u = i(193),\n        c = i(2),\n        l = i(720),\n        f = i(194),\n        d = i(734),\n        p = function p(t, e, i) {\n      void 0 === i && (i = n);for (var p = i.targets ? i.targets : u(e), v = h(e), g = o(e, "delay", i.delay), x = o(e, "duration", i.duration), m = c(e, "easeParams", i.easeParams), y = a(c(e, "ease", i.ease), m), w = o(e, "hold", i.hold), E = o(e, "repeat", i.repeat), T = o(e, "repeatDelay", i.repeatDelay), b = o(e, "startAt", i.startAt), _ = s(e, "yoyo", i.yoyo), A = s(e, "flipX", i.flipX), S = s(e, "flipY", i.flipY), R = [], M = 0; M < v.length; M++) {\n        for (var O = v[M].key, C = v[M].value, L = 0; L < p.length; L++) {\n          var F = d(p[L], O, l(O, C), a(c(C, "ease", y), m), o(C, "delay", g), o(C, "duration", x), s(C, "yoyo", _), o(C, "hold", w), o(C, "repeat", E), o(C, "repeatDelay", T), o(C, "startAt", b), s(C, "flipX", A), s(C, "flipY", S));R.push(F);\n        }\n      }var I = new f(t, R);I.totalTargets = p.length, I.offset = r(e, "offset", null), I.completeDelay = r(e, "completeDelay", 0), I.loop = Math.round(r(e, "loop", 0)), I.loopDelay = Math.round(r(e, "loopDelay", 0)), I.paused = s(e, "paused", !1), I.useFrames = s(e, "useFrames", !1);var D = c(e, "callbackScope", I),\n          B = [I],\n          P = c(e, "onStart", !1);if (P) {\n        var k = c(e, "onStartScope", D),\n            N = c(e, "onStartParams", []);I.setCallback("onStart", P, B.concat(N), k);\n      }var X = c(e, "onUpdate", !1);if (X) {\n        var U = c(e, "onUpdateScope", D),\n            Y = c(e, "onUpdateParams", []);I.setCallback("onUpdate", X, B.concat(Y), U);\n      }var V = c(e, "onRepeat", !1);if (V) {\n        var z = c(e, "onRepeatScope", D),\n            G = c(e, "onRepeatParams", []);I.setCallback("onRepeat", V, B.concat(null, G), z);\n      }var H = c(e, "onLoop", !1);if (H) {\n        var j = c(e, "onLoopScope", D),\n            W = c(e, "onLoopParams", []);I.setCallback("onLoop", H, B.concat(W), j);\n      }var q = c(e, "onYoyo", !1);if (q) {\n        var K = c(e, "onYoyoScope", D),\n            Z = c(e, "onYoyoParams", []);I.setCallback("onYoyo", q, B.concat(null, Z), K);\n      }var J = c(e, "onComplete", !1);if (J) {\n        var Q = c(e, "onCompleteScope", D),\n            $ = c(e, "onCompleteParams", []);I.setCallback("onComplete", J, B.concat($), Q);\n      }return I;\n    };t.exports = p;\n  }, function (t, e) {\n    var i = function i(t, e, _i17, n) {\n      void 0 === _i17 && (_i17 = !1), void 0 === n && (n = []);for (var r, s, a, o, h, u, c = t.x3 - t.x1, l = t.y3 - t.y1, f = t.x2 - t.x1, d = t.y2 - t.y1, p = c * c + l * l, v = c * f + l * d, g = f * f + d * d, x = p * g - v * v, m = 0 === x ? 0 : 1 / x, y = t.x1, w = t.y1, E = 0; E < e.length && (a = e[E].x - y, o = e[E].y - w, h = c * a + l * o, u = f * a + d * o, r = (g * h - v * u) * m, s = (p * u - v * h) * m, !(r >= 0 && s >= 0 && r + s < 1 && (n.push({ x: e[E].x, y: e[E].y }), _i17))); E++) {}return n;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i18, n) {\n      var r = Math.cos(n),\n          s = Math.sin(n),\n          a = t.x1 - e,\n          o = t.y1 - _i18;return t.x1 = a * r - o * s + e, t.y1 = a * s + o * r + _i18, a = t.x2 - e, o = t.y2 - _i18, t.x2 = a * r - o * s + e, t.y2 = a * s + o * r + _i18, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x * e.x + t.y * e.y;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return 0 === t.height ? NaN : t.width / t.height;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i19, n) {\n      var r = Math.cos(n),\n          s = Math.sin(n),\n          a = t.x1 - e,\n          o = t.y1 - _i19;return t.x1 = a * r - o * s + e, t.y1 = a * s + o * r + _i19, a = t.x2 - e, o = t.y2 - _i19, t.x2 = a * r - o * s + e, t.y2 = a * s + o * r + _i19, a = t.x3 - e, o = t.y3 - _i19, t.x3 = a * r - o * s + e, t.y3 = a * s + o * r + _i19, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i;i = function () {\n      return this;\n    }();try {\n      i = i || Function("return this")() || (0, eval)("this");\n    } catch (t) {\n      "object" == (typeof window === "undefined" ? "undefined" : _typeof(window)) && (i = window);\n    }t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      if ("object" != (typeof t === "undefined" ? "undefined" : _typeof(t)) || t.nodeType || t === t.window) return !1;try {\n        if (t.constructor && !{}.hasOwnProperty.call(t.constructor.prototype, "isPrototypeOf")) return !1;\n      } catch (t) {\n        return !1;\n      }return !0;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { Angle: i(239), Call: i(240), GetFirst: i(241), GridAlign: i(242), IncAlpha: i(281), IncX: i(282), IncXY: i(283), IncY: i(284), PlaceOnCircle: i(285), PlaceOnEllipse: i(286), PlaceOnLine: i(287), PlaceOnRectangle: i(288), PlaceOnTriangle: i(289), PlayAnimation: i(290), RandomCircle: i(291), RandomEllipse: i(292), RandomLine: i(293), RandomRectangle: i(294), RandomTriangle: i(295), Rotate: i(296), RotateAround: i(297), RotateAroundDistance: i(298), ScaleX: i(299), ScaleXY: i(300), ScaleY: i(301), SetAlpha: i(302), SetHitArea: i(303), SetOrigin: i(304), SetRotation: i(305), SetScale: i(306), SetScaleX: i(307), SetScaleY: i(308), SetVisible: i(309), SetX: i(310), SetXY: i(311), SetY: i(312), SetZ: i(313), ShiftPosition: i(314), SmootherStep: i(315), SmoothStep: i(316), Spread: i(317), ToggleVisible: i(318) };\n  }, function (t, e) {\n    var i = { TOP_LEFT: 0, TOP_CENTER: 1, TOP_RIGHT: 2, LEFT_TOP: 3, LEFT_CENTER: 4, LEFT_BOTTOM: 5, CENTER: 6, RIGHT_TOP: 7, RIGHT_CENTER: 8, RIGHT_BOTTOM: 9, BOTTOM_LEFT: 10, BOTTOM_CENTER: 11, BOTTOM_RIGHT: 12 };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(32),\n        r = i(16),\n        s = i(33),\n        a = i(17),\n        o = function o(t, e, i, _o) {\n      return void 0 === i && (i = 0), void 0 === _o && (_o = 0), s(t, n(e) + i), a(t, r(e) + _o), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(18),\n        r = i(16),\n        s = i(19),\n        a = i(17),\n        o = function o(t, e, i, _o2) {\n      return void 0 === i && (i = 0), void 0 === _o2 && (_o2 = 0), s(t, n(e) - i), a(t, r(e) + _o2), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(20),\n        r = i(16),\n        s = i(21),\n        a = i(17),\n        o = function o(t, e, i, _o3) {\n      return void 0 === i && (i = 0), void 0 === _o3 && (_o3 = 0), s(t, n(e) + i), a(t, r(e) + _o3), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(32),\n        r = i(34),\n        s = i(109),\n        a = function a(t, e, i, _a) {\n      return void 0 === i && (i = 0), void 0 === _a && (_a = 0), s(t, n(e) + i, r(e) + _a), t;\n    };t.exports = a;\n  }, function (t, e, i) {\n    var n = i(33),\n        r = i(35),\n        s = function s(t, e, i) {\n      return n(t, e), r(t, i);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(18),\n        r = i(34),\n        s = i(19),\n        a = i(35),\n        o = function o(t, e, i, _o4) {\n      return void 0 === i && (i = 0), void 0 === _o4 && (_o4 = 0), s(t, n(e) - i), a(t, r(e) + _o4), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(20),\n        r = i(34),\n        s = i(21),\n        a = i(35),\n        o = function o(t, e, i, _o5) {\n      return void 0 === i && (i = 0), void 0 === _o5 && (_o5 = 0), s(t, n(e) + i), a(t, r(e) + _o5), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(32),\n        r = i(22),\n        s = i(33),\n        a = i(23),\n        o = function o(t, e, i, _o6) {\n      return void 0 === i && (i = 0), void 0 === _o6 && (_o6 = 0), s(t, n(e) + i), a(t, r(e) - _o6), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(18),\n        r = i(22),\n        s = i(19),\n        a = i(23),\n        o = function o(t, e, i, _o7) {\n      return void 0 === i && (i = 0), void 0 === _o7 && (_o7 = 0), s(t, n(e) - i), a(t, r(e) - _o7), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(20),\n        r = i(22),\n        s = i(21),\n        a = i(23),\n        o = function o(t, e, i, _o8) {\n      return void 0 === i && (i = 0), void 0 === _o8 && (_o8 = 0), s(t, n(e) + i), a(t, r(e) - _o8), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(50),\n        r = function r(t) {\n      return n(t, -Math.PI, Math.PI);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(50),\n        r = function r(t) {\n      return n(t, -180, 180);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(118),\n        r = function r(t, e, i, _r) {\n      if (void 0 === _r && (_r = []), !e && !i) return _r;e ? i = Math.round(n(t) / e) : e = n(t) / i;for (var s = t.x, a = t.y, o = 0, h = 0; h < i; h++) {\n        switch (_r.push({ x: s, y: a }), o) {case 0:\n            s += e, s >= t.right && (o = 1, a += s - t.right, s = t.right);break;case 1:\n            a += e, a >= t.bottom && (o = 2, s -= a - t.bottom, a = t.bottom);break;case 2:\n            s -= e, s <= t.left && (o = 3, a -= t.left - s, s = t.left);break;case 3:\n            a -= e, a <= t.top && (o = 0, a = t.top);}\n      }return _r;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return 2 * (t.width + t.height);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      void 0 === e && (e = 1);for (var i = null, n = 0; n < e; n++) {\n        i = t.shift(), t.push(i);\n      }return i;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      void 0 === e && (e = 1);for (var i = null, n = 0; n < e; n++) {\n        i = t.pop(), t.unshift(i);\n      }return i;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t, e) {\n      void 0 === e && (e = new n());var i = 2 * Math.PI * Math.random(),\n          r = Math.random() + Math.random(),\n          s = r > 1 ? 2 - r : r,\n          a = s * Math.cos(i),\n          o = s * Math.sin(i);return e.x = t.x + a * t.radius, e.y = t.y + o * t.radius, e;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t, e) {\n      void 0 === e && (e = new n());var i = Math.random() * Math.PI * 2,\n          r = Math.sqrt(Math.random());return e.x = t.x + r * Math.cos(i) * t.width / 2, e.y = t.y + r * Math.sin(i) * t.height / 2, e;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t, e) {\n      void 0 === e && (e = new n());var i = Math.random();return e.x = t.x1 + i * (t.x2 - t.x1), e.y = t.y1 + i * (t.y2 - t.y1), e;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t, e) {\n      return void 0 === e && (e = new n()), e.x = t.x + Math.random() * t.width, e.y = t.y + Math.random() * t.height, e;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      void 0 === e && (e = { x: 0, y: 0 });var i = t.x2 - t.x1,\n          n = t.y2 - t.y1,\n          r = t.x3 - t.x1,\n          s = t.y3 - t.y1,\n          a = Math.random(),\n          o = Math.random();return a + o >= 1 && (a = 1 - a, o = 1 - o), e.x = t.x1 + (i * a + r * o), e.y = t.y1 + (n * a + s * o), e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i20) {\n      return (t = Math.max(0, Math.min(1, (t - e) / (_i20 - e)))) * t * t * (t * (6 * t - 15) + 10);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i21) {\n      return (t = Math.max(0, Math.min(1, (t - e) / (_i21 - e)))) * t * (3 - 2 * t);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(2),\n        r = i(129),\n        s = i(11),\n        a = function a(t) {\n      var e = n(t, "data", []),\n          i = n(t, "canvas", null),\n          a = n(t, "palette", r),\n          o = n(t, "pixelWidth", 1),\n          h = n(t, "pixelHeight", o),\n          u = n(t, "resizeCanvas", !0),\n          c = n(t, "clearCanvas", !0),\n          l = n(t, "preRender", null),\n          f = n(t, "postRender", null),\n          d = Math.floor(Math.abs(e[0].length * o)),\n          p = Math.floor(Math.abs(e.length * h));i || (i = s.create2D(this, d, p), u = !1, c = !1), u && (i.width = d, i.height = p);var v = i.getContext("2d");c && v.clearRect(0, 0, d, p), l && l(i, v);for (var g = 0; g < e.length; g++) {\n        for (var x = e[g], m = 0; m < x.length; m++) {\n          var y = x[m];"." !== y && " " !== y && (v.fillStyle = a[y], v.fillRect(m * o, g * h, o, h));\n        }\n      }return f && f(i, v), i;\n    };t.exports = a;\n  }, function (t, e) {\n    t.exports = { 0: "#000", 1: "#9D9D9D", 2: "#FFF", 3: "#BE2633", 4: "#E06F8B", 5: "#493C2B", 6: "#A46422", 7: "#EB8931", 8: "#F7E26B", 9: "#2F484E", A: "#44891A", B: "#A3CE27", C: "#1B2632", D: "#005784", E: "#31A2F2", F: "#B2DCEF" };\n  }, function (t, e) {\n    var i = function i(t, e, _i22) {\n      void 0 === _i22 && (_i22 = !0);var n;return e && ("string" == typeof e ? n = document.getElementById(e) : "object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) && 1 === e.nodeType && (n = e)), n || (n = document.body), _i22 && n.style && (n.style.overflow = "hidden"), n.appendChild(t), t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(44),\n        r = !1,\n        s = function s(t) {\n      if (!r) {\n        if ("complete" === document.readyState || "interactive" === document.readyState) return r = !0, void t();var e = function e() {\n          r = !0, document.removeEventListener("deviceready", e, !0), document.removeEventListener("DOMContentLoaded", e, !0), window.removeEventListener("load", e, !0), t();\n        };document.body ? n.cordova && !n.cocoonJS ? document.addEventListener("deviceready", e, !1) : (document.addEventListener("DOMContentLoaded", e, !0), window.addEventListener("load", e, !0)) : window.setTimeout(e, 20);\n      }\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = "";try {\n        if (window.DOMParser) {\n          var i = new DOMParser();e = i.parseFromString(t, "text/xml");\n        } else e = new ActiveXObject("Microsoft.XMLDOM"), e.loadXML(t);\n      } catch (t) {\n        e = null;\n      }return e && e.documentElement && !e.getElementsByTagName("parsererror").length ? e : null;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(25),\n        r = function r() {\n      this.isRunning = !1, this.callback = n, this.tick = 0, this.isSetTimeOut = !1, this.timeOutID = null;var t = this,\n          e = function e(i) {\n        t.tick = i, t.callback(i), t.timeOutID = window.requestAnimationFrame(e);\n      },\n          i = function i() {\n        var e = Date.now();t.tick = e, t.callback(e), t.timeOutID = window.setTimeout(i, t.timeToCall);\n      };this.step = e, this.stepTimeout = i;\n    };r.prototype.constructor = r, r.prototype = { start: function start(t, e) {\n        this.callback = t, this.isSetTimeOut = e, this.isRunning = !0;var i = this;this.timeOutID = e ? window.setTimeout(i.stepTimeout, 0) : window.requestAnimationFrame(i.step);\n      }, stop: function stop() {\n        this.isRunning = !1, this.isSetTimeOut ? clearTimeout(this.timeOutID) : window.cancelAnimationFrame(this.timeOutID);\n      }, destroy: function destroy() {\n        this.stop(), this.callback = n;\n      } }, t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t %= 2 * Math.PI, t >= 0 ? t : t + 2 * Math.PI;\n    };t.exports = i;\n  }, function (t, e) {\n    function i(t, e) {\n      return void 0 === e && (e = 1.70158), t * t * ((e + 1) * t - e);\n    }function n(t, e) {\n      return void 0 === e && (e = 1.70158), --t * t * ((e + 1) * t + e) + 1;\n    }function r(t, e) {\n      void 0 === e && (e = 1.70158);var i = 1.525 * e;return (t *= 2) < 1 ? t * t * ((i + 1) * t - i) * .5 : .5 * ((t -= 2) * t * ((i + 1) * t + i) + 2);\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    function i(t) {\n      return t = 1 - t, t < 1 / 2.75 ? 1 - 7.5625 * t * t : t < 2 / 2.75 ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375);\n    }function n(t) {\n      return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n    }function r(t) {\n      var e = !1;return t < .5 ? (t = 1 - 2 * t, e = !0) : t = 2 * t - 1, t < 1 / 2.75 ? t *= 7.5625 * t : t = t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5;\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    function i(t) {\n      return 1 - Math.sqrt(1 - t * t);\n    }function n(t) {\n      return Math.sqrt(1 - --t * t);\n    }function r(t) {\n      return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    function i(t) {\n      return t * t * t;\n    }function n(t) {\n      return --t * t * t + 1;\n    }function r(t) {\n      return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2);\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    function i(t, e, i) {\n      if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0;if (1 === t) return 1;var n = i / 4;return e < 1 ? e = 1 : n = i * Math.asin(1 / e) / (2 * Math.PI), -e * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - n) * (2 * Math.PI) / i);\n    }function n(t, e, i) {\n      if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0;if (1 === t) return 1;var n = i / 4;return e < 1 ? e = 1 : n = i * Math.asin(1 / e) / (2 * Math.PI), e * Math.pow(2, -10 * t) * Math.sin((t - n) * (2 * Math.PI) / i) + 1;\n    }function r(t, e, i) {\n      if (void 0 === e && (e = .1), void 0 === i && (i = .1), 0 === t) return 0;if (1 === t) return 1;var n = i / 4;return e < 1 ? e = 1 : n = i * Math.asin(1 / e) / (2 * Math.PI), (t *= 2) < 1 ? e * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - n) * (2 * Math.PI) / i) * -.5 : e * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - n) * (2 * Math.PI) / i) * .5 + 1;\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    function i(t) {\n      return Math.pow(2, 10 * (t - 1)) - .001;\n    }function n(t) {\n      return 1 - Math.pow(2, -10 * t);\n    }function r(t) {\n      return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1)));\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    var i = function i(t) {\n      return t;\n    };t.exports = i;\n  }, function (t, e) {\n    function i(t) {\n      return t * t;\n    }function n(t) {\n      return t * (2 - t);\n    }function r(t) {\n      return (t *= 2) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1);\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    function i(t) {\n      return t * t * t * t;\n    }function n(t) {\n      return 1 - --t * t * t * t;\n    }function r(t) {\n      return (t *= 2) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2);\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    function i(t) {\n      return t * t * t * t * t;\n    }function n(t) {\n      return --t * t * t * t * t + 1;\n    }function r(t) {\n      return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2);\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e) {\n    function i(t) {\n      return 0 === t ? 0 : 1 === t ? 1 : 1 - Math.cos(t * Math.PI / 2);\n    }function n(t) {\n      return 0 === t ? 0 : 1 === t ? 1 : Math.sin(t * Math.PI / 2);\n    }function r(t) {\n      return 0 === t ? 0 : 1 === t ? 1 : .5 * (1 - Math.cos(Math.PI * t));\n    }t.exports = { In: i, Out: n, InOut: r };\n  }, function (t, e, i) {\n    var n = i(147),\n        r = function r(t, e) {\n      return n(t) / n(e) / n(t - e);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      if (0 === t) return 1;for (var e = t; --t;) {\n        e *= t;\n      }return e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i23, n, r) {\n      var s = .5 * (_i23 - t),\n          a = .5 * (n - e),\n          o = r * r;return (2 * e - 2 * _i23 + s + a) * (r * o) + (-3 * e + 3 * _i23 - 2 * s - a) * o + s * r + e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(150),\n        r = function r(t, e) {\n      var i = t.length - 1,\n          r = i * e,\n          s = Math.floor(r);return e < 0 ? n(t[0], t[1], r) : e > 1 ? n(t[i], t[i - 1], i - r) : n(t[s], t[s + 1 > i ? i : s + 1], r - s);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i24) {\n      return (e - t) * _i24 + t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = Math.log(t) / .6931471805599453;return 1 << Math.ceil(e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t > 0 ? Math.ceil(t) : Math.floor(t);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(28),\n        r = function r(t) {\n      var e = new n(),\n          i = /^rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d+(?:\\.\\d+)?))?\\s*\\)$/.exec(t.toLowerCase());if (i) {\n        var r = parseInt(i[1], 10),\n            s = parseInt(i[2], 10),\n            a = parseInt(i[3], 10),\n            o = void 0 !== i[4] ? parseFloat(i[4]) : 1;e.setTo(r, s, a, 255 * o);\n      }return e;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i25, n) {\n      return n << 24 | t << 16 | e << 8 | _i25;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(28),\n        r = function r(t) {\n      var e = new n();t = t.replace(/^(?:#|0x)?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (t, e, i, n) {\n        return e + e + i + i + n + n;\n      });var i = /^(?:#|0x)?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);if (i) {\n        var r = parseInt(i[1], 16),\n            s = parseInt(i[2], 16),\n            a = parseInt(i[3], 16);e.setTo(r, s, a);\n      }return e;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(28),\n        r = i(157),\n        s = function s(t) {\n      var e = r(t);return new n(e.r, e.g, e.b, e.a);\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t > 16777215 ? { a: t >>> 24, r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t } : { a: 255, r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t };\n    };t.exports = i;\n  }, function (t, e, i) {\n    function n() {\n      var t = new ArrayBuffer(4),\n          e = new Uint8Array(t),\n          i = new Uint32Array(t);return e[0] = 161, e[1] = 178, e[2] = 195, e[3] = 212, 3569595041 === i[0] || 2712847316 !== i[0] && null;\n    }var r = i(44),\n        s = i(53),\n        a = (i(11), { canvas: !1, canvasBitBltShift: null, webGL: !1, file: !1, fileSystem: !1, localStorage: !1, worker: !1, pointerLock: !1, vibration: !1, getUserMedia: !0, littleEndian: !1, support32bit: !1 });t.exports = function () {\n      a.canvas = !!window.CanvasRenderingContext2D || r.cocoonJS;try {\n        a.localStorage = !!localStorage.getItem;\n      } catch (t) {\n        a.localStorage = !1;\n      }a.file = !!(window.File && window.FileReader && window.FileList && window.Blob), a.fileSystem = !!window.requestFileSystem;var t = !1;return a.webGL = !0, a.worker = !!window.Worker, a.pointerLock = "pointerLockElement" in document || "mozPointerLockElement" in document || "webkitPointerLockElement" in document, navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia, window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL, a.getUserMedia = a.getUserMedia && !!navigator.getUserMedia && !!window.URL, s.firefox && s.firefoxVersion < 21 && (a.getUserMedia = !1), !r.iOS && (s.ie || s.firefox || s.chrome) && (a.canvasBitBltShift = !0), (s.safari || s.mobileSafari) && (a.canvasBitBltShift = !1), navigator.vibrate = navigator.vibrate || navigator.webkitVibrate || navigator.mozVibrate || navigator.msVibrate, navigator.vibrate && (a.vibration = !0), "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array && "undefined" != typeof Uint32Array && (a.littleEndian = n()), a.support32bit = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8ClampedArray && "undefined" != typeof Int32Array && null !== a.littleEndian && t, a;\n    }();\n  }, function (t, e, i) {\n    function n() {\n      var t = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",\n          e = "AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",\n          i = new Image();return i.onload = function () {\n        var n = new Image();n.onload = function () {\n          var t = s.create(n, 6, 1),\n              e = t.getContext("2d");if (e.globalCompositeOperation = "multiply", e.drawImage(i, 0, 0), e.drawImage(n, 2, 0), !e.getImageData(2, 0, 1, 1)) return !1;var r = e.getImageData(2, 0, 1, 1).data;s.remove(n), a.supportNewBlendModes = 255 === r[0] && 0 === r[1] && 0 === r[2];\n        }, n.src = t + "/wCKxvRF" + e;\n      }, i.src = t + "AP804Oa6" + e, !1;\n    }function r() {\n      var t = s.create(this, 2, 1),\n          e = t.getContext("2d");e.fillStyle = "rgba(10, 20, 30, 0.5)", e.fillRect(0, 0, 1, 1);var i = e.getImageData(0, 0, 1, 1);if (null === i) return !1;e.putImageData(i, 1, 0);var n = e.getImageData(1, 0, 1, 1);return n.data[0] === i.data[0] && n.data[1] === i.data[1] && n.data[2] === i.data[2] && n.data[3] === i.data[3];\n    }var s = i(11),\n        a = { supportNewBlendModes: !1, supportInverseAlpha: !1 };t.exports = function () {\n      return void 0 !== document && (a.supportNewBlendModes = n(), a.supportInverseAlpha = r()), a;\n    }();\n  }, function (t, e) {\n    var i = { DISPATCHER_IDLE: 0, DISPATCHER_DISPATCHING: 1, DISPATCHER_REMOVING: 2, DISPATCHER_DESTROYED: 3, LISTENER_PENDING: 4, LISTENER_ACTIVE: 5, LISTENER_REMOVING: 6 };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(400),\n        r = i(2),\n        s = function s(t, e) {\n      var i,\n          s,\n          a,\n          o,\n          h = [],\n          u = 1;if ("string" == typeof e) {\n        o = e;var c = t.get(o),\n            l = c.getFrameNames();e = [], l.forEach(function (t, i) {\n          e.push({ key: o, frame: i });\n        });\n      }if (!Array.isArray(e) || 0 === e.length) return h;for (a = 0; a < e.length; a++) {\n        var f = e[a],\n            d = r(f, "key", null);if (d) {\n          var p = r(f, "frame", 0),\n              v = t.getFrame(d, p);s = new n(d, p, u, v), s.duration = r(f, "duration", 0), s.onUpdate = r(f, "onUpdate", null);var g = r(f, "visible", null);null !== g && (s.setVisible = !0, s.visible = g), s.isFirst = !i, i && (i.nextFrame = s, s.prevFrame = i), h.push(s), i = s, u++;\n        }\n      }if (h.length > 0) {\n        s.isLast = !0, s.nextFrame = h[0], h[0].prevFrame = s;var x = 1 / (h.length - 1);for (a = 0; a < h.length; a++) {\n          h[a].progress = a * x;\n        }\n      }return h;\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e, _i26, n) {\n      void 0 === e && (e = 0), void 0 === _i26 && (_i26 = " "), void 0 === n && (n = 3), t = t.toString();var r = 0;if (e + 1 >= t.length) switch (n) {case 1:\n          t = new Array(e + 1 - t.length).join(_i26) + t;break;case 3:\n          var s = Math.ceil((r = e - t.length) / 2),\n              a = r - s;t = new Array(a + 1).join(_i26) + t + new Array(s + 1).join(_i26);break;default:\n          t += new Array(e + 1 - t.length).join(_i26);}return t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        if (this.entries = {}, this.size = 0, Array.isArray(t)) for (var e = 0; e < t.length; e++) {\n          this.set(t[e][0], t[e][1]);\n        }\n      }, set: function set(t, e) {\n        return this.has(t) || (this.entries[t] = e, this.size++), this;\n      }, get: function get(t) {\n        if (this.has(t)) return this.entries[t];\n      }, getArray: function getArray() {\n        var t = [],\n            e = this.entries;for (var i in e) {\n          t.push(e[i]);\n        }return t;\n      }, has: function has(t) {\n        return this.entries.hasOwnProperty(t);\n      }, delete: function _delete(t) {\n        return this.has(t) && (delete this.entries[t], this.size--), this;\n      }, clear: function clear() {\n        return Object.keys(this.entries).forEach(function (t) {\n          delete this.entries[t];\n        }), this.size = 0, this;\n      }, keys: function keys() {\n        return Object.keys(this.entries);\n      }, values: function values() {\n        var t = [],\n            e = this.entries;for (var i in e) {\n          t.push(e[i]);\n        }return t;\n      }, dump: function dump() {\n        var t = this.entries;console.group("Map");for (var e in t) {\n          console.log(e, t[e]);\n        }console.groupEnd();\n      }, each: function each(t) {\n        var e = this.entries;for (var i in e) {\n          if (!1 === t(i, e[i])) break;\n        }return this;\n      }, contains: function contains(t) {\n        var e = this.entries;for (var i in e) {\n          if (e[i] === t) return !0;\n        }return !1;\n      }, merge: function merge(t, e) {\n        void 0 === e && (e = !1);var i = this.entries,\n            n = t.entries;for (var r in n) {\n          i.hasOwnProperty(r) && e ? i[r] = n[r] : this.set(r, n[r]);\n        }return this;\n      } });t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.getContext("2d", e) || null;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { IndexBuffer: i(444), RenderTarget: i(445), Shader: i(446), Texture: i(447), VertexBuffer: i(73) };\n  }, function (t, e, i) {\n    "use strict";\n    function n(t, e, i) {\n      i = i || 2;var n = e && e.length,\n          s = n ? e[0] * i : t.length,\n          o = r(t, 0, s, i, !0),\n          h = [];if (!o) return h;var u, c, f, d, p, v, g;if (n && (o = l(t, e, o, i)), t.length > 80 * i) {\n        u = f = t[0], c = d = t[1];for (var x = i; x < s; x += i) {\n          p = t[x], v = t[x + 1], p < u && (u = p), v < c && (c = v), p > f && (f = p), v > d && (d = v);\n        }g = Math.max(f - u, d - c);\n      }return a(o, h, i, u, c, g), h;\n    }function r(t, e, i, n, r) {\n      var s, a;if (r === L(t, e, i, n) > 0) for (s = e; s < i; s += n) {\n        a = M(s, t[s], t[s + 1], a);\n      } else for (s = i - n; s >= e; s -= n) {\n        a = M(s, t[s], t[s + 1], a);\n      }return a && T(a, a.next) && (O(a), a = a.next), a;\n    }function s(t, e) {\n      if (!t) return t;e || (e = t);var i,\n          n = t;do {\n        if (i = !1, n.steiner || !T(n, n.next) && 0 !== E(n.prev, n, n.next)) n = n.next;else {\n          if (O(n), (n = e = n.prev) === n.next) return null;i = !0;\n        }\n      } while (i || n !== e);return e;\n    }function a(t, e, i, n, r, l, f) {\n      if (t) {\n        !f && l && v(t, n, r, l);for (var d, p, g = t; t.prev !== t.next;) {\n          if (d = t.prev, p = t.next, l ? h(t, n, r, l) : o(t)) e.push(d.i / i), e.push(t.i / i), e.push(p.i / i), O(t), t = p.next, g = p.next;else if ((t = p) === g) {\n            f ? 1 === f ? (t = u(t, e, i), a(t, e, i, n, r, l, 2)) : 2 === f && c(t, e, i, n, r, l) : a(s(t), e, i, n, r, l, 1);break;\n          }\n        }\n      }\n    }function o(t) {\n      var e = t.prev,\n          i = t,\n          n = t.next;if (E(e, i, n) >= 0) return !1;for (var r = t.next.next; r !== t.prev;) {\n        if (y(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) && E(r.prev, r, r.next) >= 0) return !1;r = r.next;\n      }return !0;\n    }function h(t, e, i, n) {\n      var r = t.prev,\n          s = t,\n          a = t.next;if (E(r, s, a) >= 0) return !1;for (var o = r.x < s.x ? r.x < a.x ? r.x : a.x : s.x < a.x ? s.x : a.x, h = r.y < s.y ? r.y < a.y ? r.y : a.y : s.y < a.y ? s.y : a.y, u = r.x > s.x ? r.x > a.x ? r.x : a.x : s.x > a.x ? s.x : a.x, c = r.y > s.y ? r.y > a.y ? r.y : a.y : s.y > a.y ? s.y : a.y, l = x(o, h, e, i, n), f = x(u, c, e, i, n), d = t.nextZ; d && d.z <= f;) {\n        if (d !== t.prev && d !== t.next && y(r.x, r.y, s.x, s.y, a.x, a.y, d.x, d.y) && E(d.prev, d, d.next) >= 0) return !1;d = d.nextZ;\n      }for (d = t.prevZ; d && d.z >= l;) {\n        if (d !== t.prev && d !== t.next && y(r.x, r.y, s.x, s.y, a.x, a.y, d.x, d.y) && E(d.prev, d, d.next) >= 0) return !1;d = d.prevZ;\n      }return !0;\n    }function u(t, e, i) {\n      var n = t;do {\n        var r = n.prev,\n            s = n.next.next;!T(r, s) && b(r, n, n.next, s) && A(r, s) && A(s, r) && (e.push(r.i / i), e.push(n.i / i), e.push(s.i / i), O(n), O(n.next), n = t = s), n = n.next;\n      } while (n !== t);return n;\n    }function c(t, e, i, n, r, o) {\n      var h = t;do {\n        for (var u = h.next.next; u !== h.prev;) {\n          if (h.i !== u.i && w(h, u)) {\n            var c = R(h, u);return h = s(h, h.next), c = s(c, c.next), a(h, e, i, n, r, o), void a(c, e, i, n, r, o);\n          }u = u.next;\n        }h = h.next;\n      } while (h !== t);\n    }function l(t, e, i, n) {\n      var a,\n          o,\n          h,\n          u,\n          c,\n          l = [];for (a = 0, o = e.length; a < o; a++) {\n        h = e[a] * n, u = a < o - 1 ? e[a + 1] * n : t.length, c = r(t, h, u, n, !1), c === c.next && (c.steiner = !0), l.push(m(c));\n      }for (l.sort(f), a = 0; a < l.length; a++) {\n        d(l[a], i), i = s(i, i.next);\n      }return i;\n    }function f(t, e) {\n      return t.x - e.x;\n    }function d(t, e) {\n      if (e = p(t, e)) {\n        var i = R(e, t);s(i, i.next);\n      }\n    }function p(t, e) {\n      var i,\n          n = e,\n          r = t.x,\n          s = t.y,\n          a = -1 / 0;do {\n        if (s <= n.y && s >= n.next.y && n.next.y !== n.y) {\n          var o = n.x + (s - n.y) * (n.next.x - n.x) / (n.next.y - n.y);if (o <= r && o > a) {\n            if (a = o, o === r) {\n              if (s === n.y) return n;if (s === n.next.y) return n.next;\n            }i = n.x < n.next.x ? n : n.next;\n          }\n        }n = n.next;\n      } while (n !== e);if (!i) return null;if (r === a) return i.prev;var h,\n          u = i,\n          c = i.x,\n          l = i.y,\n          f = 1 / 0;for (n = i.next; n !== u;) {\n        r >= n.x && n.x >= c && r !== n.x && y(s < l ? r : a, s, c, l, s < l ? a : r, s, n.x, n.y) && ((h = Math.abs(s - n.y) / (r - n.x)) < f || h === f && n.x > i.x) && A(n, t) && (i = n, f = h), n = n.next;\n      }return i;\n    }function v(t, e, i, n) {\n      var r = t;do {\n        null === r.z && (r.z = x(r.x, r.y, e, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next;\n      } while (r !== t);r.prevZ.nextZ = null, r.prevZ = null, g(r);\n    }function g(t) {\n      var e,\n          i,\n          n,\n          r,\n          s,\n          a,\n          o,\n          h,\n          u = 1;do {\n        for (i = t, t = null, s = null, a = 0; i;) {\n          for (a++, n = i, o = 0, e = 0; e < u && (o++, n = n.nextZ); e++) {}for (h = u; o > 0 || h > 0 && n;) {\n            0 !== o && (0 === h || !n || i.z <= n.z) ? (r = i, i = i.nextZ, o--) : (r = n, n = n.nextZ, h--), s ? s.nextZ = r : t = r, r.prevZ = s, s = r;\n          }i = n;\n        }s.nextZ = null, u *= 2;\n      } while (a > 1);return t;\n    }function x(t, e, i, n, r) {\n      return t = 32767 * (t - i) / r, e = 32767 * (e - n) / r, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1;\n    }function m(t) {\n      var e = t,\n          i = t;do {\n        e.x < i.x && (i = e), e = e.next;\n      } while (e !== t);return i;\n    }function y(t, e, i, n, r, s, a, o) {\n      return (r - a) * (e - o) - (t - a) * (s - o) >= 0 && (t - a) * (n - o) - (i - a) * (e - o) >= 0 && (i - a) * (s - o) - (r - a) * (n - o) >= 0;\n    }function w(t, e) {\n      return t.next.i !== e.i && t.prev.i !== e.i && !_(t, e) && A(t, e) && A(e, t) && S(t, e);\n    }function E(t, e, i) {\n      return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y);\n    }function T(t, e) {\n      return t.x === e.x && t.y === e.y;\n    }function b(t, e, i, n) {\n      return !!(T(t, e) && T(i, n) || T(t, n) && T(i, e)) || E(t, e, i) > 0 != E(t, e, n) > 0 && E(i, n, t) > 0 != E(i, n, e) > 0;\n    }function _(t, e) {\n      var i = t;do {\n        if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && b(i, i.next, t, e)) return !0;i = i.next;\n      } while (i !== t);return !1;\n    }function A(t, e) {\n      return E(t.prev, t, t.next) < 0 ? E(t, e, t.next) >= 0 && E(t, t.prev, e) >= 0 : E(t, e, t.prev) < 0 || E(t, t.next, e) < 0;\n    }function S(t, e) {\n      var i = t,\n          n = !1,\n          r = (t.x + e.x) / 2,\n          s = (t.y + e.y) / 2;do {\n        i.y > s != i.next.y > s && i.next.y !== i.y && r < (i.next.x - i.x) * (s - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next;\n      } while (i !== t);return n;\n    }function R(t, e) {\n      var i = new C(t.i, t.x, t.y),\n          n = new C(e.i, e.x, e.y),\n          r = t.next,\n          s = e.prev;return t.next = e, e.prev = t, i.next = r, r.prev = i, n.next = i, i.prev = n, s.next = n, n.prev = s, n;\n    }function M(t, e, i, n) {\n      var r = new C(t, e, i);return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r;\n    }function O(t) {\n      t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ);\n    }function C(t, e, i) {\n      this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1;\n    }function L(t, e, i, n) {\n      for (var r = 0, s = e, a = i - n; s < i; s += n) {\n        r += (t[a] - t[s]) * (t[s + 1] + t[a + 1]), a = s;\n      }return r;\n    }t.exports = n, n.deviation = function (t, e, i, n) {\n      var r = e && e.length,\n          s = r ? e[0] * i : t.length,\n          a = Math.abs(L(t, 0, s, i));if (r) for (var o = 0, h = e.length; o < h; o++) {\n        var u = e[o] * i,\n            c = o < h - 1 ? e[o + 1] * i : t.length;a -= Math.abs(L(t, u, c, i));\n      }var l = 0;for (o = 0; o < n.length; o += 3) {\n        var f = n[o] * i,\n            d = n[o + 1] * i,\n            p = n[o + 2] * i;l += Math.abs((t[f] - t[p]) * (t[d + 1] - t[f + 1]) - (t[f] - t[d]) * (t[p + 1] - t[f + 1]));\n      }return 0 === a && 0 === l ? 0 : Math.abs((l - a) / a);\n    }, n.flatten = function (t) {\n      for (var e = t[0][0].length, i = { vertices: [], holes: [], dimensions: e }, n = 0, r = 0; r < t.length; r++) {\n        for (var s = 0; s < t[r].length; s++) {\n          for (var a = 0; a < e; a++) {\n            i.vertices.push(t[r][s][a]);\n          }\n        }r > 0 && (n += t[r - 1].length, i.holes.push(n));\n      }return i;\n    };\n  }, function (t, e) {\n    var i = { VERTEX_SIZE: 16, INDEX_SIZE: 2, TILEMAP_VERTEX_COUNT: 4, TILEMAP_INDEX_COUNT: 6, TILEMAP_VERTEX_COMPONENT_COUNT: 4, MAX_TILEMAP: 2e3 };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = (i(1), i(29)),\n        s = new n({ initialize: function initialize(t) {\n        this.parent = t, this.events = new r(), this.list = {}, this._beforeCallbacks = {}, this._afterCallbacks = {}, this._frozen = !1;\n      }, get: function get(t) {\n        return this.list[t];\n      }, getAll: function getAll() {\n        var t = {};for (var e in this.list) {\n          t[e] = this.list[e];\n        }return t;\n      }, query: function query(t) {\n        var e = {};for (var i in this.list) {\n          i.match(t) && (e[i] = this.list[i]);\n        }return e;\n      }, set: function set(t, e) {\n        if (this._frozen) return this;var i, n;return this._beforeCallbacks.hasOwnProperty(t) && (i = this._beforeCallbacks[t], void 0 !== (n = i.callback.call(i.scope, this.parent, t, e)) && (e = n)), this.list[t] = e, this._afterCallbacks.hasOwnProperty(t) && (i = this._afterCallbacks[t], void 0 !== (n = i.callback.call(i.scope, this.parent, t, e)) && (this.list[t] = n)), this;\n      }, before: function before(t, e, i) {\n        void 0 === e ? delete this._beforeCallbacks[t] : this._beforeCallbacks[t] = { callback: e, scope: i };\n      }, after: function after(t, e, i) {\n        void 0 === e ? delete this._afterCallbacks[t] : this._afterCallbacks[t] = { callback: e, scope: i };\n      }, each: function each(t, e) {\n        for (var i = [this.parent, null, void 0], n = 1; n < arguments.length; n++) {\n          i.push(arguments[n]);\n        }for (var r in this.list) {\n          i[1] = r, i[2] = this.list[r], t.apply(e, i);\n        }\n      }, merge: function merge(t, e) {\n        void 0 === e && (e = !0);for (var i in t) {\n          (e || !e && !this.has(i)) && (this.list[i] = t);\n        }\n      }, remove: function remove(t) {\n        !this._frozen && this.has(t) && (delete this.list[t], this.removeListeners(t));\n      }, removeListeners: function removeListeners(t) {\n        this._beforeCallbacks.hasOwnProperty(t) && delete this._beforeCallbacks[t], this._afterCallbacks.hasOwnProperty(t) && delete this._afterCallbacks[t];\n      }, pop: function pop(t) {\n        var e = void 0;return !this._frozen && this.has(t) && (e = this.list[t], delete this.list[t], this.removeListeners(t)), e;\n      }, has: function has(t) {\n        return this.list.hasOwnProperty(t);\n      }, reset: function reset() {\n        for (var t in this.list) {\n          delete this.list[t];\n        }for (t in this._beforeCallbacks) {\n          delete this._beforeCallbacks[t];\n        }for (t in this._afterCallbacks) {\n          delete this._afterCallbacks[t];\n        }this._frozen = !1;\n      }, freeze: { get: function get() {\n          return this._frozen;\n        }, set: function set(t) {\n          this._frozen = !!t;\n        } }, count: { get: function get() {\n          var t = 0;for (var e in this.list) {\n            void 0 !== this.list[e] && t++;\n          }return t;\n        } } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(464),\n        s = i(170),\n        a = i(75),\n        o = i(171),\n        h = (i(172), i(470)),\n        u = i(471),\n        c = new n({ initialize: function initialize(t) {\n        this.manager = t, this.enabled = !1, this.target, this.keys = [], this.combos = [], this.captures = [], this.queue = [], this.handler;\n      }, boot: function boot() {\n        var t = this.manager.config;this.enabled = t.inputKeyboard, this.target = t.inputKeyboardEventTarget, this.enabled && this.startListeners();\n      }, startListeners: function startListeners() {\n        var t = this.queue,\n            e = this.captures,\n            i = function i(_i27) {\n          _i27.preventDefaulted || (t.push(_i27), e[_i27.keyCode] && _i27.preventDefault());\n        };this.handler = i, this.target.addEventListener("keydown", i, !1), this.target.addEventListener("keyup", i, !1);\n      }, stopListeners: function stopListeners() {\n        this.target.removeEventListener("keydown", this.handler), this.target.removeEventListener("keyup", this.handler);\n      }, createCursorKeys: function createCursorKeys() {\n        return this.addKeys({ up: a.UP, down: a.DOWN, left: a.LEFT, right: a.RIGHT });\n      }, addKeys: function addKeys(t) {\n        var e = {};for (var i in t) {\n          e[i] = this.addKey(t[i]);\n        }return e;\n      }, addKey: function addKey(t) {\n        var e = this.keys;return e[t] || (e[t] = new s(t), this.captures[t] = !0), e[t];\n      }, removeKey: function removeKey(t) {\n        this.keys[t] && (this.keys[t] = void 0, this.captures[t] = !1);\n      }, addKeyCapture: function addKeyCapture(t) {\n        Array.isArray(t) || (t = [t]);for (var e = 0; e < t.length; e++) {\n          this.captures[t[e]] = !0;\n        }\n      }, removeKeyCapture: function removeKeyCapture(t) {\n        Array.isArray(t) || (t = [t]);for (var e = 0; e < t.length; e++) {\n          this.captures[t[e]] = !1;\n        }\n      }, createCombo: function createCombo(t, e) {\n        return new o(this, t, e);\n      }, update: function update() {\n        var t = this.queue.length;if (this.enabled && 0 !== t) for (var e, i = this.queue.splice(0, t), n = this.keys, s = 0; s < t; s++) {\n          var a = i[s];"keydown" === a.type ? (this.manager.events.dispatch(new r.KEY_DOWN_EVENT(a)), e = r._DOWN[a.keyCode], e && this.manager.events.dispatch(new e(a)), n[a.keyCode] && h(n[a.keyCode], a)) : (this.manager.events.dispatch(new r.KEY_UP_EVENT(a)), e = r._UP[a.keyCode], e && this.manager.events.dispatch(new e(a)), n[a.keyCode] && u(n[a.keyCode], a));\n        }\n      } });t.exports = c;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.keyCode = t, this.originalEvent = void 0, this.preventDefault = !0, this.enabled = !0, this.isDown = !1, this.isUp = !0, this.altKey = !1, this.ctrlKey = !1, this.shiftKey = !1, this.location = 0, this.timeDown = 0, this.duration = 0, this.timeUp = 0, this.repeats = 0, this._justDown = !1, this._justUp = !1;\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(7),\n        s = i(467),\n        a = i(172),\n        o = i(469),\n        h = new n({ initialize: function initialize(t, e, i) {\n        if (void 0 === i && (i = {}), e.length < 2) return !1;this.manager = t, this.enabled = !0, this.keyCodes = [];for (var n = 0; n < e.length; n++) {\n          var h = e[n];"string" == typeof h ? this.keyCodes.push(h.toUpperCase().charCodeAt(0)) : "number" == typeof h ? this.keyCodes.push(h) : h.hasOwnProperty("keyCode") && this.keyCodes.push(h.keyCode);\n        }this.current = this.keyCodes[0], this.index = 0, this.size = this.keyCodes.length, this.timeLastMatched = 0, this.matched = !1, this.timeMatched = 0, this.resetOnWrongKey = r(i, "resetOnWrongKey", !0), this.maxKeyDelay = r(i, "maxKeyDelay", 0), this.resetOnMatch = r(i, "resetOnMatch", !1), this.deleteOnMatch = r(i, "deleteOnMatch", !1);var u = this,\n            c = function c(t) {\n          if (!u.matched && u.enabled) {\n            a(t.data, u) && (u.manager.events.dispatch(new s(u, t)), u.resetOnMatch ? o(u) : u.deleteOnMatch && u.destroy());\n          }\n        };this.onKeyDown = c, this.manager.events.on("KEY_DOWN_EVENT", c);\n      }, progress: { get: function get() {\n          return this.index / this.size;\n        } }, destroy: function destroy() {\n        this.enabled = !1, this.keyCodes = [], this.manager.events.off("KEY_DOWN", this.onKeyDown), this.manager = void 0;\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(468),\n        r = function r(t, e) {\n      if (e.matched) return !0;var i = !1,\n          r = !1;if (t.keyCode === e.current) if (e.index > 0 && e.maxKeyDelay > 0) {\n        var s = e.timeLastMatched + e.maxKeyDelay;t.timeStamp <= s && (r = !0, i = n(t, e));\n      } else r = !0, i = n(t, e);return !r && e.resetOnWrongKey && (e.index = 0, e.current = e.keyCodes[0]), i && (e.timeLastMatched = t.timeStamp, e.matched = !0, e.timeMatched = t.timeStamp), i;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.manager = t, this.capture = !1, this.enabled = !1, this.target, this.handler;\n      }, boot: function boot() {\n        var t = this.manager.config;this.enabled = t.inputMouse, this.target = t.inputMouseEventTarget, this.target || (this.target = this.manager.game.canvas), t.disableContextMenu && this.disableContextMenu(), this.enabled && this.startListeners();\n      }, disableContextMenu: function disableContextMenu() {\n        return document.body.addEventListener("contextmenu", function (t) {\n          return t.preventDefault(), !1;\n        }), this;\n      }, startListeners: function startListeners() {\n        var t = this.manager.queue,\n            e = this,\n            i = function i(_i28) {\n          _i28.preventDefaulted || (t.push(_i28), e.capture && _i28.preventDefault());\n        };this.handler = i, this.target.addEventListener("mousemove", i, !1), this.target.addEventListener("mousedown", i, !1), this.target.addEventListener("mouseup", i, !1);\n      }, stopListeners: function stopListeners() {\n        this.target.removeEventListener("mousemove", this.handler), this.target.removeEventListener("mousedown", this.handler), this.target.removeEventListener("mouseup", this.handler);\n      } });t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i29) {\n      return !!t.hitArea && (e += t.displayOriginX, _i29 += t.displayOriginY, t.hitAreaCallback(t.hitArea, e, _i29));\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(484),\n        r = i(0),\n        s = i(515),\n        a = i(168),\n        o = i(177),\n        h = i(29),\n        u = i(517),\n        c = i(580),\n        l = i(606),\n        f = i(660),\n        d = i(677),\n        p = i(706),\n        v = i(708),\n        g = i(709),\n        x = i(712),\n        m = i(713),\n        y = i(747),\n        w = new r({ initialize: function initialize(t, e) {\n        this.scene = t, this.config = e, this.settings = g.create(e), this.sortChildrenFlag = !1, this.canvas, this.context, this.game, this.anims, this.cache, this.registry, this.textures, this.add, this.cameras, this.data, this.displayList, this.events, this.inputManager, this.load, this.make, this.physicsManager, this.pool, this.sceneManager, this.time, this.tweens, this.updateList;\n      }, init: function init(t) {\n        var e = this.scene;this.game = t, this.anims = t.anims, this.cache = t.cache, this.registry = t.registry, this.textures = t.textures, this.add = new c(e), this.cameras = new n(e), this.data = new a(e), this.displayList = new o(e), this.events = new h(), this.inputManager = new l(e), this.load = new f(e), this.make = new u(e), this.physicsManager = new d(e), this.pool = new p(e), this.sceneManager = new v(e), this.time = new s(e), this.tweens = new m(e), this.updateList = new y(e), this.add.boot(), this.inputManager.boot(), this.physicsManager.boot(), this.inject();\n      }, inject: function inject() {\n        var t = this.settings.map;for (var e in t) {\n          "sys" !== e && (this.scene[t[e]] = this[e]);\n        }\n      }, step: function step(t, e) {\n        this.sceneManager.update(), this.settings.active && (this.pool.begin(t), this.updateList.begin(t), this.time.begin(t), this.tweens.begin(t), this.inputManager.begin(t), this.physicsManager.update(t, e), this.pool.update(t, e), this.updateList.update(t, e), this.time.update(t, e), this.tweens.update(t, e), this.cameras.update(t, e), this.inputManager.update(t, e), this.scene.update.call(this.scene, t, e));\n      }, render: function render(t, e) {\n        this.settings.visible && (this.depthSort(), this.cameras.render(e, this.displayList, t));\n      }, queueDepthSort: function queueDepthSort() {\n        this.sortChildrenFlag = !0;\n      }, depthSort: function depthSort() {\n        this.sortChildrenFlag && (x.inplace(this.displayList.list, this.sortZ), this.sortChildrenFlag = !1);\n      }, sortZ: function sortZ(t, e) {\n        return t._z - e._z;\n      }, pause: function pause() {\n        this.settings.active = !1, this.scene.pause && this.scene.pause.call(this.scene);\n      }, resume: function resume() {\n        this.settings.active = !0, this.scene.resume && this.scene.resume.call(this.scene);\n      }, sleep: function sleep() {\n        this.settings.active = !1, this.settings.visible = !1, this.scene.sleep && this.scene.sleep.call(this.scene);\n      }, wake: function wake() {\n        this.settings.active = !0, this.settings.visible = !0, this.scene.wake && this.scene.wake.call(this.scene);\n      }, start: function start(t) {\n        this.settings.data = t, this.settings.active = !0, this.settings.visible = !0;\n      }, shutdown: function shutdown() {\n        this.settings.active = !1, this.settings.visible = !1, this.pool.shutdown(), this.displayList.shutdown(), this.updateList.shutdown(), this.time.shutdown(), this.tweens.shutdown(), this.scene.shutdown && this.scene.shutdown.call(this.scene);\n      }, destroy: function destroy() {\n        this.pool.destroy(), this.time.destroy(), this.tweens.destroy(), this.scene.destroy && this.scene.destroy.call(this.scene);\n      } });t.exports = w;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(15),\n        s = i(14),\n        a = i(52),\n        o = new n({ initialize: function initialize(t, e, i, n) {\n        this.scene, this.name = "", this.x = t, this.y = e, this.width = i, this.height = n, this.roundPixels = !1, this.useBounds = !1, this._bounds = new r(), this.inputEnabled = !0, this.scrollX = 0, this.scrollY = 0, this.zoom = 1, this.rotation = 0, this.matrix = new s(1, 0, 0, 1, 0, 0), this.transparent = !0, this.clearBeforeRender = !0, this.backgroundColor = a("rgba(0,0,0,0)"), this.disableCull = !1, this.culledObjects = [], this._shakeDuration = 0, this._shakeIntensity = 0, this._shakeOffsetX = 0, this._shakeOffsetY = 0, this._fadeDuration = 0, this._fadeRed = 0, this._fadeGreen = 0, this._fadeBlue = 0, this._fadeAlpha = 0, this._flashDuration = 0, this._flashRed = 1, this._flashGreen = 1, this._flashBlue = 1, this._flashAlpha = 0, this._follow = null, this._id = 0;\n      }, cameraToScreen: i(485), centerToBounds: i(486), centerToSize: i(487), cull: i(488), cullHitTest: i(489), cullTilemap: i(490), destroy: i(491), fade: i(492), flash: i(493), ignore: i(494), preRender: i(495), removeBounds: i(496), setBackgroundColor: i(497), setBounds: i(498), setName: i(499), setPosition: i(500), setRotation: i(501), setRoundPixels: i(502), setScene: i(503), setScroll: i(504), setSize: i(505), setViewport: i(506), setZoom: i(507), shake: i(508), startFollow: i(509), stopFollow: i(510), toJSON: i(511), update: i(512) });t.exports = o;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.scene = t, this.list = [], this.position = 0;\n      }, add: function add(t) {\n        return -1 === this.getIndex(t) && this.list.push(t), t;\n      }, addAt: function addAt(t, e) {\n        return void 0 === e && (e = 0), 0 === this.list.length ? this.add(t) : (e >= 0 && e <= this.list.length && -1 === this.getIndex(t) && this.list.splice(e, 0, t), t);\n      }, addMultiple: function addMultiple(t) {\n        if (Array.isArray(t)) for (var e = 0; e < t.length; e++) {\n          this.add(t[e]);\n        }return t;\n      }, getAt: function getAt(t) {\n        return this.list[t];\n      }, getIndex: function getIndex(t) {\n        return this.list.indexOf(t);\n      }, sortGameObjects: function sortGameObjects(t) {\n        return void 0 === t && (t = this.list), this.scene.sys.depthSort(), t.sort(this.sortIndexHandler.bind(this));\n      }, getTopGameObject: function getTopGameObject(t) {\n        return this.sortGameObjects(t), t[t.length - 1];\n      }, sortIndexHandler: function sortIndexHandler(t, e) {\n        var i = this.getIndex(t),\n            n = this.getIndex(e);return i < n ? -1 : i > n ? 1 : 0;\n      }, getByKey: function getByKey(t, e) {\n        for (var i = 0; i < this.list.length; i++) {\n          if (this.list[i][t] === e) return this.list[i];\n        }return null;\n      }, getByName: function getByName(t) {\n        return this.getByKey("name", t);\n      }, getRandom: function getRandom(t, e) {\n        if (void 0 === t && (t = 0), void 0 === e && (e = this.list.length), 0 === e || e > this.list.length) return null;var i = t + Math.floor(Math.random() * e);return this.list[i];\n      }, getFirst: function getFirst(t, e, i, n) {\n        void 0 === i && (i = 0), void 0 === n && (n = this.list.length);for (var r = i; r < n; r++) {\n          var s = this.list[r];if (s[t] === e) return s;\n        }return null;\n      }, getAll: function getAll(t, e, i, n) {\n        void 0 === i && (i = 0), void 0 === n && (n = this.list.length);for (var r = [], s = i; s < n; s++) {\n          var a = this.list[s];t ? a[t] === e && r.push(a) : r.push(a);\n        }return r;\n      }, swap: function swap(t, e) {\n        if (t !== e) {\n          var i = this.getIndex(t),\n              n = this.getIndex(e);if (i < 0 || n < 0) throw new Error("DisplayList.swap: Supplied objects must be children of the same list");this.list[i] = e, this.list[n] = t;\n        }\n      }, moveTo: function moveTo(t, e) {\n        var i = this.getIndex(t);if (-1 === i || e < 0 || e >= this.list.length) throw new Error("DisplayList.moveTo: The supplied index is out of bounds");return this.list.splice(i, 1), this.list.splice(e, 0, t), t;\n      }, remove: function remove(t) {\n        var e = this.list.indexOf(t);return -1 !== e && this.list.splice(e, 1), t;\n      }, removeAt: function removeAt(t) {\n        var e = this.list[t];return e && this.children.splice(t, 1), e;\n      }, removeBetween: function removeBetween(t, e) {\n        void 0 === t && (t = 0), void 0 === e && (e = this.list.length);var i = e - t;if (i > 0 && i <= e) {\n          return this.list.splice(t, i);\n        }if (0 === i && 0 === this.list.length) return [];throw new Error("DisplayList.removeBetween: Range Error, numeric values are outside the acceptable range");\n      }, removeAll: function removeAll() {\n        for (var t = this.list.length; t--;) {\n          this.remove(this.list[t]);\n        }return this;\n      }, shutdown: function shutdown() {\n        this.removeAll();\n      }, bringToTop: function bringToTop(t) {\n        return this.getIndex(t) < this.list.length && (this.remove(t), this.add(t)), t;\n      }, sendToBack: function sendToBack(t) {\n        return this.getIndex(t) > 0 && (this.remove(t), this.addAt(t, 0)), t;\n      }, moveUp: function moveUp(t) {\n        var e = this.getIndex(t);if (-1 !== e && e < this.list.length - 1) {\n          var i = this.getAt(e + 1);i && this.swap(t, i);\n        }return t;\n      }, moveDown: function moveDown(t) {\n        var e = this.getIndex(t);if (e > 0) {\n          var i = this.getAt(e - 1);i && this.swap(t, i);\n        }return t;\n      }, reverse: function reverse() {\n        return this.list.reverse(), this;\n      }, shuffle: function shuffle() {\n        for (var t = this.list.length - 1; t > 0; t--) {\n          var e = Math.floor(Math.random() * (t + 1)),\n              i = this.list[t];this.list[t] = this.list[e], this.list[e] = i;\n        }return this;\n      }, replace: function replace(t, e) {\n        var i = this.getIndex(t);if (-1 !== i) return e.scene.sys.displayList.remove(e), this.remove(t), this.addAt(e, i), t;\n      }, exchange: function exchange(t, e) {\n        if (t !== e && t.scene !== e.scene) {\n          var i = e.scene.sys.displayList,\n              n = this.getIndex(t),\n              r = i.getIndex(e);if (n < 0 || r < 0) throw new Error("Children.swap: Supplied objects must be children of parents");this.remove(t), i.remove(e), this.addAt(e, n), i.addAt(t, r);\n        }\n      }, exists: function exists(t) {\n        return this.list.indexOf(t) > -1;\n      }, setAll: function setAll(t, e) {\n        for (var i = 0; i < this.list.length; i++) {\n          this.list[i] && (this.list[i][t] = e);\n        }\n      }, each: function each(t, e) {\n        for (var i = [null], n = 1; n < arguments.length; n++) {\n          i.push(arguments[n]);\n        }for (n = 0; n < this.list.length; n++) {\n          i[0] = this.list[n], t.apply(e, i);\n        }\n      }, reparent: function reparent(t) {\n        if (t !== this.scene) for (var e = 0; e < this.list.length; e++) {\n          var i = this.remove(this.list[e]);t.sys.displayList.add(i);\n        }return t;\n      }, length: { get: function get() {\n          return this.list.length;\n        } }, first: { get: function get() {\n          return this.position = 0, this.list.length > 0 ? this.list[0] : null;\n        } }, last: { get: function get() {\n          return this.list.length > 0 ? (this.position = this.list.length - 1, this.list[this.position]) : null;\n        } }, next: { get: function get() {\n          return this.position < this.list.length ? (this.position++, this.list[this.position]) : null;\n        } }, previous: { get: function get() {\n          return this.position > 0 ? (this.position--, this.list[this.position]) : null;\n        } } });t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = t.text, n = i.length, r = Number.MAX_VALUE, s = Number.MAX_VALUE, a = 0, o = 0, h = t.fontData.chars, u = t.fontData.lineHeight, c = 0, l = 0, f = 0, d = 0, p = null, v = 0, g = 0, x = 0, m = 0, y = null, w = 0, E = 0; E < n; ++E) {\n        if (10 !== (d = i.charCodeAt(E))) {\n          if (p = h[d]) {\n            if (v = p.width, g = p.height, x = f + p.xOffset + c, m = p.yOffset + l, null !== y) {\n              var T = p.kerning[w];x += void 0 !== T ? T : 0;\n            }r > x && (r = x), s > m && (s = m);var b = x + v - r,\n                _ = m + g - s;a < b && (a = b), o < _ && (o = _), c += p.xAdvance, f += 1, y = p, w = d;\n          }\n        } else c = 0, f = 0, l += u, y = null;\n      }var A = t.fontSize / t.fontData.size,\n          S = A * t.scaleX,\n          R = A * t.scaleY,\n          M = { local: { x: r * A, y: s * A, width: a * A, height: o * A }, global: { x: t.x + r * S, y: t.y + s * R, width: a * S, height: o * R } };return e && (M.local.x = Math.round(M.local.x), M.local.y = Math.round(M.local.y), M.local.width = Math.round(M.local.width), M.local.height = Math.round(M.local.height), M.global.x = Math.round(M.global.x), M.global.y = Math.round(M.global.y), M.global.width = Math.round(M.global.width), M.global.height = Math.round(M.global.height)), M;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(180),\n        r = i(2),\n        s = function s(t, e, i) {\n      for (var n = [], r = 0; r < t.length; r++) {\n        for (var s = 0; s < e.length; s++) {\n          for (var a = 0; a < i; a++) {\n            n.push({ a: t[r], b: e[s] });\n          }\n        }\n      }return n;\n    },\n        a = function a(t, e, i) {\n      var a = r(i, "max", 0),\n          o = r(i, "qty", 1),\n          h = r(i, "random", !1),\n          u = r(i, "randomB", !1),\n          c = r(i, "repeat", 0),\n          l = r(i, "yoyo", !1),\n          f = [];if (u && n(e), -1 === c) if (0 === a) c = 0;else {\n        var d = t.length * e.length * o;l && (d *= 2), c = Math.ceil(a / d);\n      }for (var p = 0; p <= c; p++) {\n        var v = s(t, e, o);h && n(v), f = f.concat(v), l && (v.reverse(), f = f.concat(v));\n      }return a && f.splice(a), f;\n    };t.exports = a;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = t.length - 1; e > 0; e--) {\n        var i = Math.floor(Math.random() * (e + 1)),\n            n = t[e];t[e] = t[i], t[i] = n;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    function i(t, e) {\n      return parseInt(t.getAttribute(e), 10);\n    }var n = function n(t, e, _n, r) {\n      void 0 === e && (e = 0), void 0 === _n && (_n = 0);var s = {},\n          a = t.getElementsByTagName("info")[0],\n          o = t.getElementsByTagName("common")[0];s.font = a.getAttribute("face"), s.size = i(a, "size"), s.lineHeight = i(o, "lineHeight") + _n, s.chars = {};var h = t.getElementsByTagName("char"),\n          u = void 0 !== r && r.trimmed;if (u) var c = r.height,\n          l = r.width;for (var f = 0; f < h.length; f++) {\n        var d = h[f],\n            p = i(d, "id"),\n            v = i(d, "x"),\n            g = i(d, "y"),\n            x = i(d, "width"),\n            m = i(d, "height");u && (v < l && (l = v), g < c && (c = g)), s.chars[p] = { x: v, y: g, width: x, height: m, centerX: Math.floor(x / 2), centerY: Math.floor(m / 2), xOffset: i(d, "xoffset"), yOffset: i(d, "yoffset"), xAdvance: i(d, "xadvance") + e, data: {}, kerning: {} };\n      }if (u && 0 !== c && 0 !== l) for (var y in s.chars) {\n        var w = s.chars[y];w.x -= r.x, w.y -= r.y;\n      }var E = t.getElementsByTagName("kerning");for (f = 0; f < E.length; f++) {\n        var T = E[f],\n            b = i(T, "first"),\n            _ = i(T, "second"),\n            A = i(T, "amount");s.chars[_].kerning[b] = A;\n      }return s;\n    };t.exports = n;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(6),\n        s = i(3),\n        a = i(589),\n        o = i(594),\n        h = i(595),\n        u = i(183),\n        c = i(38),\n        l = i(596),\n        f = i(14),\n        d = (new f(), i(73)),\n        p = new n({ Extends: r, Mixins: [s.Alpha, s.BlendMode, s.Origin, s.RenderTarget, s.ScrollFactor, s.Visible, a], initialize: function initialize(t) {\n        r.call(this, t, "LightLayer");var e = t.sys.game.renderer.resourceManager;if (this._isDeferred = u.has("WEBGL_draw_buffers"), this.renderer = t.sys.game.renderer, this.passShader = null, this.gl = null, this.ambientLightColorR = 0, this.ambientLightColorG = 0, this.ambientLightColorB = 0, this.lightPool = [], this.spritePool = [], this.lights = [], this.sprites = [], this.lightsLocations = [], this._z = 0, void 0 === e || this._isDeferred) {\n          var i = this.gl = t.sys.game.renderer.gl;this.ext = t.sys.game.renderer.getExtension("WEBGL_draw_buffers"), this.gBufferShaderPass = e.createShader("GBufferShader", { vert: c.vert, frag: "" }), this.lightPassShader = e.createShader("Phong2DShaderDeferred", { vert: "" }), this.lightPassVBO = i.createBuffer(), i.bindBuffer(i.ARRAY_BUFFER, this.lightPassVBO), i.bufferData(i.ARRAY_BUFFER, new Float32Array([-1, 7, -1, -1, 7, -1]), i.STATIC_DRAW), this.uMainTextureLoc = this.gBufferShaderPass.getUniformLocation("uMainTexture"), this.uNormTextureLoc = this.gBufferShaderPass.getUniformLocation("uNormTexture"), this.gBufferShaderPass.setConstantInt1(this.uMainTextureLoc, 0), this.gBufferShaderPass.setConstantInt1(this.uNormTextureLoc, 1), this.ambientLightColorLoc = this.lightPassShader.getUniformLocation("uAmbientLightColor"), this.uResolutionLoc = this.lightPassShader.getUniformLocation("uResolution"), this.uGbufferColorLoc = this.lightPassShader.getUniformLocation("uGbufferColor"), this.uGbufferNormalLoc = this.lightPassShader.getUniformLocation("uGbufferNormal"), this.uCameraLoc = this.lightPassShader.getUniformLocation("uCamera"), this.lightPassShader.setConstantInt1(this.uGbufferColorLoc, 0), this.lightPassShader.setConstantInt1(this.uGbufferNormalLoc, 1), this.gBufferShaderPass.bindAttribLocation(0, "v_tex_coord"), this.gBufferShaderPass.bindAttribLocation(1, "v_color"), this.gBufferShaderPass.bindAttribLocation(2, "v_alpha"), this.lightPassShader.bindAttribLocation(0, "vertexPosition");for (var n = 0; n < l.DEFERRED_MAX_LIGHTS; ++n) {\n            this.lightsLocations[n] = { position: this.lightPassShader.getUniformLocation("uLights[" + n + "].position"), color: this.lightPassShader.getUniformLocation("uLights[" + n + "].color"), attenuation: this.lightPassShader.getUniformLocation("uLights[" + n + "].attenuation"), radius: this.lightPassShader.getUniformLocation("uLights[" + n + "].radius") };\n          }this.gBufferFbo = i.createFramebuffer(), this.gBufferColorTex = i.createTexture(), this.gBufferNormalTex = i.createTexture(), i.bindFramebuffer(i.FRAMEBUFFER, this.gBufferFbo), i.bindTexture(i.TEXTURE_2D, this.gBufferColorTex), i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, t.sys.game.renderer.width, t.sys.game.renderer.height, 0, i.RGBA, i.UNSIGNED_BYTE, null), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MAG_FILTER, i.NEAREST), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MIN_FILTER, i.NEAREST), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_WRAP_S, i.CLAMP_TO_EDGE), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_WRAP_T, i.CLAMP_TO_EDGE), i.bindTexture(i.TEXTURE_2D, this.gBufferNormalTex), i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, t.sys.game.renderer.width, t.sys.game.renderer.height, 0, i.RGBA, i.UNSIGNED_BYTE, null), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MAG_FILTER, i.NEAREST), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MIN_FILTER, i.NEAREST), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_WRAP_S, i.CLAMP_TO_EDGE), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_WRAP_T, i.CLAMP_TO_EDGE), i.framebufferTexture2D(i.FRAMEBUFFER, this.ext.COLOR_ATTACHMENT0_WEBGL, i.TEXTURE_2D, this.gBufferColorTex, 0), i.framebufferTexture2D(i.FRAMEBUFFER, this.ext.COLOR_ATTACHMENT1_WEBGL, i.TEXTURE_2D, this.gBufferNormalTex, 0), this.ext.drawBuffersWEBGL([this.ext.COLOR_ATTACHMENT0_WEBGL, this.ext.COLOR_ATTACHMENT1_WEBGL]);var s = i.checkFramebufferStatus(i.FRAMEBUFFER);if (s !== i.FRAMEBUFFER_COMPLETE) {\n            var a = { 36054: "Incomplete Attachment", 36055: "Missing Attachment", 36057: "Incomplete Dimensions", 36061: "Framebuffer Unsupported" };throw new Error("Framebuffer incomplete. Framebuffer status: " + a[s]);\n          }i.bindFramebuffer(i.FRAMEBUFFER, null), d.SetDirty();\n        } else {\n          this.gl = t.sys.game.renderer.gl, this.passShader = e.createShader("Phong2DShaderForward", { vert: c.vert, frag: "" }), this.ambientLightColorLoc = this.passShader.getUniformLocation("uAmbientLightColor"), this.uMainTextureLoc = this.passShader.getUniformLocation("uMainTexture"), this.uNormTextureLoc = this.passShader.getUniformLocation("uNormTexture"), this.uResolutionLoc = this.passShader.getUniformLocation("uResolution"), this.uCameraLoc = this.passShader.getUniformLocation("uCamera"), this.passShader.setConstantInt1(this.uMainTextureLoc, 0), this.passShader.setConstantInt1(this.uNormTextureLoc, 1);for (var n = 0; n < l.MAX_LIGHTS; ++n) {\n            this.lightsLocations[n] = { position: this.passShader.getUniformLocation("uLights[" + n + "].position"), color: this.passShader.getUniformLocation("uLights[" + n + "].color"), attenuation: this.passShader.getUniformLocation("uLights[" + n + "].attenuation"), radius: this.passShader.getUniformLocation("uLights[" + n + "].radius") };\n          }\n        }this.setOrigin(0, 0);\n      }, forEachLight: function forEachLight(t) {\n        if (t) for (var e = this.lights, i = e.length, n = 0; n < i; ++n) {\n          t(e[n]);\n        }\n      }, get z() {\n        return this._z;\n      }, set z(t) {\n        this._z = t;\n      }, setAmbientLightColor: function setAmbientLightColor(t, e, i) {\n        this.ambientLightColorR = t, this.ambientLightColorG = e, this.ambientLightColorB = i;\n      }, getMaxLights: function getMaxLights() {\n        return this._isDeferred ? l.DEFERRED_MAX_LIGHTS : l.MAX_LIGHTS;\n      }, getLightCount: function getLightCount() {\n        return this.lights.length;\n      }, isDeferred: function isDeferred() {\n        return this._isDeferred;\n      }, addSprite: function addSprite(t, e) {\n        var i;this.spritePool.length > 0 ? (i = this.spritePool.pop(), i.set(t, e)) : i = new h(t, e), this.scene.sys.displayList.remove(t), this.sprites.push(i);\n      }, removeSprite: function removeSprite(t) {\n        for (var e = this.sprites.length, i = 0; i < e; ++i) {\n          if (this.sprites[i].spriteRef === t) {\n            this.spritePool.push(this.sprites[i]), this.sprites.splice(i, 1);break;\n          }\n        }return t;\n      }, addLight: function addLight(t, e, i, n, r, s, a, h) {\n        if (this.lights.length < this.getMaxLights()) {\n          var u = null;return this.lightPool.length > 0 ? (u = this.lightPool.pop(), u.set(t, e, i, n, r, s, a, h)) : u = new o(t, e, i, n, r, s, a, h), this.lights.push(u), u;\n        }return null;\n      }, removeLight: function removeLight(t) {\n        var e = this.lights.indexOf(t);e >= 0 && (this.lightPool.push(t), this.lights.splice(e, 1));\n      }, updateLights: function updateLights(t, e, i) {\n        if (null !== this.gl) {\n          var n = this.lightsLocations,\n              r = this.lights,\n              s = r.length,\n              a = { x: 0, y: 0 },\n              o = t.height,\n              h = e.matrix,\n              u = this.gl;i.bind(), u.uniform2f(this.uResolutionLoc, t.width, t.height), u.uniform3f(this.ambientLightColorLoc, this.ambientLightColorR, this.ambientLightColorG, this.ambientLightColorB), u.uniform4f(this.uCameraLoc, e.x, e.y, e.rotation, e.zoom);for (var c = 0; c < s; ++c) {\n            var l = r[c];h.transformPoint(l.x, l.y, a), u.uniform1f(n[c].attenuation, l.attenuation), u.uniform1f(n[c].radius, l.radius), u.uniform3f(n[c].position, a.x - e.scrollX * l.scrollFactorX * e.zoom, o - (a.y - e.scrollY * l.scrollFactorY * e.zoom), l.z), u.uniform3f(n[c].color, l.r, l.g, l.b);\n          }\n        }\n      } });t.exports = p;\n  }, function (t, e) {\n    var i = function () {\n      var t = document.createElement("canvas").getContext("webgl"),\n          e = t ? t.getSupportedExtensions() : [];return { has: function has(t) {\n          return e.indexOf(t) >= 0;\n        } };\n    }();t.exports = i;\n  }, function (t, e, i) {\n    var n = i(25),\n        r = function r(t, e, i) {\n      return { gameObject: t, enabled: !0, draggable: !1, dropZone: !1, target: null, camera: null, hitArea: e, hitAreaCallback: i, localX: 0, localY: 0, dragState: 0, dragStartX: 0, dragStartY: 0, dragX: 0, dragY: 0, callbackContext: t, onUp: n, onDown: n, onOver: n, onOut: n, onMove: n, onDragStart: n, onDrag: n, onDragEnd: n };\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i30, n) {\n      for (var r = [], s = t; s <= e; s++) {\n        if (_i30 || n) {\n          var a = _i30 ? _i30 + s.toString() : s.toString();n && (a = a.concat(n)), r.push(a);\n        } else r.push(s);\n      }return r;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(90),\n        r = function r(t, e) {\n      var i = void 0 === t ? n() : Object.assign(t);if (e) for (var r in e) {\n        void 0 !== e[r] && (i[r] = e[r]);\n      }return i;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = i(7),\n        o = i(132),\n        h = new n({ Extends: s, initialize: function initialize(t, e, i, n) {\n        var r = "string" == typeof t ? t : a(t, "key", ""),\n            o = { type: "xml", extension: a(t, "extension", "xml"), responseType: "text", key: r, url: a(t, "file", e), path: i, xhrSettings: a(t, "xhr", n) };s.call(this, o);\n      }, onProcess: function onProcess(t) {\n        if (this.state = r.FILE_PROCESSING, this.data = o(this.xhrLoader.responseText), null === this.data) throw new Error("XMLFile: Invalid XML");this.onComplete(), t(this);\n      } });h.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        t.addFile(new h(e[r], i, t.path, n));\n      } else t.addFile(new h(e, i, t.path, n));return t;\n    }, t.exports = h;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = new n({ Extends: s, initialize: function initialize(t, e, i, n) {\n        var r = { type: "text", extension: "txt", responseType: "text", key: t, url: e, path: i, xhrSettings: n };s.call(this, r);\n      }, onProcess: function onProcess(t) {\n        this.state = r.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onComplete(), t(this);\n      } });a.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        t.addFile(new a(e[r], i, t.path, n));\n      } else t.addFile(new a(e, i, t.path, n));return t;\n    }, t.exports = a;\n  }, function (t, e) {\n    var i = { targets: null, delay: 0, duration: 1e3, ease: "Power0", easeParams: null, hold: 0, repeat: 0, repeatDelay: 0, startAt: null, yoyo: !1, flipX: !1, flipY: !1 };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i31) {\n      return t && t.hasOwnProperty(e) ? t[e] : _i31;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(715),\n        r = function r(t, e) {\n      if ("string" == typeof t && n.hasOwnProperty(t)) {\n        if (e) {\n          var i = e.slice(0);return i.unshift(0), function (e) {\n            return i[0] = e, n[t].apply(this, i);\n          };\n        }return n[t];\n      }return "function" == typeof t ? t : (Array.isArray(t) && t.length, n.Power0);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i32) {\n      var n;if (t.hasOwnProperty(e)) {\n        n = "function" === typeof t[e] ? function (i, n, r) {\n          return t[e](i, n, r);\n        } : function () {\n          return t[e];\n        };\n      } else n = "function" == typeof _i32 ? _i32 : function () {\n        return _i32;\n      };return n;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(2),\n        r = function r(t) {\n      var e = n(t, "targets", null);return null === e ? e : ("function" == typeof e && (e = e.call()), Array.isArray(e) || (e = [e]), e);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(13),\n        s = new n({ initialize: function initialize(t, e) {\n        this.manager = t, this.timeline = null, this.data = e, this.totalData = e.length, this.totalTargets = 0, this.useFrames = !1, this.timeScale = 1, this.loop = 0, this.loopDelay = 0, this.loopCounter = 0, this.completeDelay = 0, this.countdown = 0, this.offset = 0, this.calculatedOffset = 0, this.state = r.PENDING_ADD, this._pausedState = r.PENDING_ADD, this.paused = !1, this.elapsed = 0, this.totalElapsed = 0, this.duration = 0, this.progress = 0, this.totalDuration = 0, this.totalProgress = 0, this.callbacks = { onComplete: null, onLoop: null, onRepeat: null, onStart: null, onUpdate: null, onYoyo: null }, this.callbackScope;\n      }, setTimeScale: function setTimeScale(t) {\n        return this.timeScale = t, this;\n      }, getTimeScale: function getTimeScale() {\n        return this.timeScale;\n      }, isPlaying: function isPlaying() {\n        return this.state === r.ACTIVE;\n      }, hasTarget: function hasTarget(t) {\n        for (var e = this.data, i = 0; i < this.totalData; i++) {\n          if (e[i].target === t) return !0;\n        }return !1;\n      }, calcDuration: i(721), init: i(722), loadValues: i(723), nextState: i(724), pause: i(725), play: i(726), resetTweenData: i(727), resume: i(728), seek: i(729), setCallback: i(730), stop: i(731), update: i(732) });s.TYPES = ["onStart", "onUpdate", "onRepeat", "onLoop", "onComplete", "onYoyo"], t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return !(t.width <= 0 || t.height <= 0 || e.width <= 0 || e.height <= 0) && !(t.right < e.x || t.bottom < e.y || t.x > e.right || t.y > e.bottom);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(36),\n        r = { x: 0, y: 0 },\n        s = function s(t, e, i) {\n      if (void 0 === i && (i = r), n(e, t.x1, t.y1)) return i.x = t.x1, i.y = t.y1, !0;if (n(e, t.x2, t.y2)) return i.x = t.x2, i.y = t.y2, !0;var s = t.x2 - t.x1,\n          a = t.y2 - t.y1,\n          o = e.x - t.x1,\n          h = e.y - t.y1,\n          u = s * s + a * a,\n          c = s,\n          l = a;if (u > 0) {\n        var f = (o * s + h * a) / u;c *= f, l *= f;\n      }return i.x = t.x1 + c, i.y = t.y1 + l, c * c + l * l <= u && c * s + l * a >= 0 && n(e, i.x, i.y);\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return (t.x - e.x1) * (e.y2 - e.y1) == (e.x2 - e.x1) * (t.y - e.y1);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = []), e.push({ x: t.x, y: t.y }), e.push({ x: t.right, y: t.y }), e.push({ x: t.right, y: t.bottom }), e.push({ x: t.x, y: t.bottom }), e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = []), e.push({ x: t.x1, y: t.y1 }), e.push({ x: t.x2, y: t.y2 }), e.push({ x: t.x3, y: t.y3 }), e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i, n) {\n        this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.setTo(t, e, i, n);\n      }, setTo: function setTo(t, e, i, n) {\n        return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.x1 = t, this.y1 = e, this.x2 = i, this.y2 = n, this;\n      }, getPointA: function getPointA() {\n        return { x1: this.x1, y1: this.y1 };\n      }, getPointB: function getPointB() {\n        return { x1: this.x2, y1: this.y2 };\n      }, left: { get: function get() {\n          return Math.min(this.x1, this.x2);\n        }, set: function set(t) {\n          this.x1 <= this.x2 ? this.x1 = t : this.x2 = t;\n        } }, right: { get: function get() {\n          return Math.max(this.x1, this.x2);\n        }, set: function set(t) {\n          this.x1 > this.x2 ? this.x1 = t : this.x2 = t;\n        } }, top: { get: function get() {\n          return Math.min(this.y1, this.y2);\n        }, set: function set(t) {\n          this.y1 <= this.y2 ? this.y1 = t : this.y2 = t;\n        } }, bottom: { get: function get() {\n          return Math.max(this.y1, this.y2);\n        }, set: function set(t) {\n          this.y1 > this.y2 ? this.y1 = t : this.y2 = t;\n        } } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = i(50),\n        s = i(43),\n        a = function a(t) {\n      var e = s(t) - n.TAU;return r(e, -Math.PI, Math.PI);\n    };t.exports = a;\n  }, function (t, e) {\n    var i = function i(t) {\n      return Math.sqrt(t.x * t.x + t.y * t.y);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.x * t.x + t.y * t.y;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i33) {\n      return t.x *= e, t.y *= _i33, t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(202),\n        r = function r(t) {\n      if (0 !== t.x && 0 !== t.y) {\n        var e = n(t);t.x /= e, t.y /= e;\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.area = 0, this.points = [], t && this.setTo(t);\n      }, setTo: function setTo(t) {\n        if (this.area = 0, this.points = [], !Array.isArray(t)) return this;for (var e, i = Number.MAX_VALUE, n = 0; n < t.length; n++) {\n          e = { x: 0, y: 0 }, "number" == typeof t[n] ? (e.x = t[n], e.y = t[n + 1], n++) : Array.isArray(void 0) ? (e.x = t[n][0], e.y = t[n][1]) : (e.x = t[n].x, e.y = t[n].y), this.points.push(e), e.y < i && (i = e.y);\n        }return this.calculateArea(i), this;\n      }, calculateArea: function calculateArea(t) {\n        if (this.points.length < 3) return this.area = 0, this.area;for (var e, i, n = 0, r = 0; r < this.points.length - 1; r++) {\n          e = this.points[r], i = this.points[r + 1], n += (i.x - e.x) * (e.y + i.y);\n        }return e = this.points[0], i = this.points[this.points.length - 1], n += (e.x - i.x) * (i.y + e.y), this.area = .5 * -n, this.area;\n      } });t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i34) {\n      for (var n = !1, r = -1, s = t.points.length - 1; ++r < t.points.length; s = r) {\n        var a = t.points[r].x,\n            o = t.points[r].y,\n            h = t.points[s].x,\n            u = t.points[s].y;(o <= _i34 && _i34 < u || u <= _i34 && _i34 < o) && e < (h - a) * (_i34 - o) / (u - o) + a && (n = !n);\n      }return n;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i35) {\n      return t.x = e - t.width / 2, t.y = _i35 - t.height / 2, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = { x: 0, y: 0 }), e.x = (t.x1 + t.x2 + t.x3) / 3, e.y = (t.y1 + t.y2 + t.y3) / 3, e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i36) {\n      return t.x1 += e, t.y1 += _i36, t.x2 += e, t.y2 += _i36, t.x3 += e, t.y3 += _i36, t;\n    };t.exports = i;\n  }, function (t, e) {\n    function i(t, e, i, n) {\n      var r = t - i,\n          s = e - n,\n          a = r * r + s * s;return Math.sqrt(a);\n    }var n = function n(t, e) {\n      void 0 === e && (e = { x: 0, y: 0 });var n = t.x1,\n          r = t.y1,\n          s = t.x2,\n          a = t.y2,\n          o = t.x3,\n          h = t.y3,\n          u = i(o, h, s, a),\n          c = i(n, r, o, h),\n          l = i(s, a, n, r),\n          f = u + c + l;return e.x = (n * u + s * c + o * l) / f, e.y = (r * u + a * c + h * l) / f, e;\n    };t.exports = n;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.min(255, t + e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return 0 === e ? e : Math.max(0, 255 - (255 - t << 8) / e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return 255 === e ? e : Math.min(255, (t << 8) / (255 - e));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e > t ? t : e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return 255 === e ? e : Math.min(255, t * t / (255 - e));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e < 128 ? 2 * t * e / 255 : 255 - 2 * (255 - t) * (255 - e) / 255;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(213),\n        r = i(214),\n        s = function s(t, e) {\n      return e < 128 ? n(t, 2 * e) : r(t, 2 * (e - 128));\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e > t ? e : t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(221),\n        r = function r(t, e) {\n      return n(t, e);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.max(0, t + e - 255);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(212),\n        r = function r(t, e) {\n      return n(t, e);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.toString(16);return 1 === e.length ? "0" + e : e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    (function (t) {\n      var e = function e(t, _e3, i) {\n        return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (_e3 - t) * i : i < .5 ? _e3 : i < 2 / 3 ? t + (_e3 - t) * (2 / 3 - i) * 6 : t;\n      };t.export = e;\n    }).call(e, i(934)(t));\n  }, function (t, e, i) {\n    var n = i(72),\n        r = function r(t, e, i) {\n      void 0 === e && (e = 1), void 0 === i && (i = 1);var r = Math.floor(6 * t),\n          s = 6 * t - r,\n          a = Math.floor(i * (1 - e) * 255),\n          o = Math.floor(i * (1 - s * e) * 255),\n          h = Math.floor(i * (1 - (1 - s) * e) * 255);i = Math.floor(i *= 255);var u = { r: i, g: i, b: i, color: 0 },\n          c = r % 6;return 0 === c ? (u.g = h, u.b = a) : 1 === c ? (u.r = o, u.b = a) : 2 === c ? (u.r = a, u.b = h) : 3 === c ? (u.r = a, u.g = o) : 4 === c ? (u.r = h, u.g = a) : 5 === c && (u.g = a, u.b = o), u.color = n(u.r, u.g, u.b), u;\n    };t.exports = r;\n  }, function (t, e) {\n    function i(t, e, i) {\n      var n = t[e];t[e] = t[i], t[i] = n;\n    }function n(t, e) {\n      return t < e ? -1 : t > e ? 1 : 0;\n    }var r = function r(t, e, s, a, o) {\n      for (s = s || 0, a = a || t.length - 1, o = o || n; a > s;) {\n        if (a - s > 600) {\n          var h = a - s + 1,\n              u = e - s + 1,\n              c = Math.log(h),\n              l = .5 * Math.exp(2 * c / 3),\n              f = .5 * Math.sqrt(c * l * (h - l) / h) * (u - h / 2 < 0 ? -1 : 1),\n              d = Math.max(s, Math.floor(e - u * l / h + f)),\n              p = Math.min(a, Math.floor(e + (h - u) * l / h + f));r(t, e, d, p, o);\n        }var v = t[e],\n            g = s,\n            x = a;for (i(t, s, e), o(t[a], v) > 0 && i(t, s, a); g < x;) {\n          for (i(t, g, x), g++, x--; o(t[g], v) < 0;) {\n            g++;\n          }for (; o(t[x], v) > 0;) {\n            x--;\n          }\n        }0 === o(t[s], v) ? i(t, s, x) : (x++, i(t, x, a)), x <= e && (s = x + 1), e <= x && (a = x - 1);\n      }\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (!(e >= t.length)) {\n        for (var i = t.length - 1, n = t[e], r = e; r < i; r++) {\n          t[r] = t[r + 1];\n        }return t.length = i, n;\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    (function (e) {\n      i(229);var n = i(4),\n          r = i(63),\n          s = { Actions: i(103), Create: i(319), DOM: i(326), Game: i(333), Event: i(1), EventDispatcher: i(29), Math: i(69), Geom: i(795), Graphics: i(914), Input: i(940), GameObjects: i(947), Scene: i(46), Loader: { ImageFile: i(42) }, Sound: i(948), Structs: i(951), Class: i(0), Utils: i(953) };s = r(!1, s, n), t.exports = s, e.Phaser = s;\n    }).call(e, i(101));\n  }, function (t, e, i) {\n    i(230), i(231), i(232), i(233), i(234), i(235), i(236), i(237), i(238);\n  }, function (t, e) {\n    Array.prototype.forEach || (Array.prototype.forEach = function (t) {\n      "use strict";\n      if (void 0 === this || null === this) throw new TypeError();var e = Object(this),\n          i = e.length >>> 0;if ("function" != typeof t) throw new TypeError();for (var n = arguments.length >= 2 ? arguments[1] : void 0, r = 0; r < i; r++) {\n        r in e && t.call(n, e[r], r, e);\n      }\n    });\n  }, function (t, e) {\n    Array.isArray || (Array.isArray = function (t) {\n      return "[object Array]" === Object.prototype.toString.call(t);\n    });\n  }, function (t, e) {\n    !function (t, e, i) {\n      "use strict";\n      function n(t) {\n        t && (t.setTargetAtTime || (t.setTargetAtTime = t.setTargetValueAtTime));\n      }window.hasOwnProperty("webkitAudioContext") && !window.hasOwnProperty("AudioContext") && (window.AudioContext = webkitAudioContext, AudioContext.prototype.hasOwnProperty("createGain") || (AudioContext.prototype.createGain = AudioContext.prototype.createGainNode), AudioContext.prototype.hasOwnProperty("createDelay") || (AudioContext.prototype.createDelay = AudioContext.prototype.createDelayNode), AudioContext.prototype.hasOwnProperty("createScriptProcessor") || (AudioContext.prototype.createScriptProcessor = AudioContext.prototype.createJavaScriptNode), AudioContext.prototype.hasOwnProperty("createPeriodicWave") || (AudioContext.prototype.createPeriodicWave = AudioContext.prototype.createWaveTable), AudioContext.prototype.internal_createGain = AudioContext.prototype.createGain, AudioContext.prototype.createGain = function () {\n        var t = this.internal_createGain();return n(t.gain), t;\n      }, AudioContext.prototype.internal_createDelay = AudioContext.prototype.createDelay, AudioContext.prototype.createDelay = function (t) {\n        var e = t ? this.internal_createDelay(t) : this.internal_createDelay();return n(e.delayTime), e;\n      }, AudioContext.prototype.internal_createBufferSource = AudioContext.prototype.createBufferSource, AudioContext.prototype.createBufferSource = function () {\n        var t = this.internal_createBufferSource();return t.start ? (t.internal_start = t.start, t.start = function (e, i, n) {\n          void 0 !== n ? t.internal_start(e || 0, i, n) : t.internal_start(e || 0, i || 0);\n        }) : t.start = function (t, e, i) {\n          e || i ? this.noteGrainOn(t || 0, e, i) : this.noteOn(t || 0);\n        }, t.stop ? (t.internal_stop = t.stop, t.stop = function (e) {\n          t.internal_stop(e || 0);\n        }) : t.stop = function (t) {\n          this.noteOff(t || 0);\n        }, n(t.playbackRate), t;\n      }, AudioContext.prototype.internal_createDynamicsCompressor = AudioContext.prototype.createDynamicsCompressor, AudioContext.prototype.createDynamicsCompressor = function () {\n        var t = this.internal_createDynamicsCompressor();return n(t.threshold), n(t.knee), n(t.ratio), n(t.reduction), n(t.attack), n(t.release), t;\n      }, AudioContext.prototype.internal_createBiquadFilter = AudioContext.prototype.createBiquadFilter, AudioContext.prototype.createBiquadFilter = function () {\n        var t = this.internal_createBiquadFilter();return n(t.frequency), n(t.detune), n(t.Q), n(t.gain), t;\n      }, AudioContext.prototype.hasOwnProperty("createOscillator") && (AudioContext.prototype.internal_createOscillator = AudioContext.prototype.createOscillator, AudioContext.prototype.createOscillator = function () {\n        var t = this.internal_createOscillator();return t.start ? (t.internal_start = t.start, t.start = function (e) {\n          t.internal_start(e || 0);\n        }) : t.start = function (t) {\n          this.noteOn(t || 0);\n        }, t.stop ? (t.internal_stop = t.stop, t.stop = function (e) {\n          t.internal_stop(e || 0);\n        }) : t.stop = function (t) {\n          this.noteOff(t || 0);\n        }, t.setPeriodicWave || (t.setPeriodicWave = t.setWaveTable), n(t.frequency), n(t.detune), t;\n      })), window.hasOwnProperty("webkitOfflineAudioContext") && !window.hasOwnProperty("OfflineAudioContext") && (window.OfflineAudioContext = webkitOfflineAudioContext);\n    }(window);\n  }, function (t, e) {\n    window.console || (window.console = {}, window.console.log = window.console.assert = function () {}, window.console.warn = window.console.assert = function () {});\n  }, function (t, e) {\n    Function.prototype.bind || (Function.prototype.bind = function () {\n      var t = Array.prototype.slice;return function (e) {\n        function i() {\n          var s = r.concat(t.call(arguments));n.apply(this instanceof i ? this : e, s);\n        }var n = this,\n            r = t.call(arguments, 1);if ("function" != typeof n) throw new TypeError();return i.prototype = function t(e) {\n          if (e && (t.prototype = e), !(this instanceof t)) return new t();\n        }(n.prototype), i;\n      };\n    }());\n  }, function (t, e) {\n    Math.trunc || (Math.trunc = function (t) {\n      return t < 0 ? Math.ceil(t) : Math.floor(t);\n    });\n  }, function (t, e) {\n    !function () {\n      if ("performance" in window == !1 && (window.performance = {}), Date.now = Date.now || function () {\n        return new Date().getTime();\n      }, "now" in window.performance == !1) {\n        var t = Date.now();performance.timing && performance.timing.navigationStart && (t = performance.timing.navigationStart), window.performance.now = function () {\n          return Date.now() - t;\n        };\n      }\n    }();\n  }, function (t, e, i) {\n    (function (t) {\n      if (Date.now && Date.prototype.getTime || (Date.now = function () {\n        return new Date().getTime();\n      }), !t.performance || !t.performance.now) {\n        var e = Date.now();t.performance || (t.performance = {}), t.performance.now = function () {\n          return Date.now() - e;\n        };\n      }for (var i = Date.now(), n = ["ms", "moz", "webkit", "o"], r = 0; r < n.length && !t.requestAnimationFrame; ++r) {\n        t.requestAnimationFrame = t[n[r] + "RequestAnimationFrame"], t.cancelAnimationFrame = t[n[r] + "CancelAnimationFrame"] || t[n[r] + "CancelRequestAnimationFrame"];\n      }t.requestAnimationFrame || (t.requestAnimationFrame = function (t) {\n        if ("function" != typeof t) throw new TypeError(t + "is not a function");var e = Date.now(),\n            n = 16 + i - e;return n < 0 && (n = 0), i = e, setTimeout(function () {\n          i = Date.now(), t(performance.now());\n        }, n);\n      }), t.cancelAnimationFrame || (t.cancelAnimationFrame = function (t) {\n        clearTimeout(t);\n      });\n    }).call(e, i(101));\n  }, function (t, e) {\n    if ("function" != typeof window.Uint32Array && "object" != _typeof(window.Uint32Array)) {\n      var i = function i(t) {\n        var e = new Array();window[t] = function (t) {\n          if ("number" == typeof t) {\n            Array.call(this, t), this.length = t;for (var e = 0; e < this.length; e++) {\n              this[e] = 0;\n            }\n          } else {\n            Array.call(this, t.length), this.length = t.length;for (var e = 0; e < this.length; e++) {\n              this[e] = t[e];\n            }\n          }\n        }, window[t].prototype = e, window[t].constructor = window[t];\n      };i("Float32Array"), i("Uint32Array"), i("Uint16Array"), i("Int16Array"), i("ArrayBuffer");\n    }\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        t[i].angle += e;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i37) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];e.call(_i37, r);\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i38) {\n      for (var n = _i38; n < t.length; n++) {\n        var r = t[n],\n            s = !0;for (var a in e) {\n          r[a] !== e[a] && (s = !1);\n        }if (s) return r;\n      }return null;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(104),\n        r = i(243),\n        s = i(64),\n        a = i(2),\n        o = new s({ sys: { sortChildrenFlag: !1 } }, 0, 0, 1, 1),\n        h = function h(t, e) {\n      var i = a(e, "width", -1),\n          s = a(e, "height", -1),\n          h = a(e, "cellWidth", 1),\n          u = a(e, "cellHeight", h),\n          c = a(e, "position", n.TOP_LEFT),\n          l = a(e, "x", 0),\n          f = a(e, "y", 0),\n          d = 0,\n          p = 0,\n          v = i * h,\n          g = s * u;o.setPosition(l, f), o.setSize(h, u);for (var x = 0; x < t.length; x++) {\n        if (r(t[x], o, c), -1 === i) p += u, o.y += u, p === g && (p = 0, o.x += h, o.y = f);else if (-1 === s) d += h, o.x += h, d === v && (d = 0, o.x = l, o.y += u);else if (d += h, o.x += h, d === v && (d = 0, p += u, o.x = l, o.y += u, p === g)) break;\n      }return t;\n    };t.exports = h;\n  }, function (t, e, i) {\n    var n = i(104),\n        r = [];r[n.BOTTOM_CENTER] = i(105), r[n.BOTTOM_LEFT] = i(106), r[n.BOTTOM_RIGHT] = i(107), r[n.CENTER] = i(108), r[n.LEFT_CENTER] = i(110), r[n.RIGHT_CENTER] = i(111), r[n.TOP_CENTER] = i(112), r[n.TOP_LEFT] = i(113), r[n.TOP_RIGHT] = i(114);var s = function s(t, e, i, n, _s) {\n      return r[i](t, e, n, _s);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(49),\n        r = { _alpha: 1, _alphaTL: 1, _alphaTR: 1, _alphaBL: 1, _alphaBR: 1, clearAlpha: function clearAlpha() {\n        return this.setAlpha(1);\n      }, setAlpha: function setAlpha(t, e, i, r) {\n        return void 0 === t && (t = 1), void 0 === e ? this.alpha = t : (this._alphaTL = n(t, 0, 1), this._alphaTR = n(e, 0, 1), this._alphaBL = n(i, 0, 1), this._alphaBR = n(r, 0, 1)), this;\n      }, alpha: { get: function get() {\n          return this._alpha;\n        }, set: function set(t) {\n          var e = n(t, 0, 1);this._alpha = e, this._alphaTL = e, this._alphaTR = e, this._alphaBL = e, this._alphaBR = e, 0 === e ? this.renderFlags &= -3 : this.renderFlags |= 2;\n        } }, alphaTopLeft: { get: function get() {\n          return this._alphaTL;\n        }, set: function set(t) {\n          var e = n(t, 0, 1);this._alphaTL = e, 0 !== e && (this.renderFlags |= 2);\n        } }, alphaTopRight: { get: function get() {\n          return this._alphaTR;\n        }, set: function set(t) {\n          var e = n(t, 0, 1);this._alphaTR = e, 0 !== e && (this.renderFlags |= 2);\n        } }, alphaBottomLeft: { get: function get() {\n          return this._alphaBL;\n        }, set: function set(t) {\n          var e = n(t, 0, 1);this._alphaBL = e, 0 !== e && (this.renderFlags |= 2);\n        } }, alphaBottomRight: { get: function get() {\n          return this._alphaBR;\n        }, set: function set(t) {\n          var e = n(t, 0, 1);this._alphaBR = e, 0 !== e && (this.renderFlags |= 2);\n        } } };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(246),\n        s = new n({ initialize: function initialize(t) {\n        this.parent = t, this.animationManager = t.scene.sys.anims, this.animationManager.events.once("REMOVE_ANIMATION_EVENT", this.remove.bind(this)), this.isPlaying = !1, this.currentAnim = null, this.currentFrame = null, this._timeScale = 1, this.frameRate = 0, this.duration = 0, this.msPerFrame = 0, this.skipMissedFrames = !0, this._delay = 0, this._repeat = 0, this._repeatDelay = 0, this._yoyo = !1, this.forward = !0, this.accumulator = 0, this.nextTick = 0, this.repeatCounter = 0, this.pendingRepeat = !1, this._paused = !1, this._wasPlaying = !1, this._callbackArgs = [t, null], this._updateParams = [];\n      }, destroy: function destroy() {}, delay: r.Delay, delayedPlay: r.DelayedPlay, getCurrentKey: r.GetCurrentKey, load: r.Load, pause: r.Pause, paused: r.Paused, play: r.Play, progress: r.Progress, remove: r.Remove, repeat: r.Repeat, repeatDelay: r.RepeatDelay, restart: r.Restart, resume: r.Resume, stop: r.Stop, timeScale: r.TimeScale, totalFrames: r.TotalFrames, totalProgress: r.TotalProgress, update: r.Update, updateFrame: r.UpdateFrame, yoyo: r.Yoyo });t.exports = s;\n  }, function (t, e, i) {\n    t.exports = { Delay: i(247), DelayedPlay: i(248), GetCurrentKey: i(249), Load: i(250), Pause: i(251), Paused: i(252), Play: i(253), Progress: i(254), Remove: i(255), Repeat: i(256), RepeatDelay: i(257), Restart: i(258), Resume: i(259), Stop: i(260), TimeScale: i(261), TotalFrames: i(262), TotalProgress: i(263), Update: i(264), UpdateFrame: i(265), Yoyo: i(266) };\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t ? this._delay : (this._delay = t, this);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i39) {\n      return this.play(e, _i39), this.nextTick += 1e3 * t, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      if (this.currentAnim) return this.currentAnim.key;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = 0), this.isPlaying && this.stop(), this.animationManager.load(this, t, e), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this._paused || (this._paused = !0, this._wasPlaying = this.isPlaying, this.isPlaying = !1), void 0 !== t && this.updateFrame(t), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 !== t ? t ? this.pause() : this.resume() : this._paused;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i40) {\n      if (void 0 === e && (e = !1), void 0 === _i40 && (_i40 = 0), e && this.isPlaying && this.currentAnim.key === t) return this;this.load(t, _i40);var n = this.currentAnim;return this.repeatCounter = -1 === this._repeat ? Number.MAX_SAFE_INTEGER : this._repeat, n.getFirstTick(this), this.forward = !0, this.isPlaying = !0, this.pendingRepeat = !1, n.showOnStart && (this.parent.visible = !0), n.onStart && n.onStart.apply(n.callbackScope, this._callbackArgs.concat(n.onStartParams)), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      if (void 0 === t) {\n        var e = this.currentFrame.progress;return this.forward || (e = 1 - e), e;\n      }return this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      if (void 0 === t && (t = this.currentAnim), this.isPlaying && t.key === this.currentAnim.key) {\n        this.stop();var e = this.parent,\n            i = this.currentAnim.frames[0];this.currentFrame = i, e.texture = i.frame.texture, e.frame = i.frame;\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t ? this._repeat : (this._repeat = t, this.repeatCounter = 0, this);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t ? this._repeatDelay : (this._repeatDelay = t, this);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t && (t = !1), this.currentAnim.getFirstTick(this, t), this.forward = !0, this.isPlaying = !0, this.pendingRepeat = !1, this.updateFrame(this.currentAnim.frames[0]), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this._paused && (this._paused = !1, this.isPlaying = this._wasPlaying), void 0 !== t && this.updateFrame(t), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      void 0 === t && (t = !1), this.isPlaying = !1;var e = this.currentAnim;return t && e.onComplete && e.onComplete.apply(e.callbackScope, this._callbackArgs.concat(e.onCompleteParams)), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t ? this._timeScale : (this._timeScale = t, this);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      return this.currentAnim.frames.length;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {};t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      this.isPlaying && !this.currentAnim.paused && (this.accumulator += e * this._timeScale, this.accumulator >= this.nextTick && this.currentAnim.setFrame(this));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.parent;if (this.currentFrame = t, e.texture = t.frame.texture, e.frame = t.frame, this.isPlaying) {\n        t.setAlpha && (e.alpha = t.alpha);var i = this.currentAnim;i.onUpdate && i.onUpdate.apply(i.callbackScope, this._updateParams), t.onUpdate && t.onUpdate(e, t);\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t ? this._yoyo : (this._yoyo = t, this);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(31),\n        r = { _blendMode: n.NORMAL, blendMode: { get: function get() {\n          return this._blendMode;\n        }, set: function set(t) {\n          t >= 0 && (this._blendMode = t);\n        } }, setBlendMode: function setBlendMode(t) {\n        return this.blendMode = t, this;\n      } };t.exports = r;\n  }, function (t, e) {\n    var i = { width: 0, height: 0, displayWidth: { get: function get() {\n          return this.scaleX * this.width;\n        }, set: function set(t) {\n          this.scaleX = t / this.width;\n        } }, displayHeight: { get: function get() {\n          return this.scaleY * this.height;\n        }, set: function set(t) {\n          this.scaleY = t / this.height;\n        } } };t.exports = i;\n  }, function (t, e) {\n    var i = { flipX: !1, flipY: !1, toggleFlipX: function toggleFlipX() {\n        return this.flipX = !this.flipX, this;\n      }, toggleFlipY: function toggleFlipY() {\n        return this.flipY = !this.flipY, this;\n      }, setFlipX: function setFlipX(t) {\n        return this.flipX = t, this;\n      }, setFlipY: function setFlipY(t) {\n        return this.flipY = t, this;\n      }, setFlip: function setFlip(t, e) {\n        return this.flipX = t, this.flipY = e, this;\n      }, resetFlip: function resetFlip() {\n        this.flipX = !1, this.flipY = !1;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { getBounds: function getBounds(t) {\n        void 0 === t && (t = { x: 0, y: 0, width: 0, height: 0 });var e = this.x,\n            i = this.y,\n            n = this.displayWidth,\n            r = this.displayHeight,\n            s = this.rotation,\n            a = n * Math.cos(s),\n            o = r * Math.cos(s),\n            h = n * Math.sin(s),\n            u = r * Math.sin(s),\n            c = e,\n            l = e,\n            f = i,\n            d = i;return s > 0 ? s < 1.5707963267948966 ? (d = i + o + h, c = e - u, l = e + a) : (f = i + o, d = i + h, c = e - u + a) : s > -1.5707963267948966 ? (f = i + h, d = i + o, l = e + a - u) : (f = i + h + o, c = e + a, l = e - u), t.x = c, t.y = f, t.width = l - c, t.height = d - f, t;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { originX: .5, originY: .5, displayOriginX: 0, displayOriginY: 0, setOrigin: function setOrigin(t, e) {\n        return void 0 === t && (t = .5), void 0 === e && (e = t), this.originX = t, this.originY = e, this.updateOrigin();\n      }, setDisplayOrigin: function setDisplayOrigin(t, e) {\n        return void 0 === t && (t = 0), void 0 === e && (e = t), this.displayOriginX = t, this.displayOriginY = e, this.originX = this.width / t, this.originY = this.height / e, this;\n      }, updateOrigin: function updateOrigin() {\n        return this.displayOriginX = Math.round(this.originX * this.width), this.displayOriginY = Math.round(this.originY * this.height), this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { renderTarget: null };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(26),\n        r = { _scaleMode: n.DEFAULT, scaleMode: { get: function get() {\n          return this._scaleMode;\n        }, set: function set(t) {\n          t !== n.LINEAR && t !== n.NEAREST || (this._scaleMode = t);\n        } }, setScaleMode: function setScaleMode(t) {\n        return this.scaleMode = t, this;\n      } };t.exports = r;\n  }, function (t, e) {\n    var i = { scrollFactorX: 1, scrollFactorY: 1, setScrollFactor: function setScrollFactor(t, e) {\n        return void 0 === e && (e = t), this.scrollFactorX = t, this.scrollFactorY = e, this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { width: 0, height: 0, displayWidth: { get: function get() {\n          return this.scaleX * this.frame.realWidth;\n        }, set: function set(t) {\n          this.scaleX = t / this.frame.realWidth;\n        } }, displayHeight: { get: function get() {\n          return this.scaleY * this.frame.realHeight;\n        }, set: function set(t) {\n          this.scaleY = t / this.frame.realHeight;\n        } }, setSizeToFrame: function setSizeToFrame(t) {\n        return void 0 === t && (t = this.frame), this.width = t.realWidth, this.height = t.realHeight, this;\n      }, setSize: function setSize(t, e) {\n        return this.width = t, this.height = e, this;\n      }, setDisplaySize: function setDisplaySize(t, e) {\n        return this.displayWidth = t, this.displayHeight = e, this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { texture: null, frame: null, setTexture: function setTexture(t, e) {\n        return this.texture = this.scene.sys.textures.get(t), this.setFrame(e);\n      }, setFrame: function setFrame(t) {\n        return this.frame = this.texture.get(t), this.frame.cutWidth && this.frame.cutHeight ? this.renderFlags |= 8 : this.renderFlags &= -9, this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return (t >> 16) + (65280 & t) + ((255 & t) << 16);\n    },\n        n = { _tintTL: 16777215, _tintTR: 16777215, _tintBL: 16777215, _tintBR: 16777215, clearTint: function clearTint() {\n        return this.setTint(16777215), this;\n      }, setTint: function setTint(t, e, n, r) {\n        return void 0 === t && (t = 16777215), void 0 === e && (e = t, n = t, r = t), this._tintTL = i(t), this._tintTR = i(e), this._tintBL = i(n), this._tintBR = i(r), this;\n      }, tintTopLeft: { get: function get() {\n          return this._tintTL;\n        }, set: function set(t) {\n          this._tintTL = i(t);\n        } }, tintTopRight: { get: function get() {\n          return this._tintTR;\n        }, set: function set(t) {\n          this._tintTR = i(t);\n        } }, tintBottomLeft: { get: function get() {\n          return this._tintBL;\n        }, set: function set(t) {\n          this._tintBL = i(t);\n        } }, tintBottomRight: { get: function get() {\n          return this._tintBR;\n        }, set: function set(t) {\n          this._tintBR = i(t);\n        } }, tint: { set: function set(t) {\n          this.setTint(t, t, t, t);\n        } } };t.exports = n;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = { name: t.name, type: t.type, x: t.x, y: t.y, z: t.z, scale: { x: t.scaleX, y: t.scaleY }, origin: { x: t.originX, y: t.originY }, flipX: t.flipX, flipY: t.flipY, rotation: t.rotation, alpha: t.alpha, visible: t.visible, scaleMode: t.scaleMode, blendMode: t.blendMode, textureKey: "", frameKey: "", data: {} };return t.texture && (e.textureKey = t.texture.key, e.frameKey = t.frame.name), e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = i(115),\n        s = i(116),\n        a = { _scaleX: 1, _scaleY: 1, _rotation: 0, _z: 0, x: 0, y: 0, z: { get: function get() {\n          return this._z;\n        }, set: function set(t) {\n          this.scene.sys.sortChildrenFlag = !0, this._z = t;\n        } }, scaleX: { get: function get() {\n          return this._scaleX;\n        }, set: function set(t) {\n          this._scaleX = t, 0 === this._scaleX ? this.renderFlags &= -5 : this.renderFlags |= 4;\n        } }, scaleY: { get: function get() {\n          return this._scaleY;\n        }, set: function set(t) {\n          this._scaleY = t, 0 === this._scaleY ? this.renderFlags &= -5 : this.renderFlags |= 4;\n        } }, angle: { get: function get() {\n          return s(this._rotation * n.RAD_TO_DEG);\n        }, set: function set(t) {\n          this.rotation = s(t) * n.DEG_TO_RAD;\n        } }, rotation: { get: function get() {\n          return this._rotation;\n        }, set: function set(t) {\n          this._rotation = r(t);\n        } }, setPosition: function setPosition(t, e) {\n        return void 0 === t && (t = 0), void 0 === e && (e = t), this.x = t, this.y = e, this;\n      }, setRotation: function setRotation(t) {\n        return void 0 === t && (t = 0), this.rotation = t, this;\n      }, setAngle: function setAngle(t) {\n        return void 0 === t && (t = 0), this.angle = t, this;\n      }, setScale: function setScale(t, e) {\n        return void 0 === t && (t = 1), void 0 === e && (e = t), this.scaleX = t, this.scaleY = e, this;\n      }, setZ: function setZ(t) {\n        return void 0 === t && (t = 0), this.z = t, this;\n      } };t.exports = a;\n  }, function (t, e) {\n    var i = { _visible: !0, visible: { get: function get() {\n          return this._visible;\n        }, set: function set(t) {\n          t ? (this._visible = !0, this.renderFlags |= 1) : (this._visible = !1, this.renderFlags &= -2);\n        } }, setVisible: function setVisible(t) {\n        return this.visible = t, this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        t[i].alpha += e;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        t[i].x += e;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i41) {\n      for (var n = 0; n < t.length; n++) {\n        t[n].x += e, t[n].y += _i41;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        t[i].y += e;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i42, n) {\n      void 0 === _i42 && (_i42 = 0), void 0 === n && (n = 6.28);for (var r = _i42, s = (n - _i42) / t.length, a = 0; a < t.length; a++) {\n        t[a].x = e.x + e.radius * Math.cos(r), t[a].y = e.y + e.radius * Math.sin(r), r += s;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i43, n) {\n      void 0 === _i43 && (_i43 = 0), void 0 === n && (n = 6.28);for (var r = _i43, s = (n - _i43) / t.length, a = e.width / 2, o = e.height / 2, h = 0; h < t.length; h++) {\n        t[h].x = e.x + a * Math.cos(r), t[h].y = e.y + o * Math.sin(r), r += s;\n      }return t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(65),\n        r = function r(t, e) {\n      for (var i = n(e), r = i.length / t.length, s = 0, a = 0; a < t.length; a++) {\n        var o = t[a],\n            h = i[Math.floor(s)];o.x = h[0], o.y = h[1], s += r;\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(117),\n        r = i(119),\n        s = i(120),\n        a = function a(t, e, i) {\n      void 0 === i && (i = 0);var a = n(e, !1, t.length);i > 0 ? r(a, i) : i < 0 && s(a, Math.abs(i));for (var o = 0; o < t.length; o++) {\n        t[o].x = a[o].x, t[o].y = a[o].y;\n      }return t;\n    };t.exports = a;\n  }, function (t, e, i) {\n    var n = i(65),\n        r = function r(t, e, i) {\n      var r = n({ x1: e.x1, y1: e.y1, x2: e.x2, y2: e.y2 }, i),\n          s = n({ x1: e.x2, y1: e.y2, x2: e.x3, y2: e.y3 }, i),\n          a = n({ x1: e.x3, y1: e.y3, x2: e.x1, y2: e.y1 }, i);r.pop(), s.pop(), a.pop(), r = r.concat(s, a);for (var o = r.length / t.length, h = 0, u = 0; u < t.length; u++) {\n        var c = t[u],\n            l = r[Math.floor(h)];c.x = l[0], c.y = l[1], h += o;\n      }return t;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i44) {\n      for (var n = 0; n < t.length; n++) {\n        t[n].anims.play(e, _i44);\n      }return t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(121),\n        r = function r(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        n(e, t[i]);\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(122),\n        r = function r(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        n(e, t[i]);\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(123),\n        r = function r(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        n(e, t[i]);\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(124),\n        r = function r(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        n(e, t[i]);\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(125),\n        r = function r(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        n(e, t[i]);\n      }return t;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i45) {\n      void 0 === _i45 && (_i45 = 0);for (var n = 0; n < t.length; n++) {\n        t[n].rotation += e + n * _i45;\n      }return t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(66),\n        r = i(51),\n        s = function s(t, e, i) {\n      for (var s = e.x, a = e.y, o = 0; o < t.length; o++) {\n        var h = t[o];n(h, s, a, i, Math.max(1, r(h.x, h.y, s, a)));\n      }return t;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(66),\n        r = function r(t, e, i, _r2) {\n      for (var s = e.x, a = e.y, o = 0; o < t.length; o++) {\n        n(t[o], s, a, i, _r2);\n      }return t;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        t[i].scaleX += e;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i46) {\n      for (var n = 0; n < t.length; n++) {\n        t[n].scaleX += e, t[n].scaleY += _i46;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        t[i].scaleY += e;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i47) {\n      void 0 === _i47 && (_i47 = 0);for (var n = 0; n < t.length; n++) {\n        t[n].alpha = e + n * _i47;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i48) {\n      for (var n = 0; n < t.length; n++) {\n        t[n].setHitArea(e, _i48);\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i49) {\n      for (var n = 0; n < t.length; n++) {\n        t[n].setOrigin(e, _i49);\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i50) {\n      void 0 === _i50 && (_i50 = 0);for (var n = 0; n < t.length; n++) {\n        t[n].rotation = e + n * _i50;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i51, n, r) {\n      void 0 === n && (n = 0), void 0 === r && (r = 0);for (var s = 0; s < t.length; s++) {\n        t[s].setScale(e + s * n, _i51 + s * r);\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i52) {\n      void 0 === _i52 && (_i52 = 0);for (var n = 0; n < t.length; n++) {\n        t[n].scaleX = e + n * _i52;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i53) {\n      void 0 === _i53 && (_i53 = 0);for (var n = 0; n < t.length; n++) {\n        t[n].scaleY = e + n * _i53;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = 0; i < t.length; i++) {\n        t[i].visible = e;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i54) {\n      void 0 === _i54 && (_i54 = 0);for (var n = 0; n < t.length; n++) {\n        t[n].x = e + n * _i54;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i55, n, r) {\n      void 0 === n && (n = 0), void 0 === r && (r = 0);for (var s = 0; s < t.length; s++) {\n        t[s].x = e + s * n, t[s].y = _i55 + s * r;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i56) {\n      void 0 === _i56 && (_i56 = 0);for (var n = 0; n < t.length; n++) {\n        t[n].y = e + n * _i56;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i57) {\n      void 0 === _i57 && (_i57 = 0);for (var n = 0; n < t.length; n++) {\n        t[n].z = e + n * _i57;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i58, n, r) {\n      void 0 === n && (n = 0), void 0 === r && (r = { x: 0, y: 0 });var s, a;if (t.length > 1) {\n        var o, h, u, c;if (0 === n) {\n          var l = t.length - 1;for (s = t[l].x, a = t[l].y, o = l - 1; o >= 0; o--) {\n            c = t[o], h = c.x, u = c.y, c.x = s, c.y = a, s = h, a = u;\n          }t[l].x = e, t[l].y = _i58;\n        } else {\n          for (s = t[0].x, a = t[0].y, o = 1; o < t.length; o++) {\n            c = t[o], h = c.x, u = c.y, c.x = s, c.y = a, s = h, a = u;\n          }t[0].x = e, t[0].y = _i58;\n        }\n      } else s = t[0].x, a = t[0].y, t[0].x = e, t[0].y = _i58;return r.x = s, r.y = a, r;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(126),\n        r = function r(t, e, i, _r3, s) {\n      void 0 === s && (s = !1);var a,\n          o = Math.abs(_r3 - i) / t.length;if (s) for (a = 0; a < t.length; a++) {\n        t[a][e] += n(a * o, i, _r3);\n      } else for (a = 0; a < t.length; a++) {\n        t[a][e] = n(a * o, i, _r3);\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(127),\n        r = function r(t, e, i, _r4, s) {\n      void 0 === s && (s = !1);var a,\n          o = Math.abs(_r4 - i) / t.length;if (s) for (a = 0; a < t.length; a++) {\n        t[a][e] += n(a * o, i, _r4);\n      } else for (a = 0; a < t.length; a++) {\n        t[a][e] = n(a * o, i, _r4);\n      }return t;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i59, n, r) {\n      void 0 === r && (r = !1);var s,\n          a = Math.abs(n - _i59) / t.length;if (r) for (s = 0; s < t.length; s++) {\n        t[s][e] += s * a;\n      } else for (s = 0; s < t.length; s++) {\n        t[s][e] = s * a;\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = 0; e < t.length; e++) {\n        t[e].visible = !t[e].visible;\n      }return t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { GenerateTexture: i(128), Grid: i(320), Palettes: i(321) };\n  }, function (t, e) {}, function (t, e, i) {\n    t.exports = { ARNE16: i(129), C64: i(322), CGA: i(323), JMP: i(324), MSX: i(325) };\n  }, function (t, e) {\n    t.exports = { 0: "#000", 1: "#fff", 2: "#8b4131", 3: "#7bbdc5", 4: "#8b41ac", 5: "#6aac41", 6: "#3931a4", 7: "#d5de73", 8: "#945a20", 9: "#5a4100", A: "#bd736a", B: "#525252", C: "#838383", D: "#acee8b", E: "#7b73de", F: "#acacac" };\n  }, function (t, e) {\n    t.exports = { 0: "#000", 1: "#2234d1", 2: "#0c7e45", 3: "#44aacc", 4: "#8a3622", 5: "#5c2e78", 6: "#aa5c3d", 7: "#b5b5b5", 8: "#5e606e", 9: "#4c81fb", A: "#6cd947", B: "#7be2f9", C: "#eb8a60", D: "#e23d69", E: "#ffd93f", F: "#fff" };\n  }, function (t, e) {\n    t.exports = { 0: "#000", 1: "#191028", 2: "#46af45", 3: "#a1d685", 4: "#453e78", 5: "#7664fe", 6: "#833129", 7: "#9ec2e8", 8: "#dc534b", 9: "#e18d79", A: "#d6b97b", B: "#e9d8a1", C: "#216c4b", D: "#d365c8", E: "#afaab9", F: "#f5f4eb" };\n  }, function (t, e) {\n    t.exports = { 0: "#000", 1: "#191028", 2: "#46af45", 3: "#a1d685", 4: "#453e78", 5: "#7664fe", 6: "#833129", 7: "#9ec2e8", 8: "#dc534b", 9: "#e18d79", A: "#d6b97b", B: "#e9d8a1", C: "#216c4b", D: "#d365c8", E: "#afaab9", F: "#fff" };\n  }, function (t, e, i) {\n    t.exports = { AddEventListener: i(327), AddToDOM: i(130), CanvasInterpolation: i(68), CanvasPool: i(11), DOMContentLoaded: i(131), ParseXML: i(132), RemoveEventListener: i(329), RemoveFromDOM: i(330), RequestAnimationFrame: i(133), Smoothing: i(67), TouchAction: i(331), UserSelect: i(332) };\n  }, function (t, e) {\n    var i = function i(t, e, _i60, n) {\n      void 0 === n && (n = !1), t.addEventListener(e, _i60, n);\n    };t.exports = i;\n  }, function (t, e) {\n    function i() {\n      throw new Error("setTimeout has not been defined");\n    }function n() {\n      throw new Error("clearTimeout has not been defined");\n    }function r(t) {\n      if (c === setTimeout) return setTimeout(t, 0);if ((c === i || !c) && setTimeout) return c = setTimeout, setTimeout(t, 0);try {\n        return c(t, 0);\n      } catch (e) {\n        try {\n          return c.call(null, t, 0);\n        } catch (e) {\n          return c.call(this, t, 0);\n        }\n      }\n    }function s(t) {\n      if (l === clearTimeout) return clearTimeout(t);if ((l === n || !l) && clearTimeout) return l = clearTimeout, clearTimeout(t);try {\n        return l(t);\n      } catch (e) {\n        try {\n          return l.call(null, t);\n        } catch (e) {\n          return l.call(this, t);\n        }\n      }\n    }function a() {\n      v && d && (v = !1, d.length ? p = d.concat(p) : g = -1, p.length && o());\n    }function o() {\n      if (!v) {\n        var t = r(a);v = !0;for (var e = p.length; e;) {\n          for (d = p, p = []; ++g < e;) {\n            d && d[g].run();\n          }g = -1, e = p.length;\n        }d = null, v = !1, s(t);\n      }\n    }function h(t, e) {\n      this.fun = t, this.array = e;\n    }function u() {}var c,\n        l,\n        f = t.exports = {};!function () {\n      try {\n        c = "function" == typeof setTimeout ? setTimeout : i;\n      } catch (t) {\n        c = i;\n      }try {\n        l = "function" == typeof clearTimeout ? clearTimeout : n;\n      } catch (t) {\n        l = n;\n      }\n    }();var d,\n        p = [],\n        v = !1,\n        g = -1;f.nextTick = function (t) {\n      var e = new Array(arguments.length - 1);if (arguments.length > 1) for (var i = 1; i < arguments.length; i++) {\n        e[i - 1] = arguments[i];\n      }p.push(new h(t, e)), 1 !== p.length || v || r(o);\n    }, h.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, f.title = "browser", f.browser = !0, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = u, f.addListener = u, f.once = u, f.off = u, f.removeListener = u, f.removeAllListeners = u, f.emit = u, f.prependListener = u, f.prependOnceListener = u, f.listeners = function (t) {\n      return [];\n    }, f.binding = function (t) {\n      throw new Error("process.binding is not supported");\n    }, f.cwd = function () {\n      return "/";\n    }, f.chdir = function (t) {\n      throw new Error("process.chdir is not supported");\n    }, f.umask = function () {\n      return 0;\n    };\n  }, function (t, e) {\n    var i = function i(t, e, _i61) {\n      t.removeEventListener(e, _i61);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      t.parentNode && t.parentNode.removeChild(t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = "none"), t.style.msTouchAction = e, t.style["ms-touch-action"] = e, t.style["touch-action"] = e, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = "none"), ["-webkit-", "-khtml-", "-moz-", "-ms-", ""].forEach(function (i) {\n        t.style[i + "user-select"] = e;\n      }), t.style["-webkit-touch-callout"] = e, t.style["-webkit-tap-highlight-color"] = "rgba(0, 0, 0, 0)", t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(334),\n        s = i(381),\n        a = i(383),\n        o = i(25),\n        h = i(130),\n        u = i(131),\n        c = i(29),\n        l = i(390),\n        f = i(391),\n        d = i(428),\n        p = i(168),\n        v = i(458),\n        g = i(463),\n        x = i(481),\n        m = i(780),\n        y = i(794),\n        w = new n({ initialize: function initialize(t) {\n        this.config = new r(t), this.renderer = null, this.canvas = null, this.context = null, this.isBooted = !1, this.isRunning = !1, this.events = new c(), this.anims = new f(this), this.textures = new m(this), this.cache = new v(this), this.registry = new p(this), this.input = new g(this, this.config), this.scene = new x(this, this.config.sceneConfig), this.device = a, this.loop = new y(this, this.config.fps), this.onStepCallback = o, u(this.boot.bind(this)), window.game = this;\n      }, boot: function boot() {\n        this.isBooted = !0, this.config.preBoot(), s(this), d(this), h(this.canvas, this.config.parent), this.anims.boot(this.textures), this.scene.boot(), this.input.boot(), this.isRunning = !0, this.config.postBoot(), this.loop.start(this.step.bind(this)), l(this.events), this.events.on("HIDDEN", this.onHidden.bind(this)), this.events.on("VISIBLE", this.onVisible.bind(this)), this.events.on("ON_BLUR", this.onBlur.bind(this)), this.events.on("ON_FOCUS", this.onFocus.bind(this));\n      }, step: function step(t, e) {\n        var i = this.scene.active,\n            n = this.renderer;this.input.update(t, e), this.onStepCallback();for (var r = 0; r < i.length; r++) {\n          i[r].scene.sys.step(t, e);\n        }for (n.preRender(), r = 0; r < i.length; r++) {\n          i[r].scene.sys.render(0, n);\n        }n.postRender();\n      }, onHidden: function onHidden() {\n        this.loop.pause();\n      }, onVisible: function onVisible() {\n        this.loop.resume();\n      }, onBlur: function onBlur() {\n        this.loop.blur();\n      }, onFocus: function onFocus() {\n        this.loop.focus();\n      } });t.exports = w;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(4),\n        s = i(2),\n        a = i(69),\n        o = i(25),\n        h = i(52),\n        u = new n({ initialize: function initialize(t) {\n        void 0 === t && (t = {});var e = ["#ff0000", "#ffff00", "#00ff00", "#00ffff", "#000000"];this.width = s(t, "width", 1024), this.height = s(t, "height", 768), this.zoom = s(t, "zoom", 1), this.resolution = s(t, "resolution", 1), this.renderType = s(t, "type", r.AUTO), this.parent = s(t, "parent", null), this.canvas = s(t, "canvas", null), this.canvasStyle = s(t, "canvasStyle", null), this.sceneConfig = s(t, "scene", null), this.seed = s(t, "seed", [(Date.now() * Math.random()).toString()]), a.RND.init(this.seed), this.gameTitle = s(t, "title", ""), this.gameURL = s(t, "url", "http://phaser.io"), this.gameVersion = s(t, "version", ""), this.inputKeyboard = s(t, "input.keyboard", !0), this.inputKeyboardEventTarget = s(t, "input.keyboard.target", window), this.inputMouse = s(t, "input.mouse", !0), this.inputMouseEventTarget = s(t, "input.mouse.target", null), this.inputTouch = s(t, "input.touch", !0), this.inputTouchEventTarget = s(t, "input.touch.target", null), this.disableContextMenu = s(t, "disableContextMenu", !1), this.hideBanner = !1 === s(t, "banner", null), this.hidePhaser = s(t, "banner.hidePhaser", !1), this.bannerTextColor = s(t, "banner.text", "#ffffff"), this.bannerBackgroundColor = s(t, "banner.background", e), this.fps = s(t, "fps", null), this.pixelArt = s(t, "pixelArt", !1), this.transparent = s(t, "transparent", !1), this.clearBeforeRender = s(t, "clearBeforeRender", !0), this.backgroundColor = h(s(t, "backgroundColor", 0)), this.preserveDrawingBuffer = h(s(t, "preserveDrawingBuffer", !1)), this.preBoot = s(t, "callbacks.preBoot", o), this.postBoot = s(t, "callbacks.postBoot", o), this.useTicker = s(t, "useTicker", !1), this.physics = s(t, "physics", {}), this.defaultPhysicsSystem = s(this.physics, "default", !1);var i = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage = s(t, "images.default", i + "AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="), this.missingImage = s(t, "images.missing", i + "CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==");\n      } });t.exports = u;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.c = 1, this.s0 = 0, this.s1 = 0, this.s2 = 0, this.sign = [-1, 1], t && this.init(t);\n      }, rnd: function rnd() {\n        var t = 2091639 * this.s0 + 2.3283064365386963e-10 * this.c;return this.c = 0 | t, this.s0 = this.s1, this.s1 = this.s2, this.s2 = t - this.c, this.s2;\n      }, hash: function hash(t) {\n        var e,\n            i = 4022871197;t = t.toString();for (var n = 0; n < t.length; n++) {\n          i += t.charCodeAt(n), e = .02519603282416938 * i, i = e >>> 0, e -= i, e *= i, i = e >>> 0, e -= i, i += 4294967296 * e;\n        }return 2.3283064365386963e-10 * (i >>> 0);\n      }, init: function init(t) {\n        "string" == typeof t ? this.state(t) : this.sow(t);\n      }, sow: function sow(t) {\n        if (this.s0 = this.hash(" "), this.s1 = this.hash(this.s0), this.s2 = this.hash(this.s1), this.c = 1, t) for (var e = 0; e < t.length && null != t[e]; e++) {\n          var i = t[e];this.s0 -= this.hash(i), this.s0 += ~~(this.s0 < 0), this.s1 -= this.hash(i), this.s1 += ~~(this.s1 < 0), this.s2 -= this.hash(i), this.s2 += ~~(this.s2 < 0);\n        }\n      }, integer: function integer() {\n        return 4294967296 * this.rnd();\n      }, frac: function frac() {\n        return this.rnd() + 1.1102230246251565e-16 * (2097152 * this.rnd() | 0);\n      }, real: function real() {\n        return this.integer() + this.frac();\n      }, integerInRange: function integerInRange(t, e) {\n        return Math.floor(this.realInRange(0, e - t + 1) + t);\n      }, between: function between(t, e) {\n        return this.integerInRange(t, e);\n      }, realInRange: function realInRange(t, e) {\n        return this.frac() * (e - t) + t;\n      }, normal: function normal() {\n        return 1 - 2 * this.frac();\n      }, uuid: function uuid() {\n        var t = "",\n            e = "";for (e = t = ""; t++ < 36; e += ~t % 5 | 3 * t & 4 ? (15 ^ t ? 8 ^ this.frac() * (20 ^ t ? 16 : 4) : 4).toString(16) : "-") {}return e;\n      }, pick: function pick(t) {\n        return t[this.integerInRange(0, t.length - 1)];\n      }, sign: function sign() {\n        return this.pick(this.sign);\n      }, weightedPick: function weightedPick(t) {\n        return t[~~(Math.pow(this.frac(), 2) * (t.length - 1) + .5)];\n      }, timestamp: function timestamp(t, e) {\n        return this.realInRange(t || 9466848e5, e || 1577862e6);\n      }, angle: function angle() {\n        return this.integerInRange(-180, 180);\n      }, rotation: function rotation() {\n        return this.realInRange(-3.141592653589793, 3.141592653589793);\n      }, state: function state(t) {\n        return "string" == typeof t && t.match(/^!rnd/) && (t = t.split(","), this.c = parseFloat(t[1]), this.s0 = parseFloat(t[2]), this.s1 = parseFloat(t[3]), this.s2 = parseFloat(t[4])), ["!rnd", this.c, this.s0, this.s1, this.s2].join(",");\n      } });t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { Between: i(337), BetweenY: i(338), BetweenPoints: i(339), BetweenPointsY: i(340), Reverse: i(341), RotateTo: i(342), ShortestBetween: i(343), Normalize: i(134), Wrap: i(115), WrapDegrees: i(116) };\n  }, function (t, e) {\n    var i = function i(t, e, _i62, n) {\n      return Math.atan2(n - e, _i62 - t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i63, n) {\n      return Math.atan2(_i63 - t, n - e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.atan2(e.y - t.y, e.x - t.x);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.atan2(e.x - t.x, e.y - t.y);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(134),\n        r = function r(t) {\n      return n(t + Math.PI);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = function r(t, e, i) {\n      return void 0 === i && (i = .05), t === e ? t : (Math.abs(e - t) <= i || Math.abs(e - t) >= n.PI2 - i ? t = e : (Math.abs(e - t) > Math.PI && (e < t ? e += n.PI2 : e -= n.PI2), e > t ? t += i : e < t && (t -= i)), t);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = e - t;return 0 === i ? 0 : i - 360 * Math.floor((i - -180) / 360);\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { Between: i(51), Power: i(345), Squared: i(346) };\n  }, function (t, e) {\n    var i = function i(t, e, _i64, n, r) {\n      return void 0 === r && (r = 2), Math.sqrt(Math.pow(_i64 - t, r) + Math.pow(n - e, r));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i65, n) {\n      var r = t - _i65,\n          s = e - n;return r * r + s * s;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { Back: i(135), Bounce: i(136), Circular: i(137), Cubic: i(138), Elastic: i(139), Expo: i(140), Linear: i(141), Quadratic: i(142), Quartic: i(143), Quintic: i(144), Sine: i(145) };\n  }, function (t, e, i) {\n    t.exports = { Ceil: i(349), Equal: i(350), Floor: i(351), GreaterThan: i(352), LessThan: i(353) };\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = 1e-4), Math.ceil(t - e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i66) {\n      return void 0 === _i66 && (_i66 = 1e-4), Math.abs(t - e) < _i66;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i67) {\n      return void 0 === _i67 && (_i67 = 1e-4), Math.floor(value + _i67);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i68) {\n      return void 0 === _i68 && (_i68 = 1e-4), t > e - _i68;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i69) {\n      return void 0 === _i69 && (_i69 = 1e-4), t < e + _i69;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { Bezier: i(355), CatmullRom: i(356), Linear: i(149) };\n  }, function (t, e, i) {\n    var n = i(146),\n        r = function r(t, e) {\n      for (var i = 0, r = t.length - 1, s = 0; s <= r; s++) {\n        i += Math.pow(1 - e, r - s) * Math.pow(e, s) * t[s] * n(r, s);\n      }return i;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(148),\n        r = function r(t, e) {\n      var i = t.length - 1,\n          r = i * e,\n          s = Math.floor(r);return t[0] === t[i] ? (e < 0 && (s = Math.floor(r = i * (1 + e))), n(t[(s - 1 + i) % i], t[s], t[(s + 1) % i], t[(s + 2) % i], r - s)) : e < 0 ? t[0] - (n(t[0], t[0], t[1], t[1], -r) - t[0]) : e > 1 ? t[i] - (n(t[i], t[i], t[i - 1], t[i - 1], r - i) - t[i]) : n(t[s ? s - 1 : 0], t[s], t[i < s + 1 ? i : s + 1], t[i < s + 2 ? i : s + 2], r - s);\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { GetNext: i(151), IsSize: i(70), IsValue: i(358) };\n  }, function (t, e) {\n    var i = function i(t) {\n      return t > 0 && 0 == (t & t - 1);\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { Ceil: i(360), Floor: i(361), To: i(362) };\n  }, function (t, e) {\n    var i = function i(t, e, _i70) {\n      return void 0 === _i70 && (_i70 = 0), 0 === e ? t : (t -= _i70, t = e * Math.ceil(t / e), _i70 + t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i71) {\n      return void 0 === _i71 && (_i71 = 0), 0 === e ? t : (t -= _i71, t = e * Math.floor(t / e), _i71 + t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i72) {\n      return void 0 === _i72 && (_i72 = 0), 0 === e ? t : (t -= _i72, t = e * Math.round(t / e), _i72 + t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = 0, i = 0; i < t.length; i++) {\n        e += +t[i];\n      }return e / t.length;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i73) {\n      void 0 === e && (e = 0), void 0 === _i73 && (_i73 = 10);var n = Math.pow(_i73, -e);return Math.ceil(t * n) / n;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = function r(t) {\n      return t * n.DEG_TO_RAD;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.abs(t - e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.random() * (e - t) + t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i74) {\n      void 0 === e && (e = 0), void 0 === _i74 && (_i74 = 10);var n = Math.pow(_i74, -e);return Math.floor(t * n) / n;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t / e / 1e3;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t == parseFloat(t) ? !(t % 2) : void 0;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t === parseFloat(t) ? !(t % 2) : void 0;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i75) {\n      return Math.min(t + e, _i75);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i76) {\n      return Math.max(t - e, _i76);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i77) {\n      return void 0 === _i77 && (_i77 = 0), t > e || _i77 > e ? 1 : t < _i77 || _i77 > t ? 0 : (t - _i77) / e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = function r(t) {\n      return t * n.RAD_TO_DEG;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = t.x,\n          n = t.y;return t.x = i * Math.cos(e) - n * Math.sin(e), t.y = i * Math.sin(e) + n * Math.cos(e), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i78, n) {\n      var r = Math.cos(n),\n          s = Math.sin(n),\n          a = t.x - e,\n          o = t.y - _i78;return t.x = a * r - o * s + e, t.y = a * s + o * r + _i78, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i79) {\n      void 0 === e && (e = 0), void 0 === _i79 && (_i79 = 10);var n = Math.pow(_i79, -e);return Math.round(t * n) / n;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i80, n) {\n      void 0 === e && (e = 1), void 0 === _i80 && (_i80 = 1), void 0 === n && (n = 1), n *= Math.PI / t;for (var r = [], s = [], a = 0; a < t; a++) {\n        _i80 -= e * n, e += _i80 * n, r[a] = _i80, s[a] = e;\n      }return { sin: s, cos: r, length: t };\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i81) {\n      return Math.abs(t - e) <= _i81;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(4),\n        r = i(382),\n        s = function s(t) {\n      var e = t.config;if (!e.hideBanner) {\n        var i = e.renderType === n.CANVAS ? "Canvas" : "WebGL",\n            s = "",\n            a = [s];if (Array.isArray(e.bannerBackgroundColor)) {\n          var o;e.bannerBackgroundColor.forEach(function (t) {\n            s = s.concat("%c "), a.push("background: " + t), o = t;\n          }), a[a.length - 1] = "color: " + e.bannerTextColor + "; background: " + o;\n        } else s = s.concat("%c "), a.push("color: " + e.bannerTextColor + "; background: " + e.bannerBackgroundColor);a.push("background: #fff"), e.gameTitle && (s = s.concat(e.gameTitle), e.gameVersion && (s = s.concat(" v" + e.gameVersion)), e.hidePhaser || (s = s.concat(" / "))), e.hidePhaser || (s = s.concat("Phaser v" + n.VERSION + " (" + i + ")")), s = s.concat(" %c " + e.gameURL), a[0] = s, console.log.apply(console, a), console.log(r.build);\n      }\n    };t.exports = s;\n  }, function (t, e) {\n    var i = { build: "5654e6c0-8f80-11e7-a2a6-35baf0c6709d" };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(44),\n        r = i(53),\n        s = i(158),\n        a = i(384),\n        o = i(385),\n        h = i(386),\n        u = i(387),\n        c = i(159);t.exports = { OS: n, Browser: r, Features: s, Input: a, Audio: o, Video: h, Fullscreen: u, CanvasFeatures: c };\n  }, function (t, e, i) {\n    var n = i(44),\n        r = i(53),\n        s = { touch: !1, mspointer: !1, wheelEvent: null };t.exports = function () {\n      return ("ontouchstart" in document.documentElement || window.navigator.maxTouchPoints && window.navigator.maxTouchPoints >= 1) && (s.touch = !0), (window.navigator.msPointerEnabled || window.navigator.pointerEnabled) && (s.mspointer = !0), n.cocoonJS || ("onwheel" in window || r.ie && "WheelEvent" in window ? s.wheelEvent = "wheel" : "onmousewheel" in window ? s.wheelEvent = "mousewheel" : r.firefox && "MouseScrollEvent" in window && (s.wheelEvent = "DOMMouseScroll")), s;\n    }();\n  }, function (t, e, i) {\n    var n = i(53),\n        r = { audioData: !1, webAudio: !1, ogg: !1, opus: !1, mp3: !1, wav: !1, m4a: !1, webm: !1, dolby: !1 };t.exports = function () {\n      r.audioData = !!window.Audio, r.webAudio = !(!window.AudioContext && !window.webkitAudioContext);var t = document.createElement("audio"),\n          e = !!t.canPlayType;try {\n        if (e && (t.canPlayType(\'audio/ogg; codecs="vorbis"\').replace(/^no$/, "") && (r.ogg = !0), (t.canPlayType(\'audio/ogg; codecs="opus"\').replace(/^no$/, "") || t.canPlayType("audio/opus;").replace(/^no$/, "")) && (r.opus = !0), t.canPlayType("audio/mpeg;").replace(/^no$/, "") && (r.mp3 = !0), t.canPlayType(\'audio/wav; codecs="1"\').replace(/^no$/, "") && (r.wav = !0), (t.canPlayType("audio/x-m4a;") || t.canPlayType("audio/aac;").replace(/^no$/, "")) && (r.m4a = !0), t.canPlayType(\'audio/webm; codecs="vorbis"\').replace(/^no$/, "") && (r.webm = !0), "" !== t.canPlayType(\'audio/mp4;codecs="ec-3"\'))) if (n.edge) r.dolby = !0;else if (n.safari && n.safariVersion >= 9 && /Mac OS X (\\d+)_(\\d+)/.test(navigator.userAgent)) {\n          var i = parseInt(RegExp.$1, 10),\n              s = parseInt(RegExp.$2, 10);(10 === i && s >= 11 || i > 10) && (r.dolby = !0);\n        }\n      } catch (t) {}return r;\n    }();\n  }, function (t, e) {\n    var i = { oggVideo: !1, h264Video: !1, mp4Video: !1, webmVideo: !1, vp9Video: !1, hlsVideo: !1 };t.exports = function () {\n      var t = document.createElement("video"),\n          e = !!t.canPlayType;try {\n        e && (t.canPlayType(\'video/ogg; codecs="theora"\').replace(/^no$/, "") && (i.oggVideo = !0), t.canPlayType(\'video/mp4; codecs="avc1.42E01E"\').replace(/^no$/, "") && (i.h264Video = !0, i.mp4Video = !0), t.canPlayType(\'video/webm; codecs="vp8, vorbis"\').replace(/^no$/, "") && (i.webmVideo = !0), t.canPlayType(\'video/webm; codecs="vp9"\').replace(/^no$/, "") && (i.vp9Video = !0), t.canPlayType(\'application/x-mpegURL; codecs="avc1.42E01E"\').replace(/^no$/, "") && (i.hlsVideo = !0));\n      } catch (t) {}return i;\n    }();\n  }, function (t, e) {\n    var i = { available: !1, request: "", cancel: "", keyboard: !1 };t.exports = function () {\n      var t,\n          e = ["requestFullscreen", "requestFullScreen", "webkitRequestFullscreen", "webkitRequestFullScreen", "msRequestFullscreen", "msRequestFullScreen", "mozRequestFullScreen", "mozRequestFullscreen"],\n          n = document.createElement("div");for (t = 0; t < e.length; t++) {\n        if (n[e[t]]) {\n          i.available = !0, i.request = e[t];break;\n        }\n      }var r = ["cancelFullScreen", "exitFullscreen", "webkitCancelFullScreen", "webkitExitFullscreen", "msCancelFullScreen", "msExitFullscreen", "mozCancelFullScreen", "mozExitFullscreen"];if (i.available) for (t = 0; t < r.length; t++) {\n        if (document[r[t]]) {\n          i.cancel = r[t];break;\n        }\n      }return window.Element && Element.ALLOW_KEYBOARD_INPUT && (i.keyboard = !0), i;\n    }();\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(160),\n        s = i(389),\n        a = new n({ initialize: function initialize(t, e) {\n        this.dispatcher = t, this.type = e, this.state = r.DISPATCHER_IDLE, this.active = [];\n      }, total: function total() {\n        for (var t = 0, e = 0; e < this.active.length; e++) {\n          this.active[e].state !== r.LISTENER_REMOVING && t++;\n        }return t;\n      }, get: function get(t) {\n        for (var e = 0; e < this.active.length; e++) {\n          if (this.active[e].callback === t) return this.active[e];\n        }\n      }, getIndex: function getIndex(t) {\n        for (var e = 0; e < this.active.length; e++) {\n          if (this.active[e].callback === t) return e;\n        }return null;\n      }, has: function has(t) {\n        return this.get(t);\n      }, add: function add(t, e, i) {\n        var n = this.get(t);n || (n = s(this.type, t, e, i), this.state === r.DISPATCHER_IDLE ? (n.state = r.LISTENER_ACTIVE, this.active.push(n), this.active.sort(this.sortHandler)) : this.state === r.DISPATCHER_DISPATCHING && this.active.push(n));\n      }, sortHandler: function sortHandler(t, e) {\n        return e.priority < t.priority ? -1 : e.priority > t.priority ? 1 : 0;\n      }, remove: function remove(t) {\n        if (this.state === r.DISPATCHER_IDLE) {\n          var e = this.getIndex(t);null !== e && this.active.splice(e, 1);\n        } else if (this.state === r.DISPATCHER_DISPATCHING) {\n          var i = this.get(t);i && (i.state = r.LISTENER_REMOVING);\n        }\n      }, dispatch: function dispatch(t) {\n        if (this.state !== r.DISPATCHER_IDLE) throw new Error("Error: Failed to execute \'EventDispatcher.dispatch\' on \'" + this.type + "\': The event is already being dispatched.");if (0 !== this.active.length) {\n          this.state = r.DISPATCHER_DISPATCHING;for (var e, i = 0; i < this.active.length; i++) {\n            if (e = this.active[i], e.state === r.LISTENER_ACTIVE) {\n              if (e.callback.call(this.dispatcher, t), this.state !== r.DISPATCHER_DISPATCHING) break;if (e.once && (e.state = r.LISTENER_REMOVING), !t._propagate) break;\n            }\n          }this.state === r.DISPATCHER_REMOVING ? (this.removeAll(), this.tidy()) : this.state === r.DISPATCHER_DESTROYED ? this.dispatcher.delete(this.type) : (this.tidy(), this.state = r.DISPATCHER_IDLE);\n        }\n      }, removeAll: function removeAll() {\n        if (this.state === r.DISPATCHER_IDLE) this.active.length = 0;else {\n          for (var t = this.active.length - 1; t >= 0; t--) {\n            this.active[t].state !== r.LISTENER_PENDING && this.active.pop();\n          }this.state = r.DISPATCHER_IDLE;\n        }\n      }, tidy: function tidy() {\n        if (0 !== this.active.length) {\n          var t = 0,\n              e = this.active.length - 1;do {\n            this.active[e].state === r.LISTENER_REMOVING ? this.active.splice(e, 1) : this.active[e].state === r.LISTENER_PENDING && (this.active[e].state, r.LISTENER_ACTIVE, t++), e--;\n          } while (e >= 0);t > 0 && this.active.sort(this.sortHandler);\n        }\n      }, destroy: function destroy() {\n        this.active.length = 0, this.dispatcher = void 0, this.type = "", this.state = r.DISPATCHER_DESTROYED;\n      } });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(160),\n        r = function r(t, e, i, _r5) {\n      return { type: t, callback: e, priority: i, once: _r5, state: n.LISTENER_PENDING };\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(1),\n        r = function r(t) {\n      var e;if (void 0 !== document.hidden) e = "visibilitychange";else {\n        ["webkit", "moz", "ms"].forEach(function (t) {\n          void 0 !== document[t + "Hidden"] && (document.hidden = function () {\n            return document[t + "Hidden"];\n          }, e = t + "visibilitychange");\n        });\n      }var i = function i(e) {\n        document.hidden || "pause" === e.type ? t.dispatch(new n("HIDDEN")) : t.dispatch(new n("VISIBLE"));\n      };e ? document.addEventListener(e, i, !1) : console.log("Fallback TODO"), window.onblur = function () {\n        t.dispatch(new n("ON_BLUR"));\n      }, window.onfocus = function () {\n        t.dispatch(new n("ON_FOCUS"));\n      };\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(392),\n        s = i(29),\n        a = i(163),\n        o = new n({ initialize: function initialize(t) {\n        this.game = t, this.textureManager = null, this.events = new s(), this.globalTimeScale = 1, this.anims = new a(), this.paused = !1;\n      }, boot: function boot(t) {\n        this.textureManager = t;\n      }, add: r.AddAnimation, create: r.CreateFrameAnimation, fromJSON: r.FromJSON, generateFrameNames: r.GenerateFrameNames, generateFrameNumbers: r.GenerateFrameNumbers, get: r.GetAnimation, load: r.LoadAnimationToGameObject, play: r.PlayAnimation, pauseAll: r.PauseAll, remove: r.RemoveAnimation, resumeAll: r.ResumeAll, staggerPlay: r.StaggerPlayAnimation, toJSON: r.ToJSON, destroy: function destroy() {} });t.exports = o;\n  }, function (t, e, i) {\n    t.exports = { AddAnimation: i(393), CreateFrameAnimation: i(398), FromJSON: i(417), GenerateFrameNames: i(418), GenerateFrameNumbers: i(419), GetAnimation: i(420), LoadAnimationToGameObject: i(421), PlayAnimation: i(422), PauseAll: i(423), ResumeAll: i(424), RemoveAnimation: i(425), StaggerPlayAnimation: i(426), ToJSON: i(427) };\n  }, function (t, e, i) {\n    var n = i(45),\n        r = function r(t, e) {\n      return this.anims.has(t) ? void console.error("Animation with key", t, "already exists") : (e.key = t, this.anims.set(t, e), this.events.dispatch(new n.ADD_ANIMATION_EVENT(t, e)), this);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "ADD_ANIMATION_EVENT"), this.key = t, this.animation = e;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize() {\n        r.call(this, "PAUSE_ALL_ANIMATION_EVENT");\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "REMOVE_ANIMATION_EVENT"), this.key = t, this.animation = e;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize() {\n        r.call(this, "RESUME_ALL_ANIMATION_EVENT");\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(45),\n        r = i(399),\n        s = function s(t) {\n      var e = t.key;if (!e || this.anims.has(e)) return void console.warn("Invalid Animation Key, or Key already in use: " + e);var i = new r(this, e, t);return this.anims.set(e, i), this.events.dispatch(new n.ADD_ANIMATION_EVENT(e, i)), i;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(2),\n        s = i(161),\n        a = new n({ initialize: function initialize(t, e, i) {\n        this.manager = t, this.key = e, this.type = "frame", this.frames = s(t.textureManager, r(i, "frames", [])), this.frameRate = r(i, "frameRate", null), this.duration = r(i, "duration", null), null === this.duration && null === this.frameRate ? (this.frameRate = 24, this.duration = this.frameRate / this.frames.length) : this.duration && null === this.frameRate ? this.frameRate = this.frames.length / this.duration : this.duration = this.frames.length / this.frameRate, this.msPerFrame = 1e3 / this.frameRate, this.skipMissedFrames = r(i, "skipMissedFrames", !0), this.delay = r(i, "delay", 0), this.repeat = r(i, "repeat", 0), this.repeatDelay = r(i, "repeatDelay", 0), this.yoyo = r(i, "yoyo", !1), this.showOnStart = r(i, "showOnStart", !1), this.hideOnComplete = r(i, "hideOnComplete", !1), this.callbackScope = r(i, "callbackScope", this), this.onStart = r(i, "onStart", !1), this.onStartParams = r(i, "onStartParams", []), this.onRepeat = r(i, "onRepeat", !1), this.onRepeatParams = r(i, "onRepeatParams", []), this.onUpdate = r(i, "onUpdate", !1), this.onUpdateParams = r(i, "onUpdateParams", []), this.onComplete = r(i, "onComplete", !1), this.onCompleteParams = r(i, "onCompleteParams", []), this.paused = !1, this.manager.events.on("PAUSE_ALL_ANIMATION_EVENT", this.pause.bind(this)), this.manager.events.on("RESUME_ALL_ANIMATION_EVENT", this.resume.bind(this));\n      }, addFrame: i(401), addFrameAt: i(402), checkFrame: i(403), completeAnimation: i(404), getFirstTick: i(405), getFrameAt: i(406), getNextTick: i(407), load: i(408), nextFrame: i(409), previousFrame: i(410), removeFrame: i(411), removeFrameAt: i(412), repeatAnimation: i(413), setFrame: i(414), toJSON: i(415), updateFrameSequence: i(416), pause: function pause() {\n        this.paused = !0;\n      }, resume: function resume() {\n        this.paused = !1;\n      }, destroy: function destroy() {} });t.exports = a;\n  }, function (t, e) {\n    var i = function i(t, e, _i82, n) {\n      this.textureKey = t, this.textureFrame = e, this.index = _i82, this.frame = n, this.isFirst = !1, this.isLast = !1, this.prevFrame = null, this.nextFrame = null, this.duration = 0, this.progress = 0, this.onUpdate = null, this.setVisible = !1, this.visible = !1;\n    };i.prototype.constructor = i, i.prototype = { toJSON: function toJSON() {\n        return { key: this.textureKey, frame: this.textureFrame, duration: this.duration, visible: this.visible };\n      }, destroy: function destroy() {\n        this.frame = void 0, this.onUpdate = void 0;\n      } }, t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.addFrameAt(this.frames.length, t);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(161),\n        r = function r(t, e) {\n      void 0 === t && (t = 0);var i = n(this.manager.textureManager, e);if (i.length > 0) {\n        if (0 === t) this.frames = i.concat(this.frames);else if (t === this.frames.length) this.frames = this.frames.concat(i);else {\n          var r = this.frames.slice(0, t),\n              s = this.frames.slice(t);this.frames = r.concat(i, s);\n        }this.updateFrameSequence();\n      }return this;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t < this.frames.length;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      this.hideOnComplete && (t.parent.visible = !1), t.stop(!0);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      void 0 === e && (e = !0), t.accumulator = 0, t.nextTick = t.msPerFrame + t.currentFrame.duration, e && (t.nextTick += 1e3 * t._delay);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.frames[t];\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      t.accumulator -= t.nextTick, t.nextTick = t.msPerFrame + t.currentFrame.duration;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      e >= this.frames.length && (e = 0), t.currentAnim !== this && (t.currentAnim = this, t._timeScale = 1, t.frameRate = this.frameRate, t.duration = this.duration, t.msPerFrame = this.msPerFrame, t.skipMissedFrames = this.skipMissedFrames, t._delay = this.delay, t._repeat = this.repeat, t._repeatDelay = this.repeatDelay, t._yoyo = this.yoyo, t._callbackArgs[1] = this, t._updateParams = t._callbackArgs.concat(this.onUpdateParams)), t.updateFrame(this.frames[e]);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.currentFrame;e.isLast ? this.yoyo ? (t.forward = !1, t.updateFrame(e.prevFrame), this.getNextTick(t)) : t.repeatCounter > 0 ? this.repeatAnimation(t) : this.completeAnimation(t) : (t.updateFrame(e.nextFrame), this.getNextTick(t));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.currentFrame;e.isFirst ? t.repeatCounter > 0 ? this.repeatAnimation(t) : this.completeAnimation(t) : (t.updateFrame(e.prevFrame), this.getNextTick(t));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.frames.indexOf(t);return -1 !== e && this.removeFrameAt(e), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.frames.splice(t, 1), this.updateFrameSequence(), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      t._repeatDelay > 0 && !1 === t.pendingRepeat ? (t.pendingRepeat = !0, t.accumulator -= t.nextTick, t.nextTick += 1e3 * t._repeatDelay) : (t.repeatCounter--, t.forward = !0, t.updateFrame(t.currentFrame.nextFrame), this.getNextTick(t), t.pendingRepeat = !1, this.onRepeat && this.onRepeat.apply(this.callbackScope, t._callbackArgs.concat(this.onRepeatParams)));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      t.forward ? this.nextFrame(t) : this.previousFrame(t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      var t = { key: this.key, type: this.type, frames: [], frameRate: this.frameRate, duration: this.duration, skipMissedFrames: this.skipMissedFrames, delay: this.delay, repeat: this.repeat, repeatDelay: this.repeatDelay, yoyo: this.yoyo, showOnStart: this.showOnStart, hideOnComplete: this.hideOnComplete };return this.frames.forEach(function (e) {\n        t.frames.push(e.toJSON());\n      }), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      for (var t = this.frames.length, e = 1 / (t - 1), i = 0; i < t; i++) {\n        var n = this.frames[i];n.index = i + 1, n.isFirst = !1, n.isLast = !1, n.progress = i * e, 0 === i ? (n.isFirst = !0, n.isLast = 1 === t, n.prevFrame = this.frames[t - 1], n.nextFrame = this.frames[i + 1]) : i === t - 1 ? (n.isLast = !0, n.prevFrame = this.frames[t - 2], n.nextFrame = this.frames[0]) : t > 1 && (n.prevFrame = this.frames[i - 1], n.nextFrame = this.frames[i + 1]);\n      }return this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      void 0 === e && (e = !1), e && this.anims.clear(), "string" == typeof t && (t = JSON.parse(t));var i = [];if (t.hasOwnProperty("anims") && Array.isArray(t.anims)) {\n        for (var n = 0; n < t.anims.length; n++) {\n          i.push(this.create(t.anims[n]));\n        }t.hasOwnProperty("globalTimeScale") && (this.globalTimeScale = t.globalTimeScale);\n      } else t.hasOwnProperty("key") && "frame" === t.type && i.push(this.create(t));return i;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(2),\n        r = i(162),\n        s = function s(t, e) {\n      var i = n(e, "prefix", ""),\n          s = n(e, "start", 0),\n          a = n(e, "end", 0),\n          o = n(e, "suffix", ""),\n          h = n(e, "zeroPad", 0),\n          u = n(e, "outputArray", []),\n          c = n(e, "frames", !1),\n          l = this.textureManager.get(t);if (!l) return u;var f = s < a ? 1 : -1;a += f;var d, p;if (Array.isArray(c)) for (d = 0; d < c.length; d++) {\n        p = i + r(c[d], h, "0", 1) + o, l.has(p) && u.push({ key: t, frame: p });\n      } else for (d = s; d !== a; d += f) {\n        p = i + r(d, h, "0", 1) + o, l.has(p) && u.push({ key: t, frame: p });\n      }return u;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(2),\n        r = function r(t, e) {\n      var i = n(e, "start", 0),\n          r = n(e, "end", -1),\n          s = n(e, "first", !1),\n          a = n(e, "outputArray", []),\n          o = n(e, "frames", !1),\n          h = this.textureManager.get(t);if (!h) return a;s && h.has(s) && a.push({ key: t, frame: s });var u;if (Array.isArray(o)) for (u = 0; u < o.length; u++) {\n        h.has(o[u]) && a.push({ key: t, frame: o[u] });\n      } else for (-1 === r && (r = h.frameTotal), u = i; u <= r; u++) {\n        h.has(u) && a.push({ key: t, frame: u });\n      }return a;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.anims.get(t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i83) {\n      var n = this.get(e);return n && n.load(t, _i83), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (Array.isArray(e) || (e = [e]), this.get(t)) {\n        for (var i = 0; i < e.length; i++) {\n          e[i].anims.play(t);\n        }return this;\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(45),\n        r = function r() {\n      return this.paused || (this.paused = !0, this.events.dispatch(new n.PAUSE_ALL_ANIMATION_EVENT())), this;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(45),\n        r = function r() {\n      return this.paused && (this.paused = !1, this.events.dispatch(new n.RESUME_ALL_ANIMATION_EVENT())), this;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(45),\n        r = function r(t) {\n      var e = this.get(t);return e && (this.events.dispatch(new n.REMOVE_ANIMATION_EVENT(t, e)), this.anims.delete(t)), e;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i84) {\n      if (void 0 === _i84 && (_i84 = 0), Array.isArray(e) || (e = [e]), this.get(t)) {\n        for (var n = 0; n < e.length; n++) {\n          e[n].anims.delayedPlay(_i84 * n, t);\n        }return this;\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      if (void 0 !== t && "" !== t) return this.anims.get(t).toJSON();var e = { anims: [], globalTimeScale: this.globalTimeScale };return this.anims.each(function (t, i) {\n        e.anims.push(i.toJSON());\n      }), e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(4),\n        r = i(11),\n        s = i(158),\n        a = i(429),\n        o = i(434),\n        h = i(68),\n        u = function u(t) {\n      var e = t.config;if (e.renderType === n.CANVAS || e.renderType !== n.CANVAS && !s.webGL) {\n        if (!s.canvas) throw new Error("Cannot create Canvas or WebGL context, aborting.");e.renderType = n.CANVAS;\n      } else e.renderType = n.WEBGL;e.pixelArt && r.disableSmoothing(), e.canvas ? t.canvas = e.canvas : t.canvas = r.create(t, e.width, e.height, e.renderType), e.canvasStyle && (t.canvas.style = e.canvasStyle), e.pixelArt && h.setCrisp(t.canvas), 1 !== e.zoom && (t.canvas.style.width = (e.width * e.zoom).toString() + "px", t.canvas.style.height = (e.height * e.zoom).toString() + "px"), e.renderType === n.WEBGL ? (t.renderer = new o(t), t.context = null) : (t.renderer = new a(t), t.context = t.renderer.gameContext, t.canvas.id = "game");\n    };t.exports = u;\n  }, function (t, e, i) {\n    var n = i(430),\n        r = i(431),\n        s = i(0),\n        a = i(4),\n        o = i(432),\n        h = i(433),\n        u = i(164),\n        c = i(26),\n        l = i(67),\n        f = new s({ initialize: function initialize(t) {\n        this.game = t, this.type = a.CANVAS, this.drawCount = 0, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.resolution = t.config.resolution, this.scaleMode = t.config.pixelArt ? c.NEAREST : c.LINEAR, this.gameCanvas = t.canvas, this.gameContext = u(this.gameCanvas), this.gameConfig = t.config, this.currentContext = this.gameContext, this.drawImage = o, this.blitImage = n, this.blendModes = h(), this.currentAlpha = 1, this.currentBlendMode = 0, this.currentScaleMode = 0, this.init();\n      }, init: function init() {\n        this.resize(this.width, this.height);\n      }, resize: function resize(t, e) {\n        var i = this.game.config.resolution;this.width = t * i, this.height = e * i, this.gameCanvas.width = this.width, this.gameCanvas.height = this.height, this.autoResize && (this.gameCanvas.style.width = this.width / i + "px", this.gameCanvas.style.height = this.height / i + "px"), this.scaleMode === c.NEAREST && l.disable(this.gameContext);\n      }, resetTransform: function resetTransform() {\n        this.currentContext.setTransform(1, 0, 0, 1, 0, 0);\n      }, setBlendMode: function setBlendMode(t) {\n        return this.currentBlendMode !== t && (this.currentContext.globalCompositeOperation = t, this.currentBlendMode = t), this.currentBlendMode;\n      }, setAlpha: function setAlpha(t) {\n        return this.currentAlpha !== t && (this.currentContext.globalAlpha = t, this.currentAlpha = t), this.currentAlpha;\n      }, preRender: function preRender() {\n        var t = this.gameContext,\n            e = this.gameConfig,\n            i = this.width,\n            n = this.height;e.clearBeforeRender && t.clearRect(0, 0, i, n), e.transparent || (t.fillStyle = e.backgroundColor.rgba, t.fillRect(0, 0, i, n)), this.drawCount = 0;\n      }, render: function render(t, e, i, n) {\n        var r = t.sys.context,\n            s = (t.sys.settings, 0 !== n.x || 0 !== n.y || n.width !== r.canvas.width || n.height !== r.canvas.height),\n            a = e.list;this.currentContext = r, n.transparent || (r.fillStyle = n.backgroundColor.rgba, r.fillRect(0, 0, n.width, n.height)), 1 !== this.currentAlpha && (r.globalAlpha = 1, this.currentAlpha = 1), 0 !== this.currentBlendMode && (r.globalCompositeOperation = "source-over", this.currentBlendMode = 0), this.currentScaleMode = 0, this.drawCount += a.length, s && (r.save(), r.beginPath(), r.rect(n.x, n.y, n.width, n.height), r.clip(), r.closePath());var o = n.matrix.matrix;r.setTransform(o[0], o[1], o[2], o[3], o[4], o[5]);for (var h = 0; h < a.length; h++) {\n          var u = a[h];u.renderCanvas(this, u, i, n);\n        }t.render.call(t, r, i), r.setTransform(1, 0, 0, 1, 0, 0), (n._fadeAlpha > 0 || n._flashAlpha > 0) && (r.fillStyle = "rgb(" + 255 * n._fadeRed + "," + 255 * n._fadeGreen + "," + 255 * n._fadeBlue + ")", r.globalAlpha = n._fadeAlpha, r.fillRect(n.x, n.y, n.width, n.height), r.fillStyle = "rgb(" + 255 * n._flashRed + "," + 255 * n._flashGreen + "," + 255 * n._flashBlue + ")", r.globalAlpha = n._flashAlpha, r.fillRect(n.x, n.y, n.width, n.height), r.globalAlpha = 1), s && r.restore();\n      }, postRender: function postRender() {\n        var t = this.gameContext;t.globalAlpha = 1, t.globalCompositeOperation = "source-over", this.currentAlpha = 1, this.currentBlendMode = 0, this.snapshotCallback && (this.snapshotCallback(r(this.gameCanvas)), this.snapshotCallback = null);\n      }, snapshot: function snapshot(t) {\n        this.snapshotCallback = t;\n      }, destroy: function destroy() {\n        this.gameCanvas = null, this.gameContext = null;\n      } });t.exports = f;\n  }, function (t, e) {\n    var i = function i(t, e, _i85, n) {\n      var r = this.currentContext,\n          s = _i85.canvasData;r.drawImage(_i85.source.image, s.sx, s.sy, s.sWidth, s.sHeight, t - n.scrollX, e - n.scrollY, s.dWidth, s.dHeight);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.toDataURL(),\n          i = new Image();return i.src = e, i;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = this.currentContext,\n          n = t.frame,\n          r = n.canvasData;this.currentBlendMode !== t.blendMode && (this.currentBlendMode = t.blendMode, i.globalCompositeOperation = this.blendModes[t.blendMode]), this.currentAlpha !== t.alpha && (this.currentAlpha = t.alpha, i.globalAlpha = t.alpha), this.currentScaleMode !== t.scaleMode && (this.currentScaleMode = t.scaleMode);var s = n.x,\n          a = n.y,\n          o = 1,\n          h = 1;t.flipX ? (o = -1, s -= r.dWidth - t.displayOriginX) : s -= t.displayOriginX, t.flipY ? (h = -1, a -= r.dHeight - t.displayOriginY) : a -= t.displayOriginY, i.save(), i.translate(t.x - e.scrollX * t.scrollFactorX, t.y - e.scrollY * t.scrollFactorY), i.rotate(t.rotation), i.scale(t.scaleX, t.scaleY), i.scale(o, h), i.drawImage(n.source.image, r.sx, r.sy, r.sWidth, r.sHeight, s, a, r.dWidth, r.dHeight), i.restore();\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(31),\n        r = i(159),\n        s = function s() {\n      var t = [],\n          e = r.supportNewBlendModes;return t[n.NORMAL] = "source-over", t[n.ADD] = "lighter", t[n.MULTIPLY] = e ? "multiply" : "source-over", t[n.SCREEN] = e ? "screen" : "source-over", t[n.OVERLAY] = e ? "overlay" : "source-over", t[n.DARKEN] = e ? "darken" : "source-over", t[n.LIGHTEN] = e ? "lighten" : "source-over", t[n.COLOR_DODGE] = e ? "color-dodge" : "source-over", t[n.COLOR_BURN] = e ? "color-burn" : "source-over", t[n.HARD_LIGHT] = e ? "hard-light" : "source-over", t[n.SOFT_LIGHT] = e ? "soft-light" : "source-over", t[n.DIFFERENCE] = e ? "difference" : "source-over", t[n.EXCLUSION] = e ? "exclusion" : "source-over", t[n.HUE] = e ? "hue" : "source-over", t[n.SATURATION] = e ? "saturation" : "source-over", t[n.COLOR] = e ? "color" : "source-over", t[n.LUMINOSITY] = e ? "luminosity" : "source-over", t;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(31),\n        r = i(435),\n        s = i(0),\n        a = i(4),\n        o = i(438),\n        h = i(70),\n        u = i(440),\n        c = i(443),\n        l = i(165),\n        f = i(26),\n        d = i(448),\n        p = i(451),\n        v = i(453),\n        g = i(455),\n        x = i(457),\n        m = new s({ initialize: function initialize(t) {\n        this.game = t, this.type = a.WEBGL, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.resolution = t.config.resolution, this.view = t.canvas, this.config = { clearBeforeRender: !0, transparent: !1, autoResize: !1, preserveDrawingBuffer: !1, WebGLContextOptions: { alpha: !0, antialias: !0, premultipliedAlpha: !0, stencil: !0, preserveDrawingBuffer: !1 } }, this.contextLost = !1, this.maxTextures = 1, this.multiTexture = !1, this.blendModes = [], this.gl = null, this.extensions = null, this.extensionList = {}, this.rendererArray = [], this.blitterBatch = null, this.aaQuadBatch = null, this.spriteBatch = null, this.shapeBatch = null, this.effectRenderer = null, this.currentRenderer = null, this.currentTexture = [], this.shaderCache = {}, this.currentShader = null, this.resourceManager = null, this.currentRenderTarget = null, this.snapshotCallback = null, this.scissor = { enabled: !1, x: 0, y: 0, width: 0, height: 0 }, this.init();\n      }, init: function init() {\n        if (this.gl = this.view.getContext("webgl", this.config.WebGLContextOptions) || this.view.getContext("experimental-webgl", this.config.WebGLContextOptions), !this.gl) throw this.contextLost = !0, new Error("This browser does not support WebGL. Try using the Canvas renderer.");var t = this.gl,\n            e = this.game.config.backgroundColor;this.resourceManager = new c(t), t.disable(t.DEPTH_TEST), t.disable(t.CULL_FACE), t.enable(t.BLEND), t.clearColor(e.redGL, e.greenGL, e.blueGL, e.alphaGL), this.blendModes = [];for (var i = 0; i <= 16; i++) {\n          this.blendModes.push({ func: [t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA], equation: t.FUNC_ADD });\n        }this.blendModes[1].func = [t.SRC_ALPHA, t.DST_ALPHA], this.blendModes[2].func = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA], this.blendModes[3].func = [t.SRC_ALPHA, t.ONE], this.blendMode = -1, this.extensions = t.getSupportedExtensions(), this.blitterBatch = this.addRenderer(new r(this.game, t, this)), this.quadBatch = this.addRenderer(new u(this.game, t, this)), this.spriteBatch = this.addRenderer(new p(this.game, t, this)), this.shapeBatch = this.addRenderer(new d(this.game, t, this)), this.effectRenderer = this.addRenderer(new o(this.game, t, this)), this.tileBatch = this.addRenderer(new v(this.game, t, this)), this.tilemapRenderer = this.addRenderer(new g(this.game, t, this)), this.currentRenderer = this.spriteBatch, this.currentVertexBuffer = null, this.setBlendMode(0), this.resize(this.width, this.height);\n      }, addBlendMode: function addBlendMode(t, e) {\n        return this.blendModes.push({ func: t, equation: e }) - 1;\n      }, updateBlendMode: function updateBlendMode(t, e, i) {\n        return this.blendModes[t] && (this.blendModes[t].func = e, i && (this.blendModes[t].equation = i)), this;\n      }, removeBlendMode: function removeBlendMode(t) {\n        return t > 16 && this.blendModes[t] && this.blendModes.splice(t, 1), this;\n      }, getExtension: function getExtension(t) {\n        return t in this.extensionList || (this.extensionList[t] = this.gl.getExtension(t)), this.extensionList[t];\n      }, createTexture: function createTexture(t, e, i) {\n        e = t ? t.width : e, i = t ? t.height : i;var n = this.gl,\n            r = n.NEAREST,\n            s = h(e, i) ? n.REPEAT : n.CLAMP_TO_EDGE;t.glTexture || (t.scaleMode === f.LINEAR ? r = n.LINEAR : (t.scaleMode === f.NEAREST || this.game.config.pixelArt) && (r = n.NEAREST), t.glTexture = t || "number" != typeof e || "number" != typeof i ? this.resourceManager.createTexture(0, r, r, s, s, n.RGBA, t.image) : this.resourceManager.createTexture(0, r, r, s, s, n.RGBA, null, e, i)), this.currentTexture[0] = null;\n      }, setTexture: function setTexture(t, e) {\n        if (e = e || 0, this.currentTexture[e] !== t) {\n          var i = this.gl;this.currentRenderer.flush(), i.activeTexture(i.TEXTURE0 + e), null !== t ? i.bindTexture(i.TEXTURE_2D, t.texture) : i.bindTexture(i.TEXTURE_2D, null), this.currentTexture[e] = t;\n        }\n      }, setRenderer: function setRenderer(t, e, i) {\n        this.setTexture(e), this.setRenderTarget(i), (this.currentRenderer !== t || this.currentRenderer.shouldFlush()) && (this.currentRenderer.flush(), this.currentRenderer = t);\n      }, setRenderTarget: function setRenderTarget(t) {\n        var e = this.gl;this.currentRenderTarget !== t && (this.currentRenderer.flush(), null !== t ? (e.bindFramebuffer(e.FRAMEBUFFER, t.framebufferObject), t.shouldClear && (e.clearColor(0, 0, 0, t.clearAlpha), e.clear(e.COLOR_BUFFER_BIT), t.shouldClear = !1)) : (e.bindFramebuffer(e.FRAMEBUFFER, null), e.viewport(0, 0, this.width, this.height)), this.currentRenderTarget = t);\n      }, resize: function resize(t, e) {\n        var i = this.game.config.resolution;this.width = t * i, this.height = e * i, this.view.width = this.width, this.view.height = this.height, this.autoResize && (this.view.style.width = this.width / i + "px", this.view.style.height = this.height / i + "px"), this.gl.viewport(0, 0, this.width, this.height);for (var n = 0, r = this.rendererArray.length; n < r; ++n) {\n          this.rendererArray[n].bind(), this.rendererArray[n].resize(t, e, i);\n        }this.currentRenderer.bind();\n      }, preRender: function preRender() {\n        if (this.setRenderTarget(null), !this.contextLost) {\n          var t = this.gl,\n              e = this.game.config.backgroundColor;t.clearColor(e.redGL, e.greenGL, e.blueGL, e.alphaGL), t.clear(t.COLOR_BUFFER_BIT | t.DEPTH_BUFFER_BIT | t.STENCIL_BUFFER_BIT), this.setBlendMode(n.NORMAL);\n        }\n      }, render: function render(t, e, i, n) {\n        var r = this.gl,\n            s = this.quadBatch;if (this.scissor.enabled = 0 !== n.x || 0 !== n.y || n.width !== r.canvas.width || n.height !== r.canvas.height, this.setRenderTarget(null), this.scissor.enabled && (r.enable(r.SCISSOR_TEST), this.scissor.x = n.x, this.scissor.y = r.drawingBufferHeight - n.y - n.height, this.scissor.width = n.width, this.scissor.height = n.height, r.scissor(this.scissor.x, this.scissor.y, this.scissor.width, this.scissor.height)), n.backgroundColor.alphaGL > 0) {\n          var a = n.backgroundColor;s.bind(), s.add(n.x, n.y, n.width, n.height, a.redGL, a.greenGL, a.blueGL, a.alphaGL), s.flush(), this.currentRenderer.bind();\n        }for (var o = e.list, h = o.length, u = 0; u < h; ++u) {\n          var c = o[u],\n              l = this.currentRenderer,\n              f = c.blendMode;if (this.blendMode !== f) {\n            l && l.flush();var d = this.blendModes[f].func;r.enable(r.BLEND), r.blendEquation(this.blendModes[f].equation), d.length > 2 ? r.blendFuncSeparate(d[0], d[1], d[2], d[3]) : r.blendFunc(d[0], d[1]), this.blendMode = f;\n          }c.renderWebGL(this, c, i, n), l = this.currentRenderer, (l.isFull() || l.shouldFlush()) && l.flush();\n        }this.currentRenderer.flush(), (n._fadeAlpha > 0 || n._flashAlpha > 0) && (this.setRenderTarget(null), s.bind(), s.add(n.x, n.y, n.width, n.height, n._fadeRed, n._fadeGreen, n._fadeBlue, n._fadeAlpha), s.add(n.x, n.y, n.width, n.height, n._flashRed, n._flashGreen, n._flashBlue, n._flashAlpha), s.flush(), this.currentRenderer.bind()), this.scissor.enabled && r.disable(r.SCISSOR_TEST);\n      }, postRender: function postRender() {\n        this.currentRenderer.flush(), this.snapshotCallback && (this.snapshotCallback(x(this.view)), this.snapshotCallback = null);\n      }, snapshot: function snapshot(t) {\n        this.snapshotCallback = t;\n      }, createFBO: function createFBO() {}, setBlendMode: function setBlendMode(t) {\n        var e = this.gl,\n            i = this.currentRenderer;if (this.blendMode !== t) {\n          i && i.flush();var n = this.blendModes[t].func;e.enable(e.BLEND), e.blendEquation(this.blendModes[t].equation), n.length > 2 ? e.blendFuncSeparate(n[0], n[1], n[2], n[3]) : e.blendFunc(n[0], n[1]), this.blendMode = t;\n        }\n      }, addRenderer: function addRenderer(t) {\n        return this.rendererArray.indexOf(t) < 0 ? (this.rendererArray.push(t), t) : null;\n      }, setTextureFilterMode: function setTextureFilterMode(t, e) {\n        var i = this.gl,\n            n = [i.LINEAR, i.NEAREST][e];return i.bindTexture(i.TEXTURE_2D, t.texture), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MIN_FILTER, n), i.texParameteri(i.TEXTURE_2D, i.TEXTURE_MAG_FILTER, n), null !== this.currentTexture[0] ? i.bindTexture(i.TEXTURE_2D, this.currentTexture[0].texture) : i.bindTexture(i.TEXTURE_2D, null), t;\n      }, uploadCanvasToGPU: function uploadCanvasToGPU(t, e, i) {\n        var n = this.gl;return e || (e = new l.Texture(null, 0, 0), e.texture = n.createTexture()), e != this.currentTexture[0] && this.currentRenderer.flush(), n.activeTexture(n.TEXTURE0), i ? (n.bindTexture(n.TEXTURE_2D, e.texture), n.texImage2D(n.TEXTURE_2D, 0, n.RGBA, n.RGBA, n.UNSIGNED_BYTE, t), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, n.LINEAR), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MAG_FILTER, n.LINEAR), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, n.CLAMP_TO_EDGE), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, n.CLAMP_TO_EDGE), e.width = t.width, e.height = t.height) : (n.bindTexture(n.TEXTURE_2D, e.texture), n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, n.RGBA, n.UNSIGNED_BYTE, t)), this.currentTexture.length > 0 && e != this.currentTexture[0] && null !== this.currentTexture[0] && n.bindTexture(n.TEXTURE_2D, this.currentTexture[0].texture), e;\n      }, destroy: function destroy() {\n        this.gl = null;\n      } });t.exports = m;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(436),\n        s = i(37),\n        a = i(30),\n        o = i(4),\n        h = i(437),\n        u = new n({ initialize: function initialize(t, e, i) {\n        this.game = t, this.type = o.WEBGL, this.view = t.canvas, this.resolution = t.config.resolution, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.glContext = e, this.maxParticles = null, this.shader = null, this.vertexBufferObject = null, this.indexBufferObject = null, this.vertexDataBuffer = null, this.indexDataBuffer = null, this.elementCount = 0, this.currentTexture2D = null, this.viewMatrixLocation = null, this.config = { clearBeforeRender: !0, transparent: !1, autoResize: !1, preserveDrawingBuffer: !1, WebGLContextOptions: { alpha: !0, antialias: !0, premultipliedAlpha: !0, stencil: !0, preserveDrawingBuffer: !1 } }, this.manager = i, this.dirty = !1, this.init(this.glContext);\n      }, init: function init(t) {\n        var e = new a(r.VERTEX_SIZE * r.PARTICLE_VERTEX_COUNT * r.MAX_PARTICLES),\n            i = new s(r.INDEX_SIZE * r.PARTICLE_INDEX_COUNT * r.MAX_PARTICLES),\n            n = this.manager.resourceManager.createShader("TexturedAndAlphaShader", h),\n            o = this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER, i.getByteCapacity(), t.STATIC_DRAW),\n            u = this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER, e.getByteCapacity(), t.STREAM_DRAW),\n            c = n.getUniformLocation("u_view_matrix"),\n            l = i.uintView,\n            f = r.MAX_PARTICLES * r.PARTICLE_INDEX_COUNT;u.addAttribute(n.getAttribLocation("a_position"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 0), u.addAttribute(n.getAttribLocation("a_tex_coord"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 8), u.addAttribute(n.getAttribLocation("a_alpha"), 1, t.FLOAT, !1, r.VERTEX_SIZE, 16), this.vertexDataBuffer = e, this.indexDataBuffer = i, this.shader = n, this.indexBufferObject = o, this.vertexBufferObject = u, this.viewMatrixLocation = c, this.maxParticles = f;for (var d = 0, p = 0; d < f; d += r.PARTICLE_INDEX_COUNT, p += r.PARTICLE_VERTEX_COUNT) {\n          l[d + 0] = p + 0, l[d + 1] = p + 1, l[d + 2] = p + 2, l[d + 3] = p + 0, l[d + 4] = p + 2, l[d + 5] = p + 3;\n        }o.updateResource(l, 0), this.resize(this.width, this.height, this.game.config.resolution);\n      }, shouldFlush: function shouldFlush() {\n        return !1;\n      }, isFull: function isFull() {\n        return this.vertexDataBuffer.getByteLength() >= this.vertexDataBuffer.getByteCapacity();\n      }, bind: function bind(t) {\n        void 0 === t ? this.shader.bind() : (t.bind(), this.resize(this.width, this.height, this.game.config.resolution, t)), this.indexBufferObject.bind(), this.vertexBufferObject.bind();\n      }, flush: function flush(t) {\n        var e = this.glContext,\n            i = this.vertexDataBuffer;0 !== this.elementCount && (this.bind(t), this.vertexBufferObject.updateResource(i.getUsedBufferAsFloat(), 0), e.drawElements(e.TRIANGLES, this.elementCount, e.UNSIGNED_SHORT, 0), i.clear(), this.elementCount = 0);\n      }, resize: function resize(t, e, i, n) {\n        var r = void 0 !== n ? n : this.shader;this.width = t * i, this.height = e * i, r.setConstantMatrix4x4(this.viewMatrixLocation, new Float32Array([2 / this.width, 0, 0, 0, 0, -2 / this.height, 0, 0, 0, 0, 1, 1, -1, 1, 0, 0]));\n      }, destroy: function destroy() {\n        this.manager.resourceManager.deleteShader(this.shader), this.manager.resourceManager.deleteBuffer(this.indexBufferObject), this.manager.resourceManager.deleteBuffer(this.vertexBufferObject), this.shader = null, this.indexBufferObject = null, this.vertexBufferObject = null;\n      } });t.exports = u;\n  }, function (t, e) {\n    var i = { VERTEX_SIZE: 20, INDEX_SIZE: 2, PARTICLE_VERTEX_COUNT: 4, PARTICLE_INDEX_COUNT: 6, PARTICLE_VERTEX_COMPONENT_COUNT: 5, MAX_PARTICLES: 2e3 };t.exports = i;\n  }, function (t, e) {\n    t.exports = { vert: ["uniform mat4 u_view_matrix;", "attribute vec2 a_position;", "attribute vec2 a_tex_coord;", "attribute float a_alpha;", "varying vec2 v_tex_coord;", "varying float v_alpha;", "void main () {", "   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);", "   v_tex_coord = a_tex_coord;", "   v_alpha = a_alpha;", "}"].join("\\n"), frag: ["precision mediump float;", "uniform sampler2D u_sampler2D;", "varying vec2 v_tex_coord;", "varying float v_alpha;", "void main() {", "   gl_FragColor = texture2D(u_sampler2D, v_tex_coord) * vec4(1.0, 1.0, 1.0, v_alpha);", "}"].join("\\n") };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(439),\n        s = i(37),\n        a = i(30),\n        o = i(4),\n        h = i(38),\n        u = i(14),\n        c = new n({ initialize: function initialize(t, e, i) {\n        this.game = t, this.type = o.WEBGL, this.view = t.canvas, this.resolution = t.config.resolution, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.glContext = e, this.maxSprites = null, this.shader = null, this.vertexBufferObject = null, this.indexBufferObject = null, this.vertexDataBuffer = null, this.indexDataBuffer = null, this.elementCount = 0, this.currentTexture2D = null, this.viewMatrixLocation = null, this.tempMatrix = new u(), this.config = { clearBeforeRender: !0, transparent: !1, autoResize: !1, preserveDrawingBuffer: !1, WebGLContextOptions: { alpha: !0, antialias: !0, premultipliedAlpha: !0, stencil: !0, preserveDrawingBuffer: !1 } }, this.manager = i, this.dirty = !1, this.init(this.glContext);\n      }, init: function init(t) {\n        var e = new a(r.VERTEX_SIZE * r.QUAD_VERTEX_COUNT * r.MAX_QUADS),\n            i = new s(r.INDEX_SIZE * r.QUAD_INDEX_COUNT * r.MAX_QUADS),\n            n = this.manager.resourceManager.createShader("TexturedAndNormalizedTintedShader", h),\n            o = this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER, i.getByteCapacity(), t.STATIC_DRAW),\n            u = this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER, e.getByteCapacity(), t.STREAM_DRAW),\n            c = n.getUniformLocation("u_view_matrix"),\n            l = i.uintView,\n            f = r.MAX_QUADS * r.QUAD_INDEX_COUNT;this.vertexDataBuffer = e, this.indexDataBuffer = i, this.shader = n, this.indexBufferObject = o, this.vertexBufferObject = u, this.viewMatrixLocation = c, u.addAttribute(n.getAttribLocation("a_position"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 0), u.addAttribute(n.getAttribLocation("a_tex_coord"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 8), u.addAttribute(n.getAttribLocation("a_color"), 3, t.UNSIGNED_BYTE, !0, r.VERTEX_SIZE, 16), u.addAttribute(n.getAttribLocation("a_alpha"), 1, t.FLOAT, !1, r.VERTEX_SIZE, 20);for (var d = 0, p = 0; d < f; d += r.QUAD_INDEX_COUNT, p += r.QUAD_VERTEX_COUNT) {\n          l[d + 0] = p + 0, l[d + 1] = p + 1, l[d + 2] = p + 2, l[d + 3] = p + 0, l[d + 4] = p + 2, l[d + 5] = p + 3;\n        }o.updateResource(l, 0), this.resize(this.width, this.height, this.game.config.resolution);\n      }, shouldFlush: function shouldFlush() {\n        return !1;\n      }, isFull: function isFull() {\n        return this.vertexDataBuffer.getByteLength() >= this.vertexDataBuffer.getByteCapacity();\n      }, bind: function bind(t) {\n        void 0 === t ? this.shader.bind() : (t.bind(), this.resize(this.width, this.height, this.game.config.resolution, t)), this.indexBufferObject.bind(), this.vertexBufferObject.bind();\n      }, flush: function flush(t) {\n        var e = this.glContext,\n            i = this.vertexDataBuffer;0 !== this.elementCount && (this.bind(t), this.vertexBufferObject.updateResource(i.getUsedBufferAsFloat(), 0), e.drawElements(e.TRIANGLES, this.elementCount, e.UNSIGNED_SHORT, 0), i.clear(), this.elementCount = 0);\n      }, resize: function resize(t, e, i, n) {\n        var r = void 0 !== n ? n : this.shader;this.width = t * i, this.height = e * i, r.setConstantMatrix4x4(r.getUniformLocation("u_view_matrix"), new Float32Array([2 / this.width, 0, 0, 0, 0, -2 / this.height, 0, 0, 0, 0, 1, 1, -1, 1, 0, 0]));\n      }, renderEffect: function renderEffect(t, e, i, n, r) {\n        var s,\n            a,\n            o,\n            h,\n            u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w,\n            E,\n            T,\n            b,\n            _,\n            A,\n            S,\n            R,\n            M,\n            O,\n            C,\n            L = this.tempMatrix,\n            F = this.vertexDataBuffer,\n            I = F.floatView,\n            D = F.uintView,\n            B = 0,\n            P = n * (t.flipX ? -1 : 1),\n            k = r * (t.flipY ? -1 : 1),\n            N = t.x - e.scrollX * t.scrollFactorX,\n            X = t.y - e.scrollY * t.scrollFactorY,\n            U = t.scaleX,\n            Y = t.scaleY,\n            V = -t.rotation,\n            z = L.matrix,\n            G = -t.displayOriginX + n * (t.flipX ? 1 : 0),\n            H = -t.displayOriginY + r * (t.flipY ? 1 : 0),\n            j = G + P,\n            W = H + k,\n            q = e.matrix.matrix,\n            K = t.alpha,\n            Z = t._tintTL,\n            J = t._tintTR,\n            Q = t._tintBL,\n            $ = t._tintBR;L.applyITRS(N, X, V, U, Y), y = z[0], w = z[1], E = z[2], T = z[3], b = z[4], _ = z[5], A = q[0], S = q[1], R = q[2], M = q[3], O = q[4], C = q[5], s = y * A + w * R, a = y * S + w * M, o = E * A + T * R, h = E * S + T * M, u = b * A + _ * R + O, c = b * S + _ * M + C, l = G * s + H * o + u, f = G * a + H * h + c, d = G * s + W * o + u, p = G * a + W * h + c, v = j * s + W * o + u, g = j * a + W * h + c, x = j * s + H * o + u, m = j * a + H * h + c, this.manager.setRenderer(this, i, t.renderTarget), B = F.allocate(24), this.elementCount += 6, I[B++] = l, I[B++] = f, I[B++] = 0, I[B++] = 0, D[B++] = Z, I[B++] = K, I[B++] = d, I[B++] = p, I[B++] = 0, I[B++] = 1, D[B++] = Q, I[B++] = K, I[B++] = v, I[B++] = g, I[B++] = 1, I[B++] = 1, D[B++] = $, I[B++] = K, I[B++] = x, I[B++] = m, I[B++] = 1, I[B++] = 0, D[B++] = J, I[B++] = K, this.flush(t.dstShader), t.dstRenderTarget.shouldClear = !0;\n      }, destroy: function destroy() {\n        this.manager.resourceManager.deleteShader(this.shader), this.manager.resourceManager.deleteBuffer(this.indexBufferObject), this.manager.resourceManager.deleteBuffer(this.vertexBufferObject), this.shader = null, this.indexBufferObject = null, this.vertexBufferObject = null;\n      } });t.exports = c;\n  }, function (t, e) {\n    var i = { VERTEX_SIZE: 24, INDEX_SIZE: 2, QUAD_VERTEX_COUNT: 4, QUAD_INDEX_COUNT: 6, QUAD_VERTEX_COMPONENT_COUNT: 6, MAX_QUADS: 2 };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(441),\n        s = i(37),\n        a = i(30),\n        o = i(4),\n        h = i(442),\n        u = new n({ initialize: function initialize(t, e, i) {\n        this.game = t, this.type = o.WEBGL, this.view = t.canvas, this.resolution = t.config.resolution, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.glContext = e, this.maxQuads = null, this.shader = null, this.vertexBufferObject = null, this.indexBufferObject = null, this.vertexDataBuffer = null, this.indexDataBuffer = null, this.elementCount = 0, this.viewMatrixLocation = null, this.config = { clearBeforeRender: !0, transparent: !1, autoResize: !1, preserveDrawingBuffer: !1, WebGLContextOptions: { alpha: !0, antialias: !0, premultipliedAlpha: !0, stencil: !0, preserveDrawingBuffer: !1 } }, this.manager = i, this.dirty = !1, this.init(this.glContext);\n      }, init: function init(t) {\n        var e = new a(r.VERTEX_SIZE * r.AAQUAD_VERTEX_COUNT * r.MAX_AAQUAD),\n            i = new s(r.INDEX_SIZE * r.AAQUAD_INDEX_COUNT * r.MAX_AAQUAD),\n            n = this.manager.resourceManager.createShader("UntexturedAndTintedShader", h),\n            o = this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER, i.getByteCapacity(), t.STATIC_DRAW),\n            u = this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER, e.getByteCapacity(), t.STREAM_DRAW),\n            c = n.getUniformLocation("u_view_matrix"),\n            l = i.uintView,\n            f = r.MAX_AAQUAD * r.AAQUAD_INDEX_COUNT;u.addAttribute(n.getAttribLocation("a_position"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 0), u.addAttribute(n.getAttribLocation("a_color"), 4, t.FLOAT, !1, r.VERTEX_SIZE, 8), this.vertexDataBuffer = e, this.indexDataBuffer = i, this.shader = n, this.indexBufferObject = o, this.vertexBufferObject = u, this.viewMatrixLocation = c;for (var d = 0, p = 0; d < f; d += r.AAQUAD_INDEX_COUNT, p += r.AAQUAD_VERTEX_COUNT) {\n          l[d + 0] = p + 0, l[d + 1] = p + 1, l[d + 2] = p + 2, l[d + 3] = p + 0, l[d + 4] = p + 2, l[d + 5] = p + 3;\n        }o.updateResource(l, 0), this.resize(this.width, this.height, this.game.config.resolution);\n      }, shouldFlush: function shouldFlush() {\n        return !1;\n      }, isFull: function isFull() {\n        return this.vertexDataBuffer.getByteLength() >= this.vertexDataBuffer.getByteCapacity();\n      }, add: function add(t, e, i, n, s, a, o, h) {\n        var u = this.vertexDataBuffer,\n            c = u.floatView,\n            l = u.allocate(r.AAQUAD_VERTEX_COMPONENT_COUNT * r.AAQUAD_VERTEX_COUNT);c[l++] = t, c[l++] = e, c[l++] = s, c[l++] = a, c[l++] = o, c[l++] = h, c[l++] = t, c[l++] = e + n, c[l++] = s, c[l++] = a, c[l++] = o, c[l++] = h, c[l++] = t + i, c[l++] = e + n, c[l++] = s, c[l++] = a, c[l++] = o, c[l++] = h, c[l++] = t + i, c[l++] = e, c[l++] = s, c[l++] = a, c[l++] = o, c[l++] = h, this.elementCount += r.AAQUAD_INDEX_COUNT;\n      }, bind: function bind(t) {\n        void 0 === t ? this.shader.bind() : (t.bind(), this.resize(this.width, this.height, this.game.config.resolution, t)), this.indexBufferObject.bind(), this.vertexBufferObject.bind();\n      }, flush: function flush(t) {\n        var e = this.glContext,\n            i = this.vertexDataBuffer;0 !== this.elementCount && (this.bind(t), this.vertexBufferObject.updateResource(i.getUsedBufferAsFloat(), 0), e.drawElements(e.TRIANGLES, this.elementCount, e.UNSIGNED_SHORT, 0), i.clear(), this.elementCount = 0);\n      }, resize: function resize(t, e, i, n) {\n        var r = void 0 !== n ? n : this.shader;this.width = t * i, this.height = e * i, r.setConstantMatrix4x4(this.viewMatrixLocation, new Float32Array([2 / this.width, 0, 0, 0, 0, -2 / this.height, 0, 0, 0, 0, 1, 1, -1, 1, 0, 0]));\n      }, destroy: function destroy() {\n        this.manager.resourceManager.deleteShader(this.shader), this.manager.resourceManager.deleteBuffer(this.indexBufferObject), this.manager.resourceManager.deleteBuffer(this.vertexBufferObject), this.shader = null, this.indexBufferObject = null, this.vertexBufferObject = null;\n      } });t.exports = u;\n  }, function (t, e) {\n    var i = { VERTEX_SIZE: 24, INDEX_SIZE: 2, AAQUAD_VERTEX_COUNT: 4, AAQUAD_INDEX_COUNT: 6, AAQUAD_VERTEX_COMPONENT_COUNT: 6, MAX_AAQUAD: 2e3 };t.exports = i;\n  }, function (t, e) {\n    t.exports = { vert: ["uniform mat4 u_view_matrix;", "attribute vec2 a_position;", "attribute vec4 a_color;", "varying vec4 v_color;", "void main () {", "   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);", "   v_color = a_color;", "}"].join("\\n"), frag: ["precision lowp float;", "varying vec4 v_color;", "void main() {", "   gl_FragColor = v_color;", "}"].join("\\n") };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(165),\n        s = new n({ initialize: function initialize(t) {\n        this.gl = t, this.shaderCache = {}, this.shaderCount = 0;\n      }, createRenderTarget: function createRenderTarget(t, e, i, n) {\n        var s = this.gl,\n            a = s.createFramebuffer(),\n            o = null,\n            h = null,\n            u = 0;if (s.bindFramebuffer(s.FRAMEBUFFER, a), void 0 !== n && null !== n ? (n.isRenderTexture = !0, s.framebufferTexture2D(s.FRAMEBUFFER, s.DEPTH_STENCIL_ATTACHMENT, s.TEXTURE_2D, n.texture, n.mipLevel)) : (o = s.createRenderbuffer(), s.bindRenderbuffer(s.RENDERBUFFER, o), s.renderbufferStorage(s.RENDERBUFFER, s.DEPTH_STENCIL, t, e), s.framebufferRenderbuffer(s.FRAMEBUFFER, s.DEPTH_STENCIL_ATTACHMENT, s.RENDERBUFFER, o)), void 0 !== i && null !== i ? (i.isRenderTexture = !0, s.framebufferTexture2D(s.FRAMEBUFFER, s.COLOR_ATTACHMENT0, s.TEXTURE_2D, i.texture, i.mipLevel)) : (h = s.createRenderbuffer(), s.bindRenderbuffer(s.RENDERBUFFER, h), s.renderbufferStorage(s.RENDERBUFFER, s.RGBA4, t, e), s.framebufferRenderbuffer(s.FRAMEBUFFER, s.COLOR_ATTACHMENT0, s.RENDERBUFFER, h)), (u = s.checkFramebufferStatus(s.FRAMEBUFFER)) !== s.FRAMEBUFFER_COMPLETE) {\n          var c = { 36054: "Incomplete Attachment", 36055: "Missing Attachment", 36057: "Incomplete Dimensions", 36061: "Framebuffer Unsupported" };throw new Error("Framebuffer incomplete. Framebuffer status: " + c[u]);\n        }return s.bindFramebuffer(s.FRAMEBUFFER, null), new r.RenderTarget(a, t, e, void 0 === i ? null : i, void 0 === n ? null : n);\n      }, createBuffer: function createBuffer(t, e, i) {\n        var n = this.gl,\n            s = n.createBuffer();switch (n.bindBuffer(t, s), n.bufferData(t, e, i), t) {case n.ARRAY_BUFFER:\n            return new r.VertexBuffer(n, s);case n.ELEMENT_ARRAY_BUFFER:\n            return new r.IndexBuffer(n, s);default:\n            throw new Error("Invalid Buffer Target");}\n      }, createTexture: function createTexture(t, e, i, n, s, a, o, h, u) {\n        var c = this.gl,\n            l = c.createTexture();return c.bindTexture(c.TEXTURE_2D, l), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MIN_FILTER, e), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MAG_FILTER, i), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_S, s), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_T, n), null === o || void 0 === o ? c.texImage2D(c.TEXTURE_2D, t, a, h, u, 0, a, c.UNSIGNED_BYTE, null) : (c.texImage2D(c.TEXTURE_2D, t, a, a, c.UNSIGNED_BYTE, o), h = o.width, u = o.height), c.bindTexture(c.TEXTURE_2D, null), new r.Texture(l, h, u);\n      }, createShader: function createShader(t, e) {\n        if (null !== t && void 0 !== t || (t += "Shader" + this.shaderCount, this.shaderCount += 1), t in this.shaderCache) return this.shaderCache[t];var i,\n            n,\n            s,\n            a,\n            o,\n            h,\n            u = this.gl;if (n = u.createShader(u.VERTEX_SHADER), u.shaderSource(n, e.vert), u.compileShader(n), a = u.getShaderParameter(n, u.COMPILE_STATUS), o = u.getShaderInfoLog(n), !a && o && o.length > 0) throw new Error("Vertex Shader Compilation Error. Shader name: " + t + ".\\n" + o + "\\n\\n Shader source:\\n" + e.vert);if (o && o.length > 10 && console.warn("Vertex Shader Compilation Warning. Shader name: " + t + ".\\n" + o + "\\n\\n Shader source:\\n" + e.vert), s = u.createShader(u.FRAGMENT_SHADER), u.shaderSource(s, e.frag), u.compileShader(s), a = u.getShaderParameter(s, u.COMPILE_STATUS), o = u.getShaderInfoLog(s), !a && o && o.length > 0) throw new Error("Fragment Shader Compilation Error. Shader name: " + t + ".\\n" + o + "\\n\\n Shader source:\\n" + e.frag);if (o && o.length > 10 && console.warn("Fragment Shader Compilation Warning. Shader name: " + t + ".\\n" + o + "\\n\\n Shader source:\\n" + e.frag), i = u.createProgram(), u.attachShader(i, n), u.attachShader(i, s), u.linkProgram(i), u.validateProgram(i), a = u.getProgramParameter(i, u.LINK_STATUS), o = u.getProgramInfoLog(i), !a && o && o.length > 0) throw new Error("Program Linking Error. Shader name: " + t + ".\\n" + o);if (o && o.length > 10 && console.warn("Program Linking Warning. Shader name: " + t + ".\\n" + o), a = u.getProgramParameter(i, u.VALIDATE_STATUS), o = u.getProgramInfoLog(i), !a && o && o.length > 0) throw new Error("Program Validation Error. Shader name: " + t + ".\\n" + o);return o && o.length > 10 && console.warn("Program Validation Warning. Shader name: " + t + ".\\n" + o), h = new r.Shader(t, u, i, n, s), this.shaderCache[t] = h, h;\n      }, deleteShader: function deleteShader(t) {\n        var e = this.shaderCache[t.name],\n            i = this.gl;void 0 !== e && delete this.shaderCache, i.deleteShader(t.vertexShader), i.deleteShader(t.fragmentShader), i.deleteProgram(t.program), t.vertexShader = null, t.fragmentShader = null, t.program = null, t.name = null;\n      }, deleteBuffer: function deleteBuffer(t) {\n        this.gl.deleteBuffer(t.bufferObject);\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = null,\n        s = new n({ initialize: function initialize(t, e) {\n        this.gl = t, this.bufferTarget = t.ELEMENT_ARRAY_BUFFER, this.bufferObject = e;\n      }, bind: function bind() {\n        var t = this.gl;return r !== this && (r = this, t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.bufferObject)), this;\n      }, updateResource: function updateResource(t, e) {\n        var i = this.gl;return r !== this && (r = this, i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, this.bufferObject)), i.bufferSubData(i.ELEMENT_ARRAY_BUFFER, e, t), this;\n      } });s.SetDirty = function () {\n      r = null;\n    }, t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e, _i86, n, r) {\n      this.framebufferObject = t, this.width = e, this.height = _i86, this.colorBuffer = n, this.depthStencilBuffer = r, this.shouldClear = !1, this.clearAlpha = 0;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = null,\n        s = new n({ initialize: function initialize(t, e, i, n, r) {\n        this.gl = e, this.program = i, this.vertexShader = n, this.fragmentShader = r, this.name = t;\n      }, bindAttribLocation: function bindAttribLocation(t, e) {\n        this.gl.bindAttribLocation(this.program, t, e);\n      }, getUniformLocation: function getUniformLocation(t) {\n        return this.gl.getUniformLocation(this.program, t);\n      }, getAttribLocation: function getAttribLocation(t) {\n        return this.gl.getAttribLocation(this.program, t);\n      }, setConstantFloat1: function setConstantFloat1(t, e) {\n        return this.bind(), this.gl.uniform1f(t, e), this;\n      }, setConstantFloat2: function setConstantFloat2(t, e, i) {\n        return this.bind(), this.gl.uniform2f(t, e, i), this;\n      }, setConstantFloat3: function setConstantFloat3(t, e, i, n) {\n        return this.bind(), this.gl.uniform3f(t, e, i, n), this;\n      }, setConstantFloat4: function setConstantFloat4(t, e, i, n, r) {\n        return this.bind(), this.gl.uniform4f(t, e, i, n, r), this;\n      }, setConstantInt1: function setConstantInt1(t, e) {\n        return this.bind(), this.gl.uniform1i(t, e), this;\n      }, setConstantInt2: function setConstantInt2(t, e, i) {\n        return this.bind(), this.gl.uniform2i(t, e, i), this;\n      }, setConstantInt3: function setConstantInt3(t, e, i, n) {\n        return this.bind(), this.gl.uniform3i(t, e, i, n), this;\n      }, setConstantInt4: function setConstantInt4(t, e, i, n, r) {\n        return this.bind(), this.gl.uniform4i(t, e, i, n, r), this;\n      }, setConstantMatrix2x2: function setConstantMatrix2x2(t, e) {\n        return this.bind(), this.gl.uniformMatrix2fv(t, !1, e), this;\n      }, setConstantMatrix3x3: function setConstantMatrix3x3(t, e) {\n        return this.bind(), this.gl.uniformMatrix3fv(t, !1, e), this;\n      }, setConstantMatrix4x4: function setConstantMatrix4x4(t, e) {\n        return this.bind(), this.gl.uniformMatrix4fv(t, !1, e), this;\n      }, bind: function bind() {\n        return r !== this && (r = this, this.gl.useProgram(this.program)), this;\n      } });s.SetDirty = function () {\n      r = null;\n    }, t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i) {\n        this.texture = t, this.width = e, this.height = i, this.isRenderTexture = !1;\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(449),\n        s = i(30),\n        a = i(166),\n        o = i(4),\n        h = i(450),\n        u = new n({ initialize: function initialize(t, e, i) {\n        this.game = t, this.type = o.WEBGL, this.view = t.canvas, this.resolution = t.config.resolution, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.glContext = e, this.maxVertices = null, this.shader = null, this.vertexBufferObject = null, this.vertexDataBuffer = null, this.vertexCount = 0, this.viewMatrixLocation = null, this.tempTriangle = [{ x: 0, y: 0, width: 0, rgb: 16777215, alpha: 1 }, { x: 0, y: 0, width: 0, rgb: 16777215, alpha: 1 }, { x: 0, y: 0, width: 0, rgb: 16777215, alpha: 1 }, { x: 0, y: 0, width: 0, rgb: 16777215, alpha: 1 }], this.config = { clearBeforeRender: !0, transparent: !1, autoResize: !1, preserveDrawingBuffer: !1, WebGLContextOptions: { alpha: !0, antialias: !0, premultipliedAlpha: !0, stencil: !0, preserveDrawingBuffer: !1 } }, this.manager = i, this.dirty = !1, this.context = null, this.init(this.glContext);\n      }, init: function init(t) {\n        var e = new s(r.VERTEX_SIZE * r.MAX_VERTICES),\n            i = this.manager.resourceManager.createShader("UntexturedAndNormalizedTintedShader", h),\n            n = this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER, e.getByteCapacity(), t.STREAM_DRAW),\n            a = i.getUniformLocation("u_view_matrix"),\n            o = r.MAX_VERTICES;n.addAttribute(i.getAttribLocation("a_position"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 0), n.addAttribute(i.getAttribLocation("a_color"), 4, t.UNSIGNED_BYTE, !0, r.VERTEX_SIZE, 8), n.addAttribute(i.getAttribLocation("a_alpha"), 1, t.FLOAT, !1, r.VERTEX_SIZE, 12), this.vertexDataBuffer = e, this.shader = i, this.vertexBufferObject = n, this.viewMatrixLocation = a, this.maxVertices = o, this.polygonCache = [], this.resize(this.width, this.height, this.game.config.resolution);\n      }, shouldFlush: function shouldFlush() {\n        return !1;\n      }, isFull: function isFull() {\n        return this.vertexDataBuffer.getByteLength() >= this.vertexDataBuffer.getByteCapacity();\n      }, bind: function bind(t) {\n        void 0 === t ? this.shader.bind() : (t.bind(), this.resize(this.width, this.height, this.game.config.resolution, t)), this.vertexBufferObject.bind();\n      }, flush: function flush(t) {\n        var e = this.glContext,\n            i = this.vertexDataBuffer;0 !== this.vertexCount && (this.bind(t), this.vertexBufferObject.updateResource(i.getUsedBufferAsFloat(), 0), e.drawArrays(e.TRIANGLES, 0, this.vertexCount), i.clear(), this.vertexCount = 0);\n      }, resize: function resize(t, e, i, n) {\n        var r = void 0 !== n ? n : this.shader;this.width = t * i, this.height = e * i, r.setConstantMatrix4x4(this.viewMatrixLocation, new Float32Array([2 / this.width, 0, 0, 0, 0, -2 / this.height, 0, 0, 0, 0, 1, 1, -1, 1, 0, 0]));\n      }, addLine: function addLine(t, e, i, n, r, s, a, o, h, u, c, l, f, d, p, v, g, x, m, y, w) {\n        this.vertexCount + 6 > this.maxVertices && this.flush(), this.vertexCount += 6;var E = w.matrix[0],\n            T = w.matrix[1],\n            b = w.matrix[2],\n            _ = w.matrix[3],\n            A = w.matrix[4],\n            S = w.matrix[5],\n            R = p * E + v * b,\n            M = p * T + v * _,\n            O = g * E + x * b,\n            C = g * T + x * _,\n            L = m * E + y * b + A,\n            F = m * T + y * _ + S,\n            I = this.vertexDataBuffer,\n            D = I.floatView,\n            B = I.uintView,\n            P = o - s,\n            k = h - a,\n            N = Math.sqrt(P * P + k * k),\n            X = u * (h - a) / N,\n            U = u * (s - o) / N,\n            Y = c * (h - a) / N,\n            V = c * (s - o) / N,\n            z = o - Y,\n            G = h - V,\n            H = s - X,\n            j = a - U,\n            W = o + Y,\n            q = h + V,\n            K = s + X,\n            Z = a + U,\n            J = z * R + G * O + L,\n            Q = z * M + G * C + F,\n            $ = H * R + j * O + L,\n            tt = H * M + j * C + F,\n            et = W * R + q * O + L,\n            it = W * M + q * C + F,\n            nt = K * R + Z * O + L,\n            rt = K * M + Z * C + F,\n            st = I.allocate(24);return D[st++] = J, D[st++] = Q, B[st++] = f, D[st++] = d, D[st++] = $, D[st++] = tt, B[st++] = l, D[st++] = d, D[st++] = et, D[st++] = it, B[st++] = f, D[st++] = d, D[st++] = $, D[st++] = tt, B[st++] = l, D[st++] = d, D[st++] = nt, D[st++] = rt, B[st++] = l, D[st++] = d, D[st++] = et, D[st++] = it, B[st++] = f, D[st++] = d, [J, Q, f, $, tt, l, et, it, f, nt, rt, l];\n      }, addStrokePath: function addStrokePath(t, e, i, n, r, s, a, o, h, u, c, l, f, d, p, v, g) {\n        for (var x, m, y, w, E, T, b = s.length, _ = this.polygonCache, A = this.vertexDataBuffer, S = A.floatView, R = A.uintView, M = 0; M + 1 < b; M += 1) {\n          x = s[M], m = s[M + 1], T = this.addLine(t, e, i, n, r, x.x, x.y, m.x, m.y, x.width / 2, m.width / 2, x.rgb, m.rgb, h, u, c, l, f, d, p, g), _.push(T);\n        }for (var O = 1, C = _.length; O < C; ++O) {\n          this.vertexCount + 6 > this.maxVertices && this.flush(), y = _[O - 1] || _[C - 1], w = _[O], E = A.allocate(24), S[E++] = y[6], S[E++] = y[7], R[E++] = y[8], S[E++] = h, S[E++] = y[0], S[E++] = y[1], R[E++] = y[2], S[E++] = h, S[E++] = w[9], S[E++] = w[10], R[E++] = w[11], S[E++] = h, S[E++] = y[0], S[E++] = y[1], R[E++] = y[2], S[E++] = h, S[E++] = y[6], S[E++] = y[7], R[E++] = y[8], S[E++] = h, S[E++] = w[3], S[E++] = w[4], R[E++] = w[5], S[E++] = h, this.vertexCount += 6;\n        }_.length = 0;\n      }, addFillPath: function addFillPath(t, e, i, n, r, s, o, h, u, c, l, f, d, p, v) {\n        for (var g, x, m, y, w, E, T, b, _, A, S, R, M, O, C, L, F, I, D = s.length, B = this.polygonCache, P = this.vertexCount, k = this.maxVertices, N = this.vertexDataBuffer, X = N.floatView, U = N.uintView, Y = v.matrix[0], V = v.matrix[1], z = v.matrix[2], G = v.matrix[3], H = v.matrix[4], j = v.matrix[5], W = u * Y + c * z, q = u * V + c * G, K = l * Y + f * z, Z = l * V + f * G, J = d * Y + p * z + H, Q = d * V + p * G + j, $ = 0; $ < D; ++$) {\n          x = s[$], B.push(x.x, x.y);\n        }g = a(B), D = g.length;for (var tt = 0; tt < D; tt += 3) {\n          m = 2 * g[tt + 0], y = 2 * g[tt + 1], w = 2 * g[tt + 2], P + 3 > k && (this.vertexCount = P, this.flush(), P = 0), E = N.allocate(12), P += 3, T = B[m + 0], b = B[m + 1], _ = B[y + 0], A = B[y + 1], S = B[w + 0], R = B[w + 1], M = T * W + b * K + J, O = T * q + b * Z + Q, C = _ * W + A * K + J, L = _ * q + A * Z + Q, F = S * W + R * K + J, I = S * q + R * Z + Q, X[E++] = M, X[E++] = O, U[E++] = o, X[E++] = h, X[E++] = C, X[E++] = L, U[E++] = o, X[E++] = h, X[E++] = F, X[E++] = I, U[E++] = o, X[E++] = h;\n        }this.vertexCount = P, B.length = 0;\n      }, addFillRect: function addFillRect(t, e, i, n, r, s, a, o, h, u, c, l, f, d, p, v, g, x) {\n        this.vertexCount + 6 > this.maxVertices && this.flush();var m = this.vertexDataBuffer,\n            y = m.floatView,\n            w = m.uintView,\n            E = m.allocate(24),\n            T = s + o,\n            b = a + h,\n            _ = x.matrix[0],\n            A = x.matrix[1],\n            S = x.matrix[2],\n            R = x.matrix[3],\n            M = x.matrix[4],\n            O = x.matrix[5],\n            C = l * _ + f * S,\n            L = l * A + f * R,\n            F = d * _ + p * S,\n            I = d * A + p * R,\n            D = v * _ + g * S + M,\n            B = v * A + g * R + O,\n            P = s * C + a * F + D,\n            k = s * L + a * I + B,\n            N = s * C + b * F + D,\n            X = s * L + b * I + B,\n            U = T * C + b * F + D,\n            Y = T * L + b * I + B,\n            V = T * C + a * F + D,\n            z = T * L + a * I + B;y[E++] = P, y[E++] = k, w[E++] = u, y[E++] = c, y[E++] = N, y[E++] = X, w[E++] = u, y[E++] = c, y[E++] = U, y[E++] = Y, w[E++] = u, y[E++] = c, y[E++] = P, y[E++] = k, w[E++] = u, y[E++] = c, y[E++] = U, y[E++] = Y, w[E++] = u, y[E++] = c, y[E++] = V, y[E++] = z, w[E++] = u, y[E++] = c, this.vertexCount += 6;\n      }, addFillTriangle: function addFillTriangle(t, e, i, n, r, s, a, o, h, u, c, l, f, d, p, v, g, x, m, y) {\n        this.vertexCount + 3 > this.maxVertices && this.flush();var w = y.matrix[0],\n            E = y.matrix[1],\n            T = y.matrix[2],\n            b = y.matrix[3],\n            _ = y.matrix[4],\n            A = y.matrix[5],\n            S = d * w + p * T,\n            R = d * E + p * b,\n            M = v * w + g * T,\n            O = v * E + g * b,\n            C = x * w + m * T + _,\n            L = x * E + m * b + A,\n            F = this.vertexDataBuffer,\n            I = F.floatView,\n            D = F.uintView,\n            B = F.allocate(12),\n            P = s * S + a * M + C,\n            k = s * R + a * O + L,\n            N = o * S + h * M + C,\n            X = o * R + h * O + L,\n            U = u * S + c * M + C,\n            Y = u * R + c * O + L;I[B++] = P, I[B++] = k, D[B++] = l, I[B++] = f, I[B++] = N, I[B++] = X, D[B++] = l, I[B++] = f, I[B++] = U, I[B++] = Y, D[B++] = l, I[B++] = f, this.vertexCount += 3;\n      }, addStrokeTriangle: function addStrokeTriangle(t, e, i, n, r, s, a, o, h, u, c, l, f, d, p, v, g, x, m, y, w) {\n        var E = this.tempTriangle;E[0].x = s, E[0].y = a, E[0].width = l, E[0].rgb = f, E[0].alpha = d, E[1].x = o, E[1].y = h, E[1].width = l, E[1].rgb = f, E[1].alpha = d, E[2].x = u, E[2].y = c, E[2].width = l, E[2].rgb = f, E[2].alpha = d, E[3].x = s, E[3].y = a, E[3].width = l, E[3].rgb = f, E[3].alpha = d, this.addStrokePath(t, e, i, n, r, E, l, f, d, p, v, g, x, m, y, !1, w);\n      }, destroy: function destroy() {\n        this.manager.resourceManager.deleteShader(this.shader), this.manager.resourceManager.deleteBuffer(this.vertexBufferObject), this.shader = null, this.vertexBufferObject = null;\n      } });t.exports = u;\n  }, function (t, e) {\n    var i = { VERTEX_SIZE: 16, SHAPE_VERTEX_COMPONENT_COUNT: 4, MAX_VERTICES: 16e3 };t.exports = i;\n  }, function (t, e) {\n    t.exports = { vert: ["precision mediump float;", "uniform mat4 u_view_matrix;", "attribute vec2 a_position;", "attribute vec4 a_color;", "attribute float a_alpha;", "varying vec4 v_color;", "varying float v_alpha;", "void main () {", "   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);", "   v_color = a_color;", "   v_alpha = a_alpha;", "}"].join("\\n"), frag: ["precision mediump float;", "varying vec4 v_color;", "varying float v_alpha;", "void main() {", "   gl_FragColor = vec4(v_color.bgr, v_alpha);", "}"].join("\\n") };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(452),\n        s = i(37),\n        a = i(30),\n        o = i(4),\n        h = i(38),\n        u = i(14),\n        c = new n({ initialize: function initialize(t, e, i) {\n        this.game = t, this.type = o.WEBGL, this.view = t.canvas, this.resolution = t.config.resolution, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.glContext = e, this.maxSprites = null, this.shader = null, this.vertexBufferObject = null, this.indexBufferObject = null, this.indexBufferObjectForMesh = null, this.vertexDataBuffer = null, this.indexDataBuffer = null, this.elementCount = 0, this.currentTexture2D = null, this.viewMatrixLocation = null, this.tempMatrix = new u(), this.config = { clearBeforeRender: !0, transparent: !1, autoResize: !1, preserveDrawingBuffer: !1, WebGLContextOptions: { alpha: !0, antialias: !0, premultipliedAlpha: !0, stencil: !0, preserveDrawingBuffer: !1 } }, this.manager = i, this.dirty = !1, this.drawIndexed = !0, this.lastDrawIndexed = !0, this.lastDrawingMesh = !1, this.drawingMesh = !1, this.vertexCount = 0, this.init(this.glContext);\n      }, init: function init(t) {\n        var e = new a(r.VERTEX_SIZE * r.SPRITE_VERTEX_COUNT * r.MAX_SPRITES),\n            i = new s(r.INDEX_SIZE * r.SPRITE_INDEX_COUNT * r.MAX_SPRITES),\n            n = this.manager.resourceManager.createShader("TexturedAndNormalizedTintedShader", h),\n            o = this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER, i.getByteCapacity(), t.STATIC_DRAW),\n            u = this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER, i.getByteCapacity(), t.STREAM_DRAW),\n            c = this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER, e.getByteCapacity(), t.STREAM_DRAW),\n            l = n.getUniformLocation("u_view_matrix"),\n            f = i.uintView,\n            d = r.MAX_SPRITES * r.SPRITE_INDEX_COUNT;this.vertexDataBuffer = e, this.indexDataBuffer = i, this.shader = n, this.indexBufferObject = o, this.indexBufferObjectForMesh = u, this.vertexBufferObject = c, this.viewMatrixLocation = l, c.addAttribute(n.getAttribLocation("a_position"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 0), c.addAttribute(n.getAttribLocation("a_tex_coord"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 8), c.addAttribute(n.getAttribLocation("a_color"), 3, t.UNSIGNED_BYTE, !0, r.VERTEX_SIZE, 16), c.addAttribute(n.getAttribLocation("a_alpha"), 1, t.FLOAT, !1, r.VERTEX_SIZE, 20);for (var p = 0, v = 0; p < d; p += r.SPRITE_INDEX_COUNT, v += r.SPRITE_VERTEX_COUNT) {\n          f[p + 0] = v + 0, f[p + 1] = v + 1, f[p + 2] = v + 2, f[p + 3] = v + 0, f[p + 4] = v + 2, f[p + 5] = v + 3;\n        }o.updateResource(f, 0), this.resize(this.width, this.height, this.game.config.resolution);\n      }, shouldFlush: function shouldFlush() {\n        return !(this.drawIndexed === this.lastDrawIndexed && this.lastDrawingMesh === this.drawingMesh && !this.isFull()) && (this.lastDrawIndexed = this.drawIndexed, this.lastDrawingMesh = this.drawingMesh, !0);\n      }, isFull: function isFull() {\n        return this.vertexDataBuffer.getByteLength() >= this.vertexDataBuffer.getByteCapacity();\n      }, bind: function bind(t) {\n        void 0 === t ? this.shader.bind() : (t.bind(), this.resize(this.width, this.height, this.game.config.resolution, t)), this.vertexBufferObject.bind();\n      }, flush: function flush(t, e) {\n        var i = this.glContext,\n            n = this.vertexDataBuffer;0 === this.elementCount && 0 === this.vertexCount || (e && i.bindFramebuffer(i.FRAMEBUFFER, e), this.bind(t), this.vertexBufferObject.updateResource(n.getUsedBufferAsFloat(), 0), this.drawIndexed ? (this.drawingMesh ? (this.indexBufferObjectForMesh.bind(), this.indexBufferObjectForMesh.updateResource(this.indexDataBuffer.buffer, 0)) : this.indexBufferObject.bind(), i.drawElements(i.TRIANGLES, this.elementCount, i.UNSIGNED_SHORT, 0)) : i.drawArrays(i.TRIANGLES, 0, this.vertexCount), n.clear(), this.elementCount = 0, this.vertexCount = 0, e && i.bindFramebuffer(i.FRAMEBUFFER, null));\n      }, resize: function resize(t, e, i, n) {\n        var r = void 0 !== n ? n : this.shader,\n            s = r === this.shader ? this.viewMatrixLocation : r.getUniformLocation("u_view_matrix");this.width = t * i, this.height = e * i, this.setProjectionMatrix(r, s);\n      }, setProjectionMatrix: function setProjectionMatrix(t, e) {\n        t.setConstantMatrix4x4(e, new Float32Array([2 / this.width, 0, 0, 0, 0, -2 / this.height, 0, 0, 0, 0, 1, 1, -1, 1, 0, 0]));\n      }, destroy: function destroy() {\n        this.manager.resourceManager.deleteShader(this.shader), this.manager.resourceManager.deleteBuffer(this.indexBufferObject), this.manager.resourceManager.deleteBuffer(this.vertexBufferObject), this.shader = null, this.indexBufferObject = null, this.vertexBufferObject = null;\n      }, addMeshIndexed: function addMeshIndexed(t, e) {\n        var i,\n            n,\n            r,\n            s,\n            a,\n            o,\n            h,\n            u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w = this.tempMatrix,\n            E = t.frame,\n            T = this.vertexDataBuffer,\n            b = T.floatView,\n            _ = T.uintView,\n            A = 0,\n            S = t.x - e.scrollX * t.scrollFactorX,\n            R = t.y - e.scrollY * t.scrollFactorY,\n            M = t.scaleX,\n            O = t.scaleY,\n            C = -t.rotation,\n            L = w.matrix,\n            F = e.matrix.matrix,\n            I = t.vertices,\n            D = t.uv,\n            B = I.length,\n            P = B / 2 | 0,\n            k = this.indexDataBuffer.uintView,\n            N = t.indices,\n            X = t.colors,\n            U = t.alphas,\n            Y = N.length,\n            V = 0;w.applyITRS(S, R, C, M, O), h = L[0], u = L[1], c = L[2], l = L[3], f = L[4], d = L[5], p = F[0], v = F[1], g = F[2], x = F[3], m = F[4], y = F[5], i = h * p + u * g, n = h * v + u * x, r = c * p + l * g, s = c * v + l * x, a = f * p + d * g + m, o = f * v + d * x + y, this.manager.setRenderer(this, E.texture.source[E.sourceIndex].glTexture, t.renderTarget), V = this.vertexCount, this.drawIndexed = !0, this.drawingMesh = !0, this.vertexCount += P, A = T.allocate(6 * P);var z, G;for (z = 0, G = 0; z < B; z += 2) {\n          var H = I[z + 0],\n              j = I[z + 1],\n              W = H * i + j * r + a,\n              q = H * n + j * s + o;b[A++] = W, b[A++] = q, b[A++] = D[z + 0], b[A++] = D[z + 1], _[A++] = X[G], b[A++] = U[G], G += 1;\n        }var K = this.elementCount;for (z = 0; z < Y; ++z) {\n          k[K + z] = V + N[z];\n        }this.elementCount += Y;\n      }, addMesh: function addMesh(t, e) {\n        var i,\n            n,\n            r,\n            s,\n            a,\n            o,\n            h,\n            u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w = this.tempMatrix,\n            E = t.frame,\n            T = this.vertexDataBuffer,\n            b = T.floatView,\n            _ = T.uintView,\n            A = 0,\n            S = t.x - e.scrollX * t.scrollFactorX,\n            R = t.y - e.scrollY * t.scrollFactorY,\n            M = t.scaleX,\n            O = t.scaleY,\n            C = -t.rotation,\n            L = w.matrix,\n            F = e.matrix.matrix,\n            I = t.vertices,\n            D = t.uv,\n            B = t.colors,\n            P = t.alphas,\n            k = I.length,\n            N = k / 2 | 0;w.applyITRS(S, R, C, M, O), h = L[0], u = L[1], c = L[2], l = L[3], f = L[4], d = L[5], p = F[0], v = F[1], g = F[2], x = F[3], m = F[4], y = F[5], i = h * p + u * g, n = h * v + u * x, r = c * p + l * g, s = c * v + l * x, a = f * p + d * g + m, o = f * v + d * x + y, this.manager.setRenderer(this, E.texture.source[E.sourceIndex].glTexture, t.renderTarget), this.drawIndexed = !1, this.drawingMesh = !0, this.vertexCount += N, A = T.allocate(6 * N);for (var X = 0, U = 0; X < k; X += 2) {\n          var Y = I[X + 0],\n              V = I[X + 1],\n              z = Y * i + V * r + a,\n              G = Y * n + V * s + o;b[A++] = z, b[A++] = G, b[A++] = D[X + 0], b[A++] = D[X + 1], _[A++] = B[U], b[A++] = P[U], U += 1;\n        }\n      }, addTileTextureRect: function addTileTextureRect(t, e, i, n, r, s, a, o, h, u, c, l, f, d, p, v, g) {\n        var x,\n            m,\n            y,\n            w,\n            E,\n            T,\n            b,\n            _,\n            A,\n            S,\n            R,\n            M,\n            O,\n            C,\n            L = this.vertexDataBuffer,\n            F = L.floatView,\n            I = L.uintView,\n            D = 0,\n            B = e + n,\n            P = i + r,\n            k = v.matrix.matrix,\n            N = .5 * n,\n            X = .5 * r,\n            U = (l - (N - .5)) / u,\n            Y = (f - (X - .5)) / c,\n            V = (l + (N - .5)) / u,\n            z = (f + (X - .5)) / c,\n            G = v.scrollX * o,\n            H = v.scrollY * h;x = k[0], m = k[1], y = k[2], w = k[3], E = k[4], T = k[5], b = e * x + i * y + E - G, _ = e * m + i * w + T - H, A = e * x + P * y + E - G, S = e * m + P * w + T - H, R = B * x + P * y + E - G, M = B * m + P * w + T - H, O = B * x + i * y + E - G, C = B * m + i * w + T - H, this.manager.setRenderer(this, t, g), this.drawIndexed = !0, this.drawingMesh = !1, this.elementCount += 6, D = L.allocate(24), F[D++] = b, F[D++] = _, F[D++] = U, F[D++] = Y, I[D++] = a, F[D++] = s, F[D++] = A, F[D++] = S, F[D++] = U, F[D++] = z, I[D++] = a, F[D++] = s, F[D++] = R, F[D++] = M, F[D++] = V, F[D++] = z, I[D++] = a, F[D++] = s, F[D++] = O, F[D++] = C, F[D++] = V, F[D++] = Y, I[D++] = a, F[D++] = s;\n      }, addSpriteTextureRect: function addSpriteTextureRect(t, e, i, n, r, s, a, o, h) {\n        var u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w,\n            E,\n            T,\n            b,\n            _,\n            A,\n            S,\n            R,\n            M,\n            O,\n            C,\n            L,\n            F,\n            I,\n            D,\n            B = this.tempMatrix,\n            P = this.vertexDataBuffer,\n            k = P.floatView,\n            N = P.uintView,\n            X = 0,\n            U = (t.flipX, t.flipY, t.x - e.scrollX * t.scrollFactorX),\n            Y = t.y - e.scrollY * t.scrollFactorY,\n            V = t.scaleX,\n            z = t.scaleY,\n            G = -t.rotation,\n            H = B.matrix,\n            j = -t.displayOriginX + s * (t.flipX ? 1 : 0),\n            W = -t.displayOriginY + a * (t.flipY ? 1 : 0),\n            q = j + s,\n            K = W + a,\n            Z = e.matrix.matrix,\n            J = t._alphaTL,\n            Q = t._alphaTR,\n            $ = t._alphaBL,\n            tt = t._alphaBR,\n            et = t._tintTL,\n            it = t._tintTR,\n            nt = t._tintBL,\n            rt = t._tintBR;B.applyITRS(U, Y, G, V, z), b = H[0], _ = H[1], A = H[2], S = H[3], R = H[4], M = H[5], O = Z[0], C = Z[1], L = Z[2], F = Z[3], I = Z[4], D = Z[5], u = b * O + _ * L, c = b * C + _ * F, l = A * O + S * L, f = A * C + S * F, d = R * O + M * L + I, p = R * C + M * F + D, v = j * u + W * l + d, g = j * c + W * f + p, x = j * u + K * l + d, m = j * c + K * f + p, y = q * u + K * l + d, w = q * c + K * f + p, E = q * u + W * l + d, T = q * c + W * f + p, this.manager.setRenderer(this, i, t.renderTarget), this.drawIndexed = !0, this.drawingMesh = !1, X = P.allocate(24), this.elementCount += 6, k[X++] = v, k[X++] = g, k[X++] = 0, k[X++] = 0, N[X++] = et, k[X++] = J, k[X++] = x, k[X++] = m, k[X++] = 0, k[X++] = 1, N[X++] = nt, k[X++] = $, k[X++] = y, k[X++] = w, k[X++] = 1, k[X++] = 1, N[X++] = rt, k[X++] = tt, k[X++] = E, k[X++] = T, k[X++] = 1, k[X++] = 0, N[X++] = it, k[X++] = Q;\n      }, addSpriteTexture: function addSpriteTexture(t, e, i, n, r) {\n        var s,\n            a,\n            o,\n            h,\n            u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w,\n            E,\n            T,\n            b,\n            _,\n            A,\n            S,\n            R,\n            M,\n            O,\n            C,\n            L = this.tempMatrix,\n            F = this.vertexDataBuffer,\n            I = F.floatView,\n            D = F.uintView,\n            B = 0,\n            P = n * (t.flipX ? -1 : 1),\n            k = r * (t.flipY ? -1 : 1),\n            N = t.x - e.scrollX * t.scrollFactorX,\n            X = t.y - e.scrollY * t.scrollFactorY,\n            U = t.scaleX,\n            Y = t.scaleY,\n            V = -t.rotation,\n            z = L.matrix,\n            G = -t.displayOriginX + n * (t.flipX ? 1 : 0),\n            H = -t.displayOriginY + r * (t.flipY ? 1 : 0),\n            j = G + P,\n            W = H + k,\n            q = e.matrix.matrix,\n            K = t._alphaTL,\n            Z = t._alphaTR,\n            J = t._alphaBL,\n            Q = t._alphaBR,\n            $ = t._tintTL,\n            tt = t._tintTR,\n            et = t._tintBL,\n            it = t._tintBR;L.applyITRS(N, X, V, U, Y), y = z[0], w = z[1], E = z[2], T = z[3], b = z[4], _ = z[5], A = q[0], S = q[1], R = q[2], M = q[3], O = q[4], C = q[5], s = y * A + w * R, a = y * S + w * M, o = E * A + T * R, h = E * S + T * M, u = b * A + _ * R + O, c = b * S + _ * M + C, l = G * s + H * o + u, f = G * a + H * h + c, d = G * s + W * o + u, p = G * a + W * h + c, v = j * s + W * o + u, g = j * a + W * h + c, x = j * s + H * o + u, m = j * a + H * h + c, this.manager.setRenderer(this, i, t.renderTarget), this.drawIndexed = !0, this.drawingMesh = !1, B = F.allocate(24), this.elementCount += 6, I[B++] = l, I[B++] = f, I[B++] = 0, I[B++] = 0, D[B++] = $, I[B++] = K, I[B++] = d, I[B++] = p, I[B++] = 0, I[B++] = 1, D[B++] = et, I[B++] = J, I[B++] = v, I[B++] = g, I[B++] = 1, I[B++] = 1, D[B++] = it, I[B++] = Q, I[B++] = x, I[B++] = m, I[B++] = 1, I[B++] = 0, D[B++] = tt, I[B++] = Z;\n      }, addSprite: function addSprite(t, e) {\n        var i,\n            n,\n            r,\n            s,\n            a,\n            o,\n            h,\n            u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w,\n            E,\n            T,\n            b,\n            _,\n            A,\n            S,\n            R,\n            M = this.tempMatrix,\n            O = t.frame,\n            C = !!O.texture.source[O.sourceIndex].glTexture.isRenderTexture,\n            L = t.flipX,\n            F = t.flipY ^ C,\n            I = this.vertexDataBuffer,\n            D = I.floatView,\n            B = I.uintView,\n            P = 0,\n            k = O.uvs,\n            N = O.width * (L ? -1 : 1),\n            X = O.height * (F ? -1 : 1),\n            U = t.x - e.scrollX * t.scrollFactorX,\n            Y = t.y - e.scrollY * t.scrollFactorY,\n            V = t.scaleX,\n            z = t.scaleY,\n            G = -t.rotation,\n            H = M.matrix,\n            j = -t.displayOriginX + O.x + O.width * (L ? 1 : 0),\n            W = -t.displayOriginY + O.y + O.height * (F ? 1 : 0),\n            q = j + N,\n            K = W + X,\n            Z = e.matrix.matrix,\n            J = t._alphaTL,\n            Q = t._alphaTR,\n            $ = t._alphaBL,\n            tt = t._alphaBR,\n            et = t._tintTL,\n            it = t._tintTR,\n            nt = t._tintBL,\n            rt = t._tintBR;M.applyITRS(U, Y, G, V, z), g = H[0], x = H[1], m = H[2], y = H[3], w = H[4], E = H[5], T = Z[0], b = Z[1], _ = Z[2], A = Z[3], S = Z[4], R = Z[5], i = g * T + x * _, n = g * b + x * A, r = m * T + y * _, s = m * b + y * A, a = w * T + E * _ + S, o = w * b + E * A + R, h = j * i + W * r + a, u = j * n + W * s + o, c = j * i + K * r + a, l = j * n + K * s + o, f = q * i + K * r + a, d = q * n + K * s + o, p = q * i + W * r + a, v = q * n + W * s + o, this.manager.setRenderer(this, O.texture.source[O.sourceIndex].glTexture, t.renderTarget), this.drawIndexed = !0, this.drawingMesh = !1, P = I.allocate(24), this.elementCount += 6, D[P++] = h, D[P++] = u, D[P++] = k.x0, D[P++] = k.y0, B[P++] = et, D[P++] = J, D[P++] = c, D[P++] = l, D[P++] = k.x1, D[P++] = k.y1, B[P++] = nt, D[P++] = $, D[P++] = f, D[P++] = d, D[P++] = k.x2, D[P++] = k.y2, B[P++] = rt, D[P++] = tt, D[P++] = p, D[P++] = v, D[P++] = k.x3, D[P++] = k.y3, B[P++] = it, D[P++] = Q;\n      } });t.exports = c;\n  }, function (t, e) {\n    var i = { VERTEX_SIZE: 24, INDEX_SIZE: 2, SPRITE_VERTEX_COUNT: 4, SPRITE_INDEX_COUNT: 6, SPRITE_VERTEX_COMPONENT_COUNT: 6, MAX_SPRITES: 2e3 };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(454),\n        s = i(37),\n        a = i(30),\n        o = i(4),\n        h = i(38),\n        u = i(14),\n        c = new n({ initialize: function initialize(t, e, i) {\n        this.game = t, this.type = o.WEBGL, this.view = t.canvas, this.resolution = t.config.resolution, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.glContext = e, this.maxSprites = null, this.shader = null, this.vertexBufferObject = null, this.indexBufferObject = null, this.vertexDataBuffer = null, this.indexDataBuffer = null, this.elementCount = 0, this.currentTexture2D = null, this.viewMatrixLocation = null, this.tempMatrix = new u(), this.config = { clearBeforeRender: !0, transparent: !1, autoResize: !1, preserveDrawingBuffer: !1, WebGLContextOptions: { alpha: !0, antialias: !0, premultipliedAlpha: !0, stencil: !0, preserveDrawingBuffer: !1 } }, this.manager = i, this.dirty = !1, this.init(this.glContext);\n      }, init: function init(t) {\n        var e = new a(r.VERTEX_SIZE * r.SPRITE_VERTEX_COUNT * r.MAX_SPRITES),\n            i = new s(r.INDEX_SIZE * r.SPRITE_INDEX_COUNT * r.MAX_SPRITES),\n            n = this.manager.resourceManager.createShader("TexturedAndNormalizedTintedShader", h),\n            o = this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER, i.getByteCapacity(), t.STATIC_DRAW),\n            u = this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER, e.getByteCapacity(), t.STREAM_DRAW),\n            c = n.getUniformLocation("u_view_matrix"),\n            l = i.uintView,\n            f = r.MAX_SPRITES * r.SPRITE_INDEX_COUNT;this.vertexDataBuffer = e, this.indexDataBuffer = i, this.shader = n, this.indexBufferObject = o, this.vertexBufferObject = u, this.viewMatrixLocation = c, u.addAttribute(n.getAttribLocation("a_position"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 0), u.addAttribute(n.getAttribLocation("a_tex_coord"), 2, t.FLOAT, !1, r.VERTEX_SIZE, 8), u.addAttribute(n.getAttribLocation("a_color"), 3, t.UNSIGNED_BYTE, !0, r.VERTEX_SIZE, 16), u.addAttribute(n.getAttribLocation("a_alpha"), 1, t.FLOAT, !1, r.VERTEX_SIZE, 20);for (var d = 0, p = 0; d < f; d += r.SPRITE_INDEX_COUNT, p += r.SPRITE_VERTEX_COUNT) {\n          l[d + 0] = p + 0, l[d + 1] = p + 1, l[d + 2] = p + 2, l[d + 3] = p + 0, l[d + 4] = p + 2, l[d + 5] = p + 3;\n        }o.updateResource(l, 0), this.resize(this.width, this.height, this.game.config.resolution);\n      }, shouldFlush: function shouldFlush() {\n        return !1;\n      }, isFull: function isFull() {\n        return this.vertexDataBuffer.getByteLength() >= this.vertexDataBuffer.getByteCapacity();\n      }, bind: function bind(t) {\n        void 0 === t ? this.shader.bind() : (t.bind(), this.resize(this.width, this.height, this.game.config.resolution, t)), this.indexBufferObject.bind(), this.vertexBufferObject.bind();\n      }, flush: function flush(t, e) {\n        var i = this.glContext,\n            n = this.vertexDataBuffer;0 !== this.elementCount && (e && i.bindFramebuffer(i.FRAMEBUFFER, e), this.bind(t), this.vertexBufferObject.updateResource(n.getUsedBufferAsFloat(), 0), i.drawElements(i.TRIANGLES, this.elementCount, i.UNSIGNED_SHORT, 0), n.clear(), this.elementCount = 0, e && i.bindFramebuffer(i.FRAMEBUFFER, null));\n      }, resize: function resize(t, e, i, n) {\n        var r = void 0 !== n ? n : this.shader,\n            s = r == this.shader ? this.viewMatrixLocation : r.getUniformLocation("u_view_matrix");this.width = t * i, this.height = e * i, this.setProjectionMatrix(r, s);\n      }, setProjectionMatrix: function setProjectionMatrix(t, e) {\n        t.setConstantMatrix4x4(e, new Float32Array([2 / this.width, 0, 0, 0, 0, -2 / this.height, 0, 0, 0, 0, 1, 1, -1, 1, 0, 0]));\n      }, destroy: function destroy() {\n        this.manager.resourceManager.deleteShader(this.shader), this.manager.resourceManager.deleteBuffer(this.indexBufferObject), this.manager.resourceManager.deleteBuffer(this.vertexBufferObject), this.shader = null, this.indexBufferObject = null, this.vertexBufferObject = null;\n      }, addTileSprite: function addTileSprite(t, e) {\n        var i,\n            n,\n            r,\n            s,\n            a,\n            o,\n            h,\n            u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w,\n            E,\n            T,\n            b,\n            _,\n            A,\n            S,\n            R,\n            M = this.tempMatrix,\n            O = this.vertexDataBuffer,\n            C = O.floatView,\n            L = O.uintView,\n            F = 0,\n            I = t.width * (t.flipX ? -1 : 1),\n            D = t.height * (t.flipY ? -1 : 1),\n            B = t.x - e.scrollX * t.scrollFactorX,\n            P = t.y - e.scrollY * t.scrollFactorY,\n            k = t.scaleX,\n            N = t.scaleY,\n            X = -t.rotation,\n            U = M.matrix,\n            Y = t.originX * t.width,\n            V = t.originY * t.height,\n            z = -Y + t.width * (t.flipX ? 1 : 0),\n            G = -V + t.height * (t.flipY ? 1 : 0),\n            H = z + I,\n            j = G + D,\n            W = I / t.frame.width,\n            q = D / t.frame.height,\n            K = e.matrix.matrix,\n            Z = t.alpha,\n            J = t.tilePositionX / t.frame.width,\n            Q = t.tilePositionY / t.frame.height,\n            $ = t.tileTexture,\n            tt = t._tintTL,\n            et = t._tintTR,\n            it = t._tintBL,\n            nt = t._tintBR;M.applyITRS(B, P, X, k, N), g = U[0], x = U[1], m = U[2], y = U[3], w = U[4], E = U[5], T = K[0], b = K[1], _ = K[2], A = K[3], S = K[4], R = K[5], i = g * T + x * _, n = g * b + x * A, r = m * T + y * _, s = m * b + y * A, a = w * T + E * _ + S, o = w * b + E * A + R, h = z * i + G * r + a, u = z * n + G * s + o, c = z * i + j * r + a, l = z * n + j * s + o, f = H * i + j * r + a, d = H * n + j * s + o, p = H * i + G * r + a, v = H * n + G * s + o, this.manager.setRenderer(this, $, t.renderTarget), F = O.allocate(24), this.elementCount += 6, C[F++] = h, C[F++] = u, C[F++] = 0 + J, C[F++] = 0 + Q, L[F++] = tt, C[F++] = Z, C[F++] = c, C[F++] = l, C[F++] = 0 + J, C[F++] = q + Q, L[F++] = it, C[F++] = Z, C[F++] = f, C[F++] = d, C[F++] = W + J, C[F++] = q + Q, L[F++] = nt, C[F++] = Z, C[F++] = p, C[F++] = v, C[F++] = W + J, C[F++] = 0 + Q, L[F++] = et, C[F++] = Z;\n      } });t.exports = c;\n  }, function (t, e) {\n    var i = { VERTEX_SIZE: 24, INDEX_SIZE: 2, SPRITE_VERTEX_COUNT: 4, SPRITE_INDEX_COUNT: 6, SPRITE_VERTEX_COMPONENT_COUNT: 6, MAX_SPRITES: 2e3 };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = (i(167), i(37), i(30), i(4)),\n        s = i(456),\n        a = new n({ initialize: function initialize(t, e, i) {\n        this.game = t, this.type = r.WEBGL, this.view = t.canvas, this.resolution = t.config.resolution, this.width = t.config.width * t.config.resolution, this.height = t.config.height * t.config.resolution, this.glContext = e, this.shader = null, this.viewMatrixLocation = null, this.config = { clearBeforeRender: !0, transparent: !1, autoResize: !1, preserveDrawingBuffer: !1, WebGLContextOptions: { alpha: !0, antialias: !0, premultipliedAlpha: !0, stencil: !0, preserveDrawingBuffer: !1 } }, this.manager = i, this.dirty = !1, this.init(this.glContext);\n      }, init: function init(t) {\n        var e = this.manager.resourceManager.createShader("TilemapShader", s),\n            i = e.getUniformLocation("u_view_matrix"),\n            n = e.getUniformLocation("u_scroll"),\n            r = e.getUniformLocation("u_scroll_factor"),\n            a = e.getUniformLocation("u_tilemap_position");this.shader = e, this.viewMatrixLocation = i, this.scrollLocation = n, this.scrollFactorLocation = r, this.tilemapPositionLocation = a, this.resize(this.width, this.height, this.game.config.resolution);\n      }, shouldFlush: function shouldFlush() {\n        return !1;\n      }, isFull: function isFull() {\n        return !1;\n      }, add: function add(t, e, i, n, r, s, a, o) {}, bind: function bind(t) {\n        void 0 === t ? this.shader.bind() : (t.bind(), this.resize(this.width, this.height, this.game.config.resolution, t));\n      }, flush: function flush(t) {}, resize: function resize(t, e, i, n) {\n        var r = void 0 !== n ? n : this.shader;this.width = t * i, this.height = e * i, r.setConstantMatrix4x4(this.viewMatrixLocation, new Float32Array([2 / this.width, 0, 0, 0, 0, -2 / this.height, 0, 0, 0, 0, 1, 1, -1, 1, 0, 0]));\n      }, destroy: function destroy() {\n        this.manager.resourceManager.deleteShader(this.shader), this.shader = null;\n      } });t.exports = a;\n  }, function (t, e) {\n    t.exports = { vert: ["uniform mat4 u_view_matrix;", "uniform vec2 u_scroll;", "uniform vec2 u_scroll_factor;", "uniform vec2 u_tilemap_position;", "attribute vec2 a_position;", "attribute vec2 a_tex_coord;", "varying vec2 v_tex_coord;", "void main () {", "   gl_Position = u_view_matrix * vec4(u_tilemap_position + a_position + (u_scroll * u_scroll_factor), 1.0, 1.0);", "   v_tex_coord = a_tex_coord;", "}"].join("\\n"), frag: ["precision mediump float;", "uniform sampler2D u_sampler2D;", "varying vec2 v_tex_coord;", "void main() {", "   gl_FragColor = texture2D(u_sampler2D, v_tex_coord);", "}"].join("\\n") };\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.getContext("experimental-webgl"),\n          i = new Uint8Array(e.drawingBufferWidth * e.drawingBufferHeight * 4);e.readPixels(0, 0, e.drawingBufferWidth, e.drawingBufferHeight, e.RGBA, e.UNSIGNED_BYTE, i);var n,\n          r = document.createElement("canvas"),\n          s = r.getContext("2d");r.width = e.drawingBufferWidth, r.height = e.drawingBufferHeight, n = s.getImageData(0, 0, r.width, r.height);for (var a = n.data, o = 0; o < r.height; o += 1) {\n        for (var h = 0; h < r.width; h += 1) {\n          var u = 4 * ((r.height - o) * r.width + h),\n              c = 4 * (o * r.width + h);a[c + 0] = i[u + 0], a[c + 1] = i[u + 1], a[c + 2] = i[u + 2], a[c + 3] = i[u + 3];\n        }\n      }s.putImageData(n, 0, 0);var l = r.toDataURL(),\n          f = new Image();return f.src = l, f;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(459),\n        r = i(0),\n        s = new r({ initialize: function initialize(t) {\n        this.game = t, this.binary = new n(), this.bitmapFont = new n(), this.json = new n(), this.physics = new n(), this.shader = new n(), this.sound = new n(), this.text = new n(), this.tilemap = new n(), this.video = new n(), this.xml = new n(), this.custom = {};\n      }, addCustom: function addCustom(t) {\n        if (!this.custom.hasOwnProperty(t)) return this.custom[t] = new n(), this.custom[t];\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(29),\n        s = i(460),\n        a = new n({ initialize: function initialize() {\n        this.entries = new Map(), this.events = new r();\n      }, add: function add(t, e) {\n        this.entries.set(t, e), this.events.dispatch(new s.CACHE_ADD_EVENT(this, t, e));\n      }, has: function has(t) {\n        return this.entries.has(t);\n      }, get: function get(t) {\n        return this.entries.get(t);\n      }, remove: function remove(t) {\n        var e = this.get(t);e && (this.entries.delete(t), this.events.dispatch(new s.CACHE_REMOVE_EVENT(this, t, e.data)));\n      }, destroy: function destroy() {\n        this.entries.clear();\n      } });t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { CACHE_ADD_EVENT: i(461), CACHE_REMOVE_EVENT: i(462) };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i) {\n        r.call(this, "CACHE_ADD_EVENT"), this.cache = t, this.key = e, this.data = i;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i) {\n        r.call(this, "CACHE_REMOVE_EVENT"), this.cache = t, this.key = e, this.data = i;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(29),\n        s = i(74),\n        a = i(169),\n        o = i(173),\n        h = i(472),\n        u = i(476),\n        c = i(477),\n        l = i(478),\n        f = i(479),\n        d = i(174),\n        p = i(14),\n        v = new n({ initialize: function initialize(t, e) {\n        this.game = t, this.canvas, this.config = e, this.enabled = !0, this.events = new r(), this.queue = [], this.keyboard = new a(this), this.mouse = new o(this), this.touch = new u(this), this.activePointer = new c(this, 0), this.scale = { x: 1, y: 1 }, this._tempMatrix = new p(), this._tempPoint = { x: 0, y: 0 }, this._tempHitTest = [];\n      }, boot: function boot() {\n        this.canvas = this.game.canvas, this.keyboard.boot(), this.mouse.boot(), this.touch.boot();\n      }, update: function update(t, e) {\n        this.keyboard.update();var i = this.queue.length,\n            n = this.activePointer;if (n.reset(), this.enabled && 0 !== i) {\n          this.scale.x = this.game.config.width / this.canvas.offsetWidth, this.scale.y = this.game.config.height / this.canvas.offsetHeight;for (var r = this.queue.splice(0, i), s = 0; s < i; s++) {\n            var a = r[s];switch (a.type) {case "mousemove":\n                n.move(a, t), this.events.dispatch(new h.MOVE(a));break;case "mousedown":\n                n.down(a, t), this.events.dispatch(new h.DOWN(a));break;case "mouseup":\n                n.up(a, t), this.events.dispatch(new h.UP(a));break;case "touchmove":\n                n.touchmove(a, t);break;case "touchstart":\n                n.touchstart(a, t);break;case "touchend":\n                n.touchend(a, t);}\n          }\n        }\n      }, getTransformedPoint: function getTransformedPoint(t, e, i) {\n        return s(this._tempMatrix, t, e, i, this._tempPoint);\n      }, pointWithinGameObject: function pointWithinGameObject(t, e, i) {\n        return d(t, e, i);\n      }, hitTest: function hitTest(t, e, i, n) {\n        return f(this._tempMatrix, e, i, t, n, this._tempHitTest);\n      }, pointScreenToWorldHitTest: function pointScreenToWorldHitTest(t, e, i, n) {\n        return l(this._tempMatrix, e, i, t, n, this._tempHitTest);\n      }, transformX: function transformX(t) {\n        return (t - this.canvas.offsetLeft) * this.scale.x;\n      }, transformY: function transformY(t) {\n        return (t - this.canvas.offsetTop) * this.scale.y;\n      }, getOffsetX: function getOffsetX() {\n        return this.canvas.offsetLeft;\n      }, getOffsetY: function getOffsetY() {\n        return this.canvas.offsetTop;\n      }, getScaleX: function getScaleX() {\n        return this.game.config.width / this.canvas.offsetWidth;\n      }, getScaleY: function getScaleY() {\n        return this.game.config.height / this.canvas.offsetHeight;\n      } });t.exports = v;\n  }, function (t, e, i) {\n    function n(t) {\n      var e = function e(_e4) {\n        r.call(this, t), this.data = _e4;\n      };return e.prototype = Object.create(r.prototype), e.prototype.constructor = e, e;\n    }var r = i(1),\n        s = i(75),\n        a = { KEY_DOWN_EVENT: i(465), KEY_UP_EVENT: i(466), _UP: [], _DOWN: [] };for (var o in s) {\n      var h = "KEY_DOWN_" + o,\n          u = "KEY_UP_" + o;a._DOWN[s[o]] = n(h), a._UP[s[o]] = n(u), a[h] = a._DOWN[s[o]], a[u] = a._UP[s[o]];\n    }t.exports = a;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t) {\n        r.call(this, "KEY_DOWN_EVENT"), this.data = t;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t) {\n        r.call(this, "KEY_UP_EVENT"), this.data = t;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "KEY_COMBO_MATCH_EVENT"), this.target = t, this.data = e;\n      } });t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e.timeLastMatched = t.timeStamp, ++e.index === e.size || (e.current = e.keyCodes[e.index], !1);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.current = t.keyCodes[0], t.index = 0, t.timeLastMatched = 0, t.matched = !1, t.timeMatched = 0, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (t.originalEvent = e, t.preventDefault && e.preventDefault(), t.enabled) return t.altKey = e.altKey, t.ctrlKey = e.ctrlKey, t.shiftKey = e.shiftKey, t.location = e.location, t.isDown = !0, t.isUp = !1, t.timeDown = e.timeStamp, t.duration = 0, t.repeats++, t._justDown = !0, t._justUp = !1, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (t.originalEvent = e, t.preventDefault && e.preventDefault(), t.enabled) return t.isDown = !1, t.isUp = !0, t.timeUp = e.timeStamp, t.duration = t.timeUp - t.timeDown, t.repeats = 0, t._justDown = !1, t._justUp = !0, t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { DOWN: i(473), UP: i(474), MOVE: i(475) };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t) {\n        r.call(this, "MOUSE_DOWN_EVENT"), this.data = t, this.x = t.clientX, this.y = t.clientY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t) {\n        r.call(this, "MOUSE_UP_EVENT"), this.data = t, this.x = t.clientX, this.y = t.clientY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t) {\n        r.call(this, "MOUSE_MOVE_EVENT"), this.data = t, this.x = t.clientX, this.y = t.clientY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.manager = t, this.capture = !1, this.enabled = !1, this.target, this.handler;\n      }, boot: function boot() {\n        var t = this.manager.config;this.enabled = t.inputTouch, this.target = t.inputTouchEventTarget, this.target || (this.target = this.manager.game.canvas), this.enabled && this.startListeners();\n      }, startListeners: function startListeners() {\n        var t = this.manager.queue,\n            e = this,\n            i = function i(_i87) {\n          _i87.preventDefaulted || (t.push(_i87), e.capture && _i87.preventDefault());\n        };this.handler = i, this.target.addEventListener("touchstart", i, !1), this.target.addEventListener("touchmove", i, !1), this.target.addEventListener("touchend", i, !1);\n      }, stopListeners: function stopListeners() {\n        this.target.removeEventListener("touchstart", this.handler), this.target.removeEventListener("touchmove", this.handler), this.target.removeEventListener("touchend", this.handler);\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e) {\n        this.manager = t, this.id = e, this.event, this.camera = null, this.buttons = 0, this.x = 0, this.y = 0, this.downX = 0, this.downY = 0, this.downTime = 0, this.upX = 0, this.upY = 0, this.upTime = 0, this.primaryDown = !1, this.dragState = 0, this.isDown = !1, this.dirty = !1, this.justDown = !1, this.justUp = !1, this.justMoved = !1;\n      }, reset: function reset() {\n        this.buttons = 0, this.dirty = !1, this.isDown = !1, this.justDown = !1, this.justUp = !1, this.justMoved = !1;\n      }, touchmove: function touchmove(t, e) {\n        this.event = t, this.x = this.manager.transformX(t.changedTouches[0].pageX), this.y = this.manager.transformY(t.changedTouches[0].pageY), this.justMoved = !0, this.dirty = !0;\n      }, move: function move(t, e) {\n        t.buttons && (this.buttons = t.buttons), this.event = t, this.x = this.manager.transformX(t.pageX), this.y = this.manager.transformY(t.pageY), this.justMoved = !0, this.dirty = !0;\n      }, down: function down(t, e) {\n        t.buttons && (this.buttons = t.buttons), this.event = t, this.x = this.manager.transformX(t.pageX), this.y = this.manager.transformY(t.pageY), 0 === t.button && (this.primaryDown = !0, this.downX = this.x, this.downY = this.y, this.downTime = e), this.justDown = !0, this.isDown = !0, this.dirty = !0;\n      }, touchstart: function touchstart(t, e) {\n        this.buttons = 1, this.event = t, this.x = this.manager.transformX(t.changedTouches[0].pageX), this.y = this.manager.transformY(t.changedTouches[0].pageY), this.primaryDown = !0, this.downX = this.x, this.downY = this.y, this.downTime = e, this.justDown = !0, this.isDown = !0, this.dirty = !0;\n      }, up: function up(t, e) {\n        t.buttons && (this.buttons = t.buttons), this.event = t, this.x = this.manager.transformX(t.pageX), this.y = this.manager.transformY(t.pageY), 0 === t.button && (this.primaryDown = !1, this.upX = this.x, this.upY = this.y, this.upTime = e), this.justUp = !0, this.isDown = !1, this.dirty = !0;\n      }, touchend: function touchend(t, e) {\n        this.buttons = 0, this.event = t, this.x = this.manager.transformX(t.changedTouches[0].pageX), this.y = this.manager.transformY(t.changedTouches[0].pageY), this.primaryDown = !1, this.upX = this.x, this.upY = this.y, this.upTime = e, this.justUp = !0, this.isDown = !1, this.dirty = !0;\n      }, noButtonDown: function noButtonDown() {\n        return 0 === this.buttons;\n      }, leftButtonDown: function leftButtonDown() {\n        return 1 & this.buttons;\n      }, rightButtonDown: function rightButtonDown() {\n        return 2 & this.buttons;\n      }, middleButtonDown: function middleButtonDown() {\n        return 4 & this.buttons;\n      }, backButtonDown: function backButtonDown() {\n        return 8 & this.buttons;\n      }, forwardButtonDown: function forwardButtonDown() {\n        return 16 & this.buttons;\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(74),\n        r = i(174),\n        s = function s(t, e, i, _s2, a, o) {\n      var h = (_s2.length, a.scrollX),\n          u = a.scrollY,\n          c = a.width,\n          l = a.height;if (o.length = 0, !(e >= a.x && i >= a.y && e <= a.x + c && i <= a.y + l)) return o;var f = a.cameraToScreen({ x: e, y: i });if (Array.isArray(_s2)) for (var d = a.cull(_s2), p = d.length, v = 0; v < p; ++v) {\n        var g = d[v],\n            x = n(t, g, f.x + h * g.scrollFactorX, f.y + u * g.scrollFactorY);r(g, x.x, x.y) && o.push(g);\n      } else {\n        var g = _s2,\n            x = n(t, g, f.x + h * g.scrollFactorX, f.y + u * g.scrollFactorY);r(g, x.x, x.y) && o.push(g);\n      }return o;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(74),\n        r = i(480),\n        s = function s(t, e, i, _s3, a, o) {\n      var h = a.width,\n          u = a.height;if (o.length = 0, !(e >= a.x && i >= a.y && e <= a.x + h && i <= a.y + u)) return o;for (var c = a.cameraToScreen({ x: e, y: i }), l = a.cull(_s3), f = 0; f < l.length; f++) {\n        var d = l[f];if (d.input.enabled && d.willRender()) {\n          var p = n(t, d, c.x + a.scrollX * d.scrollFactorX, c.y + a.scrollY * d.scrollFactorY);r(d, p.x, p.y, a) && o.push(d);\n        }\n      }return o;\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e, _i88, n) {\n      var r = t.input;return e += t.displayOriginX, _i88 += t.displayOriginY, !!r.hitAreaCallback(r.hitArea, e, _i88, t) && (r.localX = e, r.localY = _i88, !0);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(482),\n        r = i(0),\n        s = new r({ initialize: function initialize(t, e) {\n        if (this.game = t, this.keys = {}, this.scenes = [], this.active = [], this._pending = [], this._start = [], e) if (Array.isArray(e)) for (var i = 0; i < e.length; i++) {\n          this._pending.push({ index: i, key: "default", scene: e[i], autoStart: 0 === i, data: {} });\n        } else this._pending.push({ index: 0, key: "default", scene: e, autoStart: !0, data: {} });\n      }, add: n.Add, boot: n.Boot, bootScene: n.BootScene, bringToTop: n.BringToTop, create: n.Create, createSceneDisplay: n.CreateSceneDisplay, createSceneFromFunction: n.CreateSceneFromFunction, createSceneFromInstance: n.CreateSceneFromInstance, createSceneFromObject: n.CreateSceneFromObject, getActiveScene: n.GetActiveScene, getActiveSceneIndex: n.GetActiveSceneIndex, getActiveSceneIndexByKey: n.GetActiveSceneIndexByKey, getKey: n.GetKey, getScene: n.GetScene, getSceneAt: n.GetSceneAt, getSceneIndex: n.GetSceneIndex, getSceneIndexByKey: n.GetSceneIndexByKey, isActive: n.IsActive, isSleeping: n.IsSleeping, loadComplete: n.LoadComplete, moveDown: n.MoveDown, moveUp: n.MoveUp, pause: n.Pause, payloadComplete: n.PayloadComplete, resume: n.Resume, sendToBack: n.SendToBack, setupCallbacks: n.SetupCallbacks, sleep: n.Sleep, start: n.Start, stop: n.Stop, swap: n.Swap, swapPosition: n.SwapPosition, wake: n.Wake });t.exports = s;\n  }, function (t, e, i) {\n    t.exports = { Add: i(483), Boot: i(748), BootScene: i(749), BringToTop: i(750), Create: i(751), CreateSceneDisplay: i(752), CreateSceneFromFunction: i(753), CreateSceneFromInstance: i(754), CreateSceneFromObject: i(755), GetActiveScene: i(756), GetActiveSceneIndex: i(757), GetActiveSceneIndexByKey: i(758), GetKey: i(759), GetScene: i(760), GetSceneAt: i(761), GetSceneIndex: i(762), GetSceneIndexByKey: i(763), IsActive: i(764), IsSleeping: i(765), LoadComplete: i(766), MoveDown: i(767), MoveUp: i(768), Pause: i(769), PayloadComplete: i(770), Resume: i(771), SendToBack: i(772), SetupCallbacks: i(773), Sleep: i(774), SortScenes: i(61), Start: i(775), Stop: i(776), Swap: i(777), SwapPosition: i(778), Wake: i(779) };\n  }, function (t, e, i) {\n    var n = i(46),\n        r = function r(t, e, i) {\n      if (void 0 === i && (i = !1), !this.game.isBooted) return void this._pending.push({ index: this._pending.length, key: t, scene: e, autoStart: i });t = this.getKey(t, e);var r;return e instanceof n ? r = this.createSceneFromInstance(t, e) : "object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) ? (e.key = t, r = this.createSceneFromObject(t, e)) : "function" == typeof e && (r = this.createSceneFromFunction(t, e)), t = r.sys.settings.key, this.keys[t] = r, this.scenes.push(r), (i || r.sys.settings.active) && (this.game.isBooted ? this.start(t) : this._start.push(t)), r;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(176),\n        r = i(0),\n        s = i(7),\n        a = i(513),\n        o = i(27),\n        h = i(514),\n        u = new r({ initialize: function initialize(t) {\n        this.currentCameraId = 1, this.scene = t, this.cameras = [], this.cameraPool = [], t.sys.settings.cameras ? this.fromJSON(t.sys.settings.cameras) : this.add(), this.main = this.cameras[0];\n      }, fromJSON: function fromJSON(t) {\n        Array.isArray(t) || (t = [t]);for (var e = this.scene.sys.game.config.width, i = this.scene.sys.game.config.height, n = 0; n < t.length; n++) {\n          var r = t[n],\n              a = s(r, "x", 0),\n              o = s(r, "y", 0),\n              h = s(r, "width", e),\n              u = s(r, "height", i),\n              c = this.add(a, o, h, u);c.name = s(r, "name", ""), c.zoom = s(r, "zoom", 1), c.rotation = s(r, "rotation", 0), c.scrollX = s(r, "scrollX", 0), c.scrollY = s(r, "scrollY", 0), c.roundPixels = s(r, "roundPixels", !1);var l = s(r, "backgroundColor", !1);l && c.setBackgroundColor(l);var f = s(r, "bounds", null);if (f) {\n            var d = s(f, "x", 0),\n                p = s(f, "y", 0),\n                v = s(f, "width", e),\n                g = s(f, "height", i);c.setBounds(d, p, v, g);\n          }\n        }return this;\n      }, add: function add(t, e, i, r, s) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.scene.sys.game.config.width), void 0 === r && (r = this.scene.sys.game.config.height), void 0 === s && (s = !1);var a = null;return this.cameraPool.length > 0 ? (a = this.cameraPool.pop(), a.setViewport(t, e, i, r)) : a = new n(t, e, i, r), a.setScene(this.scene), this.cameras.push(a), s && (this.main = a), a._id = this.currentCameraId, this.currentCameraId = this.currentCameraId << 1, a;\n      }, addKeyControl: function addKeyControl(t) {\n        return new a(t);\n      }, addSmoothedKeyControl: function addSmoothedKeyControl(t) {\n        return new h(t);\n      }, addReference: function addReference(t) {\n        var e = this.cameras.indexOf(t),\n            i = this.cameraPool.indexOf(t);return e < 0 && i >= 0 ? (this.cameras.push(t), this.cameraPool.slice(i, 1), t) : null;\n      }, remove: function remove(t) {\n        var e = this.cameras.indexOf(t);e >= 0 && this.cameras.length > 1 && (this.cameraPool.push(this.cameras[e]), this.cameras.splice(e, 1), this.main === t && (this.main = this.cameras[0]));\n      }, resetAll: function resetAll() {\n        for (; this.cameras.length > 0;) {\n          this.cameraPool.push(this.cameras.pop());\n        }return this.main = this.add(), this.main;\n      }, update: function update(t, e) {\n        for (var i = 0, n = this.cameras.length; i < n; ++i) {\n          this.cameras[i].update(t, e);\n        }\n      }, getCameraBelowPointer: function getCameraBelowPointer(t) {\n        for (var e = this.cameras, i = e.length - 1; i >= 0; i--) {\n          var n = e[i];if (n.inputEnabled && o(n, t.x, t.y)) return n;\n        }\n      }, render: function render(t, e, i) {\n        for (var n = this.cameras, r = 0, s = n.length; r < s; ++r) {\n          var a = n[r];a.preRender(), t.render(this.scene, e, i, a);\n        }\n      }, destroy: function destroy() {\n        this.main = void 0;for (var t = 0; t < this.cameras.length; t++) {\n          this.cameras[t].destroy();\n        }for (t = 0; t < this.cameraPool.length; t++) {\n          this.cameraPool[t].destroy();\n        }this.cameras = [], this.cameraPool = [], this.scene = void 0;\n      } });t.exports = u;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = this.matrix.matrix,\n          n = i[0],\n          r = i[1],\n          s = i[2],\n          a = i[3],\n          o = i[4],\n          h = i[5],\n          u = n * a - r * s;if (!u) return t;u = 1 / u;var c = a * u,\n          l = -r * u,\n          f = -s * u,\n          d = n * u,\n          p = (s * h - a * o) * u,\n          v = (r * o - n * h) * u,\n          g = t.x,\n          x = t.y;return e || (e = { x: 0, y: 0 }), e.x = g * c + x * f + p, e.y = g * l + x * d + v, e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      return this.scrollX = .5 * this._bounds.width - .5 * this.width, this.scrollY = .5 * this._bounds.height - .5 * this.height, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      return this.scrollX = .5 * this.width, this.scrollY = .5 * this.height, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      if (this.disableCull) return t;var e = this.matrix.matrix,\n          i = e[0],\n          n = e[1],\n          r = e[2],\n          s = e[3],\n          a = i * s - n * r;if (!a) return t;var o = e[4],\n          h = e[5],\n          u = this.scrollX,\n          c = this.scrollY,\n          l = this.width,\n          f = this.height,\n          d = this.culledObjects,\n          p = t.length;a = 1 / a, d.length = 0;for (var v = 0; v < p; ++v) {\n        var g = t[v];if (g.hasOwnProperty("width")) {\n          var x = g.width,\n              m = g.height,\n              y = g.x - u * g.scrollFactorX - x * g.originX,\n              w = g.y - c * g.scrollFactorY - m * g.originY,\n              E = y * i + w * r + o,\n              T = y * n + w * s + h,\n              b = (y + x) * i + (w + m) * r + o,\n              _ = (y + x) * n + (w + m) * s + h,\n              A = l + x,\n              S = f + m;(E > -x || T > -m || E < A || T < S || b > -x || _ > -m || b < A || _ < S) && d.push(g);\n        } else d.push(g);\n      }return d;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      if (this.disableCull) return t;var e = this.matrix.matrix,\n          i = e[0],\n          n = e[1],\n          r = e[2],\n          s = e[3],\n          a = i * s - n * r;if (!a) return t;var o = e[4],\n          h = e[5],\n          u = this.scrollX,\n          c = this.scrollY,\n          l = this.width,\n          f = this.height,\n          d = t.length;a = 1 / a;for (var p = [], v = 0; v < d; ++v) {\n        var g = t[v].gameObject;if (g.hasOwnProperty("width")) {\n          var x = g.width,\n              m = g.height,\n              y = g.x - u * g.scrollFactorX - x * g.originX,\n              w = g.y - c * g.scrollFactorY - m * g.originY,\n              E = y * i + w * r + o,\n              T = y * n + w * s + h,\n              b = (y + x) * i + (w + m) * r + o,\n              _ = (y + x) * n + (w + m) * s + h,\n              A = l + x,\n              S = f + m;(E > -x || T > -m || E < A || T < S || b > -x || _ > -m || b < A || _ < S) && p.push(t[v]);\n        } else p.push(t[v]);\n      }return p;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.matrix.matrix,\n          i = e[0],\n          n = e[1],\n          r = e[2],\n          s = e[3],\n          a = i * s - n * r;if (!a) return u;var o = e[4],\n          h = e[5],\n          u = t.tiles,\n          c = this.scrollX,\n          l = this.scrollY,\n          f = this.width,\n          d = this.height,\n          p = this.culledObjects,\n          v = u.length,\n          g = t.tileWidth,\n          x = t.tileHeight,\n          m = f + g,\n          y = d + x,\n          w = t.scrollFactorX,\n          E = t.scrollFactorY;a = 1 / a, p.length = 0;for (var T = 0; T < v; ++T) {\n        var b = u[T],\n            _ = b.x - c * w,\n            A = b.y - l * E,\n            S = _ * i + A * r + o,\n            R = _ * n + A * s + h,\n            M = (_ + g) * i + (A + x) * r + o,\n            O = (_ + g) * n + (A + x) * s + h;S > -g && R > -x && M < m && O < y && p.push(b);\n      }return p;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      this._bounds = void 0, this.matrix = void 0, this.culledObjects = [], this.scene = void 0;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i89, n, r) {\n      void 0 === e && (e = 0), void 0 === _i89 && (_i89 = 0), void 0 === n && (n = 0), !r && this._fadeAlpha > 0 || (this._fadeRed = e, this._fadeGreen = _i89, this._fadeBlue = n, t <= 0 && (t = Number.MIN_VALUE), this._fadeDuration = t, this._fadeAlpha = Number.MIN_VALUE);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i90, n, r) {\n      !r && this._flashAlpha > 0 || (void 0 === e && (e = 1), void 0 === _i90 && (_i90 = 1), void 0 === n && (n = 1), this._flashRed = e, this._flashGreen = _i90, this._flashBlue = n, t <= 0 && (t = Number.MIN_VALUE), this._flashDuration = t, this._flashAlpha = 1);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      if (t instanceof Array) for (var e = 0; e < t.length; ++e) {\n        t[e].cameraFilter |= this._id;\n      } else t.cameraFilter |= this._id;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      var t = this.width,\n          e = this.height,\n          i = this.zoom,\n          n = this.matrix,\n          r = t / 2,\n          s = e / 2,\n          a = this._follow;if (null !== a && (r = a.x, s = a.y, this.scrollX = r - .5 * t, this.scrollY = s - .5 * e), this.useBounds) {\n        var o = this._bounds,\n            h = o.x,\n            u = o.y,\n            c = Math.max(o.right - t, t),\n            l = Math.max(o.bottom - e, e);this.scrollX < h && (this.scrollX = h), this.scrollX > c && (this.scrollX = c), this.scrollY < u && (this.scrollY = u), this.scrollY > l && (this.scrollY = l);\n      }this.roundPixels && (this.scrollX = Math.round(this.scrollX), this.scrollY = Math.round(this.scrollY)), n.loadIdentity(), n.translate(this.x + r, this.y + s), n.rotate(this.rotation), n.scale(i, i), n.translate(-r, -s), n.translate(this._shakeOffsetX, this._shakeOffsetY);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      return this.useBounds = !1, this._bounds.setEmpty(), this;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(52),\n        r = function r(t) {\n      return void 0 === t && (t = "rgba(0,0,0,0)"), this.backgroundColor = n(t), this.transparent = 0 === this.backgroundColor.alpha, this;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i91, n) {\n      return this._bounds.setTo(t, e, _i91, n), this.useBounds = !0, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t && (t = ""), this.name = t, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = t), this.x = t, this.y = e, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t && (t = 0), this.rotation = t, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.roundPixels = t, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.scene = t, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = t), this.scrollX = t, this.scrollY = e, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = t), this.width = t, this.height = e, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i92, n) {\n      return this.x = t, this.y = e, this.width = _i92, this.height = n, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return void 0 === t && (t = 1), this.zoom = t, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i93) {\n      void 0 === e && (e = .05), (_i93 || 0 === this._shakeOffsetX && 0 === this._shakeOffsetY) && (this._shakeDuration = t, this._shakeIntensity = e, this._shakeOffsetX = 0, this._shakeOffsetY = 0);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return null !== this._follow && this.stopFollow(), this._follow = t, void 0 !== e && (this.roundPixels = e), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      this._follow = null;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      var t = { name: this.name, x: this.x, y: this.y, width: this.width, height: this.height, zoom: this.zoom, rotation: this.rotation, roundPixels: this.roundPixels, scrollX: this.scrollX, scrollY: this.scrollY, backgroundColor: this.backgroundColor.rgba };return this.useBounds && (t.bounds = { x: this._bounds.x, y: this._bounds.y, width: this._bounds.width, height: this._bounds.height }), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (this._flashAlpha > 0 && (this._flashAlpha -= e / this._flashDuration, this._flashAlpha < 0 && (this._flashAlpha = 0)), this._fadeAlpha > 0 && this._fadeAlpha < 1 && (this._fadeAlpha += e / this._fadeDuration, this._fadeAlpha >= 1 && (this._fadeAlpha = 1)), this._shakeDuration > 0) {\n        var i = this._shakeIntensity;this._shakeDuration -= e, this._shakeDuration <= 0 ? (this._shakeOffsetX = 0, this._shakeOffsetY = 0) : (this._shakeOffsetX = (Math.random() * i * this.width * 2 - i * this.width) * this.zoom, this._shakeOffsetY = (Math.random() * i * this.height * 2 - i * this.height) * this.zoom);\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(2),\n        s = new n({ initialize: function initialize(t) {\n        this.camera = r(t, "camera", null), this.left = r(t, "left", null), this.right = r(t, "right", null), this.up = r(t, "up", null), this.down = r(t, "down", null), this.zoomIn = r(t, "zoomIn", null), this.zoomOut = r(t, "zoomOut", null), this.zoomSpeed = r(t, "zoomSpeed", .01);var e = r(t, "speed", null);"number" == typeof e ? (this.speedX = e, this.speedY = e) : (this.speedX = r(t, "speed.x", 0), this.speedY = r(t, "speed.y", 0)), this._zoom = 0, this.active = null !== this.camera;\n      }, start: function start() {\n        this.active = null !== this.camera;\n      }, stop: function stop() {\n        this.active = !1;\n      }, update: function update(t) {\n        if (this.active) {\n          void 0 === t && (t = 1);var e = this.camera;this.up && this.up.isDown ? e.scrollY -= this.speedY * t | 0 : this.down && this.down.isDown && (e.scrollY += this.speedY * t | 0), this.left && this.left.isDown ? e.scrollX -= this.speedX * t | 0 : this.right && this.right.isDown && (e.scrollX += this.speedX * t | 0), this.zoomIn && this.zoomIn.isDown ? (e.zoom -= this.zoomSpeed, e.zoom < .1 && (e.zoom = .1)) : this.zoomOut && this.zoomOut.isDown && (e.zoom += this.zoomSpeed);\n        }\n      }, destroy: function destroy() {\n        this.camera = null, this.left = null, this.right = null, this.up = null, this.down = null, this.zoomIn = null, this.zoomOut = null;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(2),\n        s = new n({ initialize: function initialize(t) {\n        this.camera = r(t, "camera", null), this.left = r(t, "left", null), this.right = r(t, "right", null), this.up = r(t, "up", null), this.down = r(t, "down", null), this.zoomIn = r(t, "zoomIn", null), this.zoomOut = r(t, "zoomOut", null), this.zoomSpeed = r(t, "zoomSpeed", .01);var e = r(t, "acceleration", null);"number" == typeof e ? (this.accelX = e, this.accelY = e) : (this.accelX = r(t, "acceleration.x", 0), this.accelY = r(t, "acceleration.y", 0));var i = r(t, "drag", null);"number" == typeof i ? (this.dragX = i, this.dragY = i) : (this.dragX = r(t, "drag.x", 0), this.dragY = r(t, "drag.y", 0));var n = r(t, "maxSpeed", null);"number" == typeof n ? (this.maxSpeedX = n, this.maxSpeedY = n) : (this.maxSpeedX = r(t, "maxSpeed.x", 0), this.maxSpeedY = r(t, "maxSpeed.y", 0)), this._speedX = 0, this._speedY = 0, this._zoom = 0, this.active = null !== this.camera;\n      }, start: function start() {\n        this.active = null !== this.camera;\n      }, stop: function stop() {\n        this.active = !1;\n      }, update: function update(t) {\n        if (this.active) {\n          void 0 === t && (t = 1);var e = this.camera;this._speedX > 0 ? (this._speedX -= this.dragX * t, this._speedX < 0 && (this._speedX = 0)) : this._speedX < 0 && (this._speedX += this.dragX * t, this._speedX > 0 && (this._speedX = 0)), this._speedY > 0 ? (this._speedY -= this.dragY * t, this._speedY < 0 && (this._speedY = 0)) : this._speedY < 0 && (this._speedY += this.dragY * t, this._speedY > 0 && (this._speedY = 0)), this.up && this.up.isDown ? (this._speedY += this.accelY, this._speedY > this.maxSpeedY && (this._speedY = this.maxSpeedY)) : this.down && this.down.isDown && (this._speedY -= this.accelY, this._speedY < -this.maxSpeedY && (this._speedY = -this.maxSpeedY)), this.left && this.left.isDown ? (this._speedX += this.accelX, this._speedX > this.maxSpeedX && (this._speedX = this.maxSpeedX)) : this.right && this.right.isDown && (this._speedX -= this.accelX, this._speedX < -this.maxSpeedX && (this._speedX = -this.maxSpeedX)), this.zoomIn && this.zoomIn.isDown ? this._zoom = -this.zoomSpeed : this.zoomOut && this.zoomOut.isDown ? this._zoom = this.zoomSpeed : this._zoom = 0, 0 !== this._speedX && (e.scrollX -= this._speedX * t | 0), 0 !== this._speedY && (e.scrollY -= this._speedY * t | 0), 0 !== this._zoom && (e.zoom += this._zoom, e.zoom < .1 && (e.zoom = .1));\n        }\n      }, destroy: function destroy() {\n        this.camera = null, this.left = null, this.right = null, this.up = null, this.down = null, this.zoomIn = null, this.zoomOut = null;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(516),\n        s = new n({ initialize: function initialize(t) {\n        this.scene = t, this.now = Date.now(), this.timeScale = 1, this.paused = !1, this._active = [], this._pendingInsertion = [], this._pendingRemoval = [];\n      }, addEvent: function addEvent(t) {\n        var e = new r(t);return this._pendingInsertion.push(e), e;\n      }, delayedCall: function delayedCall(t, e, i, n) {\n        return this.addEvent({ delay: t, callback: e, args: i, callbackScope: n });\n      }, clearPendingEvents: function clearPendingEvents() {\n        this._pendingInsertion = [];\n      }, removeAllEvents: function removeAllEvents() {\n        return this._pendingRemoval = this._pendingRemoval.concat(this._active), this;\n      }, begin: function begin() {\n        var t = this._pendingRemoval.length,\n            e = this._pendingInsertion.length;if (0 !== t || 0 !== e) {\n          var i, n;for (i = 0; i < t; i++) {\n            n = this._pendingRemoval[i];var r = this._active.indexOf(n);r > -1 && this._active.splice(r, 1), n.destroy();\n          }for (i = 0; i < e; i++) {\n            n = this._pendingInsertion[i], n.elapsed = n.startAt * n.timeScale, this._active.push(n);\n          }this._pendingRemoval.length = 0, this._pendingInsertion.length = 0;\n        }\n      }, update: function update(t, e) {\n        if (this.now = t, !this.paused) {\n          this.timeScale;for (var i = 0; i < this._active.length; i++) {\n            var n = this._active[i];if (!n.paused && (n.elapsed += e * n.timeScale, n.elapsed >= n.delay)) {\n              var r = n.elapsed - n.delay;n.elapsed = n.delay, !n.hasDispatched && n.callback && (n.hasDispatched = !0, n.callback.apply(n.callbackScope, n.args)), n.repeatCount > 0 ? (n.repeatCount--, n.elapsed = r, n.hasDispatched = !1) : this._pendingRemoval.push(n);\n            }\n          }\n        }\n      }, shutdown: function shutdown() {\n        var t;for (t = 0; t < this._pendingInsertion.length; t++) {\n          this._pendingInsertion[t].destroy();\n        }for (t = 0; t < this._active.length; t++) {\n          this._active[t].destroy();\n        }for (t = 0; t < this._pendingRemoval.length; t++) {\n          this._pendingRemoval[t].destroy();\n        }this._active.length = 0, this._pendingRemoval.length = 0, this._pendingInsertion.length = 0;\n      }, destroy: function destroy() {\n        this.shutdown(), this.scene = void 0;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(7),\n        s = new n({ initialize: function initialize(t) {\n        this.delay = 0, this.repeat = 0, this.repeatCount = 0, this.loop = !1, this.callback, this.callbackScope, this.args, this.timeScale = 1, this.startAt = 0, this.elapsed = 0, this.paused = !1, this.hasDispatched = !1, this.reset(t);\n      }, reset: function reset(t) {\n        return this.delay = r(t, "delay", 0), this.repeat = r(t, "repeat", 0), this.loop = r(t, "loop", !1), this.callback = r(t, "callback", void 0), this.callbackScope = r(t, "callbackScope", this.callback), this.args = r(t, "args", []), this.timeScale = r(t, "timeScale", 1), this.startAt = r(t, "startAt", 0), this.paused = r(t, "paused", !1), this.elapsed = 0, this.hasDispatched = !1, this.repeatCount = -1 === this.repeat || this.loop ? 999999999999 : this.repeat, this;\n      }, getProgress: function getProgress() {\n        return this.elapsed / this.delay;\n      }, getOverallProgress: function getOverallProgress() {\n        if (this.repeat > 0) {\n          var t = this.delay + this.delay * this.repeat;return (this.elapsed + this.delay * (this.repeat - this.repeatCount)) / t;\n        }return this.getProgress();\n      }, getRepeatCount: function getRepeatCount() {\n        return this.repeatCount;\n      }, getElapsed: function getElapsed() {\n        return this.elapsed;\n      }, getElapsedSeconds: function getElapsedSeconds() {\n        return .001 * this.elapsed;\n      }, remove: function remove(t) {\n        void 0 === t && (t = !1), this.elapsed = this.delay, this.hasDispatched = !!t, this.repeatCount = 0;\n      }, destroy: function destroy() {\n        this.callback = void 0, this.callbackScope = void 0, this.args.length = 0;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(518),\n        r = i(0),\n        s = i(523),\n        a = i(527),\n        o = i(532),\n        h = i(536),\n        u = i(540),\n        c = i(544),\n        l = i(548),\n        f = i(552),\n        d = i(553),\n        p = i(557),\n        v = i(559),\n        g = i(565),\n        x = i(569),\n        m = i(576),\n        y = new r({ initialize: function initialize(t) {\n        this.scene = t;\n      }, bitmapText: function bitmapText(t) {\n        return v(this.scene, t);\n      }, dynamicBitmapText: function dynamicBitmapText(t) {\n        return s(this.scene, t);\n      }, blitter: function blitter(t) {\n        return n(this.scene, t);\n      }, effectLayer: function effectLayer(t) {\n        return o(this.scene, t);\n      }, graphics: function graphics(t) {\n        return h(this.scene, t);\n      }, group: function group(t) {\n        return u(this.scene, t);\n      }, mesh: function mesh(t) {\n        return l(this.scene, t);\n      }, image: function image(t) {\n        return c(this.scene, t);\n      }, quad: function quad(t) {\n        return f(this.scene, t);\n      }, renderPass: function renderPass(t) {\n        return d(this.scene, t);\n      }, sprite: function sprite(t) {\n        return p(this.scene, t);\n      }, text: function text(t) {\n        return x(this.scene, t);\n      }, tilemap: function tilemap(t) {\n        return a(this.scene, t);\n      }, staticTilemap: function staticTilemap(t) {\n        return g(this.scene, t);\n      }, tileSprite: function tileSprite(t) {\n        return m(this.scene, t);\n      }, tween: function tween(t) {\n        return this.scene.sys.tweens.create(t);\n      } });t.exports = y;\n  }, function (t, e, i) {\n    var n = i(76),\n        r = i(5),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "key", null),\n          a = r(e, "frame", null),\n          o = new n(t, 0, 0, i, a);return s(t, o, e), o;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(520), renderWebGL: i(521) };\n  }, function (t, e) {\n    var i = function i(t, e, _i94, n) {\n      if (!(e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        var r = e.getRenderList();t.setBlendMode(e.blendMode);for (var s = t.currentAlpha, a = 0; a < r.length; a++) {\n          var o = r[a];s !== o.alpha && (s = t.setAlpha(o.alpha)), t.blitImage(o.x, o.y, o.frame, n);\n        }\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i95, n) {\n      if (!(e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id)) for (var r = e.getRenderList(), s = t.blitterBatch, a = n.matrix.matrix, o = a[0], h = a[1], u = a[2], c = a[3], l = a[4], f = a[5], d = n.scrollX * e.scrollFactorX, p = n.scrollY * e.scrollFactorY, v = e.renderTarget, g = 0, x = r.length; g < x; g++) {\n        var m = r[g],\n            y = m.frame,\n            w = m.alpha,\n            E = s.vertexDataBuffer,\n            T = E.floatView,\n            b = 0,\n            _ = y.uvs,\n            A = y.width * (m.flipX ? -1 : 1),\n            S = y.height * (m.flipY ? -1 : 1),\n            R = m.x + y.x - d + y.width * (m.flipX ? 1 : 0),\n            M = m.y + y.y - p + y.height * (m.flipY ? 1 : 0),\n            O = R + A,\n            C = M + S,\n            L = R * o + M * u + l,\n            F = R * h + M * c + f,\n            I = O * o + C * u + l,\n            D = O * h + C * c + f;s.elementCount >= s.maxParticles && s.flush(), t.setRenderer(s, y.texture.source[y.sourceIndex].glTexture, n, v), b = E.allocate(20), s.elementCount += 6, R += y.x, M += y.y, T[b++] = L, T[b++] = F, T[b++] = _.x0, T[b++] = _.y0, T[b++] = w, T[b++] = L, T[b++] = D, T[b++] = _.x1, T[b++] = _.y1, T[b++] = w, T[b++] = I, T[b++] = D, T[b++] = _.x2, T[b++] = _.y2, T[b++] = w, T[b++] = I, T[b++] = F, T[b++] = _.x3, T[b++] = _.y3, T[b++] = w;\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i, n) {\n        this.parent, this.x = t, this.y = e, this.frame = i, this.data = {}, this._visible = n, this._alpha = 1, this.flipX, this.flipY = !1;\n      }, resetFlip: function resetFlip() {\n        this.flipX = !1, this.flipY = !1;\n      }, reset: function reset(t, e, i) {\n        this.x = t, this.y = e, this.frame = i;\n      }, destroy: function destroy() {\n        this.parent.dirty = !0, this.parent.children.remove(this), this.parent = void 0, this.frame = void 0, this.data = void 0;\n      }, visible: { get: function get() {\n          return this._visible;\n        }, set: function set(t) {\n          this._visible = t, this.parent.dirty = !0;\n        } }, alpha: { get: function get() {\n          return this._alpha;\n        }, set: function set(t) {\n          this._alpha = t, this.parent.dirty = !0;\n        } } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(77),\n        r = i(5),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "font", ""),\n          a = r(e, "text", ""),\n          o = r(e, "size", !1),\n          h = r(e, "align", "left"),\n          u = new n(t, 0, 0, i, a, o, h);return s(t, u, e), u;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(525), renderWebGL: i(526) };\n  }, function (t, e) {\n    var i = function i(t, e, _i96, n) {\n      var r = e.text,\n          s = r.length;if (!(e.renderMask !== e.renderFlags || 0 === s || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        var a = e.frame,\n            o = e.displayCallback,\n            h = n.scrollX * e.scrollFactorX,\n            u = n.scrollY * e.scrollFactorY,\n            c = e.fontData.chars,\n            l = e.fontData.lineHeight,\n            f = 0,\n            d = 0,\n            p = 0,\n            v = 0,\n            g = null,\n            x = 0,\n            m = 0,\n            y = 0,\n            w = 0,\n            E = 0,\n            T = 0,\n            b = null,\n            _ = 0,\n            A = t.currentContext,\n            S = e.frame.source.image,\n            R = a.cutX,\n            M = a.cutY,\n            O = 0,\n            C = e.fontSize / e.fontData.size;t.currentBlendMode !== e.blendMode && (t.currentBlendMode = e.blendMode, A.globalCompositeOperation = t.blendModes[e.blendMode]), t.currentAlpha !== e.alpha && (t.currentAlpha = e.alpha, A.globalAlpha = e.alpha), t.currentScaleMode !== e.scaleMode && (t.currentScaleMode = e.scaleMode), A.save(), A.translate(e.x, e.y), A.rotate(e.rotation), A.scale(e.scaleX, e.scaleY), e.cropWidth > 0 && e.cropHeight > 0 && (A.save(), A.beginPath(), A.rect(0, 0, e.cropWidth, e.cropHeight), A.clip(), A.closePath());for (var L = 0; L < s; ++L) {\n          if (C = e.fontSize / e.fontData.size, O = 0, 10 !== (v = r.charCodeAt(L))) {\n            if (g = c[v]) {\n              if (x = R + g.x, m = M + g.y, y = g.width, w = g.height, E = p + g.xOffset + f - e.scrollX, T = g.yOffset + d - e.scrollY, null !== b) {\n                var F = g.kerning[_];E += void 0 !== F ? F : 0;\n              }if (o) {\n                var I = o({ tint: { topLeft: 0, topRight: 0, bottomLeft: 0, bottomRight: 0 }, index: L, charCode: v, x: E, y: T, scale: C, rotation: 0, data: g.data });E = I.x, T = I.y, C = I.scale, O = I.rotation;\n              }E *= C, T *= C, E -= h, T -= u, A.save(), A.translate(E, T), A.rotate(O), A.scale(C, C), A.drawImage(S, x, m, y, w, 0, 0, y, w), A.restore(), f += g.xAdvance, p += 1, b = g, _ = v;\n            }\n          } else f = 0, p = 0, d += l, b = null;\n        }e.cropWidth > 0 && e.cropHeight > 0 && A.restore(), A.restore();\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(14),\n        r = new n(),\n        s = new n(),\n        a = function a(t, e, i, n) {\n      var a = e.text,\n          o = a.length;if (!(this.renderMask !== this.renderFlags || 0 === o || this.cameraFilter > 0 && this.cameraFilter & n._id)) {\n        var h,\n            u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w,\n            E,\n            T,\n            b,\n            _,\n            A,\n            S,\n            R,\n            M,\n            O,\n            C,\n            L,\n            F,\n            I,\n            D,\n            B,\n            P,\n            k,\n            N,\n            X,\n            U = e.displayCallback,\n            Y = e.frame,\n            V = n.scrollX * e.scrollFactorX,\n            z = n.scrollY * e.scrollFactorY,\n            a = e.text,\n            o = a.length,\n            G = e.fontData.chars,\n            H = e.fontData.lineHeight,\n            j = t.spriteBatch,\n            W = e.alpha,\n            q = e._tintTL,\n            K = e._tintTR,\n            Z = e._tintBL,\n            J = e._tintBR,\n            Q = j.vertexDataBuffer,\n            $ = Q.floatView,\n            tt = Q.uintView,\n            et = 0,\n            it = e.texture.source[Y.sourceIndex],\n            nt = Y.cutX,\n            rt = Y.cutY,\n            st = it.width,\n            at = it.height,\n            ot = it.glTexture,\n            ht = 0,\n            ut = 0,\n            ct = 0,\n            lt = 0,\n            ft = null,\n            dt = 0,\n            pt = 0,\n            vt = 0,\n            gt = 0,\n            xt = 0,\n            mt = 0,\n            yt = 0,\n            wt = 0,\n            Et = 0,\n            Tt = 0,\n            bt = 0,\n            _t = 0,\n            At = 0,\n            St = null,\n            Rt = 0,\n            Mt = r.matrix,\n            Ot = n.matrix.matrix,\n            Ct = e.fontSize / e.fontData.size,\n            Lt = s.matrix,\n            Ft = e.renderTarget;r.applyITRS(e.x - V, e.y - z, -e.rotation, e.scaleX, e.scaleY), T = Mt[0], b = Mt[1], _ = Mt[2], A = Mt[3], S = Mt[4], R = Mt[5], M = Ot[0], O = Ot[1], C = Ot[2], L = Ot[3], F = Ot[4], I = Ot[5], h = T * M + b * C, u = T * O + b * L, c = _ * M + A * C, l = _ * O + A * L, f = S * M + R * C + F, d = S * O + R * L + I;var It = t.gl;if (e.cropWidth > 0 && e.cropHeight > 0) {\n          null !== t.currentRenderer && t.currentRenderer.flush(), t.scissor.enabled || It.enable(It.SCISSOR_TEST);var Dt = e.cropWidth * e.scaleX,\n              Bt = e.cropHeight * e.scaleY;It.scissor(e.x, It.drawingBufferHeight - e.y - Bt, Dt, Bt);\n        }for (var Pt = 0; Pt < o; ++Pt) {\n          if (10 !== (lt = a.charCodeAt(Pt))) {\n            if (ft = G[lt]) {\n              if (dt = nt + ft.x, pt = rt + ft.y, vt = ft.width, gt = ft.height, xt = (ct + ft.xOffset + ht) * Ct, mt = (ft.yOffset + ut) * Ct, yt = 0, null !== St) {\n                var kt = ft.kerning[Rt];xt += void 0 !== kt ? kt : 0;\n              }if (U) {\n                var Nt = U({ color: 0, tint: { topLeft: q, topRight: K, bottomLeft: Z, bottomRight: J }, index: Pt, charCode: lt, x: xt, y: mt, scale: Ct, rotation: 0, data: ft.data });xt = Nt.x, mt = Nt.y, Ct = Nt.scale, yt = Nt.rotation, Nt.color ? (q = Nt.color, K = Nt.color, Z = Nt.color, J = Nt.color) : (q = Nt.tint.topLeft, K = Nt.tint.topRight, Z = Nt.tint.bottomLeft, J = Nt.tint.bottomRight);\n              }xt -= 0 | e.scrollX, mt -= 0 | e.scrollY, s.applyITRS(xt, mt, -yt, Ct, Ct), D = Lt[0], B = Lt[1], P = Lt[2], k = Lt[3], N = Lt[4], X = Lt[5], T = D * h + B * c, b = D * u + B * l, _ = P * h + k * c, A = P * u + k * l, S = N * h + X * c + f, R = N * u + X * l + d, wt = vt, Et = gt, p = S, v = R, g = Et * _ + S, x = Et * A + R, m = wt * T + Et * _ + S, y = wt * b + Et * A + R, w = wt * T + S, E = wt * b + R, Tt = dt / st, bt = (dt + vt) / st, _t = pt / at, At = (pt + gt) / at, j.elementCount >= j.maxParticles && j.flush(), t.setRenderer(j, ot, Ft), et = Q.allocate(24), j.elementCount += 6, $[et++] = p, $[et++] = v, $[et++] = Tt, $[et++] = _t, tt[et++] = q, $[et++] = W, $[et++] = g, $[et++] = x, $[et++] = Tt, $[et++] = At, tt[et++] = Z, $[et++] = W, $[et++] = m, $[et++] = y, $[et++] = bt, $[et++] = At, tt[et++] = J, $[et++] = W, $[et++] = w, $[et++] = E, $[et++] = bt, $[et++] = _t, tt[et++] = K, $[et++] = W, ht += ft.xAdvance, ct += 1, St = ft, Rt = lt;\n            }\n          } else ht = 0, ct = 0, ut += H, St = null;\n        }e.cropWidth > 0 && e.cropHeight > 0 && (j.flush(), t.scissor.enabled ? It.scissor(t.scissor.x, t.scissor.y, t.scissor.width, t.scissor.height) : (It.scissor(n.x, It.drawingBufferHeight - n.y - n.height, n.width, n.height), It.disable(It.SCISSOR_TEST)));\n      }\n    };t.exports = a;\n  }, function (t, e, i) {\n    var n = i(78),\n        r = i(2),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "map.data", null),\n          a = r(e, "map.width", 1),\n          o = r(e, "map.height", 1),\n          h = r(e, "x", 0),\n          u = r(e, "y", 0),\n          c = r(e, "tile.width", 16),\n          l = r(e, "tile.height", 16),\n          f = r(e, "tile.texture", null),\n          d = r(e, "tile.frame", null),\n          p = r(e, "tile.border", 0),\n          v = new n(t, i, h, u, c, l, a, o, p, f, d);return s(t, v, e), v;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(529), renderWebGL: i(530) };\n  }, function (t, e) {\n    var i = function i(t, e, _i97, n) {\n      if (!(e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        this.cull(n);var r = e.culledTiles,\n            s = r.length,\n            a = e.frame.source.image,\n            o = (e.scrollFactorX, e.scrollFactorY, e.alpha, e.x - n.scrollX * e.scrollFactorX),\n            h = e.y - n.scrollY * e.scrollFactorY,\n            u = t.gameContext;u.save(), u.translate(o, h), u.rotate(e.rotation), u.scale(e.scaleX, e.scaleY), u.scale(e.flipX ? -1 : 1, e.flipY ? -1 : 1);for (var c = 0; c < s; ++c) {\n          var l = r[c];u.drawImage(a, l.frameX, l.frameY, l.frameWidth, l.frameHeight, l.x, l.y, l.frameWidth, l.frameHeight);\n        }u.restore();\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i98, n) {\n      if (!(this.renderMask !== this.renderFlags || this.cameraFilter > 0 && this.cameraFilter & n._id)) {\n        this.cull(n);for (var r = e.culledTiles, s = r.length, a = t.spriteBatch, o = e.texture.source[0].glTexture, h = o.width, u = o.height, c = e.renderTarget, l = e.scrollFactorX, f = e.scrollFactorY, d = e.alpha, p = e.x, v = e.y, g = 0; g < s; ++g) {\n          var x = r[g];a.addTileTextureRect(o, p + x.x, v + x.y, x.width, x.height, d * x.alpha, x.tint, l, f, h, u, x.frameX, x.frameY, x.frameWidth, x.frameHeight, n, c);\n        }\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    function i(t) {\n      this.index = t.index, this.id = t.id, this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this.frameX = t.frameX, this.frameY = t.frameY, this.frameWidth = t.frameWidth, this.frameHeight = t.frameHeight, this.alpha = 1, this.tint = 16777215, this.visible = !0, this.textureWidth = t.textureWidth, this.textureHeight = t.textureHeight, this.border = t.border, this.center = t.center;\n    }i.prototype.setId = function (t) {\n      var e = this.id = t,\n          i = this.width,\n          n = this.height,\n          r = this.textureWidth / i,\n          s = i + 2 * this.border,\n          a = n + 2 * this.border,\n          o = .5 * s,\n          h = .5 * a;this.center || (o = 0, h = 0);var u = (e % r | 0) * s + o,\n          c = (e / r | 0) * a + h;this.frameX = u, this.frameY = c;\n    }, t.exports = i;\n  }, function (t, e, i) {\n    var n = i(79),\n        r = i(5),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "x", 0),\n          a = r(e, "y", 0),\n          o = r(e, "width", 512),\n          h = r(e, "height", 512),\n          u = (r(e, "key", null), r(e, "fragmentShader", "")),\n          c = new n(t, i, a, o, h, effectName, u);return s(t, c, e), c;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(534), renderWebGL: i(535) };\n  }, function (t, e) {\n    var i = function i(t, e, _i99, n) {};t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i100, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || t.effectRenderer.renderEffect(e, n, e.renderTexture, e.width, e.height);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(80),\n        r = function r(t, e) {\n      return new n(t, e);\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(538), renderWebGL: i(539) };\n  }, function (t, e, i) {\n    var n = i(81),\n        r = (i(10), function (t, e, i, r, s) {\n      if (!(e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & r._id)) {\n        var a = r.scrollX * e.scrollFactorX,\n            o = r.scrollY * e.scrollFactorY,\n            h = e.x,\n            u = e.y,\n            c = e.scaleX,\n            l = e.scaleY,\n            f = e.rotation,\n            d = e.commandBuffer,\n            p = s || t.currentContext,\n            v = 1,\n            g = 1,\n            x = 0,\n            m = 0,\n            y = 1,\n            w = 0,\n            E = 0,\n            T = 0;t.currentBlendMode !== e.blendMode && (t.currentBlendMode = e.blendMode, p.globalCompositeOperation = t.blendModes[e.blendMode]), t.currentAlpha !== e.alpha && (t.currentAlpha = e.alpha, p.globalAlpha = e.alpha), t.currentScaleMode !== e.scaleMode && (t.currentScaleMode = e.scaleMode), p.save(), p.translate(h - a, u - o), p.rotate(f), p.scale(c, l), p.fillStyle = "#fff", p.globalAlpha = e.alpha;for (var b = 0, _ = d.length; b < _; ++b) {\n          var A = d[b];switch (A) {case n.ARC:\n              p.arc(d[b + 1], d[b + 2], d[b + 3], d[b + 4], d[b + 5], d[b + 6]), b += 6;break;case n.LINE_STYLE:\n              y = d[b + 1], x = d[b + 2], v = d[b + 3], w = (16711680 & x) >>> 16, E = (65280 & x) >>> 8, T = 255 & x, p.strokeStyle = "rgba(" + w + "," + E + "," + T + "," + v + ")", p.lineWidth = y, b += 3;break;case n.FILL_STYLE:\n              m = d[b + 1], g = d[b + 2], w = (16711680 & m) >>> 16, E = (65280 & m) >>> 8, T = 255 & m, p.fillStyle = "rgba(" + w + "," + E + "," + T + "," + g + ")", b += 2;break;case n.BEGIN_PATH:\n              p.beginPath();break;case n.CLOSE_PATH:\n              p.closePath();break;case n.FILL_PATH:\n              p.fill();break;case n.STROKE_PATH:\n              p.stroke();break;case n.FILL_RECT:\n              p.fillRect(d[b + 1], d[b + 2], d[b + 3], d[b + 4]), b += 4;break;case n.FILL_TRIANGLE:\n              p.beginPath(), p.moveTo(d[b + 1], d[b + 2]), p.lineTo(d[b + 3], d[b + 4]), p.lineTo(d[b + 5], d[b + 6]), p.lineTo(d[b + 1], d[b + 2]), p.closePath(), p.fill(), b += 6;break;case n.STROKE_TRIANGLE:\n              p.beginPath(), p.moveTo(d[b + 1], d[b + 2]), p.lineTo(d[b + 3], d[b + 4]), p.lineTo(d[b + 5], d[b + 6]), p.lineTo(d[b + 1], d[b + 2]), p.closePath(), p.stroke(), b += 6;break;case n.LINE_TO:\n              p.lineTo(d[b + 1], d[b + 2]), b += 2;break;case n.MOVE_TO:\n              p.moveTo(d[b + 1], d[b + 2]), b += 2;break;case n.LINE_FX_TO:\n              p.lineTo(d[b + 1], d[b + 2]), b += 5;break;case n.MOVE_FX_TO:\n              p.moveTo(d[b + 1], d[b + 2]), b += 5;break;case n.SAVE:\n              p.save();break;case n.RESTORE:\n              p.restore();break;case n.TRANSLATE:\n              p.translate(d[b + 1], d[b + 2]), b += 2;break;case n.SCALE:\n              p.scale(d[b + 1], d[b + 2]), b += 2;break;case n.ROTATE:\n              p.rotate(d[b + 1]), b += 1;break;default:\n              console.error("Phaser: Invalid Graphics Command ID " + A);}\n        }p.restore();\n      }\n    });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(81),\n        r = i(14),\n        s = [],\n        a = Math.cos,\n        o = Math.sin,\n        h = (Math.sqrt, new r()),\n        u = new Float32Array(6e3),\n        c = 0,\n        l = new r(),\n        f = function f(t, e, i, n, r) {\n      this.x = t, this.y = e, this.width = i, this.rgb = n, this.alpha = r;\n    },\n        d = function d(t, e, i, n, r) {\n      this.points = [], this.pointsLength = 1, this.points[0] = new f(t, e, i, n, r);\n    },\n        p = function p(t, e, i, r, _p) {\n      if (!(this.renderMask !== this.renderFlags || this.cameraFilter > 0 && this.cameraFilter & r._id)) {\n        var v = _p || e.renderTarget,\n            g = t.shapeBatch,\n            x = g.vertexDataBuffer,\n            m = (x.floatView, x.uintView, r.scrollX * e.scrollFactorX),\n            y = r.scrollY * e.scrollFactorY;var w = e.x - m,\n            E = e.y - y,\n            T = e.scaleX,\n            b = e.scaleY,\n            _ = -e.rotation;var A,\n            S,\n            R,\n            M,\n            O,\n            C,\n            L,\n            F,\n            I,\n            D,\n            B,\n            P,\n            k,\n            N,\n            X,\n            U,\n            Y,\n            V,\n            z,\n            G,\n            H,\n            j,\n            W,\n            q,\n            K = e.commandBuffer,\n            Z = 1,\n            J = 1,\n            Q = 0,\n            $ = 0,\n            tt = 1,\n            et = r.matrix.matrix,\n            it = null,\n            nt = 0,\n            rt = 0,\n            st = 0,\n            at = 0,\n            ot = (g.vertexCount, g.maxVertices, h.matrix);h.applyITRS(w, E, _, T, b), L = ot[0], F = ot[1], I = ot[2], D = ot[3], B = ot[4], P = ot[5], k = et[0], N = et[1], X = et[2], U = et[3], Y = et[4], V = et[5], z = L * k + F * X, G = L * N + F * U, H = I * k + D * X, j = I * N + D * U, W = B * k + P * X + Y, q = B * N + P * U + V, t.setRenderer(g, null, v);for (var ht = 0, ut = K.length; ht < ut; ++ht) {\n          var U = K[ht];switch (U) {case n.ARC:\n              for (nt = 0, A = K[ht + 1], S = K[ht + 2], R = K[ht + 3], M = K[ht + 4], O = K[ht + 5], K[ht + 6]; nt < 1;) {\n                at = (O - M) * nt + M, rt = A + a(at) * R, st = S + o(at) * R, 0 === nt ? (it = new d(rt, st, tt, Q, Z), s.push(it)) : it.points.push(new f(rt, st, tt, Q, Z)), nt += .01;\n              }ht += 6;break;case n.LINE_STYLE:\n              tt = K[ht + 1], Q = K[ht + 2], Z = K[ht + 3], ht += 3;break;case n.FILL_STYLE:\n              $ = K[ht + 1], J = K[ht + 2], ht += 2;break;case n.BEGIN_PATH:\n              s.length = 0;break;case n.CLOSE_PATH:\n              if (null !== it && it.points.length > 0) {\n                var ct = it.points[0],\n                    lt = it.points[it.points.length - 1];it.points.push(ct), it = new d(lt.x, lt.y, lt.width, lt.rgb, lt.alpha), s.push(it);\n              }break;case n.FILL_PATH:\n              for (var ft = 0, dt = s.length; ft < dt; ++ft) {\n                g.addFillPath(w, E, T, b, _, s[ft].points, $, J, z, G, H, j, W, q, l);\n              }break;case n.STROKE_PATH:\n              for (var ft = 0, dt = s.length; ft < dt; ++ft) {\n                var C = s[ft];g.addStrokePath(w, E, T, b, _, C.points, tt, Q, Z, z, G, H, j, W, q, C === this._lastPath, l);\n              }break;case n.FILL_RECT:\n              g.addFillRect(w, E, T, b, _, K[ht + 1] - m, K[ht + 2] - y, K[ht + 3], K[ht + 4], $, J, z, G, H, j, W, q, l), ht += 4;break;case n.FILL_TRIANGLE:\n              g.addFillTriangle(w, E, T, b, _, K[ht + 1] - m, K[ht + 2] - y, K[ht + 3] - m, K[ht + 4] - y, K[ht + 5] - m, K[ht + 6] - y, $, J, z, G, H, j, W, q, l), ht += 6;break;case n.STROKE_TRIANGLE:\n              g.addStrokeTriangle(w, E, T, b, _, K[ht + 1] - m, K[ht + 2] - y, K[ht + 3] - m, K[ht + 4] - y, K[ht + 5] - m, K[ht + 6] - y, tt, Q, Z, z, G, H, j, W, q, l), ht += 6;break;case n.LINE_TO:\n              null !== it ? it.points.push(new f(K[ht + 1], K[ht + 2], tt, Q, Z)) : (it = new d(K[ht + 1], K[ht + 2], tt, Q, Z), s.push(it)), ht += 2;break;case n.MOVE_TO:\n              it = new d(K[ht + 1], K[ht + 2], tt, Q, Z), s.push(it), ht += 2;break;case n.LINE_FX_TO:\n              null !== it ? it.points.push(new f(K[ht + 1], K[ht + 2], K[ht + 3], K[ht + 4], K[ht + 5])) : (it = new d(K[ht + 1], K[ht + 2], K[ht + 3], K[ht + 4], K[ht + 5]), s.push(it)), ht += 5;break;case n.MOVE_FX_TO:\n              it = new d(K[ht + 1], K[ht + 2], K[ht + 3], K[ht + 4], K[ht + 5]), s.push(it), ht += 5;break;case n.SAVE:\n              u[c + 0] = l.matrix[0], u[c + 1] = l.matrix[1], u[c + 2] = l.matrix[2], u[c + 3] = l.matrix[3], u[c + 4] = l.matrix[4], u[c + 5] = l.matrix[5], c += 6;break;case n.RESTORE:\n              c -= 6, l.matrix[0] = u[c + 0], l.matrix[1] = u[c + 1], l.matrix[2] = u[c + 2], l.matrix[3] = u[c + 3], l.matrix[4] = u[c + 4], l.matrix[5] = u[c + 5];break;case n.TRANSLATE:\n              l.translate(K[ht + 1], K[ht + 2]), ht += 2;break;case n.SCALE:\n              l.scale(K[ht + 1], K[ht + 2]), ht += 2;break;case n.ROTATE:\n              l.rotate(-K[ht + 1]), ht += 1;break;default:\n              console.error("Phaser: Invalid Graphics Command ID " + U);}\n        }l.loadIdentity(), s.length = 0;\n      }\n    };t.exports = p;\n  }, function (t, e, i) {\n    var n = i(82),\n        r = function r(t, e) {\n      return new n(t, null, e);\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(542), renderWebGL: i(543) };\n  }, function (t, e) {\n    var i = function i(t, e, _i101, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || t.drawImage(e, n);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i102, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || t.spriteBatch.addSprite(e, n);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(55),\n        r = i(5),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "key", null),\n          a = r(e, "frame", null),\n          o = new n(t, 0, 0, i, a);return s(t, o, e), o;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(546), renderWebGL: i(547) };\n  }, function (t, e) {\n    var i = function i(t, e, _i103, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || t.drawImage(e, n);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i104, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || t.spriteBatch.addSprite(e, n);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(56),\n        r = i(5),\n        s = i(2),\n        a = i(9),\n        o = function o(t, e) {\n      var i = r(e, "key", null),\n          o = r(e, "frame", null),\n          h = s(e, "vertices", []),\n          u = s(e, "indices", []),\n          c = s(e, "colors", []),\n          l = s(e, "alphas", []),\n          f = s(e, "uv", []),\n          d = new n(t, 0, 0, h, f, u, c, l, i, o);return a(t, d, e), d;\n    };t.exports = o;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(550), renderWebGL: i(551) };\n  }, function (t, e) {\n    var i = function i(t, e, _i105, n) {};t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i106, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || (e.indices.length > 0 ? t.spriteBatch.addMeshIndexed(e, n) : t.spriteBatch.addMesh(e, n));\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(83),\n        r = i(5),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "x", 0),\n          a = r(e, "y", 0),\n          o = r(e, "key", null),\n          h = r(e, "frame", null),\n          u = new n(t, i, a, o, h);return s(t, u, e), u;\n    };t.exports = a;\n  }, function (t, e, i) {\n    var n = i(84),\n        r = i(5),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "x", 0),\n          a = r(e, "y", 0),\n          o = r(e, "width", 512),\n          h = r(e, "height", 512),\n          u = r(e, "shaderName", ""),\n          c = r(e, "fragmentShader", ""),\n          l = new n(t, i, a, o, h, u, c);return s(t, l, e), l;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(555), renderWebGL: i(556) };\n  }, function (t, e) {\n    var i = function i(t, e, _i107, n) {};t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i108, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || t.spriteBatch.addSpriteTexture(e, n, e.renderTexture, e.width, e.height);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(39),\n        r = i(5),\n        s = i(9),\n        a = i(558),\n        o = function o(t, e) {\n      var i = r(e, "key", null),\n          o = r(e, "frame", null),\n          h = new n(t, 0, 0, i, o);return s(t, h, e), a(h, e), h;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(5),\n        r = function r(t, e) {\n      var i = n(e, "anims", null);if (null === i) return t;if ("string" == typeof i) t.anims.play(i);else if ("object" == (typeof i === "undefined" ? "undefined" : _typeof(i))) {\n        var r = t.anims,\n            s = n(i, "key", void 0),\n            a = n(i, "startFrame", void 0);r.load(s);var o = n(i, "delay", 0),\n            h = n(i, "repeat", 0),\n            u = n(i, "repeatDelay", 0),\n            c = n(i, "yoyo", !1);if (r.delay(o), r.repeat(h), r.repeatDelay(u), r.yoyo(c), n(i, "play", !1)) r.play(s, a);else {\n          var l = n(i, "delayedPlay", 0);l > 0 && r.delayedPlay(l, s, a);\n        }\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(85),\n        r = i(9),\n        s = i(5),\n        a = i(2),\n        o = function o(t, e) {\n      var i = a(e, "font", ""),\n          o = s(e, "text", ""),\n          h = s(e, "size", !1),\n          u = new n(t, 0, 0, i, o, h);return r(t, u, e), u;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(181),\n        r = function r(t, e, i, _r6, s, a, o) {\n      var h = t.sys.textures.getFrame(i, _r6),\n          u = t.sys.cache.xml.get(s);if (h && u) {\n        var c = n(u, a, o, h);return t.sys.cache.bitmapFont.add(e, { data: c, texture: i, frame: _r6 }), !0;\n      }return !1;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(2),\n        r = function r(t, e) {\n      var i = e.width,\n          r = e.height,\n          s = Math.floor(i / 2),\n          a = Math.floor(r / 2),\n          o = e.chars,\n          h = n(e, "image", ""),\n          u = n(e, "offset.x", 0),\n          c = n(e, "offset.y", 0),\n          l = n(e, "spacing.x", 0),\n          f = n(e, "spacing.y", 0),\n          d = n(e, "charsPerRow", null);null === d && (d = t.sys.textures.getFrame(h).width / i) > o.length && (d = o.length);for (var p = u, v = c, g = { retroFont: !0, font: h, size: i, lineHeight: r, chars: {} }, x = 0, m = 0; m < o.length; m++) {\n        var y = o.charCodeAt(m);g.chars[y] = { x: p, y: v, width: i, height: r, centerX: s, centerY: a, xOffset: 0, yOffset: 0, xAdvance: i, data: {}, kerning: {} }, x++, x === d ? (x = 0, p = u, v += r + f) : p += i + l;\n      }return { data: g, frame: null, texture: h };\n    };r.TEXT_SET1 = " !\\"#$%&\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~", r.TEXT_SET2 = " !\\"#$%&\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ", r.TEXT_SET3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ", r.TEXT_SET4 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789", r.TEXT_SET5 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() \'!?-*:0123456789", r.TEXT_SET6 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\\"(),-.\' ", r.TEXT_SET7 = "AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\\")28FLRX-\'39", r.TEXT_SET8 = "0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ", r.TEXT_SET9 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,\'\\"?!", r.TEXT_SET10 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ", r.TEXT_SET11 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\\"-+!?()\':;0123456789", t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(563), renderWebGL: i(564) };\n  }, function (t, e) {\n    var i = function i(t, e, _i109, n) {\n      var r = e.text,\n          s = r.length;if (!(e.renderMask !== e.renderFlags || 0 === s || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        var a = e.frame,\n            o = n.scrollX * e.scrollFactorX,\n            h = n.scrollY * e.scrollFactorY,\n            u = e.fontData.chars,\n            c = e.fontData.lineHeight,\n            l = 0,\n            f = 0,\n            d = 0,\n            p = 0,\n            v = null,\n            g = 0,\n            x = 0,\n            m = 0,\n            y = 0,\n            w = 0,\n            E = 0,\n            T = null,\n            b = 0,\n            _ = t.currentContext,\n            A = e.frame.source.image,\n            S = a.cutX,\n            R = a.cutY,\n            M = e.fontSize / e.fontData.size;t.currentBlendMode !== e.blendMode && (t.currentBlendMode = e.blendMode, _.globalCompositeOperation = t.blendModes[e.blendMode]), t.currentAlpha !== e.alpha && (t.currentAlpha = e.alpha, _.globalAlpha = e.alpha), t.currentScaleMode !== e.scaleMode && (t.currentScaleMode = e.scaleMode), _.save(), _.translate(e.x - o + e.frame.x, e.y - h + e.frame.y), _.rotate(e.rotation), _.scale(e.scaleX, e.scaleY);for (var O = 0; O < s; ++O) {\n          if (10 !== (p = r.charCodeAt(O))) {\n            if (v = u[p]) {\n              if (g = S + v.x, x = R + v.y, m = v.width, y = v.height, w = d + v.xOffset + l, E = v.yOffset + f, null !== T) {\n                var C = v.kerning[b];w += void 0 !== C ? C : 0;\n              }w *= M, E *= M, l += v.xAdvance, d += 1, T = v, b = p, 0 !== m && 0 !== y && 32 !== p && (_.save(), _.translate(w, E), _.scale(M, M), _.drawImage(A, g, x, m, y, 0, 0, m, y), _.restore());\n            }\n          } else l = 0, d = 0, f += c, T = null;\n        }_.restore();\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(14),\n        r = new n(),\n        s = function s(t, e, i, n) {\n      var s = e.text,\n          a = s.length;if (!(this.renderMask !== this.renderFlags || 0 === a || this.cameraFilter > 0 && this.cameraFilter & n._id)) {\n        var o,\n            h,\n            u,\n            c,\n            l,\n            f,\n            d,\n            p,\n            v,\n            g,\n            x,\n            m,\n            y,\n            w,\n            E,\n            T,\n            b,\n            _,\n            A,\n            S,\n            R,\n            M,\n            O,\n            C,\n            L,\n            F,\n            I = e.frame,\n            D = n.scrollX * e.scrollFactorX,\n            B = n.scrollY * e.scrollFactorY,\n            s = e.text,\n            a = s.length,\n            P = e.fontData.chars,\n            k = e.fontData.lineHeight,\n            N = t.spriteBatch,\n            X = e.alpha,\n            U = e._tintTL,\n            Y = e._tintTR,\n            V = e._tintBL,\n            z = e._tintBR,\n            G = N.vertexDataBuffer,\n            H = G.floatView,\n            j = G.uintView,\n            W = 0,\n            q = e.x,\n            K = e.y,\n            Z = e.texture.source[I.sourceIndex],\n            J = I.cutX,\n            Q = I.cutY,\n            $ = Z.width,\n            tt = Z.height,\n            et = Z.glTexture,\n            it = 0,\n            nt = 0,\n            rt = 0,\n            st = 0,\n            at = null,\n            ot = 0,\n            ht = 0,\n            ut = 0,\n            ct = 0,\n            lt = 0,\n            ft = 0,\n            dt = 0,\n            pt = 0,\n            vt = 0,\n            gt = 0,\n            xt = 0,\n            mt = 0,\n            yt = null,\n            wt = 0,\n            Et = r.matrix,\n            Tt = n.matrix.matrix,\n            bt = e.fontSize / e.fontData.size,\n            _t = e.renderTarget;r.applyITRS(q - D + I.x, K - B + I.y, -e.rotation, e.scaleX, e.scaleY), E = Et[0], T = Et[1], b = Et[2], _ = Et[3], A = Et[4], S = Et[5], R = Tt[0], M = Tt[1], O = Tt[2], C = Tt[3], L = Tt[4], F = Tt[5], o = E * R + T * O, h = E * M + T * C, u = b * R + _ * O, c = b * M + _ * C, l = A * R + S * O + L, f = A * M + S * C + F;for (var At = 0; At < a; ++At) {\n          if (10 !== (st = s.charCodeAt(At))) {\n            if (at = P[st]) {\n              if (ot = J + at.x, ht = Q + at.y, ut = at.width, ct = at.height, lt = (rt + at.xOffset + it) * bt, ft = (at.yOffset + nt) * bt, null !== yt) {\n                var St = at.kerning[wt];lt += void 0 !== St ? St : 0;\n              }it += at.xAdvance, rt += 1, yt = at, wt = st, 0 !== ut && 0 !== ct && 32 !== st && (dt = lt + ut * bt, pt = ft + ct * bt, d = lt * o + ft * u + l, p = lt * h + ft * c + f, v = lt * o + pt * u + l, g = lt * h + pt * c + f, x = dt * o + pt * u + l, m = dt * h + pt * c + f, y = dt * o + ft * u + l, w = dt * h + ft * c + f, vt = ot / $, gt = (ot + ut) / $, xt = ht / tt, mt = (ht + ct) / tt, N.elementCount >= N.maxParticles && N.flush(), t.setRenderer(N, et, _t), W = G.allocate(24), N.elementCount += 6, H[W++] = d, H[W++] = p, H[W++] = vt, H[W++] = xt, j[W++] = U, H[W++] = X, H[W++] = v, H[W++] = g, H[W++] = vt, H[W++] = mt, j[W++] = V, H[W++] = X, H[W++] = x, H[W++] = m, H[W++] = gt, H[W++] = mt, j[W++] = Y, H[W++] = X, H[W++] = y, H[W++] = w, H[W++] = gt, H[W++] = xt, j[W++] = z, H[W++] = X);\n            }\n          } else it = 0, rt = 0, nt += k, yt = null;\n        }\n      }\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(86),\n        r = i(2),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "map.data", null),\n          a = r(e, "map.width", 1),\n          o = r(e, "map.height", 1),\n          h = r(e, "x", 0),\n          u = r(e, "y", 0),\n          c = r(e, "tile.width", 16),\n          l = r(e, "tile.height", 16),\n          f = r(e, "tile.texture", null),\n          d = r(e, "tile.frame", null),\n          p = r(e, "tile.border", 0),\n          v = new n(t, i, h, u, c, l, a, o, p, f, d);return s(t, v, e), v;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(567), renderWebGL: i(568) };\n  }, function (t, e) {\n    var i = function i(t, e, _i110, n) {\n      if (!(e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        e.upload(n);var r = n.cullTilemap(e),\n            s = e.tileWidth,\n            a = e.tileHeight,\n            o = e.frame,\n            h = t.gameContext,\n            u = r.length,\n            c = o.source.image,\n            l = e.x - n.scrollX * e.scrollFactorX,\n            f = e.y - n.scrollY * e.scrollFactorY;n.scrollX;h.save(), h.translate(l, f), h.rotate(e.rotation), h.scale(e.scaleX, e.scaleY), h.scale(e.flipX ? -1 : 1, e.flipY ? -1 : 1);for (var d = 0; d < u; ++d) {\n          var p = r[d];h.drawImage(c, p.frameX, p.frameY, s, a, p.x, p.y, s, a);\n        }h.restore();\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i111, n) {\n      if (!(e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        var r = e,\n            s = r.frame,\n            a = r.gl;t.setRenderer(r.tilemapRenderer, s.texture.source[s.sourceIndex].glTexture, r.renderTarget), r.tilemapRenderer.bind(), r.upload(n), r.vbo.bind(), a.drawArrays(a.TRIANGLES, 0, r.vertexCount);\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(87),\n        r = i(5),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "text", ""),\n          a = r(e, "style", null),\n          o = new n(t, 0, 0, i, a);s(t, o, e), o.autoRound = r(e, "autoRound", !0), o.resolution = r(e, "resolution", 1);var h = r(e, "padding", null);return "number" == typeof h ? (o.padding.x = h, o.padding.y = h) : null !== h && (o.padding.x = r(h, "x", 1), o.padding.y = r(h, "y", 1)), o.updateText(), o;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(571), renderWebGL: i(572) };\n  }, function (t, e) {\n    var i = function i(t, e, _i112, n) {\n      if (!(e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        var r = t.currentContext;t.currentBlendMode !== e.blendMode && (t.currentBlendMode = e.blendMode, r.globalCompositeOperation = t.blendModes[e.blendMode]), t.currentAlpha !== e.alpha && (t.currentAlpha = e.alpha, r.globalAlpha = e.alpha), t.currentScaleMode !== e.scaleMode && (t.currentScaleMode = e.scaleMode);var s = e.canvas;r.save(), r.translate(e.x - n.scrollX * e.scrollFactorX, e.y - n.scrollY * e.scrollFactorY), r.rotate(e.rotation), r.scale(e.scaleX, e.scaleY), r.translate(s.width * (e.flipX ? 1 : 0), s.height * (e.flipY ? 1 : 0)), r.scale(e.flipX ? -1 : 1, e.flipY ? -1 : 1), r.drawImage(s, 0, 0, s.width, s.height, -e.displayOriginX, -e.displayOriginY, s.width, s.height), r.restore();\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i113, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || (e.dirty && (e.canvasTexture = t.uploadCanvasToGPU(e.canvas, e.canvasTexture, !0), e.dirty = !1), t.spriteBatch.addSpriteTexture(e, n, e.canvasTexture, e.canvas.width, e.canvas.height));\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(2),\n        s = i(5),\n        a = i(574),\n        o = { font: ["font", "16px Courier"], backgroundColor: ["backgroundColor", null], fill: ["fill", "#fff"], stroke: ["stroke", "#fff"], strokeThickness: ["strokeThickness", 0], shadowOffsetX: ["shadow.offsetX", 0], shadowOffsetY: ["shadow.offsetY", 0], shadowColor: ["shadow.color", "#000"], shadowBlur: ["shadow.blur", 0], shadowStroke: ["shadow.stroke", !1], shadowFill: ["shadow.fill", !1], align: ["align", "left"], maxLines: ["maxLines", 0], fixedWidth: ["fixedWidth", !1], fixedHeight: ["fixedHeight", !1], rtl: ["rtl", !1] },\n        h = new n({ initialize: function initialize(t, e) {\n        if (this.parent = t, this.font, this.backgroundColor, this.fill, this.stroke, this.strokeThickness, this.shadowOffsetX, this.shadowOffsetY, this.shadowColor, this.shadowBlur, this.shadowStroke, this.shadowFill, this.align, this.maxLines, this.fixedWidth, this.fixedHeight, this.rtl, this.reset(), e) for (var i in o) {\n          this[i] = s(e, o[i][0], this[i]);\n        }var n = r(e, "metrics", !1);this.metrics = n ? { ascent: r(n, "ascent", 0), descent: r(n, "descent", 0), fontSize: r(n, "fontSize", 0) } : a(this);\n      }, reset: function reset() {\n        for (var t in o) {\n          this[t] = o[t][1];\n        }return this;\n      }, syncFont: function syncFont(t, e) {\n        this.rtl && (t.dir = "rtl"), e.font = this.font, e.textBaseline = "alphabetic", e.fillStyle = this.fill, e.strokeStyle = this.stroke, e.lineWidth = this.strokeThickness, e.lineCap = "round", e.lineJoin = "round";\n      }, syncShadow: function syncShadow(t, e) {\n        e ? (t.shadowOffsetX = this.shadowOffsetX, t.shadowOffsetY = this.shadowOffsetY, t.shadowColor = this.shadowColor, t.shadowBlur = this.shadowBlur) : (t.shadowOffsetX = 0, t.shadowOffsetY = 0, t.shadowColor = 0, t.shadowBlur = 0);\n      }, update: function update(t) {\n        return t && (this.metrics = a(this)), this.parent.updateText();\n      }, setStyle: function setStyle(t) {\n        for (var e in o) {\n          this[e] = s(t, o[e][0], this[e]);\n        }return this.update(!0);\n      }, setFont: function setFont(t) {\n        return this.font = t, this.update(!0);\n      }, setFixedSize: function setFixedSize(t, e) {\n        return this.fixedWidth = t, this.fixedHeight = e, t && (this.text.width = t), e && (this.text.height = e), this.update(!1);\n      }, setBackgroundColor: function setBackgroundColor(t) {\n        return this.backgroundColor = t, this.update(!1);\n      }, setFill: function setFill(t) {\n        return this.fill = t, this.update(!1);\n      }, setStroke: function setStroke(t, e) {\n        return void 0 === t ? this.strokeThickness = 0 : (void 0 === e && (e = this.strokeThickness), this.stroke = t, this.strokeThickness = e), this.update(!0);\n      }, setShadow: function setShadow(t, e, i, n, r, s) {\n        return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = "#000"), void 0 === n && (n = 0), void 0 === r && (r = !1), void 0 === s && (s = !0), this.shadowOffsetX = t, this.shadowOffsetY = e, this.shadowColor = i, this.shadowBlur = n, this.shadowStroke = r, this.shadowFill = s, this.update(!1);\n      }, setShadowOffset: function setShadowOffset(t, e) {\n        return void 0 === t && (t = 0), void 0 === e && (e = t), this.shadowOffsetX = t, this.shadowOffsetY = e, this.update(!1);\n      }, setShadowColor: function setShadowColor(t) {\n        return void 0 === t && (t = "#000"), this.shadowColor = t, this.update(!1);\n      }, setShadowBlur: function setShadowBlur(t) {\n        return void 0 === t && (t = 0), this.shadowBlur = t, this.update(!1);\n      }, setShadowStroke: function setShadowStroke(t) {\n        return this.shadowStroke = t, this.update(!1);\n      }, setShadowFill: function setShadowFill(t) {\n        return this.shadowFill = t, this.update(!1);\n      }, setAlign: function setAlign(t) {\n        return void 0 === t && (t = "left"), this.align = t, this.update(!1);\n      }, setMaxLines: function setMaxLines(t) {\n        return void 0 === t && (t = 0), this.maxLines = t, this.update(!1);\n      }, getTextMetrics: function getTextMetrics() {\n        var t = this.metrics;return { ascent: t.ascent, descent: t.descent, fontSize: t.fontSize };\n      }, toJSON: function toJSON() {\n        var t = {};for (var e in o) {\n          t[e] = this[e];\n        }return t.metrics = this.getTextMetrics(), t;\n      }, destroy: function destroy() {\n        this.parent = void 0;\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(11),\n        r = function r(t, e) {\n      void 0 === e && (e = "|Mqgy");var i = n.create(this),\n          r = i.getContext("2d");t.syncFont(i, r);var s = Math.ceil(1.2 * r.measureText(e).width),\n          a = s,\n          o = 2 * a;a = 1.4 * a | 0, i.width = s, i.height = o, r.fillStyle = "#f00", r.fillRect(0, 0, s, o), r.font = t.font, r.textBaseline = "alphabetic", r.fillStyle = "#000", r.fillText(e, 0, a);var h = { ascent: 0, descent: 0, fontSize: 0 };if (!r.getImageData(0, 0, s, o)) return h.ascent = a, h.descent = a + 6, h.fontSize = h.ascent + h.descent, n.remove(i), h;var u,\n          c,\n          l = r.getImageData(0, 0, s, o).data,\n          f = l.length,\n          d = 4 * s,\n          p = 0,\n          v = !1;for (u = 0; u < a; u++) {\n        for (c = 0; c < d; c += 4) {\n          if (255 !== l[p + c]) {\n            v = !0;break;\n          }\n        }if (v) break;p += d;\n      }for (h.ascent = a - u, p = f - d, v = !1, u = o; u > a; u--) {\n        for (c = 0; c < d; c += 4) {\n          if (255 !== l[p + c]) {\n            v = !0;break;\n          }\n        }if (v) break;p -= d;\n      }return h.descent = u - a, h.fontSize = h.ascent + h.descent, n.remove(i), h;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i114) {\n      var n = t.canvas,\n          r = t.context,\n          s = t.style,\n          a = [],\n          o = 0,\n          h = _i114.length;s.maxLines > 0 && s.maxLines < _i114.length && (h = s.maxLines), s.syncFont(n, r);for (var u = 0; u < h; u++) {\n        var c = s.strokeThickness;c += r.measureText(_i114[u]).width, s.wordWrap && (c -= r.measureText(" ").width), a[u] = Math.ceil(c), o = Math.max(o, a[u]);\n      }var l = e.fontSize + s.strokeThickness,\n          f = l * h,\n          d = t._lineSpacing || 0;return d < 0 && Math.abs(d) > l && (d = -l), 0 !== d && (f += d > 0 ? d * _i114.length : d * (_i114.length - 1)), { width: o, height: f, lines: h, lineWidths: a, lineSpacing: d, lineHeight: l };\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(88),\n        r = i(5),\n        s = i(9),\n        a = function a(t, e) {\n      var i = r(e, "x", 0),\n          a = r(e, "y", 0),\n          o = r(e, "width", 512),\n          h = r(e, "height", 512),\n          u = r(e, "key", ""),\n          c = r(e, "frame", ""),\n          l = new n(t, i, a, o, h, u, c);return s(t, l, e), l;\n    };t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(578), renderWebGL: i(579) };\n  }, function (t, e) {\n    var i = function i(t, e, _i115, n) {\n      if (!(e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        var r = t.currentContext,\n            s = e.frame;t.currentBlendMode !== e.blendMode && (t.currentBlendMode = e.blendMode, r.globalCompositeOperation = t.blendModes[e.blendMode]), t.currentAlpha !== e.alpha && (t.currentAlpha = e.alpha, r.globalAlpha = e.alpha), t.currentScaleMode !== e.scaleMode && (t.currentScaleMode = e.scaleMode);var a = s.x - e.originX * e.width,\n            o = s.y - e.originY * e.height;r.save(), r.translate(a, o), r.translate(e.x - n.scrollX * e.scrollFactorX, e.y - n.scrollY * e.scrollFactorY), r.fillStyle = e.canvasPattern, r.translate(-this.tilePositionX, -this.tilePositionY), r.fillRect(this.tilePositionX, this.tilePositionY, e.width, e.height), r.restore();\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i116, n) {\n      e.renderMask !== e.renderFlags || e.cameraFilter > 0 && e.cameraFilter & n._id || (e.updateTileTexture(), t.tileBatch.addTileSprite(e, n));\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(581),\n        r = i(0),\n        s = i(582),\n        a = i(583),\n        o = i(584),\n        h = i(585),\n        u = i(586),\n        c = i(587),\n        l = i(588),\n        f = i(597),\n        d = i(598),\n        p = i(599),\n        v = i(600),\n        g = i(601),\n        x = i(602),\n        m = i(603),\n        y = i(604),\n        w = i(605),\n        E = new r({ initialize: function initialize(t) {\n        this.scene = t, this.displayList, this.updateList;\n      }, boot: function boot() {\n        this.displayList = this.scene.sys.displayList, this.updateList = this.scene.sys.updateList;\n      }, existing: function existing(t) {\n        return (t.renderCanvas || t.renderWebGL) && this.displayList.add(t), t.preUpdate && this.updateList.add(t), t;\n      }, bitmapText: function bitmapText(t, e, i, n, r, s) {\n        return this.displayList.add(g(this.scene, t, e, i, n, r, s));\n      }, dynamicBitmapText: function dynamicBitmapText(t, e, i, n, r, a) {\n        return this.displayList.add(s(this.scene, t, e, i, n, r, a));\n      }, blitter: function blitter(t, e, i, r) {\n        return this.displayList.add(n(this.scene, t, e, i, r));\n      }, effectLayer: function effectLayer(t, e, i, n, r, s) {\n        return this.displayList.add(o(this.scene, t, e, i, n, r, s));\n      }, graphics: function graphics(t) {\n        return this.displayList.add(h(this.scene, t));\n      }, group: function group(t, e) {\n        return u(this.scene, t, e);\n      }, image: function image(t, e, i, n) {\n        return this.displayList.add(c(this.scene, t, e, i, n));\n      }, mesh: function mesh(t, e, i, n, r, s) {\n        return this.displayList.add(f(this.scene, t, e, i, n, r, s));\n      }, quad: function quad(t, e, i, n) {\n        return this.displayList.add(d(this.scene, t, e, i, n));\n      }, renderPass: function renderPass(t, e, i, n, r, s) {\n        return this.displayList.add(p(this.scene, t, e, i, n, r, s));\n      }, sprite: function sprite(t, e, i, n) {\n        var r = v(this.scene, t, e, i, n);return this.displayList.add(r), this.updateList.add(r), r;\n      }, text: function text(t, e, i, n) {\n        return this.displayList.add(m(this.scene, t, e, i, n));\n      }, tilemap: function tilemap(t, e, i, n, r, s, o, h, u, c) {\n        return this.displayList.add(a(this.scene, t, e, i, n, r, s, o, h, u, c));\n      }, staticTilemap: function staticTilemap(t, e, i, n, r, s, a, o, h, u) {\n        return this.displayList.add(x(this.scene, t, e, i, n, r, s, a, o, h, u));\n      }, tileSprite: function tileSprite(t, e, i, n, r, s) {\n        return this.displayList.add(y(this.scene, t, e, i, n, r, s));\n      }, zone: function zone(t, e, i, n) {\n        return this.displayList.add(w(this.scene, t, e, i, n));\n      }, tween: function tween(t) {\n        return this.scene.sys.tweens.add(t);\n      }, lightLayer: function lightLayer() {\n        return this.displayList.add(l(this.scene));\n      } });t.exports = E;\n  }, function (t, e, i) {\n    var n = i(76),\n        r = function r(t, e, i, _r7, s) {\n      return new n(t, e, i, _r7, s);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(77),\n        r = function r(t, e, i, _r8, s, a) {\n      return new n(t, e, i, _r8, s, a);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(78),\n        r = function r(t, e, i, _r9, s, a, o, h, u, c, l) {\n      return new n(t, e, i, _r9, s, a, o, h, u, c, l);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(79),\n        r = function r(t, e, i, _r10, s, a, o) {\n      return new n(t, e, i, _r10, s, a, o);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(80),\n        r = function r(t, e) {\n      return new n(t, e);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(82),\n        r = function r(t, e, i) {\n      return "object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) && void 0 === i && (i = e, e = []), new n(t, e, i);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(55),\n        r = function r(t, e, i, _r11, s) {\n      return new n(t, e, i, _r11, s);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(182),\n        r = function r(t) {\n      return new n(t);\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { renderCanvas: i(590), renderWebGL: i(591) };\n  }, function (t, e) {\n    var i = function i(t, e, _i117, n) {};t.exports = i;\n  }, function (t, e, i) {\n    var n = i(183);t.exports = function () {\n      return i(n.has("WEBGL_draw_buffers") ? 592 : 593);\n    }();\n  }, function (t, e, i) {\n    var n = i(73),\n        r = function r(t, e, i, _r12) {\n      var s = e.sprites,\n          a = s.length,\n          o = t.spriteBatch,\n          h = t.gl;if (!(this.renderMask !== this.renderFlags || 0 === a || e.cameraFilter > 0 && e.cameraFilter & _r12._id)) {\n        null !== t.currentRenderer && t.currentRenderer.flush(), o.bind(e.gBufferShaderPass), o.indexBufferObject.bind(), e.updateLights(t, _r12, this.lightPassShader), h.bindFramebuffer(h.FRAMEBUFFER, e.gBufferFbo), h.clearColor(0, 0, 0, 0), h.clear(h.COLOR_BUFFER_BIT);for (var u = 0; u < a; ++u) {\n          var c,\n              l,\n              f,\n              d,\n              p,\n              v,\n              g,\n              x,\n              m,\n              y,\n              w,\n              E,\n              T,\n              b,\n              _,\n              A,\n              S,\n              R,\n              M,\n              O,\n              C,\n              L,\n              F,\n              I,\n              D,\n              B,\n              P = s[u],\n              k = P.spriteRef,\n              N = o.tempMatrix,\n              X = k.frame,\n              U = !!X.texture.source[X.sourceIndex].glTexture.isRenderTexture,\n              Y = k.flipX,\n              V = k.flipY ^ U,\n              z = o.vertexDataBuffer,\n              G = z.floatView,\n              H = z.uintView,\n              j = 0,\n              W = X.uvs,\n              q = X.width * (Y ? -1 : 1),\n              K = X.height * (V ? -1 : 1),\n              Z = k.x - _r12.scrollX * k.scrollFactorX,\n              J = k.y - _r12.scrollY * k.scrollFactorY,\n              Q = k.scaleX,\n              $ = k.scaleY,\n              tt = -k.rotation,\n              et = N.matrix,\n              it = -k.displayOriginX + X.x + X.width * (Y ? 1 : 0),\n              nt = -k.displayOriginY + X.y + X.height * (V ? 1 : 0),\n              rt = it + q,\n              st = nt + K,\n              at = _r12.matrix.matrix,\n              ot = k._alphaTL,\n              ht = k._alphaTR,\n              ut = k._alphaBL,\n              ct = k._alphaBR,\n              lt = k._tintTL,\n              ft = k._tintTR,\n              dt = k._tintBL,\n              pt = k._tintBR;N.applyITRS(Z, J, tt, Q, $), _ = et[0], A = et[1], S = et[2], R = et[3], M = et[4], O = et[5], C = at[0], L = at[1], F = at[2], I = at[3], D = at[4], B = at[5], c = _ * C + A * F, l = _ * L + A * I, f = S * C + R * F, d = S * L + R * I, p = M * C + O * F + D, v = M * L + O * I + B, g = it * c + nt * f + p, x = it * l + nt * d + v, m = it * c + st * f + p, y = it * l + st * d + v, w = rt * c + st * f + p, E = rt * l + st * d + v, T = rt * c + nt * f + p, b = rt * l + nt * d + v, (t.currentTexture[0] !== X.texture.source[X.sourceIndex].glTexture || t.currentTexture[1] !== P.normalTextureRef.source[P.spriteRef.frame.sourceIndex].glTexture || o.shouldFlush()) && (o.flush(e.gBufferShaderPass, e.renderTarget), t.setTexture(X.texture.source[X.sourceIndex].glTexture, 0), t.setTexture(P.normalTextureRef.source[P.spriteRef.frame.sourceIndex].glTexture, 1)), o.drawIndexed = !0, o.drawingMesh = !1, j = z.allocate(24), o.elementCount += 6, G[j++] = g, G[j++] = x, G[j++] = W.x0, G[j++] = W.y0, H[j++] = lt, G[j++] = ot, G[j++] = m, G[j++] = y, G[j++] = W.x1, G[j++] = W.y1, H[j++] = dt, G[j++] = ut, G[j++] = w, G[j++] = E, G[j++] = W.x2, G[j++] = W.y2, H[j++] = pt, G[j++] = ct, G[j++] = T, G[j++] = b, G[j++] = W.x3, G[j++] = W.y3, H[j++] = ft, G[j++] = ht;\n        }o.flush(e.gBufferShaderPass, e.renderTarget), t.setTexture({ texture: e.gBufferColorTex }, 0), t.setTexture({ texture: e.gBufferNormalTex }, 1), h.bindFramebuffer(h.FRAMEBUFFER, null), e.lightPassShader.bind(), h.bindBuffer(h.ARRAY_BUFFER, e.lightPassVBO), h.enableVertexAttribArray(0), h.vertexAttribPointer(0, 2, h.FLOAT, !1, Float32Array.BYTES_PER_ELEMENT, 0), h.drawArrays(h.TRIANGLES, 0, 3), n.SetDirty(), o.bind();\n      }\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i118, n) {\n      var r = e.sprites,\n          s = r.length,\n          a = t.spriteBatch;if (!(this.renderMask !== this.renderFlags || 0 === s || e.cameraFilter > 0 && e.cameraFilter & n._id)) {\n        null !== t.currentRenderer && t.currentRenderer.flush(), a.bind(e.passShader), a.indexBufferObject.bind(), e.updateLights(t, n, this.passShader);for (var o = 0; o < s; ++o) {\n          var h,\n              u,\n              c,\n              l,\n              f,\n              d,\n              p,\n              v,\n              g,\n              x,\n              m,\n              y,\n              w,\n              E,\n              T,\n              b,\n              _,\n              A,\n              S,\n              R,\n              M,\n              O,\n              C,\n              L,\n              F,\n              I,\n              D = r[o],\n              B = D.spriteRef,\n              P = a.tempMatrix,\n              k = B.frame,\n              N = !!k.texture.source[k.sourceIndex].glTexture.isRenderTexture,\n              X = B.flipX,\n              U = B.flipY ^ N,\n              Y = a.vertexDataBuffer,\n              V = Y.floatView,\n              z = Y.uintView,\n              G = 0,\n              H = k.uvs,\n              j = k.width * (X ? -1 : 1),\n              W = k.height * (U ? -1 : 1),\n              q = B.x - n.scrollX * B.scrollFactorX,\n              K = B.y - n.scrollY * B.scrollFactorY,\n              Z = B.scaleX,\n              J = B.scaleY,\n              Q = -B.rotation,\n              $ = P.matrix,\n              tt = -B.displayOriginX + k.x + k.width * (X ? 1 : 0),\n              et = -B.displayOriginY + k.y + k.height * (U ? 1 : 0),\n              it = tt + j,\n              nt = et + W,\n              rt = n.matrix.matrix,\n              st = B._alphaTL,\n              at = B._alphaTR,\n              ot = B._alphaBL,\n              ht = B._alphaBR,\n              ut = B._tintTL,\n              ct = B._tintTR,\n              lt = B._tintBL,\n              ft = B._tintBR;P.applyITRS(q, K, Q, Z, J), T = $[0], b = $[1], _ = $[2], A = $[3], S = $[4], R = $[5], M = rt[0], O = rt[1], C = rt[2], L = rt[3], F = rt[4], I = rt[5], h = T * M + b * C, u = T * O + b * L, c = _ * M + A * C, l = _ * O + A * L, f = S * M + R * C + F, d = S * O + R * L + I, p = tt * h + et * c + f, v = tt * u + et * l + d, g = tt * h + nt * c + f, x = tt * u + nt * l + d, m = it * h + nt * c + f, y = it * u + nt * l + d, w = it * h + et * c + f, E = it * u + et * l + d, (t.currentTexture[0] !== k.texture.source[k.sourceIndex].glTexture || t.currentTexture[1] !== D.normalTextureRef.source[D.spriteRef.frame.sourceIndex].glTexture || a.shouldFlush()) && (a.flush(e.passShader, e.renderTarget), t.setTexture(k.texture.source[k.sourceIndex].glTexture, 0), t.setTexture(D.normalTextureRef.source[D.spriteRef.frame.sourceIndex].glTexture, 1)), a.drawIndexed = !0, a.drawingMesh = !1, G = Y.allocate(24), a.elementCount += 6, V[G++] = p, V[G++] = v, V[G++] = H.x0, V[G++] = H.y0, z[G++] = ut, V[G++] = st, V[G++] = g, V[G++] = x, V[G++] = H.x1, V[G++] = H.y1, z[G++] = lt, V[G++] = ot, V[G++] = m, V[G++] = y, V[G++] = H.x2, V[G++] = H.y2, z[G++] = ft, V[G++] = ht, V[G++] = w, V[G++] = E, V[G++] = H.x3, V[G++] = H.y3, z[G++] = ct, V[G++] = at;\n        }a.flush(e.passShader, e.renderTarget);\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e, i, n, r, s, a, o) {\n        this.x = t, this.y = e, this.z = i, this.radius = n, this.r = r, this.g = s, this.b = a, this.attenuation = o, this.scrollFactorX = 1, this.scrollFactorY = 1;\n      }, set: function set(t, e, i, n, r, s, a, o) {\n        this.x = t, this.y = e, this.z = i, this.radius = n, this.r = r, this.g = s, this.b = a, this.attenuation = o, this.scrollFactorX = 1, this.scrollFactorY = 1;\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t, e) {\n        this.spriteRef = t, this.normalTextureRef = e;\n      }, set: function set(t, e) {\n        this.spriteRef = t, this.normalTextureRef = e;\n      } });t.exports = r;\n  }, function (t, e) {\n    t.exports = { MAX_LIGHTS: 10, DEFERRED_MAX_LIGHTS: 100 };\n  }, function (t, e, i) {\n    var n = i(56),\n        r = function r(t, e, i, _r13, s, a, o) {\n      return new n(t, e, i, _r13, s, a, o);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(83),\n        r = function r(t, e, i, _r14, s) {\n      return new n(t, e, i, _r14, s);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(84),\n        r = function r(t, e, i, _r15, s, a, o) {\n      return new n(t, e, i, _r15, s, a, o);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(39),\n        r = function r(t, e, i, _r16, s) {\n      return new n(t, e, i, _r16, s);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(85),\n        r = function r(t, e, i, _r17, s, a) {\n      return new n(t, e, i, _r17, s, a);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(86),\n        r = function r(t, e, i, _r18, s, a, o, h, u, c, l) {\n      return new n(t, e, i, _r18, s, a, o, h, u, c, l);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(87),\n        r = function r(t, e, i, _r19, s) {\n      return new n(t, e, i, _r19, s);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(88),\n        r = function r(t, e, i, _r20, s, a, o) {\n      return new n(t, e, i, _r20, s, a, o);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(64),\n        r = function r(t, e, i, _r21, s) {\n      return new n(t, e, i, _r21, s);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = (i(40), i(624)),\n        s = new n({ Extends: r, initialize: function initialize(t) {\n        r.call(this, t);\n      }, pointScreenToWorldHitTest: function pointScreenToWorldHitTest(t, e, i, n) {\n        return this.manager.pointScreenToWorldHitTest(t, e, i, n);\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "DRAG_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.x = t.x, this.y = t.y, this.dragX = t.x - e.input.dragX, this.dragY = t.y - e.input.dragY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i) {\n        r.call(this, "DRAG_END_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.x = t.x, this.y = t.y, this.dropped = i, this.dragX = e.input.dragX, this.dragY = e.input.dragY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i) {\n        r.call(this, "DRAG_ENTER_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.dropZone = i;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i) {\n        r.call(this, "DRAG_LEAVE_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.dropZone = i;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i) {\n        r.call(this, "DRAG_OVER_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.dropZone = i;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "DRAG_START_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.x = t.x, this.y = t.y, this.dragX = e.input.dragX, this.dragY = e.input.dragY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i) {\n        r.call(this, "DROP_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.dropZone = i;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "GAME_OBJECT_DOWN_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.x = e.input.localX, this.y = e.input.localY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "GAME_OBJECT_MOVE_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.x = e.input.localX, this.y = e.input.localY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "GAME_OBJECT_OUT_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "GAME_OBJECT_OVER_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.x = e.input.localX, this.y = e.input.localY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "GAME_OBJECT_UP_EVENT"), this.pointer = t, this.event = t.event, this.gameObject = e, this.camera = t.camera, this.x = e.input.localX, this.y = e.input.localY;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "POINTER_DOWN_EVENT"), this.pointer = t, this.event = t.event, this.camera = t.camera, this.x = t.x, this.y = t.y, this.list = e, this.gameObject = e[0];\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "POINTER_MOVE_EVENT"), this.pointer = t, this.event = t.event, this.camera = t.camera, this.x = t.x, this.y = t.y, this.list = e, this.gameObject = e[0];\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "POINTER_OUT_EVENT"), this.pointer = t, this.event = t.event, this.camera = t.camera, this.x = t.x, this.y = t.y, this.list = e, this.gameObject = e[0];\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "POINTER_OVER_EVENT"), this.pointer = t, this.event = t.event, this.camera = t.camera, this.x = t.x, this.y = t.y, this.list = e, this.gameObject = e[0];\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e) {\n        r.call(this, "POINTER_UP_EVENT"), this.pointer = t, this.event = t.event, this.camera = t.camera, this.x = t.x, this.y = t.y, this.list = e, this.gameObject = e[0];\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.scene = t, this.manager = t.sys.game.input, this.displayList, this.cameras, this.events = this.manager.events, this.keyboard = this.manager.keyboard, this.mouse = this.manager.mouse, this.topOnly = !0, this.pollRate = -1, this._pollTimer = 0, this.dragDistanceThreshold = 0, this.dragTimeThreshold = 0, this._temp = [], this._list = [], this._pendingInsertion = [], this._pendingRemoval = [], this._draggable = [], this._drag = { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: [], 8: [], 9: [] }, this._over = { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: [], 8: [], 9: [] }, this._validTypes = ["onDown", "onUp", "onOver", "onOut", "onMove", "onDragStart", "onDrag", "onDragEnd", "onDragEnter", "onDragLeave", "onDragOver", "onDrop"];\n      }, boot: i(625), begin: i(626), clear: i(627), update: i(628), hitTestPointer: i(629), disable: i(630), enable: i(631), queueForInsertion: i(632), queueForRemoval: i(633), setpollRate: i(634), setpollAlways: i(635), setpollOnMove: i(636), setHitArea: i(637), setHitAreaCircle: i(638), setHitAreaEllipse: i(639), setHitAreaFromTexture: i(640), setHitAreaRectangle: i(641), setHitAreaTriangle: i(642), setDraggable: i(643), setCallback: i(644), setCallbacks: i(645), setOnDownCallback: i(646), setOnOutCallback: i(647), setOnOverCallback: i(648), setOnUpCallback: i(649), setOnMoveCallback: i(650), processOverOutEvents: i(651), processDownEvents: i(652), processDragEvents: i(653), processUpEvents: i(654), processMoveEvents: i(655), sortGameObjects: i(656), sortInteractiveObjects: i(657), sortHandlerGO: i(658), sortHandlerIO: i(659), shutdown: function shutdown() {\n        this._temp.length = 0, this._list.length = 0, this._draggable.length = 0, this._pendingRemoval.length = 0, this._pendingInsertion.length = 0;for (var t = 0; t < 10; t++) {\n          this._drag[t] = [], this._over[t] = [];\n        }\n      }, destroy: function destroy() {\n        this.shutdown(), this.scene = void 0, this.cameras = void 0, this.manager = void 0, this.events = void 0, this.keyboard = void 0, this.mouse = void 0;\n      } });t.exports = r;\n  }, function (t, e) {\n    var i = function i() {\n      this.cameras = this.scene.sys.cameras, this.displayList = this.scene.sys.displayList;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      var t = this._pendingRemoval,\n          e = this._pendingInsertion,\n          i = t.length,\n          n = e.length;if (0 !== i || 0 !== n) {\n        for (var r = this._list, s = 0; s < i; s++) {\n          var a = t[s],\n              o = r.indexOf(a);o > -1 && (r.splice(o, 1), this.clear(a));\n        }t.length = 0, this._list = r.concat(e.splice(0));\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.input;return e.gameObject = void 0, e.target = void 0, e.hitArea = void 0, e.hitAreaCallback = void 0, e.callbackContext = void 0, t.input = null, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = this.manager.activePointer,\n          n = i.dirty || 0 === this.pollRate;this.pollRate > -1 && (this._pollTimer -= e, this._pollTimer < 0 && (n = !0, this._pollTimer = this.pollRate)), n && (this._temp = this.hitTestPointer(i), this.sortGameObjects(this._temp), this.processDragEvents(i, t), this.processOverOutEvents(i), i.justDown && this.processDownEvents(i), i.justUp && this.processUpEvents(i), i.justMoved && this.processMoveEvents(i));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.cameras.getCameraBelowPointer(t);return e ? (t.camera = e, this.manager.hitTest(this._list, t.x, t.y, e)) : [];\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      t.input.enabled = !1;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i119) {\n      return t.input ? t.input.enabled = !0 : this.setHitArea(t, e, _i119), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return -1 === this._pendingInsertion.indexOf(t) && -1 === this._list.indexOf(t) && this._pendingInsertion.push(t), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this._pendingRemoval.push(t), this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.pollRate = t, this._pollTimer = 0, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      return this.pollRate = 0, this._pollTimer = 0, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      return this.pollRate = -1, this._pollTimer = 0, this;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(184),\n        r = function r(t, e, i) {\n      if (void 0 === e) return this.setHitAreaFromTexture(t);Array.isArray(t) || (t = [t]);for (var r = 0; r < t.length; r++) {\n        var s = t[r];s.input = n(s, e, i), this.queueForInsertion(s);\n      }return this;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(48),\n        r = i(36),\n        s = function s(t, e, i, _s4, a) {\n      void 0 === a && (a = r);var o = new n(e, i, _s4);return this.setHitArea(t, o, a);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(89),\n        r = i(57),\n        s = function s(t, e, i, _s5, a, o) {\n      void 0 === o && (o = r);var h = new n(e, i, _s5, a);return this.setHitArea(t, h, o);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(184),\n        r = i(15),\n        s = i(27),\n        a = function a(t, e) {\n      void 0 === e && (e = s), Array.isArray(t) || (t = [t]);for (var i = 0; i < t.length; i++) {\n        var a = t[i],\n            o = a.frame,\n            h = 0,\n            u = 0;o ? (h = o.width, u = o.height) : a.width && (h = a.width, u = a.height), 0 !== h && 0 !== u && (a.input = n(a, new r(0, 0, h, u), e), this.queueForInsertion(a));\n      }return this;\n    };t.exports = a;\n  }, function (t, e, i) {\n    var n = i(15),\n        r = i(27),\n        s = function s(t, e, i, _s6, a, o) {\n      void 0 === o && (o = r);var h = new n(e, i, _s6, a);return this.setHitArea(t, h, o);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(41),\n        r = i(47),\n        s = function s(t, e, i, _s7, a, o, h, u) {\n      void 0 === u && (u = r);var c = new n(e, i, _s7, a, o, h);return this.setHitArea(t, c, u);\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      void 0 === e && (e = !0), Array.isArray(t) || (t = [t]);for (var i = 0; i < t.length; i++) {\n        var n = t[i];n.input.draggable = e;var r = this._draggable.indexOf(n);e && -1 === r ? this._draggable.push(n) : !e && r > -1 && this._draggable.splice(r, 1);\n      }return this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i120, n) {\n      if (-1 === this._validTypes.indexOf(e)) return this;Array.isArray(t) || (t = [t]);for (var r = 0; r < t.length; r++) {\n        var s = t[r];s.input && (s.input[e] = _i120, n && (s.input.callbackContext = n));\n      }return this;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(7),\n        r = function r(t, e) {\n      var i = n(e, "onDown", null),\n          r = n(e, "onUp", null),\n          s = n(e, "onOver", null),\n          a = n(e, "onOut", null),\n          o = n(e, "onMove", null),\n          h = n(e, "context", null);return i && this.setOnDownCallback(t, i, h), r && this.setOnDownCallback(t, r, h), s && this.setOnDownCallback(t, s, h), a && this.setOnDownCallback(t, a, h), o && this.setOnMoveCallback(t, o, h), this;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i121) {\n      return this.setCallback(t, "onDown", e, _i121);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i122) {\n      return this.setCallback(t, "onOut", e, _i122);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i123) {\n      return this.setCallback(t, "onOver", e, _i123);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i124) {\n      return this.setCallback(t, "onUp", e, _i124);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i125) {\n      return this.setCallback(t, "onMove", e, _i125);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(40),\n        r = function r(t) {\n      var e,\n          i,\n          r = this._temp,\n          s = [],\n          a = [],\n          o = [],\n          h = this._over[t.id];for (e = 0; e < h.length; e++) {\n        i = h[e], -1 === r.indexOf(i) ? s.push(i) : o.push(i);\n      }for (e = 0; e < r.length; e++) {\n        i = r[e], -1 === h.indexOf(i) && a.push(i);\n      }var u = s.length;if (u > 0) for (this.sortGameObjects(s), this.events.dispatch(new n.POINTER_OUT(t, s)), e = 0; e < u && (i = s[e], this.events.dispatch(new n.GAME_OBJECT_OUT(t, i)), i.input.onOut(i, t), !this.topOnly); e++) {}if ((u = a.length) > 0) for (this.sortGameObjects(a), this.events.dispatch(new n.POINTER_OVER(t, a)), e = 0; e < u && (i = a[e], this.events.dispatch(new n.GAME_OBJECT_OVER(t, i)), i.input.onOver(i, t, i.input.localX, i.input.localY), !this.topOnly); e++) {}h = o.concat(a), this._over[t.id] = this.sortGameObjects(h);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(40),\n        r = function r(t) {\n      var e = this._temp;this.events.dispatch(new n.POINTER_DOWN(t, e));for (var i = 0; i < e.length; i++) {\n        var r = e[i];if (this.events.dispatch(new n.GAME_OBJECT_DOWN(t, r)), r.input.onDown(r, t, r.input.localX, r.input.localY), this.topOnly) break;\n      }\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(51),\n        r = i(40),\n        s = function s(t, e) {\n      if (0 !== this._draggable.length) {\n        var i,\n            s,\n            a,\n            o,\n            h,\n            u = this._temp;if (0 === t.dragState && t.primaryDown && t.justDown && u.length > 0 ? t.dragState = 1 : t.dragState > 0 && !t.primaryDown && t.justUp && (t.dragState = 5), 1 === t.dragState) {\n          var c = [];for (i = 0; i < u.length; i++) {\n            a = u[i], a.input.draggable && c.push(a);\n          }if (0 === c.length) return void (t.dragState = 0);c.length > 1 && (this.sortGameObjects(c), this.topOnly && c.splice(1)), this._drag[t.id] = c, 0 === this.dragDistanceThreshold && 0 === this.dragTimeThreshold ? t.dragState = 3 : t.dragState = 2;\n        }if (2 === t.dragState && (this.dragDistanceThreshold > 0 && n(t.x, t.y, t.downX, t.downY) >= this.dragDistanceThreshold && (t.dragState = 3), this.dragTimeThreshold > 0 && e >= t.downTime + this.dragTimeThreshold && (t.dragState = 3)), 3 === t.dragState) {\n          for (o = this._drag[t.id], i = 0; i < o.length; i++) {\n            a = o[i], h = a.input, h.dragState = 2, h.dragX = t.x - a.x, h.dragY = t.y - a.y, h.dragStartX = a.x, h.dragStartY = a.y, this.events.dispatch(new r.DRAG_START(t, a)), h.onDragStart(a, t, h.dragX, h.dragY);\n          }return void (t.dragState = 4);\n        }if (4 === t.dragState && t.justMoved) {\n          var l = [];for (s = 0; s < u.length; s++) {\n            u[s].input.dropZone && l.push(u[s]);\n          }for (o = this._drag[t.id], i = 0; i < o.length; i++) {\n            if (a = o[i], h = a.input, h.target) {\n              var f = l.indexOf(h.target);0 === f ? this.events.dispatch(new r.DRAG_OVER(t, a, h.target)) : f > 0 ? (this.events.dispatch(new r.DRAG_LEAVE(t, a, h.target)), h.target = l[0], this.events.dispatch(new r.DRAG_ENTER(t, a, h.target))) : (this.events.dispatch(new r.DRAG_LEAVE(t, a, h.target)), l[0] ? (h.target = l[0], this.events.dispatch(new r.DRAG_ENTER(t, a, h.target))) : h.target = null);\n            } else !h.target && l[0] && (h.target = l[0], this.events.dispatch(new r.DRAG_ENTER(t, a, h.target)));this.events.dispatch(new r.DRAG(t, a)), h.onDrag(a, t);\n          }\n        }if (5 === t.dragState) {\n          for (o = this._drag[t.id], i = 0; i < o.length; i++) {\n            a = o[i], h = a.input, h.dragState = 0, h.dragX = h.localX - a.displayOriginX, h.dragY = h.localY - a.displayOriginY;var d = !1;h.target && (this.events.dispatch(new r.DROP(t, a, h.target)), h.target = null, d = !0), this.events.dispatch(new r.DRAG_END(t, a, d)), h.onDragEnd(a, t, h.dragX, h.dragY);\n          }t.dragState = 0;\n        }\n      }\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(40),\n        r = function r(t) {\n      var e = this._temp;this.events.dispatch(new n.POINTER_UP(t, e));for (var i = 0; i < e.length; i++) {\n        var r = e[i];if (this.events.dispatch(new n.GAME_OBJECT_UP(t, r)), r.input.onUp(r, t, r.input.localX, r.input.localY), this.topOnly) break;\n      }\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(40),\n        r = function r(t) {\n      var e = this._temp;this.events.dispatch(new n.POINTER_MOVE(t, e));for (var i = 0; i < e.length; i++) {\n        var r = e[i];if (this.events.dispatch(new n.GAME_OBJECT_MOVE(t, r)), r.input.onMove(r, t, r.input.localX, r.input.localY), this.topOnly) break;\n      }\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.length < 2 ? t : (this.scene.sys.depthSort(), t.sort(this.sortHandlerGO.bind(this)));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.length < 2 ? t : (this.scene.sys.depthSort(), t.sort(this.sortHandlerIO.bind(this)));\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = this.displayList.getIndex(t),\n          n = this.displayList.getIndex(e);return i < n ? 1 : i > n ? -1 : 0;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = this.displayList.getIndex(t.gameObject),\n          n = this.displayList.getIndex(e.gameObject);return i < n ? 1 : i > n ? -1 : 0;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(661),\n        r = i(0),\n        s = i(185),\n        a = i(665),\n        o = i(668),\n        h = i(669),\n        u = i(670),\n        c = i(671),\n        l = i(672),\n        f = i(42),\n        d = i(91),\n        p = i(673),\n        v = i(674),\n        g = i(675),\n        x = i(188),\n        m = i(676),\n        y = i(187),\n        w = new r({ Extends: n, initialize: function initialize(t) {\n        n.call(this, t), this._multilist = {};\n      }, image: function image(t, e, i) {\n        return f.create(this, t, e, i);\n      }, animation: function animation(t, e, i) {\n        return a.create(this, t, e, i);\n      }, json: function json(t, e, i) {\n        return d.create(this, t, e, i);\n      }, script: function script(t, e, i) {\n        return p.create(this, t, e, i);\n      }, xml: function xml(t, e, i) {\n        return y.create(this, t, e, i);\n      }, binary: function binary(t, e, i) {\n        return h.create(this, t, e, i);\n      }, text: function text(t, e, i) {\n        return x.create(this, t, e, i);\n      }, glsl: function glsl(t, e, i) {\n        return c.create(this, t, e, i);\n      }, html: function html(t, e, i, n, r) {\n        return l.create(this, t, e, i, n, r);\n      }, svg: function svg(t, e, i) {\n        return g.create(this, t, e, i);\n      }, spritesheet: function spritesheet(t, e, i, n) {\n        return v.create(this, t, e, i, n);\n      }, unityAtlas: function unityAtlas(t, e, i, n, r) {\n        var s = new m(t, e, i, this.path, n, r);return this.addFile(s.texture), this.addFile(s.data), this;\n      }, atlas: function atlas(t, e, i, n, r) {\n        var s = new o(t, e, i, this.path, n, r);return this.addFile(s.texture), this.addFile(s.data), this;\n      }, bitmapFont: function bitmapFont(t, e, i, n, r) {\n        var s = new u(t, e, i, this.path, n, r);return this.addFile(s.texture), this.addFile(s.data), this;\n      }, multiatlas: function multiatlas(t, e, i, n, r) {\n        if ("number" == typeof e) {\n          var a = e,\n              o = void 0 === i ? "" : i;e = s(0, a, t + o, ".png"), i = s(0, a, t + o, ".json");\n        } else Array.isArray(e) || (e = [e]), Array.isArray(i) || (i = [i]);var h,\n            u,\n            c = 0;for (this._multilist[t] = [], c = 0; c < e.length; c++) {\n          u = "_MA_IMG_" + t + "_" + c.toString(), h = new f(u, e[c], this.path, n), this.addFile(h), this._multilist[t].push(u);\n        }for (c = 0; c < i.length; c++) {\n          u = "_MA_JSON_" + t + "_" + c.toString(), h = new d(u, i[c], this.path, r), this.addFile(h), this._multilist[t].push(u);\n        }\n      } });t.exports = w;\n  }, function (t, e, i) {\n    var n = i(12),\n        r = i(54),\n        s = i(90),\n        a = i(662),\n        o = i(0),\n        h = i(181),\n        u = new o({ initialize: function initialize(t) {\n        this.scene = t, this.events = t.sys.events, this.baseURL = "", this.path = "", this.enableParallel = !0, this.maxParallelDownloads = 4, this.xhr = s(), this.crossOrigin = void 0, this.list = new r(), this.inflight = new r(), this.failed = new r(), this.queue = new r(), this.storage = new r(), this.state = n.LOADER_IDLE;\n      }, setPath: function setPath(t) {\n        return "/" !== t.substr(-1) && (t = t.concat("/")), this.path = t, this;\n      }, addFile: function addFile(t) {\n        return this.isReady() ? (t.path = this.path, this.list.set(t), this) : -1;\n      }, isLoading: function isLoading() {\n        return this.state === n.LOADER_LOADING || this.state === n.LOADER_PROCESSING;\n      }, isReady: function isReady() {\n        return this.state === n.LOADER_IDLE || this.state === n.LOADER_COMPLETE || this.state === n.LOADER_FAILED;\n      }, start: function start() {\n        console.log(this.scene.sys.settings.key, "- BaseLoader start. Files to load:", this.list.size), this.isReady() && (this.events.dispatch(new a.LOADER_START_EVENT(this)), 0 === this.list.size ? this.finishedLoading() : (this.state = n.LOADER_LOADING, this.failed.clear(), this.inflight.clear(), this.queue.clear(), this.queue.debug = !0, this.updateProgress(), this.processLoadQueue()));\n      }, updateProgress: function updateProgress() {}, processLoadQueue: function processLoadQueue() {\n        var t = this;this.list.each(function (e) {\n          if (e.state === n.FILE_PENDING && t.inflight.size < t.maxParallelDownloads && (t.inflight.set(e), t.list.delete(e), t.loadFile(e)), t.inflight.size === t.maxParallelDownloads) return !1;\n        });\n      }, loadFile: function loadFile(t) {\n        t.crossOrigin || (t.crossOrigin = this.crossOrigin), t.load(this.nextFile.bind(this), this.baseURL);\n      }, nextFile: function nextFile(t, e) {\n        e ? this.queue.set(t) : this.failed.set(t), this.inflight.delete(t), this.list.size > 0 ? this.processLoadQueue() : 0 === this.inflight.size && this.finishedLoading();\n      }, finishedLoading: function finishedLoading() {\n        this.state = n.LOADER_PROCESSING, this.storage.clear();var t = this;this.queue.each(function (e) {\n          e.onProcess(t.processUpdate.bind(t));\n        });\n      }, processUpdate: function processUpdate(t) {\n        if (t.state === n.FILE_ERRORED) return this.failed.set(t), t.linkFile && this.queue.delete(t.linkFile), this.removeFromQueue(t);t.linkFile ? t.state === n.FILE_COMPLETE && t.linkFile.state === n.FILE_COMPLETE && (this.storage.set({ type: t.linkType, fileA: t, fileB: t.linkFile }), this.queue.delete(t.linkFile), this.removeFromQueue(t)) : (this.storage.set(t), this.removeFromQueue(t));\n      }, removeFromQueue: function removeFromQueue(t) {\n        this.queue.delete(t), 0 === this.queue.size && this.state === n.LOADER_PROCESSING && this.processComplete();\n      }, processComplete: function processComplete() {\n        console.log(this.scene.sys.settings.key, "- Loader Complete. Loaded:", this.storage.size, "Failed:", this.failed.size), this.list.clear(), this.inflight.clear(), this.queue.clear(), this.processCallback(), this.state = n.LOADER_COMPLETE, this.events.dispatch(new a.LOADER_COMPLETE_EVENT(this));\n      }, processCallback: function processCallback() {\n        if (0 !== this.storage.size) {\n          var t,\n              e,\n              i,\n              n = this.scene.sys.cache,\n              r = this.scene.sys.textures,\n              s = this.scene.sys.anims;for (var a in this._multilist) {\n            for (var o = [], u = [], c = this._multilist[a], l = 0; l < c.length; l++) {\n              (t = this.storage.get("key", c[l])) && ("image" === t.type ? u.push(t.data) : "json" === t.type && o.push(t.data), this.storage.delete(t));\n            }u.length + o.length === c.length && (Array.isArray(o[0].frames) ? r.addAtlasJSONArray(a, u, o) : r.addAtlasJSONHash(a, u, o));\n          }var f = [];this.storage.each(function (t) {\n            switch (t.type) {case "animationJSON":\n                f.push(t);break;case "image":case "svg":case "html":\n                r.addImage(t.key, t.data);break;case "atlasjson":\n                e = t.fileA, i = t.fileB, "image" === e.type ? r.addAtlas(e.key, e.data, i.data) : r.addAtlas(i.key, i.data, e.data);break;case "unityatlas":\n                e = t.fileA, i = t.fileB, "image" === e.type ? r.addUnityAtlas(e.key, e.data, i.data) : r.addUnityAtlas(i.key, i.data, e.data);break;case "bitmapfont":\n                e = t.fileA, i = t.fileB, "image" === e.type ? (n.bitmapFont.add(i.key, { data: h(i.data), texture: e.key, frame: null }), r.addImage(e.key, e.data)) : (n.bitmapFont.add(e.key, { data: h(e.data), texture: i.key, frame: null }), r.addImage(i.key, i.data));break;case "spritesheet":\n                r.addSpriteSheet(t.key, t.data, t.config);break;case "json":\n                n.json.add(t.key, t.data);break;case "xml":\n                n.xml.add(t.key, t.data);break;case "text":\n                n.text.add(t.key, t.data);break;case "binary":\n                n.binary.add(t.key, t.data);break;case "sound":\n                n.sound.add(t.key, t.data);break;case "glsl":\n                n.shader.add(t.key, t.data);}\n          }), f.forEach(function (t) {\n            s.fromJSON(t.data);\n          }), this.storage.clear();\n        }\n      }, reset: function reset() {\n        this.list.clear(), this.inflight.clear(), this.failed.clear(), this.queue.clear(), this.storage.clear(), this.events.removeAll("LOADER_START_EVENT"), this.events.removeAll("LOADER_COMPLETE_EVENT"), this.tag = "", this.path = "", this.baseURL = "", this.state = n.LOADER_IDLE;\n      }, destroy: function destroy() {\n        this.reset(), this.state = n.LOADER_DESTROYED;\n      } });t.exports = u;\n  }, function (t, e, i) {\n    t.exports = { LOADER_START_EVENT: i(663), LOADER_COMPLETE_EVENT: i(664) };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t) {\n        r.call(this, "LOADER_START_EVENT"), this.loader = t;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t) {\n        r.call(this, "LOADER_COMPLETE_EVENT"), this.loader = t;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(91),\n        r = function r(t, e, i, _r22) {\n      var s = new n(t, e, i, _r22);return s.type = "animationJSON", s;\n    };r.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var s = 0; s < e.length; s++) {\n        t.addFile(new r(e[s], i, t.path, n));\n      } else t.addFile(new r(e, i, t.path, n));return t;\n    }, t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return !!t.url && (t.url.match(/^(?:blob:|data:|http:\\/\\/|https:\\/\\/|\\/\\/)/) ? t.url : e + t.url);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(186),\n        r = function r(t, e) {\n      var i = n(e, t.xhrSettings),\n          r = new XMLHttpRequest();return r.open("GET", t.src, i.async, i.user, i.password), r.responseType = t.xhrSettings.responseType, r.timeout = i.timeout, i.header && i.headerValue && r.setRequestHeader(i.header, i.headerValue), i.overrideMimeType && r.overrideMimeType(i.overrideMimeType), r.onload = t.onLoad.bind(t), r.onerror = t.onError.bind(t), r.onprogress = t.onProgress.bind(t), r.send(), r;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(42),\n        r = i(91),\n        s = function s(t, e, i, _s8, a, o) {\n      var h = new n(t, e, _s8, a),\n          u = new r(t, i, _s8, o);return h.linkFile = u, u.linkFile = h, h.linkType = "atlasjson", u.linkType = "atlasjson", { texture: h, data: u };\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = i(7),\n        o = new n({ Extends: s, initialize: function initialize(t, e, i, n) {\n        var r = "string" == typeof t ? t : a(t, "key", ""),\n            o = { type: "binary", extension: a(t, "extension", "bin"), responseType: "arraybuffer", key: r, url: a(t, "file", e), path: i, xhrSettings: a(t, "xhr", n) };s.call(this, o);\n      }, onProcess: function onProcess(t) {\n        this.state = r.FILE_PROCESSING, this.data = this.xhrLoader.response, this.onComplete(), t(this);\n      } });o.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        t.addFile(new o(e[r], i, t.path, n));\n      } else t.addFile(new o(e, i, t.path, n));return t;\n    }, t.exports = o;\n  }, function (t, e, i) {\n    var n = i(42),\n        r = i(187),\n        s = function s(t, e, i, _s9, a, o) {\n      var h = new n(t, e, _s9, a),\n          u = new r(t, i, _s9, o);return h.linkFile = u, u.linkFile = h, h.linkType = "bitmapfont", u.linkType = "bitmapfont", { texture: h, data: u };\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = i(7),\n        o = new n({ Extends: s, initialize: function initialize(t, e, i, n) {\n        var r = "string" == typeof t ? t : a(t, "key", ""),\n            o = { type: "glsl", extension: a(t, "extension", "glsl"), responseType: "text", key: r, url: a(t, "file", e), path: i, xhrSettings: a(t, "xhr", n) };s.call(this, o);\n      }, onProcess: function onProcess(t) {\n        this.state = r.FILE_PROCESSING, this.data = this.xhrLoader.responseText, this.onComplete(), t(this);\n      } });o.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        t.addFile(new o(e[r], i, t.path, n));\n      } else t.addFile(new o(e, i, t.path, n));return t;\n    }, t.exports = o;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = i(7),\n        o = new n({ Extends: s, initialize: function initialize(t, e, i, n, r, o) {\n        void 0 === i && (i = 512), void 0 === n && (n = 512);var h = "string" == typeof t ? t : a(t, "key", ""),\n            u = { type: "html", extension: a(t, "extension", "html"), responseType: "text", key: h, url: a(t, "file", e), path: r, xhrSettings: a(t, "xhr", o), config: { width: i, height: n } };s.call(this, u);\n      }, onProcess: function onProcess(t) {\n        this.state = r.FILE_PROCESSING;var e = this.config.width,\n            i = this.config.height,\n            n = [];n.push(\'<svg width="\' + e + \'px" height="\' + i + \'px" viewBox="0 0 \' + e + " " + i + \'" xmlns="http://www.w3.org/2000/svg">\'), n.push(\'<foreignObject width="100%" height="100%">\'), n.push(\'<body xmlns="http://www.w3.org/1999/xhtml">\'), n.push(this.xhrLoader.responseText), n.push("</body>"), n.push("</foreignObject>"), n.push("</svg>");var s = [n.join("\\n")],\n            a = this;try {\n          var o = new window.Blob(s, { type: "image/svg+xml;charset=utf-8" });\n        } catch (e) {\n          return a.state = r.FILE_ERRORED, void t(a);\n        }this.data = new Image(), this.data.crossOrigin = this.crossOrigin, this.data.onload = function () {\n          URL.revokeObjectURL(a.data.src), a.onComplete(), t(a);\n        }, this.data.onerror = function () {\n          URL.revokeObjectURL(a.data.src), a.state = r.FILE_ERRORED, t(a);\n        }, this.data.src = URL.createObjectURL(o);\n      } });o.create = function (t, e, i, n, r, s) {\n      if (Array.isArray(e)) for (var a = 0; a < e.length; a++) {\n        t.addFile(new o(e[a], i, n, r, t.path, s));\n      } else t.addFile(new o(e, i, n, r, t.path, s));return t;\n    }, t.exports = o;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = i(7),\n        o = new n({ Extends: s, initialize: function initialize(t, e, i, n) {\n        var r = "string" == typeof t ? t : a(t, "key", ""),\n            o = { type: "script", extension: a(t, "extension", "js"), responseType: "text", key: r, url: a(t, "file", e), path: i, xhrSettings: a(t, "xhr", n) };s.call(this, o);\n      }, onProcess: function onProcess(t) {\n        this.state = r.FILE_PROCESSING, this.data = document.createElement("script"), this.data.language = "javascript", this.data.type = "text/javascript", this.data.defer = !1, this.data.text = this.xhrLoader.responseText, document.head.appendChild(this.data), this.onComplete(), t(this);\n      } });o.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        t.addFile(new o(e[r], i, t.path, n));\n      } else t.addFile(new o(e, i, t.path, n));return t;\n    }, t.exports = o;\n  }, function (t, e, i) {\n    var n = i(42),\n        r = function r(t, e, i, _r23, s) {\n      var a = new n(t, e, _r23, s, i);return a.type = "spritesheet", a;\n    };r.create = function (t, e, i, n, s) {\n      if (Array.isArray(e)) for (var a = 0; a < e.length; a++) {\n        t.addFile(new r(e[a], i, null, t.path, s));\n      } else t.addFile(new r(e, i, n, t.path, s));return t;\n    }, t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(12),\n        s = i(24),\n        a = i(7),\n        o = new n({ Extends: s, initialize: function initialize(t, e, i, n) {\n        var r = "string" == typeof t ? t : a(t, "key", ""),\n            o = { type: "svg", extension: a(t, "extension", "svg"), responseType: "text", key: r, url: a(t, "file", e), path: i, xhrSettings: a(t, "xhr", n) };s.call(this, o);\n      }, onProcess: function onProcess(t) {\n        this.state = r.FILE_PROCESSING;var e = [this.xhrLoader.responseText],\n            i = this;try {\n          var n = new window.Blob(e, { type: "image/svg+xml;charset=utf-8" });\n        } catch (e) {\n          return i.state = r.FILE_ERRORED, void t(i);\n        }this.data = new Image(), this.data.crossOrigin = this.crossOrigin;var s = !1;this.data.onload = function () {\n          URL.revokeObjectURL(i.data.src), i.onComplete(), t(i);\n        }, this.data.onerror = function () {\n          if (URL.revokeObjectURL(i.data.src), s) i.state = r.FILE_ERRORED, t(i);else {\n            s = !0;var n = "data:image/svg+xml," + encodeURIComponent(e.join(""));i.data.src = URL.createObjectURL(n);\n          }\n        }, this.data.src = URL.createObjectURL(n);\n      } });o.create = function (t, e, i, n) {\n      if (Array.isArray(e)) for (var r = 0; r < e.length; r++) {\n        t.addFile(new o(e[r], i, t.path, n));\n      } else t.addFile(new o(e, i, t.path, n));return t;\n    }, t.exports = o;\n  }, function (t, e, i) {\n    var n = i(42),\n        r = i(188),\n        s = function s(t, e, i, _s10, a, o) {\n      var h = new n(t, e, _s10, a),\n          u = new r(t, i, _s10, o);return h.linkFile = u, u.linkFile = h, h.linkType = "unityatlas", u.linkType = "unityatlas", { texture: h, data: u };\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(2),\n        s = i(92),\n        a = i(25),\n        o = i(678),\n        h = new n({ initialize: function initialize(t) {\n        this.scene = t, this.gameConfig = t.sys.game.config.physics, this.defaultSystem = t.sys.game.config.defaultPhysicsSystem, this.sceneConfig = t.sys.settings.physics, this.system, this.world = { update: a }, this.add;\n      }, boot: function boot() {\n        var t = r(this.sceneConfig, "system", !1);if (this.defaultSystem || t) {\n          var e = !1 !== t ? t : this.defaultSystem,\n              i = s(this.sceneConfig, r(this.gameConfig, e, {}));switch (e) {case "impact":\n              this.system = new o(this, i);}\n        }\n      }, update: function update(t, e) {\n        this.world.update(t, e);\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = (i(92), i(679)),\n        s = i(690),\n        a = new n({ initialize: function initialize(t, e) {\n        this.config = e, t.world = new r(t.scene, e), t.add = new s(t.world);\n      } });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(680),\n        r = i(0),\n        s = i(59),\n        a = i(683),\n        o = i(7),\n        h = i(54),\n        u = i(685),\n        c = i(60),\n        l = new r({ initialize: function initialize(t, e) {\n        this.scene = t, this.events = t.sys.events, this.bodies = new h(), this.gravity = o(e, "gravity", 0), this.cellSize = o(e, "cellSize", 64), this.collisionMap = new a(), this.timeScale = o(e, "timeScale", 1), this.maxStep = o(e, "maxStep", .05), this.enabled = !0, this.drawDebug = o(e, "debug", !1), this.debugGraphic;var i = o(e, "maxVelocity", 100);if (this.defaults = { debugShowBody: o(e, "debugShowBody", !0), debugShowVelocity: o(e, "debugShowVelocity", !0), bodyDebugColor: o(e, "debugBodyColor", 16711935), velocityDebugColor: o(e, "debugVelocityColor", 65280), maxVelocityX: o(e, "maxVelocityX", i), maxVelocityY: o(e, "maxVelocityY", i), minBounceVelocity: o(e, "minBounceVelocity", 40), gravityFactor: o(e, "gravityFactor", 1), bounciness: o(e, "bounciness", 0) }, this.walls = { left: null, right: null, top: null, bottom: null }, this.delta = 0, this._lastId = 0, o(e, "setBounds", !1)) {\n          var n = e.setBounds;if ("boolean" == typeof n) this.setBounds();else {\n            var r = o(n, "x", 0),\n                s = o(n, "y", 0),\n                u = o(n, "width", t.sys.game.config.width),\n                c = o(n, "height", t.sys.game.config.height),\n                l = o(n, "thickness", 64),\n                f = o(n, "left", !0),\n                d = o(n, "right", !0),\n                p = o(n, "top", !0),\n                v = o(n, "bottom", !0);this.setBounds(r, s, u, c, l, f, d, p, v);\n          }\n        }this.drawDebug && this.createDebugGraphic();\n      }, setCollisionMap: function setCollisionMap(t, e) {\n        return this.collisionMap = new a(t, e), this;\n      }, setBounds: function setBounds(t, e, i, n, r, s, a, o, h) {\n        return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.scene.sys.game.config.width), void 0 === n && (n = this.scene.sys.game.config.height), void 0 === r && (r = 64), void 0 === s && (s = !0), void 0 === a && (a = !0), void 0 === o && (o = !0), void 0 === h && (h = !0), this.updateWall(s, "left", t - r, e, r, n), this.updateWall(a, "right", t + i, e, r, n), this.updateWall(o, "top", t, e - r, i, r), this.updateWall(h, "bottom", t, e + n, i, r), this;\n      }, updateWall: function updateWall(t, e, i, n, r, a) {\n        var o = this.walls[e];t ? o ? o.resetSize(i, n, r, a) : (this.walls[e] = this.create(i, n, r, a), this.walls[e].name = e, this.walls[e].gravityFactor = 0, this.walls[e].collides = s.FIXED) : (o && this.bodies.remove(o), this.walls[e] = null);\n      }, createDebugGraphic: function createDebugGraphic() {\n        var t = this.scene.sys.add.graphics({ x: 0, y: 0 });return t.setZ(Number.MAX_SAFE_INTEGER), this.debugGraphic = t, this.drawDebug = !0, t;\n      }, getNextID: function getNextID() {\n        return this._lastId++;\n      }, create: function create(t, e, i, r) {\n        var s = new n(this, t, e, i, r);return this.bodies.set(s), s;\n      }, pause: function pause() {\n        return this.enabled = !1, this;\n      }, resume: function resume() {\n        return this.enabled = !0, this;\n      }, update: function update(t, e) {\n        if (this.enabled && 0 !== this.bodies.size) {\n          this.delta = Math.min(e / 1e3, this.maxStep) * this.timeScale;var i,\n              n,\n              r = this.bodies.entries,\n              s = r.length,\n              a = {},\n              o = this.cellSize;for (i = 0; i < s; i++) {\n            n = r[i], n.enabled && n.update(this.delta);\n          }for (i = 0; i < s; i++) {\n            n = r[i], n.skipHash() || this.checkHash(n, a, o);\n          }if (this.drawDebug) {\n            var h = this.debugGraphic;for (h.clear(), i = 0; i < s; i++) {\n              n = r[i], n.willDrawDebug() && n.drawDebug(h);\n            }\n          }\n        }\n      }, checkHash: function checkHash(t, e, i) {\n        for (var n = {}, r = Math.floor(t.pos.x / i), s = Math.floor(t.pos.y / i), a = Math.floor((t.pos.x + t.size.x) / i) + 1, o = Math.floor((t.pos.y + t.size.y) / i) + 1, h = r; h < a; h++) {\n          for (var u = s; u < o; u++) {\n            if (e[h]) {\n              if (e[h][u]) {\n                for (var c = e[h][u], l = 0; l < c.length; l++) {\n                  t.touches(c[l]) && !n[c[l].id] && (n[c[l].id] = !0, this.checkBodies(t, c[l]));\n                }c.push(t);\n              } else e[h][u] = [t];\n            } else e[h] = {}, e[h][u] = [t];\n          }\n        }\n      }, checkBodies: function checkBodies(t, e) {\n        t.collides === s.FIXED && e.collides === s.FIXED || (t.checkAgainst & e.type && t.check(e), e.checkAgainst & t.type && e.check(t), t.collides && e.collides && t.collides + e.collides > s.ACTIVE && u(this, t, e));\n      }, setCollidesNever: function setCollidesNever(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].collides = s.NEVER;\n        }return this;\n      }, setLite: function setLite(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].collides = s.LITE;\n        }return this;\n      }, setPassive: function setPassive(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].collides = s.PASSIVE;\n        }return this;\n      }, setActive: function setActive(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].collides = s.ACTIVE;\n        }return this;\n      }, setFixed: function setFixed(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].collides = s.FIXED;\n        }return this;\n      }, setTypeNone: function setTypeNone(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].type = c.NONE;\n        }return this;\n      }, setTypeA: function setTypeA(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].type = c.A;\n        }return this;\n      }, setTypeB: function setTypeB(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].type = c.B;\n        }return this;\n      }, setAvsB: function setAvsB(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].type = c.A, t[e].checkAgainst = c.B;\n        }return this;\n      }, setBvsA: function setBvsA(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].type = c.B, t[e].checkAgainst = c.A;\n        }return this;\n      }, setCheckAgainstNone: function setCheckAgainstNone(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].checkAgainst = c.NONE;\n        }return this;\n      }, setCheckAgainstA: function setCheckAgainstA(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].checkAgainst = c.A;\n        }return this;\n      }, setCheckAgainstB: function setCheckAgainstB(t) {\n        for (var e = 0; e < t.length; e++) {\n          t[e].checkAgainst = c.B;\n        }return this;\n      }, destroy: function destroy() {\n        this.scene = null, this.events = null, this.bodies.clear(), this.bodies = null, this.collisionMap = null;\n      } });t.exports = l;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(59),\n        s = i(681),\n        a = i(60),\n        o = i(682),\n        h = new n({ initialize: function initialize(t, e, i, n, s) {\n        void 0 === n && (n = 16), void 0 === s && (s = n), this.world = t, this.gameObject = null, this.enabled = !0, this.parent, this.id = t.getNextID(), this.name = "", this.size = { x: n, y: s }, this.offset = { x: 0, y: 0 }, this.pos = { x: e, y: i }, this.last = { x: e, y: i }, this.vel = { x: 0, y: 0 }, this.accel = { x: 0, y: 0 }, this.friction = { x: 0, y: 0 }, this.maxVel = { x: t.defaults.maxVelocityX, y: t.defaults.maxVelocityY }, this.standing = !1, this.gravityFactor = t.defaults.gravityFactor, this.bounciness = t.defaults.bounciness, this.minBounceVelocity = t.defaults.minBounceVelocity, this.accelGround = 0, this.accelAir = 0, this.jumpSpeed = 0, this.type = a.NONE, this.checkAgainst = a.NONE, this.collides = r.NEVER, this.debugShowBody = t.defaults.debugShowBody, this.debugShowVelocity = t.defaults.debugShowVelocity, this.debugBodyColor = t.defaults.bodyDebugColor, this.updateCallback, this.slopeStanding = { min: .767944870877505, max: 2.3736477827122884 };\n      }, reset: function reset(t, e) {\n        this.pos = { x: t, y: e }, this.last = { x: t, y: e }, this.vel = { x: 0, y: 0 }, this.accel = { x: 0, y: 0 }, this.friction = { x: 0, y: 0 }, this.maxVel = { x: 100, y: 100 }, this.standing = !1, this.gravityFactor = 1, this.bounciness = 0, this.minBounceVelocity = 40, this.accelGround = 0, this.accelAir = 0, this.jumpSpeed = 0, this.type = a.NONE, this.checkAgainst = a.NONE, this.collides = r.NEVER;\n      }, update: function update(t) {\n        var e = this.pos;this.last.x = e.x, this.last.y = e.y, this.vel.y += this.world.gravity * t * this.gravityFactor, this.vel.x = s(t, this.vel.x, this.accel.x, this.friction.x, this.maxVel.x), this.vel.y = s(t, this.vel.y, this.accel.y, this.friction.y, this.maxVel.y);var i = this.vel.x * t,\n            n = this.vel.y * t,\n            r = this.world.collisionMap.trace(e.x, e.y, i, n, this.size.x, this.size.y);this.handleMovementTrace(r) && o(this, r);var a = this.gameObject;a && (a.x = e.x - this.offset.x + a.displayOriginX * a.scaleX, a.y = e.y - this.offset.y + a.displayOriginY * a.scaleY), this.updateCallback && this.updateCallback(this);\n      }, drawDebug: function drawDebug(t) {\n        var e = this.pos;if (this.debugShowBody && (t.lineStyle(1, this.debugBodyColor, 1), t.strokeRect(e.x, e.y, this.size.x, this.size.y)), this.debugShowVelocity) {\n          var i = e.x + this.size.x / 2,\n              n = e.y + this.size.y / 2;t.lineStyle(1, this.world.defaults.velocityDebugColor, 1), t.lineBetween(i, n, i + this.vel.x, n + this.vel.y);\n        }\n      }, willDrawDebug: function willDrawDebug() {\n        return this.debugShowBody || this.debugShowVelocity;\n      }, skipHash: function skipHash() {\n        return !this.enabled || 0 === this.type && 0 === this.checkAgainst && 0 === this.collides;\n      }, touches: function touches(t) {\n        return !(this.pos.x >= t.pos.x + t.size.x || this.pos.x + this.size.x <= t.pos.x || this.pos.y >= t.pos.y + t.size.y || this.pos.y + this.size.y <= t.pos.y);\n      }, resetSize: function resetSize(t, e, i, n) {\n        return this.pos.x = t, this.pos.y = e, this.size.x = i, this.size.y = n, this;\n      }, toJSON: function toJSON() {\n        return { name: this.name, size: { x: this.size.x, y: this.size.y }, pos: { x: this.pos.x, y: this.pos.y }, vel: { x: this.vel.x, y: this.vel.y }, accel: { x: this.accel.x, y: this.accel.y }, friction: { x: this.friction.x, y: this.friction.y }, maxVel: { x: this.maxVel.x, y: this.maxVel.y }, gravityFactor: this.gravityFactor, bounciness: this.bounciness, minBounceVelocity: this.minBounceVelocity, type: this.type, checkAgainst: this.checkAgainst, collides: this.collides };\n      }, fromJSON: function fromJSON(t) {}, check: function check(t) {}, collideWith: function collideWith(t, e) {\n        this.parent && this.parent._collideCallback && this.parent._collideCallback.call(this.parent._callbackScope, this, t, e);\n      }, handleMovementTrace: function handleMovementTrace(t) {\n        return !0;\n      }, destroy: function destroy() {\n        this.enabled = !1, this.world = null, this.gameObject = null, this.parent = null;\n      } });t.exports = h;\n  }, function (t, e, i) {\n    var n = i(49),\n        r = function r(t, e, i, _r24, s) {\n      if (i) return n(e + i * t, -s, s);if (_r24) {\n        var a = _r24 * t;return e - a > 0 ? e - a : e + a < 0 ? e + a : 0;\n      }return n(e, -s, s);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (t.standing = !1, e.collision.y && (t.bounciness > 0 && Math.abs(t.vel.y) > t.minBounceVelocity ? t.vel.y *= -t.bounciness : (t.vel.y > 0 && (t.standing = !0), t.vel.y = 0)), e.collision.x && (t.bounciness > 0 && Math.abs(t.vel.x) > t.minBounceVelocity ? t.vel.x *= -t.bounciness : t.vel.x = 0), e.collision.slope) {\n        var i = e.collision.slope;if (t.bounciness > 0) {\n          var n = t.vel.x * i.nx + t.vel.y * i.ny;t.vel.x = (t.vel.x - i.nx * n * 2) * t.bounciness, t.vel.y = (t.vel.y - i.ny * n * 2) * t.bounciness;\n        } else {\n          var r = i.x * i.x + i.y * i.y,\n              s = (t.vel.x * i.x + t.vel.y * i.y) / r;t.vel.x = i.x * s, t.vel.y = i.y * s;var a = Math.atan2(i.x, i.y);a > t.slopeStanding.min && a < t.slopeStanding.max && (t.standing = !0);\n        }\n      }t.pos.x = e.pos.x, t.pos.y = e.pos.y;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(684),\n        s = new n({ initialize: function initialize(t, e) {\n        this.tilesize = t, this.data = e, this.width = Array.isArray(e) ? e[0].length : 0, this.height = Array.isArray(e) ? e.length : 0, this.lastSlope = 55, this.tiledef = r;\n      }, trace: function trace(t, e, i, n, r, s) {\n        var a = { collision: { x: !1, y: !1, slope: !1 }, pos: { x: t + i, y: e + n }, tile: { x: 0, y: 0 } };if (!this.data) return a;var o = Math.ceil(Math.max(Math.abs(i), Math.abs(n)) / this.tilesize);if (o > 1) for (var h = i / o, u = n / o, c = 0; c < o && (h || u) && (this.step(a, t, e, h, u, r, s, i, n, c), t = a.pos.x, e = a.pos.y, a.collision.x && (h = 0, i = 0), a.collision.y && (u = 0, n = 0), !a.collision.slope); c++) {} else this.step(a, t, e, i, n, r, s, i, n, 0);return a;\n      }, step: function step(t, e, i, n, r, s, a, o, h, u) {\n        var c,\n            l,\n            f = 0,\n            d = this.tilesize,\n            p = this.width,\n            v = this.height;if (n) {\n          var g = n > 0 ? s : 0,\n              x = n < 0 ? d : 0,\n              m = Math.max(Math.floor(i / d), 0),\n              y = Math.min(Math.ceil((i + a) / d), v);c = Math.floor((t.pos.x + g) / d);var w = Math.floor((e + g) / d);if ((u > 0 || c === w || w < 0 || w >= p) && (w = -1), c >= 0 && c < p) for (l = m; l < y && !(-1 !== w && (f = this.data[l][w]) > 1 && f <= this.lastSlope && this.checkDef(t, f, e, i, o, h, s, a, w, l)); l++) {\n            if (1 === (f = this.data[l][c]) || f > this.lastSlope || f > 1 && this.checkDef(t, f, e, i, o, h, s, a, c, l)) {\n              if (f > 1 && f <= this.lastSlope && t.collision.slope) break;t.collision.x = !0, t.tile.x = f, t.pos.x = c * d - g + x, e = t.pos.x, o = 0;break;\n            }\n          }\n        }if (r) {\n          var E = r > 0 ? a : 0,\n              T = r < 0 ? d : 0,\n              b = Math.max(Math.floor(t.pos.x / d), 0),\n              _ = Math.min(Math.ceil((t.pos.x + s) / d), p);l = Math.floor((t.pos.y + E) / d);var A = Math.floor((i + E) / d);if ((u > 0 || l === A || A < 0 || A >= v) && (A = -1), l >= 0 && l < v) for (c = b; c < _ && !(-1 !== A && (f = this.data[A][c]) > 1 && f <= this.lastSlope && this.checkDef(t, f, e, i, o, h, s, a, c, A)); c++) {\n            if (1 === (f = this.data[l][c]) || f > this.lastSlope || f > 1 && this.checkDef(t, f, e, i, o, h, s, a, c, l)) {\n              if (f > 1 && f <= this.lastSlope && t.collision.slope) break;t.collision.y = !0, t.tile.y = f, t.pos.y = l * d - E + T;break;\n            }\n          }\n        }\n      }, checkDef: function checkDef(t, e, i, n, r, s, a, o, h, u) {\n        var c = this.tiledef[e];if (!c) return !1;var l = this.tilesize,\n            f = (h + c[0]) * l,\n            d = (u + c[1]) * l,\n            p = (c[2] - c[0]) * l,\n            v = (c[3] - c[1]) * l,\n            g = c[4],\n            x = i + r + (v < 0 ? a : 0) - f,\n            m = n + s + (p > 0 ? o : 0) - d;if (p * m - v * x > 0) {\n          if (r * -v + s * p < 0) return g;var y = Math.sqrt(p * p + v * v),\n              w = v / y,\n              E = -p / y,\n              T = x * w + m * E,\n              b = w * T,\n              _ = E * T;return b * b + _ * _ >= r * r + s * s ? g || p * (m - s) - v * (x - r) < .5 : (t.pos.x = i + r - b, t.pos.y = n + s - _, t.collision.slope = { x: p, y: v, nx: w, ny: E }, !0);\n        }return !1;\n      } });t.exports = s;\n  }, function (t, e) {\n    var i = .5,\n        n = 1 / 3,\n        r = 2 / 3;t.exports = { 2: [0, 1, 1, 0, !0], 3: [0, 1, 1, i, !0], 4: [0, i, 1, 0, !0], 5: [0, 1, 1, r, !0], 6: [0, r, 1, n, !0], 7: [0, n, 1, 0, !0], 8: [i, 1, 0, 0, !0], 9: [1, 0, i, 1, !0], 10: [i, 1, 1, 0, !0], 11: [0, 0, i, 1, !0], 12: [0, 0, 1, 0, !1], 13: [1, 1, 0, 0, !0], 14: [1, i, 0, 0, !0], 15: [1, 1, 0, i, !0], 16: [1, n, 0, 0, !0], 17: [1, r, 0, n, !0], 18: [1, 1, 0, r, !0], 19: [1, 1, i, 0, !0], 20: [i, 0, 0, 1, !0], 21: [0, 1, i, 0, !0], 22: [i, 0, 1, 1, !0], 23: [1, 1, 0, 1, !1], 24: [0, 0, 1, 1, !0], 25: [0, 0, 1, i, !0], 26: [0, i, 1, 1, !0], 27: [0, 0, 1, n, !0], 28: [0, n, 1, r, !0], 29: [0, r, 1, 1, !0], 30: [n, 1, 0, 0, !0], 31: [1, 0, r, 1, !0], 32: [r, 1, 1, 0, !0], 33: [0, 0, n, 1, !0], 34: [1, 0, 1, 1, !1], 35: [1, 0, 0, 1, !0], 36: [1, i, 0, 1, !0], 37: [1, 0, 0, i, !0], 38: [1, r, 0, 1, !0], 39: [1, n, 0, r, !0], 40: [1, 0, 0, n, !0], 41: [r, 1, n, 0, !0], 42: [r, 0, n, 1, !0], 43: [n, 1, r, 0, !0], 44: [n, 0, r, 1, !0], 45: [0, 1, 0, 0, !1], 52: [1, 1, r, 0, !0], 53: [n, 0, 0, 1, !0], 54: [0, 1, n, 0, !0], 55: [r, 0, 1, 1, !0] };\n  }, function (t, e, i) {\n    var n = i(686),\n        r = i(687),\n        s = i(59),\n        a = i(688),\n        o = function o(t, e, i) {\n      var o = null;e.collides === s.LITE || i.collides === s.FIXED ? o = e : i.collides !== s.LITE && e.collides !== s.FIXED || (o = i), e.last.x + e.size.x > i.last.x && e.last.x < i.last.x + i.size.x ? (e.last.y < i.last.y ? r(t, e, i, o) : r(t, i, e, o), e.collideWith(i, "y"), i.collideWith(e, "y"), t.events.dispatch(new a.COLLIDE(e, i, "y"))) : e.last.y + e.size.y > i.last.y && e.last.y < i.last.y + i.size.y && (e.last.x < i.last.x ? n(t, e, i, o) : n(t, i, e, o), e.collideWith(i, "x"), i.collideWith(e, "x"), t.events.dispatch(new a.COLLIDE(e, i, "x")));\n    };t.exports = o;\n  }, function (t, e) {\n    var i = function i(t, e, _i126, n) {\n      var r = e.pos.x + e.size.x - _i126.pos.x;if (n) {\n        var s = e === n ? _i126 : e;n.vel.x = -n.vel.x * n.bounciness + s.vel.x;var a = t.collisionMap.trace(n.pos.x, n.pos.y, n === e ? -r : r, 0, n.size.x, n.size.y);n.pos.x = a.pos.x;\n      } else {\n        var o = (e.vel.x - _i126.vel.x) / 2;e.vel.x = -o, _i126.vel.x = o;var h = t.collisionMap.trace(e.pos.x, e.pos.y, -r / 2, 0, e.size.x, e.size.y);e.pos.x = Math.floor(h.pos.x);var u = t.collisionMap.trace(_i126.pos.x, _i126.pos.y, r / 2, 0, _i126.size.x, _i126.size.y);_i126.pos.x = Math.ceil(u.pos.x);\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i127, n) {\n      var r,\n          s,\n          a = e.pos.y + e.size.y - _i127.pos.y;if (n) {\n        var o = e === n ? _i127 : e;n.vel.y = -n.vel.y * n.bounciness + o.vel.y, r = 0, n === e && Math.abs(n.vel.y - o.vel.y) < n.minBounceVelocity && (n.standing = !0, r = o.vel.x * t.delta);var h = t.collisionMap.trace(n.pos.x, n.pos.y, r, n === e ? -a : a, n.size.x, n.size.y);n.pos.y = h.pos.y, n.pos.x = h.pos.x;\n      } else if (t.gravity && (_i127.standing || e.vel.y > 0)) s = t.collisionMap.trace(e.pos.x, e.pos.y, 0, -(e.pos.y + e.size.y - _i127.pos.y), e.size.x, e.size.y), e.pos.y = s.pos.y, e.bounciness > 0 && e.vel.y > e.minBounceVelocity ? e.vel.y *= -e.bounciness : (e.standing = !0, e.vel.y = 0);else {\n        var u = (e.vel.y - _i127.vel.y) / 2;e.vel.y = -u, _i127.vel.y = u, r = _i127.vel.x * t.delta, s = t.collisionMap.trace(e.pos.x, e.pos.y, r, -a / 2, e.size.x, e.size.y), e.pos.y = s.pos.y;var c = t.collisionMap.trace(_i127.pos.x, _i127.pos.y, 0, a / 2, _i127.size.x, _i127.size.y);_i127.pos.y = c.pos.y;\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { COLLIDE: i(689) };\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(1),\n        s = new n({ Extends: r, initialize: function initialize(t, e, i) {\n        r.call(this, "COLLIDE_EVENT"), this.bodyA = t, this.bodyB = e, this.gameObjectA = t.gameObject, this.gameObjectB = e.gameObject, this.axis = i;\n      } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(691),\n        s = i(704),\n        a = i(705),\n        o = new n({ initialize: function initialize(t) {\n        this.world = t, this.sys = t.scene.sys;\n      }, body: function body(t, e, i, n) {\n        return new r(this.world, t, e, i, n);\n      }, image: function image(t, e, i, n) {\n        var r = new s(this.world, t, e, i, n);return this.sys.displayList.add(r), r;\n      }, sprite: function sprite(t, e, i, n) {\n        var r = new a(this.world, t, e, i, n);return this.sys.displayList.add(r), this.sys.updateList.add(r), r;\n      } });t.exports = o;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(93),\n        s = new n({ Mixins: [r.Acceleration, r.BodyScale, r.BodyType, r.Bounce, r.CheckAgainst, r.Collides, r.Debug, r.Friction, r.Gravity, r.Offset, r.SetGameObject, r.Velocity], initialize: function initialize(t, e, i, n, r) {\n        this.body = t.create(e, i, n, r), this.body.parent = this, this.size = this.body.size, this.offset = this.body.offset, this.vel = this.body.vel, this.accel = this.body.accel, this.friction = this.body.friction, this.maxVel = this.body.maxVel;\n      } });t.exports = s;\n  }, function (t, e) {\n    var i = { setAccelerationX: function setAccelerationX(t) {\n        return this.accel.x = t, this;\n      }, setAccelerationY: function setAccelerationY(t) {\n        return this.accel.y = t, this;\n      }, setAcceleration: function setAcceleration(t, e) {\n        return this.accel.x = t, this.accel.y = e, this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { setBodySize: function setBodySize(t, e) {\n        return void 0 === e && (e = t), this.body.size.x = Math.round(t), this.body.size.y = Math.round(e), this;\n      }, setBodyScale: function setBodyScale(t, e) {\n        void 0 === e && (e = t);var i = this.body.gameObject;return i ? (i.setScale(t, e), this.setBodySize(i.width * i.scaleX, i.height * i.scaleY)) : this.setBodySize(this.body.size.x * t, this.body.size.y * e);\n      } };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(60),\n        r = { getBodyType: function getBodyType() {\n        return this.body.type;\n      }, setTypeNone: function setTypeNone() {\n        return this.body.type = n.NONE, this;\n      }, setTypeA: function setTypeA() {\n        return this.body.type = n.A, this;\n      }, setTypeB: function setTypeB() {\n        return this.body.type = n.B, this;\n      } };t.exports = r;\n  }, function (t, e) {\n    var i = { setBounce: function setBounce(t) {\n        return this.body.bounciness = t, this;\n      }, setMinBounceVelocity: function setMinBounceVelocity(t) {\n        return this.body.minBounceVelocity = t, this;\n      }, bounce: { get: function get() {\n          return this.body.bounciness;\n        }, set: function set(t) {\n          this.body.bounciness = t;\n        } } };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(60),\n        r = { setAvsB: function setAvsB() {\n        return this.setTypeA(), this.setCheckAgainstB();\n      }, setBvsA: function setBvsA() {\n        return this.setTypeB(), this.setCheckAgainstA();\n      }, setCheckAgainstNone: function setCheckAgainstNone() {\n        return this.body.checkAgainst = n.NONE, this;\n      }, setCheckAgainstA: function setCheckAgainstA() {\n        return this.body.checkAgainst = n.A, this;\n      }, setCheckAgainstB: function setCheckAgainstB() {\n        return this.body.checkAgainst = n.B, this;\n      }, checkAgainst: { get: function get() {\n          return this.body.checkAgainst;\n        }, set: function set(t) {\n          this.body.checkAgainst = t;\n        } } };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(59),\n        r = { _collideCallback: null, _callbackScope: null, setCollideCallback: function setCollideCallback(t, e) {\n        return this._collideCallback = t, e && (this._callbackScope = e), this;\n      }, setCollidesNever: function setCollidesNever() {\n        return this.body.collides = n.NEVER, this;\n      }, setLite: function setLite() {\n        return this.body.collides = n.LITE, this;\n      }, setPassive: function setPassive() {\n        return this.body.collides = n.PASSIVE, this;\n      }, setActive: function setActive() {\n        return this.body.collides = n.ACTIVE, this;\n      }, setFixed: function setFixed() {\n        return this.body.collides = n.FIXED, this;\n      }, collides: { get: function get() {\n          return this.body.collides;\n        }, set: function set(t) {\n          this.body.collides = t;\n        } } };t.exports = r;\n  }, function (t, e) {\n    var i = { setDebug: function setDebug(t, e, i) {\n        return this.debugShowBody = t, this.debugShowVelocity = e, this.debugBodyColor = i, this;\n      }, setDebugBodyColor: function setDebugBodyColor(t) {\n        return this.body.debugBodyColor = t, this;\n      }, debugShowBody: { get: function get() {\n          return this.body.debugShowBody;\n        }, set: function set(t) {\n          this.body.debugShowBody = t;\n        } }, debugShowVelocity: { get: function get() {\n          return this.body.debugShowVelocity;\n        }, set: function set(t) {\n          this.body.debugShowVelocity = t;\n        } }, debugBodyColor: { get: function get() {\n          return this.body.debugBodyColor;\n        }, set: function set(t) {\n          this.body.debugBodyColor = t;\n        } } };t.exports = i;\n  }, function (t, e) {\n    var i = { setFrictionX: function setFrictionX(t) {\n        return this.friction.x = t, this;\n      }, setFrictionY: function setFrictionY(t) {\n        return this.friction.y = t, this;\n      }, setFriction: function setFriction(t, e) {\n        return this.friction.x = t, this.friction.y = e, this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { setGravity: function setGravity(t) {\n        return this.body.gravityFactor = t, this;\n      }, gravity: { get: function get() {\n          return this.body.gravityFactor;\n        }, set: function set(t) {\n          this.body.gravityFactor = t;\n        } } };t.exports = i;\n  }, function (t, e) {\n    var i = { setOffset: function setOffset(t, e, i, n) {\n        return this.body.offset.x = t, this.body.offset.y = e, i && this.setBodySize(i, n), this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { setGameObject: function setGameObject(t, e) {\n        return void 0 === e && (e = !0), t ? (this.body.gameObject = t, e && this.syncGameObject()) : this.body.gameObject = null, this;\n      }, syncGameObject: function syncGameObject() {\n        var t = this.body.gameObject;return t && this.setBodySize(t.width * t.scaleX, t.height * t.scaleY), this;\n      } };t.exports = i;\n  }, function (t, e) {\n    var i = { setVelocityX: function setVelocityX(t) {\n        return this.vel.x = t, this;\n      }, setVelocityY: function setVelocityY(t) {\n        return this.vel.y = t, this;\n      }, setVelocity: function setVelocity(t, e) {\n        return this.vel.x = t, this.vel.y = e, this;\n      }, setMaxVelocity: function setMaxVelocity(t, e) {\n        return void 0 === e && (e = t), this.maxVel.x = t, this.maxVel.y = e, this;\n      } };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(93),\n        s = i(55),\n        a = new n({ Extends: s, Mixins: [r.Acceleration, r.BodyScale, r.BodyType, r.Bounce, r.CheckAgainst, r.Collides, r.Debug, r.Friction, r.Gravity, r.Offset, r.SetGameObject, r.Velocity], initialize: function initialize(t, e, i, n, r) {\n        s.call(this, t.scene, e, i, n, r), this.body = t.create(e - this.frame.centerX, i - this.frame.centerY, this.width, this.height), this.body.parent = this, this.body.gameObject = this, this.size = this.body.size, this.offset = this.body.offset, this.vel = this.body.vel, this.accel = this.body.accel, this.friction = this.body.friction, this.maxVel = this.body.maxVel;\n      } });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(93),\n        s = i(39),\n        a = new n({ Extends: s, Mixins: [r.Acceleration, r.BodyScale, r.BodyType, r.Bounce, r.CheckAgainst, r.Collides, r.Debug, r.Friction, r.Gravity, r.Offset, r.SetGameObject, r.Velocity], initialize: function initialize(t, e, i, n, r) {\n        s.call(this, t.scene, e, i, n, r), this.body = t.create(e - this.frame.centerX, i - this.frame.centerY, this.width, this.height), this.body.parent = this, this.body.gameObject = this, this.size = this.body.size, this.offset = this.body.offset, this.vel = this.body.vel, this.accel = this.body.accel, this.friction = this.body.friction, this.maxVel = this.body.maxVel;\n      } });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(94),\n        s = i(707),\n        a = new n({ initialize: function initialize(t) {\n        this.scene = t, this._active = [], this._pendingInsertion = [], this._pendingRemoval = [], this.processing = !1;\n      }, add: function add(t) {\n        return this.processing ? this._pendingInsertion.push(t) : this._active.push(t), this;\n      }, createSpritePool: function createSpritePool(t, e, i) {\n        var n = new s(this, t, e, i);return this.add(n), n;\n      }, createObjectPool: function createObjectPool(t, e) {\n        void 0 === e && (e = -1);var i = new r(this, t, e);return this.add(i), i;\n      }, begin: function begin() {\n        var t = this._pendingRemoval.length,\n            e = this._pendingInsertion.length;if (0 !== t || 0 !== e) {\n          var i, n;for (i = 0; i < t; i++) {\n            n = this._pendingRemoval[i];var r = this._active.indexOf(n);r > -1 && this._active.splice(r, 1), n.destroy();\n          }this._active = this._active.concat(this._pendingInsertion.splice(0)), this._pendingRemoval.length = 0, this._pendingInsertion.length = 0;\n        }\n      }, update: function update(t, e) {\n        this.processing = !0;for (var i = 0; i < this._active.length; i++) {\n          var n = this._active[i];n.update.call(n, t, e);\n        }this.processing = !1;\n      }, shutdown: function shutdown() {\n        var t;for (t = 0; t < this._pendingInsertion.length; t++) {\n          this._pendingInsertion[t].destroy();\n        }for (t = 0; t < this._active.length; t++) {\n          this._active[t].destroy();\n        }for (t = 0; t < this._pendingRemoval.length; t++) {\n          this._pendingRemoval[t].destroy();\n        }this._active.length = 0, this._pendingRemoval.length = 0, this._pendingInsertion.length = 0;\n      }, destroy: function destroy() {\n        this.shutdown(), this.scene = void 0;\n      } });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(39),\n        s = i(94),\n        a = new n({ Extends: s, initialize: function initialize(t, e, i, n, a) {\n        s.call(this, t, r, e, this.makeSprite, this), this.defaultKey = n, this.defaultFrame = a;\n      }, makeSprite: function makeSprite() {\n        var t = new this.classType(this.scene, 0, 0, this.defaultKey, this.defaultFrame);return this.displayList.add(t), this.updateList.add(t), t.setActive(!1), t.setVisible(!1), t;\n      }, get: function get(t, e) {\n        var i = this.getFreeGameObject();return i.setPosition(t, e), i;\n      } });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.scene = t, this.settings = t.sys.settings, this.key = t.sys.settings.key, this.manager = t.sys.game.scene, this._queue = [];\n      }, update: function update() {\n        var t = this._queue.length;if (0 !== t) {\n          for (var e = this.manager, i = 0; i < t; i++) {\n            var n = this._queue[i];switch (n.type) {case "add":\n                e.add(n.key, n.data, n.autoStart);break;case "start":\n                e.stop(this.key), e.start(n.key, n.data);break;case "launch":\n                e.start(n.key, n.data);break;case "pause":\n                e.pause(n.key);break;case "resume":\n                e.resume(n.key);break;case "stop":\n                e.stop(n.key);break;case "swap":\n                e.swap(this.key, n.key);break;case "moveUp":\n                e.moveUp(this.key);break;case "moveDown":\n                e.moveDown(this.key);break;case "bringToTop":\n                e.bringToTop(this.key);break;case "sendToBack":\n                e.sendToBack(this.key);break;case "swapPosition":\n                e.swapPosition(this.key, n.key);break;case "sleep":\n                e.sleep(n.key);break;case "wake":\n                e.wake(n.key);}\n          }this._queue.length = 0;\n        }\n      }, start: function start(t, e) {\n        return void 0 === t && (t = this.key), this._queue.push({ type: "start", key: t, data: e }), this;\n      }, add: function add(t, e, i) {\n        return this._queue.push({ type: "add", key: t, data: e, autoStart: i }), this;\n      }, launch: function launch(t, e) {\n        return void 0 === t && (t = this.key), this._queue.push({ type: "launch", key: t, data: e }), this;\n      }, pause: function pause(t) {\n        return void 0 === t && (t = this.key), this._queue.push({ type: "pause", key: t }), this;\n      }, resume: function resume(t) {\n        return void 0 === t && (t = this.key), this._queue.push({ type: "resume", key: t }), this;\n      }, sleep: function sleep(t) {\n        return this._queue.push({ type: "sleep", key: t }), this;\n      }, wake: function wake(t) {\n        return this._queue.push({ type: "wake", key: t }), this;\n      }, swap: function swap(t) {\n        return this._queue.push({ type: "swap", key: t }), this;\n      }, stop: function stop(t) {\n        return void 0 === t && (t = this.key), this._queue.push({ type: "stop", key: t }), this;\n      }, setVisible: function setVisible(t) {\n        return this.settings.visible = t, this;\n      }, swapPosition: function swapPosition(t) {\n        this._queue.push({ type: "swapPosition", key: t });\n      }, moveUp: function moveUp() {\n        this._queue.push({ type: "moveUp" });\n      }, moveDown: function moveDown() {\n        this._queue.push({ type: "moveDown" });\n      }, bringToTop: function bringToTop() {\n        this._queue.push({ type: "bringToTop" });\n      }, sendToBack: function sendToBack() {\n        this._queue.push({ type: "sendToBack" });\n      }, get: function get(t) {\n        return this.manager.getScene(t);\n      }, transitionTo: function transitionTo(t, e) {}, isActive: function isActive(t) {\n        return void 0 === t && (t = this.key), this.manager.isActive(t);\n      } });t.exports = r;\n  }, function (t, e, i) {\n    var n = i(710),\n        r = i(26),\n        s = i(2),\n        a = i(711),\n        o = { create: function create(t) {\n        return "string" == typeof t ? t = { key: t } : void 0 === t && (t = {}), { status: n.PENDING, op: n.BOOT, key: s(t, "key", ""), active: s(t, "active", !1), visible: s(t, "visible", !0), data: {}, files: s(t, "files", !1), cameras: s(t, "cameras", null), map: s(t, "map", a), physics: s(t, "physics", {}), scaleMode: s(t, "scaleMode", r.DEFAULT), roundPixels: s(t, "roundPixels", !1), dirtyRender: s(t, "dirtyRender", !1), renderToTexture: s(t, "renderToTexture", !1), autoResize: s(t, "autoResize", !1) };\n      } };t.exports = o;\n  }, function (t, e) {\n    t.exports = { PENDING: 0, INSTALLED: 1, BOOT: 0, INIT: 1, PRELOAD: 2, CREATE: 3, UPDATE: 4, RENDER: 5, SHUTDOWN: 6 };\n  }, function (t, e) {\n    var i = { game: "game", anims: "anims", cache: "cache", registry: "registry", textures: "textures", add: "add", cameras: "cameras", data: "data", displayList: "children", events: "events", inputManager: "input", load: "load", make: "make", physicsManager: "physics", pool: "pool", sceneManager: "scene", time: "time", tweens: "tweens" };t.exports = i;\n  }, function (t, e, i) {\n    !function () {\n      function e(t, e) {\n        "function" != typeof e && (e = function e(t, _e5) {\n          return String(t).localeCompare(_e5);\n        });var i = t.length;if (i <= 1) return t;for (var r = new Array(i), s = 1; s < i; s *= 2) {\n          n(t, e, s, r);var a = t;t = r, r = a;\n        }return t;\n      }var i = function i(t, _i128) {\n        return e(t.slice(), _i128);\n      };i.inplace = function (t, i) {\n        var r = e(t, i);return r !== t && n(r, null, t.length, t), t;\n      };var n = function n(t, e, i, _n2) {\n        var r,\n            s,\n            a,\n            o,\n            h,\n            u = t.length,\n            c = 0,\n            l = 2 * i;for (r = 0; r < u; r += l) {\n          for (s = r + i, a = s + i, s > u && (s = u), a > u && (a = u), o = r, h = s;;) {\n            if (o < s && h < a) e(t[o], t[h]) <= 0 ? _n2[c++] = t[o++] : _n2[c++] = t[h++];else if (o < s) _n2[c++] = t[o++];else {\n              if (!(h < a)) break;_n2[c++] = t[h++];\n            }\n          }\n        }\n      };t.exports = i;\n    }();\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(714),\n        s = i(95),\n        a = new n({ initialize: function initialize(t) {\n        this.scene = t, this.timeScale = 1, this._add = [], this._pending = [], this._active = [], this._destroy = [], this._toProcess = 0;\n      }, boot: function boot() {\n        this.timeScale = 1;\n      }, createTimeline: function createTimeline(t) {\n        return r(this, t);\n      }, timeline: function timeline(t) {\n        var e = r(this, t);return this._add.push(e), this._toProcess++, e;\n      }, create: function create(t) {\n        return s(this, t);\n      }, add: function add(t) {\n        var e = s(this, t);return this._add.push(e), this._toProcess++, e;\n      }, existing: function existing(t) {\n        return this._add.push(t), this._toProcess++, this;\n      }, begin: function begin() {\n        if (0 !== this._toProcess) {\n          var t,\n              e,\n              i = this._destroy,\n              n = this._active;for (t = 0; t < i.length; t++) {\n            e = i[t];var r = n.indexOf(e);-1 !== r && n.splice(r, 1);\n          }for (i.length = 0, i = this._add, t = 0; t < i.length; t++) {\n            e = i[t], e.init() ? (e.play(), this._active.push(e)) : this._pending.push(e);\n          }i.length = 0, this._toProcess = 0;\n        }\n      }, update: function update(t, e) {\n        var i,\n            n = this._active;e *= this.timeScale;for (var r = 0; r < n.length; r++) {\n          i = n[r], i.update(t, e) && (this._destroy.push(i), this._toProcess++);\n        }\n      }, makeActive: function makeActive(t) {\n        var e = this._pending.indexOf(t);-1 !== e && this._pending.splice(e, 1), this._add.push(t), this._toProcess++;\n      }, setGlobalTimeScale: i(735), getGlobalTimeScale: i(736), getAllTweens: i(737), getTweensOf: i(738), isTweening: i(739), killAll: i(740), killTweensOf: i(741), pauseAll: i(742), resumeAll: i(743), each: i(744), shutdown: i(745), destroy: i(746) });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(58),\n        r = i(189),\n        s = i(190),\n        a = i(191),\n        o = i(192),\n        h = i(193),\n        u = i(716),\n        c = i(2),\n        l = i(717),\n        f = i(95),\n        d = function d(t, e) {\n      var i = n(r),\n          d = u(e);if (0 === d.length) return null;i.targets = h(e), i.delay = o(e, "delay", i.delay), i.duration = o(e, "duration", i.duration), i.easeParams = c(e, "easeParams", i.easeParams), i.ease = a(c(e, "ease", i.ease), i.easeParams), i.hold = o(e, "hold", i.hold), i.repeat = o(e, "repeat", i.repeat), i.repeatDelay = o(e, "repeatDelay", i.repeatDelay), i.startAt = o(e, "startAt", i.startAt), i.yoyo = s(e, "yoyo", i.yoyo), i.flipX = s(e, "flipX", i.flipX), i.flipY = s(e, "flipY", i.flipY);for (var p = new l(t), v = 0; v < d.length; v++) {\n        p.queue(f(t, d[v], i));\n      }return p;\n    };t.exports = d;\n  }, function (t, e, i) {\n    var n = i(135),\n        r = i(136),\n        s = i(137),\n        a = i(138),\n        o = i(139),\n        h = i(140),\n        u = i(141),\n        c = i(142),\n        l = i(143),\n        f = i(144),\n        d = i(145);t.exports = { Power0: u, Power1: c.Out, Power2: a.Out, Power3: l.Out, Power4: f.Out, Linear: u, Quad: c.Out, Cubic: a.Out, Quart: l.Out, Quint: f.Out, Sine: d.Out, Expo: h.Out, Circ: s.Out, Elastic: o.Out, Back: n.Out, Bounce: r.Out, "Quad.easeIn": c.In, "Cubic.easeIn": a.In, "Quart.easeIn": l.In, "Quint.easeIn": f.In, "Sine.easeIn": d.In, "Expo.easeIn": h.In, "Circ.easeIn": s.In, "Elastic.easeIn": o.In, "Back.easeIn": n.In, "Bounce.easeIn": r.In, "Quad.easeOut": c.Out, "Cubic.easeOut": a.Out, "Quart.easeOut": l.Out, "Quint.easeOut": f.Out, "Sine.easeOut": d.Out, "Expo.easeOut": h.Out, "Circ.easeOut": s.Out, "Elastic.easeOut": o.Out, "Back.easeOut": n.Out, "Bounce.easeOut": r.Out, "Quad.easeInOut": c.InOut, "Cubic.easeInOut": a.InOut, "Quart.easeInOut": l.InOut, "Quint.easeInOut": f.InOut, "Sine.easeInOut": d.InOut, "Expo.easeInOut": h.InOut, "Circ.easeInOut": s.InOut, "Elastic.easeInOut": o.InOut, "Back.easeInOut": n.InOut, "Bounce.easeInOut": r.InOut };\n  }, function (t, e, i) {\n    var n = i(2),\n        r = function r(t) {\n      var e = n(t, "tweens", null);return "function" == typeof e && (e = e.call()), Array.isArray(e) || (e = [e]), e;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(95),\n        s = i(13),\n        a = new n({ initialize: function initialize(t) {\n        this.manager = t, this.data = [], this.totalData = 0, this.useFrames = !1, this.timeScale = 1, this.loop = 0, this.loopDelay = 0, this.loopCounter = 0, this.completeDelay = 0, this.countdown = 0, this.state = s.PENDING_ADD, this._pausedState = s.PENDING_ADD, this.paused = !1, this.elapsed = 0, this.totalElapsed = 0, this.duration = 0, this.progress = 0, this.totalDuration = 0, this.totalProgress = 0, this.callbacks = { onComplete: null, onLoop: null, onRepeat: null, onStart: null, onUpdate: null, onYoyo: null }, this.callbackScope;\n      }, setTimeScale: function setTimeScale(t) {\n        return this.timeScale = t, this;\n      }, getTimeScale: function getTimeScale() {\n        return this.timeScale;\n      }, isPlaying: function isPlaying() {\n        return this.state === s.ACTIVE;\n      }, add: function add(t) {\n        return this.queue(r(this, t));\n      }, queue: function queue(t) {\n        return t.timeline = this, this.data.push(t), this.totalData = this.data.length, this;\n      }, hasOffset: function hasOffset(t) {\n        return null !== t.offset;\n      }, isOffsetAbsolute: function isOffsetAbsolute(t) {\n        return "number" == typeof t;\n      }, isOffsetRelative: function isOffsetRelative(t) {\n        if ("string" == typeof t) {\n          var e = t[0];if ("-" === e || "+" === e) return !0;\n        }return !1;\n      }, getRelativeOffset: function getRelativeOffset(t, e) {\n        var i = t[0],\n            n = parseFloat(t.substr(2)),\n            r = e;switch (i) {case "+":\n            r += n;break;case "-":\n            r -= n;}return Math.max(0, r);\n      }, calcDuration: function calcDuration() {\n        var t = 0;this.totalDuration = 0;for (var e = 0; e < this.totalData; e++) {\n          var i = this.data[e];i.init(), this.hasOffset(i) ? this.isOffsetAbsolute(i.offset) ? i.calculatedOffset = i.offset : this.isOffsetRelative(i.offset) && (i.calculatedOffset = this.getRelativeOffset(i.offset, t)) : i.calculatedOffset = this.totalDuration, t = i.totalDuration + i.calculatedOffset, this.totalDuration += i.totalDuration;\n        }\n      }, init: function init() {\n        return this.calcDuration(), this.progress = 0, this.totalProgress = 0, !this.paused || (this.state = s.PAUSED, !1);\n      }, play: function play() {\n        if (this.state !== s.ACTIVE) {\n          if (this.paused) return this.paused = !1, void this.manager.makeActive(this);for (var t = 0; t < this.totalData; t++) {\n            this.data[t].play();\n          }this.state = s.ACTIVE;var e = this.callbacks.onStart;e && e.func.apply(e.scope, e.params);\n        }\n      }, update: function update(t, e) {\n        if (this.state !== s.PAUSED) {\n          var i = e;switch (this.useFrames && (e = 1 * this.manager.timeScale), e *= this.timeScale, this.elapsed += e, this.progress = Math.min(this.elapsed / this.duration, 1), this.totalElapsed += e, this.totalProgress = Math.min(this.totalElapsed / this.totalDuration, 1), this.state) {case s.ACTIVE:\n              for (var n = this.totalData, r = 0; r < this.totalData; r++) {\n                this.data[r].update(t, i) && n--;\n              }0 === n && (this.state = s.PENDING_REMOVE);break;case s.LOOP_DELAY:\n              this.countdown -= e, this.countdown <= 0 && (this.state = s.ACTIVE);break;case s.COMPLETE_DELAY:\n              if (this.countdown -= e, this.countdown <= 0) {\n                var a = this.callbacks.onComplete;a && a.func.apply(a.scope, a.params), this.state = s.PENDING_REMOVE;\n              }}return this.state === s.PENDING_REMOVE;\n        }\n      }, stop: function stop() {\n        this.state = s.PENDING_REMOVE;\n      }, pause: function pause() {\n        if (this.state !== s.PAUSED) return this.paused = !0, this._pausedState = this.state, this.state = s.PAUSED, this;\n      }, resume: function resume() {\n        return this.state === s.PAUSED && (this.paused = !1, this.state = this._pausedState), this;\n      }, hasTarget: function hasTarget() {}, destroy: function destroy() {} });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(719),\n        r = function r(t) {\n      var e,\n          i = [];if (t.hasOwnProperty("props")) for (e in t.props) {\n        "_" !== e.substr(0, 1) && i.push({ key: e, value: t.props[e] });\n      } else for (e in t) {\n        -1 === n.indexOf(e) && "_" !== e.substr(0, 1) && i.push({ key: e, value: t[e] });\n      }return i;\n    };t.exports = r;\n  }, function (t, e) {\n    t.exports = ["callbackScope", "completeDelay", "delay", "duration", "ease", "easeParams", "flipX", "flipY", "hold", "loop", "loopDelay", "offset", "onComplete", "onCompleteParams", "onCompleteScope", "onLoop", "onLoopParams", "onLoopScope", "onRepeat", "onRepeatParams", "onRepeatScope", "onStart", "onStartParams", "onStartScope", "onUpdate", "onUpdateParams", "onUpdateScope", "onYoyo", "onYoyoParams", "onYoyoScope", "paused", "props", "repeat", "repeatDelay", "startAt", "targets", "useFrames", "yoyo"];\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var n,\n          r = typeof e === "undefined" ? "undefined" : _typeof(e);if ("number" === r) n = function n() {\n        return e;\n      };else if ("string" === r) {\n        var s = e[0],\n            a = parseFloat(e.substr(2));switch (s) {case "+":\n            n = function n(t) {\n              return t + a;\n            };break;case "-":\n            n = function n(t) {\n              return t - a;\n            };break;case "*":\n            n = function n(t) {\n              return t * a;\n            };break;case "/":\n            n = function n(t) {\n              return t / a;\n            };break;default:\n            n = function n() {\n              return parseFloat(e);\n            };}\n      } else "function" === r ? n = function n(t, i, _n3, r) {\n        return e(t, i, _n3, r);\n      } : e.hasOwnProperty("value") && (n = i(t, e.value));return n;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      for (var t = 0, e = this.data, i = 0; i < this.totalData; i++) {\n        var n = e[i];n.t1 = n.duration + n.hold, n.yoyo && (n.t1 += n.duration), n.t2 = n.t1 + n.repeatDelay, n.totalDuration = n.delay + n.t1, -1 === n.repeat ? n.totalDuration += 999999999999 * n.t2 : n.repeat > 0 && (n.totalDuration += n.t2 * n.repeat), n.totalDuration > t && (t = n.totalDuration);\n      }this.duration = t, this.loopCounter = -1 === this.loop ? 999999999999 : this.loop, this.loopCounter > 0 ? this.totalDuration = this.duration + this.completeDelay + (this.duration + this.loopDelay) * this.loopCounter : this.totalDuration = this.duration + this.completeDelay;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = function r() {\n      for (var t = this.data, e = this.totalTargets, i = 0; i < this.totalData; i++) {\n        var r = t[i],\n            s = r.target,\n            a = r.gen;r.delay = a.delay(i, e, s), r.duration = a.duration(i, e, s), r.hold = a.hold(i, e, s), r.repeat = a.repeat(i, e, s), r.repeatDelay = a.repeatDelay(i, e, s);\n      }return this.calcDuration(), this.progress = 0, this.totalProgress = 0, !(this.paused && !this.timeline) || (this.state = n.PAUSED, !1);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = this.targets, i = t.key, n = 0; n < this.totalTargets; n++) {\n        var r = e[n].keys,\n            s = r[i],\n            a = e[n].ref;null === s.startCache ? (s.start = a[i], s.current = s.start, s.end = t.value(s.start), s.startCache = s.start, s.endCache = s.end) : (s.start = s.startCache, s.current = s.start, s.end = s.endCache, a[i] = s.start);\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = function r() {\n      if (this.loopCounter > 0) {\n        this.resetTweenData(!0), this.elapsed = 0, this.progress = 0, this.loopCounter--;var t = this.callbacks.onLoop;t && t.func.apply(t.scope, t.params), this.loopDelay > 0 ? (this.countdown = this.loopDelay, this.state = n.LOOP_DELAY) : this.state = n.ACTIVE;\n      } else if (this.completeDelay > 0) this.countdown = this.completeDelay, this.state = n.COMPLETE_DELAY;else {\n        var e = this.callbacks.onComplete;e && e.func.apply(e.scope, e.params), this.state = n.PENDING_REMOVE;\n      }\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = function r() {\n      if (this.state !== n.PAUSED) return this.paused = !0, this._pausedState = this.state, this.state = n.PAUSED, this;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = function r() {\n      if (this.state !== n.ACTIVE) {\n        if (this.timeline) this.resetTweenData(), 0 === this.calculatedOffset ? this.state = n.ACTIVE : (this.countdown = this.calculatedOffset, this.state = n.OFFSET_DELAY);else {\n          if (this.paused) return this.paused = !1, void this.manager.makeActive(this);this.resetTweenData(), this.state = n.ACTIVE;\n        }var t = this.callbacks.onStart;t && t.func.apply(t.scope, t.params);\n      }\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = function r(t) {\n      for (var e = this.data, i = 0; i < this.totalData; i++) {\n        var r = e[i];r.progress = 0, r.elapsed = 0, r.repeatCounter = -1 === r.repeat ? 999999999999 : r.repeat, t ? (r.start = r.startCache, r.current = r.start, r.end = r.endCache, r.state = n.PLAYING_FORWARD) : r.delay > 0 ? (r.elapsed = r.delay, r.state = n.DELAY) : r.state = n.PENDING_RENDER;\n      }\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = function r() {\n      return this.state === n.PAUSED && (this.paused = !1, this.state = this._pausedState), this;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = this.data, i = 0; i < this.totalData; i++) {\n        var n = this.totalDuration * t,\n            r = e[i],\n            s = 0,\n            a = 0;if (n <= r.delay) s = 0, a = 0;else if (n >= r.totalDuration) s = 1, a = r.duration;else if (n > r.delay && n <= r.t1) n = Math.max(0, n - r.delay), s = n / r.t1, a = r.duration * s;else if (n > r.t1 && n < r.totalDuration) {\n          n -= r.delay, n -= r.t1;Math.floor(n / r.t2);n = n / r.t2 % 1 * r.t2, n > r.repeatDelay && (s = n / r.t1, a = r.duration * s);\n        }r.progress = s, r.elapsed = a;var o = r.ease(r.progress);r.current = r.start + (r.end - r.start) * o, r.target[r.key] = r.current;\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(194),\n        r = function r(t, e, i, _r25) {\n      return -1 !== n.TYPES.indexOf(t) && (this.callbacks[t] = { func: e, scope: _r25, params: i }), this;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = function r() {\n      this.state = n.PENDING_REMOVE;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = i(733),\n        s = function s(t, e) {\n      if (this.state === n.PAUSED) return !1;switch (this.useFrames && (e = 1 * this.manager.timeScale), e *= this.timeScale, this.elapsed += e, this.progress = Math.min(this.elapsed / this.duration, 1), this.totalElapsed += e, this.totalProgress = Math.min(this.totalElapsed / this.totalDuration, 1), this.state) {case n.ACTIVE:\n          for (var i = !1, s = 0; s < this.totalData; s++) {\n            r(this, this.data[s], e) && (i = !0);\n          }i || this.nextState();break;case n.LOOP_DELAY:case n.OFFSET_DELAY:\n          this.countdown -= e, this.countdown <= 0 && (this.state = n.ACTIVE);break;case n.COMPLETE_DELAY:\n          if (this.countdown -= e, this.countdown <= 0) {\n            var a = this.callbacks.onComplete;a && a.func.apply(a.scope, a.params), this.state = n.PENDING_REMOVE;\n          }}return this.state === n.PENDING_REMOVE;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(13),\n        r = function r(t, e) {\n      if (e.yoyo) {\n        e.progress = 0, e.elapsed = 0, e.flipX && e.target.toggleFlipX(), e.flipY && e.target.toggleFlipY();var i = t.callbacks.onYoyo;return i && (i.params[1] = e.target, i.func.apply(i.scope, i.params)), n.PLAYING_BACKWARD;\n      }if (e.repeatCounter > 0) {\n        e.repeatCounter--, e.elapsed = 0, e.progress = 0, e.flipX && e.target.toggleFlipX(), e.flipY && e.target.toggleFlipY();var r = t.callbacks.onRepeat;return r && (r.params[1] = e.target, r.func.apply(r.scope, r.params)), e.repeatDelay > 0 ? (e.elapsed = e.repeatDelay, e.current = e.start, e.target[e.key] = e.current, n.REPEAT_DELAY) : n.PLAYING_FORWARD;\n      }return n.COMPLETE;\n    },\n        s = function s(t, e) {\n      if (e.repeatCounter > 0) {\n        e.repeatCounter--, e.elapsed = 0, e.progress = 0, e.flipX && e.target.toggleFlipX(), e.flipY && e.target.toggleFlipY();var i = t.callbacks.onRepeat;return i && (i.params[1] = e.target, i.func.apply(i.scope, i.params)), e.repeatDelay > 0 ? (e.elapsed = e.repeatDelay, e.current = e.start, e.target[e.key] = e.current, n.REPEAT_DELAY) : n.PLAYING_FORWARD;\n      }return n.COMPLETE;\n    },\n        a = function a(t, e, i) {\n      switch (e.state) {case n.PLAYING_FORWARD:case n.PLAYING_BACKWARD:\n          var a = e.elapsed,\n              o = e.duration;a += i, a > o && (a = o);var h,\n              u = e.state === n.PLAYING_FORWARD,\n              c = a / o;h = u ? e.ease(c) : e.ease(1 - c), e.current = e.start + (e.end - e.start) * h, e.target[e.key] = e.current, e.elapsed = a, e.progress = c;var l = t.callbacks.onUpdate;l && l.func.apply(l.scope, l.params), 1 === c && (u ? e.hold > 0 ? (e.elapsed = e.hold, e.state = n.HOLD_DELAY) : e.state = r(t, e) : e.state = s(t, e));break;case n.DELAY:\n          e.elapsed -= i, e.elapsed <= 0 && (e.elapsed = Math.abs(e.elapsed), e.state = n.PENDING_RENDER);break;case n.REPEAT_DELAY:\n          e.elapsed -= i, e.elapsed <= 0 && (e.elapsed = Math.abs(e.elapsed), e.state = n.PLAYING_FORWARD);break;case n.HOLD_DELAY:\n          e.elapsed -= i, e.elapsed <= 0 && (e.state = r(t, e));break;case n.PENDING_RENDER:\n          e.start = e.target[e.key], e.current = e.start, e.end = e.value(e.start), e.startCache = e.start, e.endCache = e.end, e.target[e.key] = e.current, e.state = n.PLAYING_FORWARD;}return e.state !== n.COMPLETE;\n    };t.exports = a;\n  }, function (t, e) {\n    var i = function i(t, e, _i129, n, r, s, a, o, h, u, c, l, f) {\n      return { target: t, key: e, value: _i129, ease: n, duration: 0, totalDuration: 0, delay: 0, yoyo: a, hold: 0, repeat: 0, repeatDelay: 0, startAt: c, flipX: l, flipY: f, progress: 0, elapsed: 0, repeatCounter: 0, start: 0, current: 0, end: 0, startCache: 0, endCache: 0, t1: 0, t2: 0, gen: { delay: r, duration: s, hold: o, repeat: h, repeatDelay: u }, state: 0 };\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.timeScale = t, this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      return this.timeScale;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      for (var t = this._active, e = [], i = 0; i < t.length; i++) {\n        e.push(t[i]);\n      }return e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e,\n          i,\n          n = this._active,\n          r = [];if (Array.isArray(t)) for (i = 0; i < n.length; i++) {\n        e = n[i];for (; 0 < t.length; i++) {\n          e.hasTarget(t[0]) && r.push(e);\n        }\n      } else for (i = 0; i < n.length; i++) {\n        e = n[i], e.hasTarget(t) && r.push(e);\n      }return r;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e, i = this._active, n = 0; n < i.length; n++) {\n        if (e = i[n], e.hasTarget(t) && e.isPlaying()) return !0;\n      }return !1;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      for (var t = this.getAllTweens(), e = 0; e < t.length; e++) {\n        t[e].stop();\n      }return this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = this.getTweensOf(t), i = 0; i < e.length; i++) {\n        e[i].stop();\n      }return this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      for (var t = this._active, e = 0; e < t.length; e++) {\n        t[e].pause();\n      }return this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      for (var t = this._active, e = 0; e < t.length; e++) {\n        t[e].resume();\n      }return this;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = [null], n = 1; n < arguments.length; n++) {\n        i.push(arguments[n]);\n      }for (var r in this.list) {\n        i[0] = this.list[r], t.apply(e, i);\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      this.killAll(), this._add = [], this._pending = [], this._active = [], this._destroy = [], this._toProcess = 0;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i() {\n      this.shutdown();\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = new n({ initialize: function initialize(t) {\n        this.scene = t, this._list = [], this._pendingInsertion = [], this._pendingRemoval = [];\n      }, add: function add(t) {\n        this._pendingInsertion.push(t);\n      }, begin: function begin() {\n        var t = this._pendingRemoval.length,\n            e = this._pendingInsertion.length;if (0 !== t || 0 !== e) {\n          var i, n;for (i = 0; i < t; i++) {\n            n = this._pendingRemoval[i];var r = this._list.indexOf(n);r > -1 && this._list.splice(r, 1);\n          }this._list = this._list.concat(this._pendingInsertion.splice(0)), this._pendingRemoval.length = 0, this._pendingInsertion.length = 0;\n        }\n      }, update: function update(t, e) {\n        for (var i = 0; i < this._list.length; i++) {\n          var n = this._list[i];n.active && n.preUpdate.call(n, t, e);\n        }\n      }, remove: function remove(t) {\n        var e = this._list.indexOf(t);return -1 !== e && this._list.splice(e, 1), t;\n      }, removeAll: function removeAll() {\n        for (var t = this._list.length; t--;) {\n          this.remove(this._list[t]);\n        }return this;\n      }, shutdown: function shutdown() {\n        this.removeAll(), this._list.length = 0, this._pendingRemoval.length = 0, this._pendingInsertion.length = 0;\n      }, destroy: function destroy() {\n        this.shutdown(), this.scene = void 0;\n      } });t.exports = r;\n  }, function (t, e) {\n    var i = function i() {\n      var t, e;for (t = 0; t < this._pending.length; t++) {\n        e = this._pending[t], this.add(e.key, e.scene, e.autoStart);\n      }for (t = 0; t < this._start.length; t++) {\n        e = this._start[t], this.start(e);\n      }this._start = [], this._pending = [];\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      t.init && t.init.call(t, t.sys.settings.data);var e = t.sys.load;e.reset(), t.preload ? (t.preload(this.game), 0 === e.list.size ? this.create(t) : (e.events.once("LOADER_COMPLETE_EVENT", this.loadComplete.bind(this)), e.start())) : this.create(t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = "string" == typeof t ? this.getActiveSceneIndexByKey(t) : this.getActiveSceneIndex(t);if (e < this.active.length) {\n        var i = 0,\n            n = this.active.splice(e, 1);for (i = 0; i < this.active.length; i++) {\n          this.active[i].index = i;\n        }this.active.push({ index: i, scene: n[0].scene });\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(61),\n        r = function r(t) {\n      var e = this.getSceneIndex(t);this.active.push({ index: e, scene: t }), this.active.sort(n), t.create && t.create.call(t, t.sys.settings.data);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(11),\n        r = i(4),\n        s = i(164),\n        a = i(68),\n        o = function o(t) {\n      var e = t.sys.settings,\n          i = e.width,\n          o = e.height,\n          h = this.game.config;h.renderType === r.CANVAS && (e.renderToTexture ? (t.sys.canvas = n.create(t, i, o), t.sys.context = s(t.sys.canvas)) : (t.sys.canvas = this.game.canvas, t.sys.context = this.game.context), h.pixelArt && a.setCrisp(t.sys.canvas));\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(46),\n        r = i(175),\n        s = i(25),\n        a = function a(t, e) {\n      var i = new e();if (i instanceof n) {\n        var a = i.sys.settings.key;if ("" !== a && (t = a), this.keys.hasOwnProperty(t)) throw new Error("Cannot add a Scene with duplicate key: " + t);return this.createSceneFromInstance(t, i);\n      }return i.sys = new r(i), i.sys.settings.key = t, i.sys.init(this.game), this.createSceneDisplay(i), i.init || (i.init = s), i.preload || (i.preload = s), i.create || (i.create = s), i.shutdown || (i.shutdown = s), i.update || (i.update = s), i.render || (i.render = s), i;\n    };t.exports = a;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = e.sys.settings.key;return "" !== i ? t = i : e.sys.settings.key = t, e.sys.init(this.game), this.createSceneDisplay(e), e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(46),\n        r = function r(t, e) {\n      var i = new n(e),\n          r = i.sys.settings.key;return "" !== r ? t = r : i.sys.settings.key = t, i.sys.init(this.game), this.createSceneDisplay(i), this.setupCallbacks(i, e);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = this.getScene(t), i = 0; i < this.active.length; i++) {\n        if (this.active[i].scene === e) return this.active[i];\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = 0; e < this.active.length; e++) {\n        if (this.active[e].scene === t) return this.active[e].index;\n      }return -1;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e = this.keys[t], i = 0; i < this.active.length; i++) {\n        if (this.active[i].scene === e) return this.active[i].index;\n      }return -1;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(46),\n        r = function r(t, e) {\n      if (t || (t = "default"), "function" == typeof e) return t;if (e instanceof n ? t = e.sys.settings.key : "object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) && e.hasOwnProperty("key") && (t = e.key), this.keys.hasOwnProperty(t)) throw new Error("Cannot add a Scene with duplicate key: " + t);return t;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.keys[t];\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      if (this.active[t]) return this.active[t].scene;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return this.scenes.indexOf(t);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.keys[t];return this.scenes.indexOf(e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.getActiveScene(t);return e && e.scene.sys.settings.active;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.getActiveScene(t);return !!e && !e.scene.sys.settings.active && !e.scene.sys.settings.visible;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.loader.scene;this.create(e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = "string" == typeof t ? this.getActiveSceneIndexByKey(t) : this.getActiveSceneIndex(t);if (e > 0) {\n        var i = this.getSceneAt(e - 1);i && this.swapPosition(t, i);\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = "string" == typeof t ? this.getActiveSceneIndexByKey(t) : this.getActiveSceneIndex(t);if (-1 !== e && e < this.active.length - 1) {\n        var i = this.getSceneAt(e + 1);i && this.swapPosition(t, i);\n      }\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.getActiveScene(t);e && e.scene.sys.pause();\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.loader.scene;this.bootScene(e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.getActiveScene(t);e && e.scene.sys.resume();\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = "string" == typeof t ? this.getActiveSceneIndexByKey(t) : this.getActiveSceneIndex(t);if (e > 0) {\n        var i = this.active.splice(e, 1);this.active.unshift({ index: 0, scene: i[0].scene });for (var n = 0; n < this.active.length; n++) {\n          this.active[n].index = n;\n        }\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(2),\n        r = i(25),\n        s = function s(t, e) {\n      return void 0 === e && (e = t), t.init = n(e, "init", r), t.preload = n(e, "preload", r), t.create = n(e, "create", r), t.shutdown = n(e, "shutdown", r), t.update = n(e, "update", r), t.render = n(e, "render", r), t;\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.getActiveScene(t);e && e.scene.sys.sleep();\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (void 0 === e && (e = {}), this.game.isBooted) {\n        var i = this.getScene(t);if (i) {\n          if (this.isActive(t)) return;i.sys.start(e);var n = i.sys.load;n && Array.isArray(i.sys.settings.files) ? (n.reset(), n.loadArray(i.sys.settings.files) ? (n.events.once("LOADER_COMPLETE_EVENT", this.payloadComplete.bind(this)), n.start()) : this.bootScene(i)) : this.bootScene(i);\n        }\n      } else for (var r = 0; r < this._pending.length; r++) {\n        var s = this._pending[r];s.key === t && (s.autoStart = !0, s.data = e);\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(61),\n        r = function r(t) {\n      var e = this.getActiveScene(t);if (e) {\n        e.scene.sys.shutdown();var i = this.active.indexOf(e);-1 !== i && (this.active.splice(i, 1), this.active.sort(n));\n      }\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      this.sleep(t), this.isSleeping(e) ? this.wake(e) : this.start(e);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(61),\n        r = function r(t, e) {\n      if (t !== e) {\n        var i = "string" == typeof t ? this.getActiveSceneIndexByKey(t) : this.getActiveSceneIndex(t),\n            r = "string" == typeof e ? this.getActiveSceneIndexByKey(e) : this.getActiveSceneIndex(e);-1 !== i && -1 !== r && (this.active[i].index = r, this.active[r].index = i, this.active.sort(n));\n      }\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = this.getActiveScene(t);e && e.scene.sys.wake();\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(11),\n        r = i(0),\n        s = i(28),\n        a = i(128),\n        o = i(2),\n        h = i(781),\n        u = i(791),\n        c = new r({ initialize: function initialize(t) {\n        this.game = t, this.list = {}, this._tempCanvas = n.create2D(this, 1, 1), this._tempContext = this._tempCanvas.getContext("2d"), this.addBase64("__DEFAULT", t.config.defaultImage), this.addBase64("__MISSING", t.config.missingImage);\n      }, addBase64: function addBase64(t, e) {\n        var i = this,\n            n = new Image();n.onload = function () {\n          var e = i.create(t, n);h.Image(e, 0);\n        }, n.src = e;\n      }, addImage: function addImage(t, e) {\n        var i = this.create(t, e);return h.Image(i, 0), i;\n      }, generate: function generate(t, e) {\n        var i = n.create(this, 1, 1);return e.canvas = i, a(e), this.addCanvas(t, i);\n      }, createCanvas: function createCanvas(t, e, i) {\n        void 0 === e && (e = 256), void 0 === i && (i = 256);var r = n.create(this, e, i);return this.addCanvas(t, r);\n      }, addCanvas: function addCanvas(t, e) {\n        var i = this.create(t, e);return h.Canvas(i, 0), i;\n      }, addAtlas: function addAtlas(t, e, i) {\n        return Array.isArray(i.frames) ? this.addAtlasJSONArray(t, e, i) : this.addAtlasJSONHash(t, e, i);\n      }, addAtlasJSONArray: function addAtlasJSONArray(t, e, i) {\n        var n = this.create(t, e);if (Array.isArray(i)) for (var r = 0; r < i.length; r++) {\n          h.JSONArray(n, r, i[r]);\n        } else h.JSONArray(n, 0, i);return n;\n      }, addAtlasJSONHash: function addAtlasJSONHash(t, e, i) {\n        var n = this.create(t, e);if (Array.isArray(i)) for (var r = 0; r < i.length; r++) {\n          h.JSONHash(n, r, i[r]);\n        } else h.JSONHash(n, 0, i);return n;\n      }, addUnityAtlas: function addUnityAtlas(t, e, i) {\n        var n = this.create(t, e);return h.UnityYAML(n, 0, i), n;\n      }, addSpriteSheet: function addSpriteSheet(t, e, i) {\n        var n = this.create(t, e),\n            r = n.source[0].width,\n            s = n.source[0].height;return h.SpriteSheet(n, 0, 0, 0, r, s, i), n;\n      }, addSpriteSheetFromAtlas: function addSpriteSheetFromAtlas(t, e) {\n        var i = o(e, "atlas", null),\n            n = o(e, "frame", null);if (i && n) {\n          var r = this.get(i),\n              s = r.get(n);if (s) {\n            var a = this.create(t, s.source.image);return console.log(s), s.trimmed ? h.SpriteSheetFromAtlas(a, s, e) : h.SpriteSheet(a, 0, s.cutX, s.cutY, s.cutWidth, s.cutHeight, e), a;\n          }\n        }\n      }, addAtlasStarlingXML: function addAtlasStarlingXML(t, e, i) {\n        var n = this.create(t, e);if (Array.isArray(i)) for (var r = 0; r < i.length; r++) {\n          h.StarlingXML(n, r, i[r]);\n        } else h.StarlingXML(n, 0, i);return n;\n      }, addAtlasPyxel: function addAtlasPyxel(t, e, i) {\n        var n = this.create(t, e);if (Array.isArray(i)) for (var r = 0; r < i.length; r++) {\n          h.Pyxel(n, r, i[r]);\n        } else h.Pyxel(n, 0, i);return n;\n      }, create: function create(t, e, i, n) {\n        var r = new u(this, t, e, i, n);return this.list[t] = r, r;\n      }, exists: function exists(t) {\n        return this.list.hasOwnProperty(t);\n      }, get: function get(t) {\n        return void 0 === t && (t = "__DEFAULT"), this.list[t] ? this.list[t] : this.list.__MISSING;\n      }, cloneFrame: function cloneFrame(t, e) {\n        if (this.list[t]) return this.list[t].get(e).clone();\n      }, getFrame: function getFrame(t, e) {\n        if (this.list[t]) return this.list[t].get(e);\n      }, getPixel: function getPixel(t, e, i, n) {\n        var r = this.getFrame(i, n);if (r) {\n          var a = r.source.image;if (t >= 0 && t <= a.width && e >= 0 && e <= a.height) {\n            t += r.cutX, e += r.cutY;var o = this._tempContext;o.clearRect(0, 0, 1, 1), o.drawImage(a, t, e, 1, 1, 0, 0, 1, 1);var h = o.getImageData(0, 0, 1, 1);return new s(h.data[0], h.data[1], h.data[2], h.data[3]);\n          }\n        }return null;\n      }, setTexture: function setTexture(t, e, i) {\n        return this.list[e] && (t.texture = this.list[e], t.frame = t.texture.get(i)), t;\n      }, each: function each(t, e) {\n        for (var i = [null], n = 1; n < arguments.length; n++) {\n          i.push(arguments[n]);\n        }for (var r in this.list) {\n          i[0] = this.list[r], t.apply(e, i);\n        }\n      } });t.exports = c;\n  }, function (t, e, i) {\n    t.exports = { Canvas: i(782), Image: i(783), JSONArray: i(784), JSONHash: i(785), Pyxel: i(786), SpriteSheet: i(787), SpriteSheetFromAtlas: i(788), StarlingXML: i(789), UnityYAML: i(790) };\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = t.source[e];return t.add("__BASE", e, 0, 0, i.width, i.height), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = t.source[e];return t.add("__BASE", e, 0, 0, i.width, i.height), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i130) {\n      if (!_i130.frames) return void console.warn("Invalid Texture Atlas JSON Array given, missing \'frames\' array");var n = t.source[e];t.add("__BASE", e, 0, 0, n.width, n.height);for (var r, s = _i130.frames, a = 0; a < s.length; a++) {\n        var o = s[a];r = t.add(o.filename, e, o.frame.x, o.frame.y, o.frame.w, o.frame.h), o.trimmed && r.setTrim(o.sourceSize.w, o.sourceSize.h, o.spriteSourceSize.x, o.spriteSourceSize.y, o.spriteSourceSize.w, o.spriteSourceSize.h), o.rotated && (r.rotated = !0, r.updateUVsInverted());\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i131) {\n      if (!_i131.frames) return void console.warn("Invalid Texture Atlas JSON Hash given, missing \'frames\' Object");var n = t.source[e];t.add("__BASE", e, 0, 0, n.width, n.height);var r,\n          s = _i131.frames;for (var a in s) {\n        var o = s[a];r = t.add(a, e, o.frame.x, o.frame.y, o.frame.w, o.frame.h), o.trimmed && r.setTrim(o.sourceSize.w, o.sourceSize.h, o.spriteSourceSize.x, o.spriteSourceSize.y, o.spriteSourceSize.w, o.spriteSourceSize.h), o.rotated && (r.rotated = !0, r.updateUVsInverted());\n      }return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (["layers", "tilewidth", "tileheight", "tileswide", "tileshigh"].forEach(function (t) {\n        e[t];\n      }), 1 === e.layers.length) {\n        for (var i, n = new Phaser.FrameData(), r = e.tileheight, s = e.tilewidth, a = e.layers[0].tiles, o = 0; o < a.length; o++) {\n          i = n.addFrame(new Phaser.Frame(o, a[o].x, a[o].y, s, r, "frame_" + o)), i.setTrim(!1);\n        }return n;\n      }\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(2),\n        r = function r(t, e, i, _r26, s, a, o) {\n      var h = n(o, "frameWidth", null),\n          u = n(o, "frameHeight", h);if (null === h) throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c = t.source[e];t.add("__BASE", e, 0, 0, c.width, c.height);var l = n(o, "startFrame", 0),\n          f = n(o, "endFrame", -1),\n          d = n(o, "margin", 0),\n          p = n(o, "spacing", 0),\n          v = Math.floor((s - d) / (h + p)),\n          g = Math.floor((a - d) / (u + p)),\n          x = v * g;(l > x || l < -x) && (l = 0), l < 0 && (l = x + l), -1 !== f && (x = l + (f + 1));for (var m = d, y = d, w = 0, E = 0, T = 0; T < x; T++) {\n        w = 0, E = 0;var b = m + h,\n            _ = y + u;b > s && (w = b - s), _ > a && (E = _ - a), t.add(T, e, i + m, _r26 + y, h - w, u - E), m += h + p, m + h > s && (m = d, y += u + p);\n      }return t;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(2),\n        r = function r(t, e, i) {\n      var r = n(i, "frameWidth", null),\n          s = n(i, "frameHeight", r);if (!r) throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var a = n(i, "startFrame", 0),\n          o = n(i, "endFrame", -1),\n          h = n(i, "margin", 0),\n          u = n(i, "spacing", 0),\n          c = e.cutX,\n          l = e.cutY,\n          f = (e.cutWidth, e.cutHeight, e.realWidth),\n          d = e.realHeight,\n          p = Math.floor((f - h) / (r + u)),\n          v = Math.floor((d - h) / (s + u)),\n          g = p * v;console.log("split sheet into rows/cols:", p, v, "total frames:", g), (a > g || a < -g) && (a = 0), a < 0 && (a = g + a), -1 !== o && (g = a + (o + 1));for (var x = h, m = h, y = 0, w = 0, E = 0; E < g; E++) {\n        y = 0, w = 0;var T = x + r,\n            b = m + s;T > width && (y = T - width), b > height && (w = b - height), t.add(E, sourceIndex, c + x, l + m, r - y, s - w), x += r + u, x + r > width && (x = h, m += s + u);\n      }return t;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (e.getElementsByTagName("TextureAtlas")) {\n        for (var i, n, r, s, a, o, h, u, c, l, f, d = new Phaser.FrameData(), p = e.getElementsByTagName("SubTexture"), v = 0; v < p.length; v++) {\n          r = p[v].attributes, n = r.name.value, s = parseInt(r.x.value, 10), a = parseInt(r.y.value, 10), o = parseInt(r.width.value, 10), h = parseInt(r.height.value, 10), u = null, c = null, r.frameX && (u = Math.abs(parseInt(r.frameX.value, 10)), c = Math.abs(parseInt(r.frameY.value, 10)), l = parseInt(r.frameWidth.value, 10), f = parseInt(r.frameHeight.value, 10)), i = d.addFrame(new Phaser.Frame(v, s, a, o, h, n)), null === u && null === c || i.setTrim(!0, o, h, u, c, l, f);\n        }return d;\n      }\n    };t.exports = i;\n  }, function (module, exports) {\n    var imageHeight = 0,\n        addFrame = function addFrame(t, e, i, n) {\n      var r = imageHeight - n.y - n.height;t.add(i, e, n.x, r, n.width, n.height);\n    },\n        UnityYAML = function UnityYAML(texture, sourceIndex, yaml) {\n      var source = texture.source[sourceIndex];texture.add("__BASE", sourceIndex, 0, 0, source.width, source.height), imageHeight = source.height;for (var data = yaml.split("\\n"), lineRegExp = /^[ ]*(- )*(\\w+)+[: ]+(.*)/, prevSprite = "", currentSprite = "", rect = { x: 0, y: 0, width: 0, height: 0 }, pivot = { x: 0, y: 0 }, border = { x: 0, y: 0, z: 0, w: 0 }, i = 0; i < data.length; i++) {\n        var results = data[i].match(lineRegExp);if (results) {\n          var isList = "- " === results[1],\n              key = results[2],\n              value = results[3];if (isList && (currentSprite !== prevSprite && (addFrame(texture, sourceIndex, currentSprite, rect), prevSprite = currentSprite), rect = { x: 0, y: 0, width: 0, height: 0 }), "name" !== key) switch (key) {case "x":case "y":case "width":case "height":\n              rect[key] = parseInt(value, 10);break;case "pivot":\n              pivot = eval("var obj = " + value);break;case "border":\n              border = eval("var obj = " + value);} else currentSprite = value;\n        }\n      }return currentSprite !== prevSprite && addFrame(texture, sourceIndex, currentSprite, rect), texture;\n    };module.exports = UnityYAML;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(792),\n        s = i(793),\n        a = new n({ initialize: function initialize(t, e, i, n, r) {\n        this.manager = t, Array.isArray(i) || (i = [i]), this.key = e, this.source = [], this.frames = {}, this.firstFrame = "__BASE", this.frameTotal = 0;for (var a = 0; a < i.length; a++) {\n          this.source.push(new s(this, i[a], n, r));\n        }\n      }, add: function add(t, e, i, n, s, a) {\n        var o = new r(this, t, e, i, n, s, a);return this.frames[t] = o, 1 === this.frameTotal && (this.firstFrame = t), this.frameTotal++, o;\n      }, has: function has(t) {\n        return this.frames[t];\n      }, get: function get(t) {\n        void 0 !== t && null !== t || (t = 1 === this.frameTotal ? "__BASE" : this.firstFrame);var e = this.frames[t];return e || (console.warn("No Texture.frame found with name " + t), this.frames.__BASE);\n      }, getFrameNames: function getFrameNames(t) {\n        void 0 === t && (t = !1);var e = Object.keys(this.frames);if (!t) {\n          var i = e.indexOf("__BASE");-1 !== i && e.splice(i, 1);\n        }return e;\n      }, getSourceImage: function getSourceImage(t) {\n        void 0 !== t && null !== t && 1 !== this.frameTotal || (t = "__BASE");var e = this.frames[t];return e ? e.source.image : (console.warn("No Texture.frame found with name " + t), this.frames.__BASE.source.image);\n      }, setFilter: function setFilter(t) {\n        for (var e = 0; e < this.source.length; e++) {\n          this.source[e].setFilter(t);\n        }\n      }, destroy: function destroy() {} });t.exports = a;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(63),\n        s = new n({ initialize: function initialize(t, e, i, n, r, s, a) {\n        this.texture = t, this.name = e, this.source = t.source[i], this.sourceIndex = i, this.cutX = n, this.cutY = r, this.cutWidth = s, this.cutHeight = a, this.x = 0, this.y = 0, this.width = s, this.height = a, this.centerX = Math.floor(s / 2), this.centerY = Math.floor(a / 2), this.rotated = !1, this.autoRound = -1, this.data = { cut: { x: n, y: r, w: s, h: a, r: n + s, b: r + a }, trim: !1, sourceSize: { w: s, h: a }, spriteSourceSize: { x: 0, y: 0, w: s, h: a }, uvs: { x0: 0, y0: 0, x1: 0, y1: 0, x2: 0, y2: 0, x3: 0, y3: 0 }, radius: .5 * Math.sqrt(s * s + a * a), drawImage: { sx: n, sy: r, sWidth: s, sHeight: a, dWidth: s, dHeight: a } }, this.updateUVs();\n      }, setTrim: function setTrim(t, e, i, n, r, s) {\n        var a = this.data,\n            o = a.spriteSourceSize;return a.trim = !0, a.sourceSize.w = t, a.sourceSize.h = e, o.x = i, o.y = n, o.w = r, o.h = s, this.x = i, this.y = n, this.width = r, this.height = s, this.centerX = Math.floor(r / 2), this.centerY = Math.floor(s / 2), this.updateUVs(), this;\n      }, updateUVs: function updateUVs() {\n        var t = this.source.width,\n            e = this.source.height,\n            i = this.data.uvs;return i.x0 = this.cutX / t, i.y0 = this.cutY / e, i.x1 = this.cutX / t, i.y1 = (this.cutY + this.cutHeight) / e, i.x2 = (this.cutX + this.cutWidth) / t, i.y2 = (this.cutY + this.cutHeight) / e, i.x3 = (this.cutX + this.cutWidth) / t, i.y3 = this.cutY / e, this;\n      }, updateUVsInverted: function updateUVsInverted() {\n        var t = this.source.width,\n            e = this.source.height,\n            i = this.data.uvs;return i.x3 = (this.cutX + this.cutHeight) / t, i.y3 = (this.cutY + this.cutWidth) / e, i.x2 = this.cutX / t, i.y2 = (this.cutY + this.cutWidth) / e, i.x1 = this.cutX / t, i.y1 = this.cutY / e, i.x0 = (this.cutX + this.cutHeight) / t, i.y0 = this.cutY / e, this;\n      }, clone: function clone() {\n        var t = new s(this.texture, this.name, this.sourceIndex);return t.cutX = this.cutX, t.cutY = this.cutY, t.cutWidth = this.cutWidth, t.cutHeight = this.cutHeight, t.x = this.x, t.y = this.y, t.width = this.width, t.height = this.height, t.centerX = this.centerX, t.centerY = this.centerY, t.rotated = this.rotated, t.data = r(!0, t.data, this.data), t.updateUVs(), t;\n      }, destroy: function destroy() {}, realWidth: { get: function get() {\n          return this.data.sourceSize.w;\n        } }, realHeight: { get: function get() {\n          return this.data.sourceSize.h;\n        } }, uvs: { get: function get() {\n          return this.data.uvs;\n        } }, radius: { get: function get() {\n          return this.data.radius;\n        } }, trimmed: { get: function get() {\n          return this.data.trim;\n        } }, canvasData: { get: function get() {\n          return this.data.drawImage;\n        } } });t.exports = s;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(4),\n        s = i(70),\n        a = i(26),\n        o = new n({ initialize: function initialize(t, e, i, n) {\n        this.texture = t, this.image = e, this.compressionAlgorithm = null, this.resolution = 1, this.width = i || e.naturalWidth || e.width || 0, this.height = n || e.naturalHeight || e.height || 0, this.scaleMode = a.DEFAULT, this.isPowerOf2 = s(this.width, this.height), this.glTexture = null;var o = t.manager.game;o.config.renderType === r.WEBGL && o.renderer.createTexture(this, i, n), o.config.pixelArt && this.setFilter(1);\n      }, setFilter: function setFilter(t) {\n        var e = this.texture.manager.game;e.config.renderType === r.WEBGL && e.renderer.setTextureFilterMode(this.glTexture, t);\n      } });t.exports = o;\n  }, function (t, e, i) {\n    var n = i(0),\n        r = i(2),\n        s = i(25),\n        a = i(133),\n        o = new n({ initialize: function initialize(t, e) {\n        this.game = t, this.raf = new a(), this.started = !1, this.running = !1, this.minFps = r(e, "min", 5), this.targetFps = r(e, "target", 60), this._min = 1e3 / this.minFps, this._target = 1e3 / this.targetFps, this.actualFps = this.targetFps, this.nextFpsUpdate = 0, this.framesThisSecond = 0, this.callback = s, this.forceSetTimeOut = r(e, "forceSetTimeOut", !1), this.time = 0, this.startTime = 0, this.lastTime = 0, this.frame = 0, this.inFocus = !0, this._pauseTime = 0, this._coolDown = 0, this.delta = 0, this.deltaIndex = 0, this.deltaHistory = [], this.deltaSmoothingMax = r(e, "deltaHistory", 10), this.panicMax = r(e, "panicMax", 120), this.rawDelta = 0;\n      }, blur: function blur() {\n        this.inFocus = !1;\n      }, focus: function focus() {\n        this.inFocus = !0, this.resetDelta();\n      }, pause: function pause() {\n        this._pauseTime = window.performance.now();\n      }, resume: function resume() {\n        this.resetDelta(), this.startTime += this.time - this._pauseTime;\n      }, resetDelta: function resetDelta() {\n        var t = window.performance.now();this.time = t, this.lastTime = t, this.nextFpsUpdate = t + 1e3, this.framesThisSecond = 0, this.frame = 0;for (var e = 0; e < this.deltaSmoothingMax; e++) {\n          this.deltaHistory[e] = Math.min(this._target, this.deltaHistory[e]);\n        }this.delta = 0, this.deltaIndex = 0, this._coolDown = this.panicMax;\n      }, start: function start(t) {\n        if (this.started) return this;this.started = !0, this.running = !0;for (var e = 0; e < this.deltaSmoothingMax; e++) {\n          this.deltaHistory[e] = this._target;\n        }this.resetDelta(), this.startTime = window.performance.now(), this.callback = t, this.raf.start(this.step.bind(this), this.forceSetTimeOut);\n      }, step: function step(t) {\n        this.frame++, this.rawDelta = t - this.lastTime;var e = this.deltaIndex,\n            i = this.deltaHistory,\n            n = this.deltaSmoothingMax,\n            r = t - this.lastTime;(this._coolDown > 0 || !this.inFocus) && (this._coolDown--, r = Math.min(r, this._target)), r > this._min && (r = i[e], r = Math.min(r, this._min)), i[e] = r, ++this.deltaIndex > n && (this.deltaIndex = 0);for (var s = 0, a = 0; a < n; a++) {\n          s += i[a];\n        }s /= n, this.delta = s, this.time += this.rawDelta, t > this.nextFpsUpdate && (this.actualFps = .25 * this.framesThisSecond + .75 * this.actualFps, this.nextFpsUpdate = t + 1e3, this.framesThisSecond = 0), this.framesThisSecond++;var o = s / this._target;this.callback(t, s, o), this.lastTime = t;\n      }, tick: function tick() {\n        this.step(window.performance.now());\n      }, sleep: function sleep() {\n        this.running && (this.raf.stop(), this.running = !1);\n      }, wake: function wake(t) {\n        this.running ? this.sleep() : t && (this.startTime += -this.lastTime + (this.lastTime = window.performance.now())), this.raf.start(this.step.bind(this), this.useRAF), this.running = !0, this.step(window.performance.now());\n      }, setFps: function setFps(t) {\n        this.fps = t, this.wake();\n      }, getFps: function getFps() {\n        return this.fps;\n      }, stop: function stop() {\n        return this.running = !1, this.started = !1, this.raf.stop(), this;\n      }, destroy: function destroy() {} });t.exports = o;\n  }, function (t, e, i) {\n    t.exports = { Circle: i(796), Ellipse: i(808), Intersects: i(819), Line: i(830), Point: i(850), Polygon: i(870), Rectangle: i(875), Triangle: i(900) };\n  }, function (t, e, i) {\n    var n = i(48);n.Area = i(797), n.Circumference = i(798), n.CircumferencePoint = i(799), n.Clone = i(800), n.Contains = i(36), n.ContainsPoint = i(801), n.ContainsRect = i(802), n.CopyFrom = i(803), n.Equals = i(804), n.GetBounds = i(805), n.Offset = i(806), n.OffsetPoint = i(807), n.Random = i(121), t.exports = n;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.radius > 0 ? Math.PI * t.radius * t.radius : 0;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return Math.PI * t.radius * 2;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i132) {\n      return void 0 === _i132 && (_i132 = { x: 0, y: 0 }), _i132.x = t.x + t.radius * Math.cos(e), _i132.y = t.y + t.radius * Math.sin(e), _i132;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(48),\n        r = function r(t) {\n      return new n(t.x, t.y, t.radius);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(36),\n        r = function r(t, e) {\n      return n(t, e.x, e.y);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(36),\n        r = function r(t, e) {\n      return n(t, e.x, e.y) && n(t, e.right, e.y) && n(t, e.x, e.bottom) && n(t, e.right, e.bottom);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e.setTo(t.x, t.y, t.radius);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x === e.x && t.y === e.y && t.radius === e.radius;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(15),\n        r = function r(t, e) {\n      return void 0 === e && (e = new n()), e.x = t.left, e.y = t.top, e.width = t.diameter, e.height = t.diameter, e;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i133) {\n      return t.x += e, t.y += _i133, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x += e.x, t.y += e.y, t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(89);n.Area = i(809), n.CircumferencePoint = i(810), n.Clone = i(811), n.Contains = i(57), n.ContainsPoint = i(812), n.ContainsRect = i(813), n.CopyFrom = i(814), n.Equals = i(815), n.GetBounds = i(816), n.Offset = i(817), n.OffsetPoint = i(818), n.Random = i(122), t.exports = n;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.isEmpty() ? 0 : t.getMajorRadius() * t.getMinorRadius() * Math.PI;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i134) {\n      void 0 === _i134 && (_i134 = { x: 0, y: 0 });var n = t.width / 2,\n          r = t.height / 2;return _i134.x = t.x + n * Math.cos(e), _i134.y = t.y + r * Math.sin(e), _i134;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(89),\n        r = function r(t) {\n      return new n(t.x, t.y, t.width, t.height);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(57),\n        r = function r(t, e) {\n      return n(t, e.x, e.y);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(57),\n        r = function r(t, e) {\n      return n(t, e.x, e.y) && n(t, e.right, e.y) && n(t, e.x, e.bottom) && n(t, e.right, e.bottom);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e.setTo(t.x, t.y, t.width, t.height);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x === e.x && t.y === e.y && t.width === e.width && t.height === e.height;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(15),\n        r = function r(t, e) {\n      return void 0 === e && (e = new n()), e.x = t.x - t.width, e.y = t.y - t.height, e.width = t.width, e.height = t.height, e;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i135) {\n      return t.x += e, t.y += _i135, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x += e.x, t.y += e.y, t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { CircleToCircle: i(820), CircleToRectangle: i(821), GetRectangleIntersection: i(822), LineToCircle: i(196), LineToLine: i(62), LineToRectangle: i(823), PointToLine: i(197), PointToLineSegment: i(824), RectangleToRectangle: i(195), RectangleToTriangle: i(825), RectangleToValues: i(826), TriangleToCircle: i(827), TriangleToLine: i(828), TriangleToTriangle: i(829) };\n  }, function (t, e, i) {\n    var n = i(51),\n        r = function r(t, e) {\n      return n(t.x, t.y, e.x, e.y) <= t.radius + e.radius;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = e.width / 2,\n          n = e.height / 2,\n          r = Math.abs(t.x - e.x - i),\n          s = i + t.radius;if (r <= i || r > s) return !1;var a = Math.abs(t.y - e.y - n),\n          o = n + t.radius;if (a <= n || a > o) return !1;var h = r - i,\n          u = a - n;return h * h + u * u <= t.radius * t.radius;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(15),\n        r = i(195),\n        s = function s(t, e, i) {\n      return void 0 === i && (i = new n()), r(t, e) && (i.x = Math.max(t.x, e.x), i.y = Math.max(t.y, e.y), i.width = Math.min(t.right, e.right) - i.x, i.height = Math.min(t.bottom, e.bottom) - i.y), i;\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = t.x1,\n          n = t.y2,\n          r = t.x2,\n          s = t.y2,\n          a = e.x,\n          o = e.y,\n          h = e.right,\n          u = e.bottom,\n          c = 0;if (i >= a && i <= h && n >= o && n <= u || r >= a && r <= h && s >= o && s <= u) return !0;if (i < a && r >= a) {\n        if ((c = n + (s - n) * (a - i) / (r - i)) > o && c <= u) return !0;\n      } else if (i > h && r <= h && (c = n + (s - n) * (h - i) / (r - i)) >= o && c <= u) return !0;if (n < o && s >= o) {\n        if ((c = i + (r - i) * (o - n) / (s - n)) >= a && c <= h) return !0;\n      } else if (n > u && s <= u && (c = i + (r - i) * (u - n) / (s - n)) >= a && c <= h) return !0;return !1;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(197),\n        r = function r(t, e) {\n      if (!n(t, e)) return !1;var i = Math.min(e.x1, e.x2),\n          r = Math.max(e.x1, e.x2),\n          s = Math.min(e.y1, e.y2),\n          a = Math.max(e.y1, e.y2);return t.x >= i && t.x <= r && t.y >= s && t.y <= a;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(62),\n        r = i(27),\n        s = i(96),\n        a = i(198),\n        o = function o(t, e) {\n      if (e.left > t.right || e.right < t.left || e.top > t.bottom || e.bottom < t.top) return !1;var i = e.getLineA(),\n          o = e.getLineB(),\n          h = e.getLineC();if (r(t, i.x1, i.y1) || r(t, i.x2, i.y2)) return !0;if (r(t, o.x1, o.y1) || r(t, o.x2, o.y2)) return !0;if (r(t, h.x1, h.y1) || r(t, h.x2, h.y2)) return !0;var u = t.getLineA(),\n          c = t.getLineB(),\n          l = t.getLineC(),\n          f = t.getLineD();if (n(i, u) || n(i, c) || n(i, l) || n(i, f)) return !0;if (n(o, u) || n(o, c) || n(o, l) || n(o, f)) return !0;if (n(h, u) || n(h, c) || n(h, l) || n(h, f)) return !0;var d = a(t);return s(e, d, !0).length > 0;\n    };t.exports = o;\n  }, function (t, e) {\n    var i = function i(t, e, _i136, n, r, s) {\n      return void 0 === s && (s = 0), !(e > t.right + s || _i136 < t.left - s || n > t.bottom + s || r < t.top - s);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(196),\n        r = i(47),\n        s = function s(t, e) {\n      return !(t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top) && (!!r(t, e.x, e.y) || !!n(t.getLineA(), e) || !!n(t.getLineB(), e) || !!n(t.getLineC(), e));\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(62),\n        r = i(47),\n        s = function s(t, e) {\n      return !(!r(t, e.getPointA()) && !r(t, e.getPointB())) || !!n(t.getLineA(), e) || !!n(t.getLineB(), e) || !!n(t.getLineC(), e);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(62),\n        r = i(96),\n        s = i(199),\n        a = function a(t, e) {\n      if (t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top) return !1;var i = t.getLineA(),\n          a = t.getLineB(),\n          o = t.getLineC(),\n          h = e.getLineA(),\n          u = e.getLineB(),\n          c = e.getLineC();if (n(i, h) || n(i, u) || n(i, c)) return !0;if (n(a, h) || n(a, u) || n(a, c)) return !0;if (n(o, h) || n(o, u) || n(o, c)) return !0;var l = s(t),\n          f = r(e, l, !0);return f.length > 0 || (l = s(e), f = r(t, l, !0), f.length > 0);\n    };t.exports = a;\n  }, function (t, e, i) {\n    var n = i(200);n.Angle = i(43), n.CenterOn = i(831), n.Clone = i(832), n.CopyFrom = i(833), n.Equals = i(834), n.GetMidPoint = i(835), n.GetNormal = i(836), n.GetPoint = i(837), n.GetPointsOnLine = i(65), n.Height = i(838), n.Length = i(839), n.NormalAngle = i(201), n.NormalX = i(840), n.NormalY = i(841), n.Offset = i(842), n.PerpSlope = i(843), n.Random = i(123), n.ReflectAngle = i(844), n.Rotate = i(845), n.RotateAroundPoint = i(846), n.RotateAroundXY = i(97), n.SetToAngle = i(847), n.Slope = i(848), n.Width = i(849), t.exports = n;\n  }, function (t, e) {\n    var i = function i(t, e, _i137) {\n      var n = e - (t.x1 + t.x2) / 2,\n          r = _i137 - (t.y1 + t.y2) / 2;return t.x1 += n, t.y1 += r, t.x2 += n, t.y2 += r, t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(200),\n        r = function r(t) {\n      return new n(t.x1, t.y1, t.x2, t.y2);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e.setTo(t.x1, t.y1, t.x2, t.y2);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x1 === e.x1 && t.y1 === e.y1 && t.x2 === e.x2 && t.y2 === e.y2;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t, e) {\n      return void 0 === e && (e = new n()), e.x = (t.x1 + t.x2) / 2, e.y = (t.y1 + t.y2) / 2, e;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = i(43),\n        s = i(8),\n        a = function a(t, e) {\n      void 0 === e && (e = new s());var i = r(t) - n.TAU;return e.x = Math.cos(i), e.y = Math.sin(i), e;\n    };t.exports = a;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return { x: t.x1 + (t.x2 - t.x1) * e, y: t.y1 + (t.y2 - t.y1) * e };\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return Math.abs(t.y1 - t.y2);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return Math.sqrt((t.x2 - t.x1) * (t.x2 - t.x1) + (t.y2 - t.y1) * (t.y2 - t.y1));\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = i(43),\n        s = function s(t) {\n      return Math.cos(r(t) - n.TAU);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = i(43),\n        s = function s(t) {\n      return Math.sin(r(t) - n.TAU);\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e, _i138) {\n      return t.x1 += e, t.y1 += _i138, t.x2 += e, t.y2 += _i138, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return -(t.x2 - t.x1) / (t.y2 - t.y1);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(43),\n        r = i(201),\n        s = function s(t, e) {\n      return 2 * r(e) - Math.PI - n(t);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(97),\n        r = function r(t, e) {\n      var i = (t.x1 + t.x2) / 2,\n          r = (t.y1 + t.y2) / 2;return n(t, i, r, e);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(97),\n        r = function r(t, e, i) {\n      return n(t, e.x, e.y, i);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i139, n, r) {\n      return t.x1 = e, t.y1 = _i139, t.x2 = e + Math.cos(n) * r, t.y2 = _i139 + Math.sin(n) * r, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return (t.y2 - t.y1) / (t.x2 - t.x1);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return Math.abs(t.x1 - t.x2);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(8);n.Add = i(851), n.Ceil = i(852), n.Clone = i(853), n.CopyFrom = i(854), n.Cross = i(855), n.Divide = i(856), n.Dot = i(98), n.Equals = i(857), n.Floor = i(858), n.GetCentroid = i(859), n.GetMagnitude = i(202), n.GetMagnitudeSq = i(203), n.Interpolate = i(860), n.Invert = i(861), n.Multiply = i(204), n.Negative = i(862), n.Normalize = i(205), n.NormalizeRightHand = i(863), n.Perp = i(864), n.Project = i(865), n.ProjectUnit = i(866), n.RPerp = i(867), n.SetMagnitude = i(868), n.Subtract = i(869), t.exports = n;\n  }, function (t, e) {\n    var i = function i(t, e, _i140) {\n      return t.x += e, t.y += _i140, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.setTo(Math.ceil(t.x), Math.ceil(t.y));\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t) {\n      return new n(t.x, t.y);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e.setTo(t.x, t.y);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x * e.y - t.y * e.x;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i141) {\n      return t.x /= e, t.y /= _i141, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x === e.x && t.y === e.y;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.setTo(Math.floor(t.x), Math.floor(t.y));\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t, e) {\n      if (void 0 === e && (e = new n()), !Array.isArray(t)) throw new Error("GetCentroid points argument must be an array");var i = t.length;if (i < 1) throw new Error("GetCentroid points array must not be empty");if (1 === i) e.x = t[0].x, e.y = t[0].y;else {\n        for (var r = 0; r < i; r++) {\n          e.x += t[r].x, e.y += t[r].y;\n        }e.x /= i, e.y /= i;\n      }return e;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t, e, i, _r27) {\n      return void 0 === i && (i = 0), void 0 === _r27 && (_r27 = new n()), _r27.x = t.x + (e.x - t.x) * i, _r27.y = t.y + (e.y - t.y) * i, _r27;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.setTo(t.y, t.x);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(8),\n        r = function r(t, e) {\n      return void 0 === e && (e = new n()), e.setTo(-t.x, -t.y);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.setTo(-1 * t.y, t.x);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.setTo(-t.y, t.x);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(98),\n        r = i(8),\n        s = i(203),\n        a = function a(t, e, i) {\n      void 0 === i && (i = new r());var a = n(t, e) / s(e);return 0 !== a && (i.x = a * e.x, i.y = a * e.y), i;\n    };t.exports = a;\n  }, function (t, e, i) {\n    var n = i(98),\n        r = i(8),\n        s = function s(t, e, i) {\n      void 0 === i && (i = new r());var s = n(t, e);return 0 !== s && (i.x = s * e.x, i.y = s * e.y), i;\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.setTo(t.y, -t.x);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(205),\n        r = i(204),\n        s = function s(t, e) {\n      return n(t), r(t, e, e);\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e, _i142) {\n      return t.x -= e, t.y -= _i142, t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(206);n.Clone = i(871), n.Contains = i(207), n.ContainsPoint = i(872), n.GetAABB = i(873), n.GetNumberArray = i(874), t.exports = n;\n  }, function (t, e, i) {\n    var n = i(206),\n        r = function r(t) {\n      return new n(t.points);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(207),\n        r = function r(t, e) {\n      return n(t, e.x, e.y);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      for (var e, i = 1 / 0, n = 1 / 0, r = -i, s = -n, a = 0; a < t.points.length; a++) {\n        e = t.points[a], i = Math.min(i, e.x), n = Math.min(n, e.y), r = Math.max(r, e.x), s = Math.max(s, e.y);\n      }return { x: i, y: n, width: r - i, height: s - n };\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      void 0 === e && (e = []);for (var i = 0; i < t.points.length; i++) {\n        e.push(t.points[i].x), e.push(t.points[i].y);\n      }return e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(15);n.Area = i(876), n.Ceil = i(877), n.CeilAll = i(878), n.CenterOn = i(208), n.Clone = i(879), n.Contains = i(27), n.ContainsPoint = i(880), n.ContainsRect = i(881), n.CopyFrom = i(882), n.Decompose = i(198), n.Equals = i(883), n.FitInside = i(884), n.FitOutside = i(885), n.Floor = i(886), n.FloorAll = i(887), n.GetAspectRatio = i(99), n.GetCenter = i(888), n.GetSize = i(889), n.Inflate = i(890), n.MarchingAnts = i(117), n.MergePoints = i(891), n.MergeRect = i(892), n.MergeXY = i(893), n.Offset = i(894), n.OffsetPoint = i(895), n.Overlaps = i(896), n.Perimeter = i(118), n.PerimeterPoint = i(897), n.Random = i(124), n.Scale = i(898), n.Union = i(899), t.exports = n;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.width * t.height;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.x = Math.ceil(t.x), t.y = Math.ceil(t.y), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.x = Math.ceil(t.x), t.y = Math.ceil(t.y), t.width = Math.ceil(t.width), t.height = Math.ceil(t.height), t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(15),\n        r = function r(t) {\n      return new n(t.x, t.y, t.width, t.height);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(27),\n        r = function r(t, e) {\n      return n(t, e.x, e.y);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return !(e.width * e.height > t.width * t.height) && e.x > t.x && e.x < t.right && e.right > t.x && e.right < t.right && e.y > t.y && e.y < t.bottom && e.bottom > t.y && e.bottom < t.bottom;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e.setTo(t.x, t.y, t.width, t.height);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x === e.x && t.y === e.y && t.width === e.width && t.height === e.height;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(99),\n        r = function r(t, e) {\n      var i = n(t);return i < n(e) ? t.setSize(e.height * i, e.height) : t.setSize(e.width, e.width * i), t.setPosition(e.right / 2 - t.width / 2, e.bottom / 2 - t.height / 2);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(99),\n        r = function r(t, e) {\n      var i = n(t);return i > n(e) ? t.setSize(e.height * i, e.height) : t.setSize(e.width, e.width * i), t.setPosition(e.right / 2 - t.width / 2, e.bottom / 2 - t.height / 2);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.x = Math.floor(t.x), t.y = Math.floor(t.y), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.x = Math.floor(t.x), t.y = Math.floor(t.y), t.width = Math.floor(t.width), t.height = Math.floor(t.height), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = { x: 0, y: 0 }), e.x = t.right / 2, e.y = t.bottom / 2, e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = { x: 0, y: 0 }), e.x = t.width, e.y = t.height, e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(208),\n        r = function r(t, e, i) {\n      var r = t.centerX,\n          s = t.centerY;return t.setSize(t.width + 2 * e, t.height + 2 * i), n(t, r, s);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      for (var i = t.x, n = t.right, r = t.y, s = t.bottom, a = 0; a < e.length; a++) {\n        i = Math.min(i, e[a].x), n = Math.max(n, e[a].x), r = Math.min(r, e[a].y), s = Math.max(s, e[a].y);\n      }return t.x = i, t.y = r, t.width = n - i, t.height = s - r, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      var i = Math.min(t.x, e.x),\n          n = Math.max(t.right, e.right);t.x = i, t.width = n - i;var r = Math.min(t.y, e.y),\n          s = Math.max(t.bottom, e.bottom);return t.y = r, t.height = s - r, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i143) {\n      var n = Math.min(t.x, e),\n          r = Math.max(t.right, e);t.x = n, t.width = r - n;var s = Math.min(t.y, _i143),\n          a = Math.max(t.bottom, _i143);return t.y = s, t.height = a - s, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i144) {\n      return t.x += e, t.y += _i144, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x += e.x, t.y += e.y, t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x < e.right && t.right > e.x && t.y < e.bottom && t.bottom > e.y;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(10),\n        r = function r(t, e, i) {\n      void 0 === i && (i = { x: 0, y: 0 });for (var r = e * n.DEG_TO_RAD; r < -Math.PI;) {\n        r += n.PI2;\n      }for (; r > Math.PI;) {\n        r -= n.PI2;\n      }var s,\n          a = Math.atan2(t.height, t.width),\n          o = Math.tan(r),\n          h = Math.PI - a,\n          u = 1,\n          c = 1;return r > -a && r <= a ? (s = 1, c = -1) : r > a && r <= h ? (s = 2, c = -1) : r > h || r <= -h ? (s = 3, u = -1) : (s = 4, u = -1), i.x = t.x + t.width / 2, i.y = t.y + t.height / 2, 1 === s || 3 === s ? (i.x += u * (t.width / 2), i.y += c * (t.width / 2) * o) : (i.x += u * (t.height / (2 * o)), i.y += c * (t.height / 2)), i;\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i145) {\n      return void 0 === _i145 && (_i145 = e), t.width *= e, t.height *= _i145, t;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(15),\n        r = function r(t, e, i) {\n      void 0 === i && (i = n());var r = Math.min(t.x, e.x),\n          s = Math.min(t.y, e.y);return i.set(r, s, Math.max(t.right, e.right) - r, Math.max(t.bottom, e.bottom) - s);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(41);n.Area = i(901), n.BuildEquilateral = i(902), n.BuildFromPolygon = i(903), n.BuildRight = i(904), n.CenterOn = i(905), n.Centroid = i(209), n.CircumCenter = i(906), n.CircumCircle = i(907), n.Clone = i(908), n.Contains = i(47), n.ContainsArray = i(96), n.ContainsPoint = i(909), n.CopyFrom = i(910), n.Decompose = i(199), n.Equals = i(911), n.InCenter = i(211), n.Offset = i(210), n.Random = i(125), n.Rotate = i(912), n.RotateAroundPoint = i(913), n.RotateAroundXY = i(100), t.exports = n;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = t.x1,\n          i = t.y1,\n          n = t.x2,\n          r = t.y2,\n          s = t.x3,\n          a = t.y3;return Math.abs(((s - e) * (r - i) - (n - e) * (a - i)) / 2);\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(41),\n        r = function r(t, e, i) {\n      var r = i * (Math.sqrt(3) / 2);return new n(t, e, t + i / 2, e + r, t - i / 2, e + r);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(166),\n        r = i(41),\n        s = function s(t, e, i, _s11, a) {\n      void 0 === e && (e = null), void 0 === i && (i = 1), void 0 === _s11 && (_s11 = 1), void 0 === a && (a = []);for (var o, h, u, c, l, f, d, p, v, g = n(t, e), x = 0; x < g.length; x += 3) {\n        o = g[x], h = g[x + 1], u = g[x + 2], c = t[2 * o] * i, l = t[2 * o + 1] * _s11, f = t[2 * h] * i, d = t[2 * h + 1] * _s11, p = t[2 * u] * i, v = t[2 * u + 1] * _s11, a.push(new r(c, l, f, d, p, v));\n      }return a;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(41),\n        r = function r(t, e, i, _r28) {\n      return void 0 === _r28 && (_r28 = i), new n(t, e, t, e - _r28, t + i, e);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(209),\n        r = i(210),\n        s = function s(t, e, i, _s12) {\n      void 0 === _s12 && (_s12 = n);var a = _s12(t),\n          o = e - a.x,\n          h = i - a.y;return r(t, o, h);\n    };t.exports = s;\n  }, function (t, e) {\n    function i(t, e, i, n) {\n      return t * n - e * i;\n    }var n = function n(t, e) {\n      void 0 === e && (e = { x: 0, y: 0 });var n = t.x3,\n          r = t.y3,\n          s = t.x1 - n,\n          a = t.y1 - r,\n          o = t.x2 - n,\n          h = t.y2 - r,\n          u = 2 * i(s, a, o, h),\n          c = i(a, s * s + a * a, h, o * o + h * h),\n          l = i(s, s * s + a * a, o, o * o + h * h);return e.x = n - c / u, e.y = r + l / u, e;\n    };t.exports = n;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      void 0 === e && (e = { x: 0, y: 0, radius: 0 });var i,\n          n,\n          r = t.x1,\n          s = t.y1,\n          a = t.x2,\n          o = t.y2,\n          h = t.x3,\n          u = t.y3,\n          c = a - r,\n          l = o - s,\n          f = h - r,\n          d = u - s,\n          p = c * (r + a) + l * (s + o),\n          v = f * (r + h) + d * (s + u),\n          g = 2 * (c * (u - o) - l * (h - a));if (Math.abs(g) < 1e-6) {\n        var x = Math.min(r, a, h),\n            m = Math.min(s, o, u);i = .5 * (Math.max(r, a, h) - x), n = .5 * (Math.max(s, o, u) - m), e.x = x + i, e.y = m + n, e.radius = Math.sqrt(i * i + n * n);\n      } else e.x = (d * p - l * v) / g, e.y = (c * v - f * p) / g, i = e.x - r, n = e.y - s, e.radius = Math.sqrt(i * i + n * n);return e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(41),\n        r = function r(t) {\n      return new n(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(47),\n        r = function r(t, e) {\n      return n(t, e.x, e.y);\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e.setTo(t.x1, t.y1, t.x2, t.y2, t.x3, t.y3);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.x1 === e.x1 && t.y1 === e.y1 && t.x2 === e.x2 && t.y2 === e.y2 && t.x3 === e.x3 && t.y3 === e.y3;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(100),\n        r = i(211),\n        s = function s(t, e) {\n      var i = r(t);return n(t, i.x, i.y, e);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(100),\n        r = function r(t, e, i) {\n      return n(t, e.x, e.y, i);\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { BlendModes: i(915), Color: i(930) };\n  }, function (t, e, i) {\n    t.exports = { Add: i(212), Average: i(916), ColorBurn: i(213), ColorDodge: i(214), Darken: i(215), Difference: i(917), Exclusion: i(918), Glow: i(919), HardLight: i(920), HardMix: i(921), Lighten: i(219), LinearBurn: i(220), LinearDodge: i(222), LinearLight: i(922), Multiply: i(923), Negation: i(924), Normal: i(925), Overlay: i(217), Phoenix: i(926), PinLight: i(927), Reflect: i(216), Screen: i(928), SoftLight: i(929), Subtract: i(221), VividLight: i(218) };\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return (t + e) / 2;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.abs(t - e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t + e - 2 * t * e / 255;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(216),\n        r = function r(t, e) {\n      return n(e, t);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(217),\n        r = function r(t, e) {\n      return n(e, t);\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(218),\n        r = function r(t, e) {\n      return n(t, e) < 128 ? 0 : 255;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(220),\n        r = i(222),\n        s = function s(t, e) {\n      return e < 128 ? n(t, 2 * e) : r(t, 2 * (e - 128));\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t * e / 255;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return 255 - Math.abs(255 - t - e);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return Math.min(t, e) - Math.max(t, e) + 255;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(215),\n        r = i(219),\n        s = function s(t, e) {\n      return e < 128 ? n(t, 2 * e) : r(t, 2 * (e - 128));\n    };t.exports = s;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return 255 - ((255 - t) * (255 - e) >> 8);\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return e < 128 ? 2 * (64 + (t >> 1)) * (e / 255) : 255 - 2 * (255 - (64 + (t >> 1))) * (255 - e) / 255;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(28);n.ColorToRGBA = i(931), n.ComponentToHex = i(223), n.CSSToColor = i(932), n.GetColor = i(72), n.GetColor32 = i(154), n.HexStringToColor = i(155), n.HSLToColor = i(933), n.HSVColorWheel = i(935), n.HSVToRGB = i(225), n.HueToComponent = i(224), n.IntegerToColor = i(156), n.IntegerToRGB = i(157), n.Interpolate = i(936), n.RandomRGB = i(937), n.RGBStringToColor = i(153), n.RGBToHSV = i(938), n.RGBToString = i(939), n.ValueToColor = i(52), t.exports = n;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = { r: t >> 16 & 255, g: t >> 8 & 255, b: 255 & t, a: 255 };return t > 16777215 && (e.a = t >>> 24), e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(28),\n        r = { aliceblue: [240, 248, 245], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 35], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], grey: [128, 128, 128], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], rebeccapurple: [102, 51, 153], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 129], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] },\n        s = function s(t) {\n      t = t.toLowerCase();var e = new n(),\n          i = r[t];return i && e.setTo(i[0], i[1], i[2], 255), e;\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(28),\n        r = i(224),\n        s = function s(t, e, i) {\n      var s = i,\n          a = i,\n          o = i;if (0 !== e) {\n        var h = i < .5 ? i * (1 + e) : i + e - i * e,\n            u = 2 * i - h;s = r(u, h, t + 1 / 3), a = r(u, h, t), o = r(u, h, t - 1 / 3);\n      }return new n().setGLTo(s, a, o, 1);\n    };t.exports = s;\n  }, function (t, e) {\n    t.exports = function (t) {\n      return t.webpackPolyfill || (t.deprecate = function () {}, t.paths = [], t.children || (t.children = []), Object.defineProperty(t, "loaded", { enumerable: !0, get: function get() {\n          return t.l;\n        } }), Object.defineProperty(t, "id", { enumerable: !0, get: function get() {\n          return t.i;\n        } }), t.webpackPolyfill = 1), t;\n    };\n  }, function (t, e, i) {\n    var n = i(225),\n        r = function r(t, e) {\n      void 0 === t && (t = 1), void 0 === e && (e = 1);for (var i = [], r = 0; r <= 359; r++) {\n        i.push(n(r / 359, t, e));\n      }return i;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(149),\n        r = function r(t, e, i, _r29, s, a, o, h) {\n      void 0 === o && (o = 100), void 0 === h && (h = 0);var u = h / o;return { r: n(t, _r29, u), g: n(e, s, u), b: n(i, a, u) };\n    },\n        s = function s(t, e, i, n) {\n      return void 0 === i && (i = 100), void 0 === n && (n = 0), r(t.r, t.g, t.b, e.r, e.g, e.b, i, n);\n    },\n        a = function a(t, e, i, n, s, _a2) {\n      return void 0 === s && (s = 100), void 0 === _a2 && (_a2 = 0), r(t.r, t.g, t.b, e, i, n, s, _a2);\n    };t.exports = { RGBWithRGB: r, ColorWithRGB: a, ColorWithColor: s };\n  }, function (t, e, i) {\n    var n = i(71),\n        r = function r(t, e) {\n      return void 0 === t && (t = 0), void 0 === e && (e = 255), { r: n(t, e), g: n(t, e), b: n(t, e) };\n    };t.exports = r;\n  }, function (t, e) {\n    var i = function i(t, e, _i146) {\n      t /= 255, e /= 255, _i146 /= 255;var n = Math.min(t, e, _i146),\n          r = Math.max(t, e, _i146),\n          s = r - n,\n          a = 0,\n          o = 0 === r ? 0 : s / r,\n          h = r;return r !== n && (r === t ? a = (e - _i146) / s + (e < _i146 ? 6 : 0) : r === e ? a = (_i146 - t) / s + 2 : r === _i146 && (a = (t - e) / s + 4), a /= 6), { h: a, s: o, v: h };\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(223),\n        r = function r(t, e, i, _r30, s) {\n      return void 0 === _r30 && (_r30 = 255), void 0 === s && (s = "#"), "#" === s ? "#" + ((1 << 24) + (t << 16) + (e << 8) + i).toString(16).slice(1) : "0x" + n(_r30) + n(t) + n(e) + n(i);\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { Keyboard: i(941), Mouse: i(946) };\n  }, function (t, e, i) {\n    t.exports = { KeyboardManager: i(169), Key: i(170), KeyCodes: i(75), KeyCombo: i(171), JustDown: i(942), JustUp: i(943), DownDuration: i(944), UpDuration: i(945) };\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = !1;return t.isDown && (e = t._justDown, t._justDown = !1), e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      var e = !1;return t.isDown && (e = t._justUp, t._justUp = !1), e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = 50), t.isDown && t.duration < e;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return void 0 === e && (e = 50), t.isUp && t.duration < e;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { MouseManager: i(173) };\n  }, function (t, e, i) {\n    t.exports = { Components: i(3), BitmapText: i(85), Blitter: i(76), DynamicBitmapText: i(77), EffectLayer: i(79), LightLayer: i(182), Graphics: i(80), Group: i(82), Image: i(55), Mesh: i(56), ObjectPool: i(94), Quad: i(83), RenderPass: i(84), Sprite: i(39), StaticTilemap: i(86), Text: i(87), Tilemap: i(78), TileSprite: i(88), Zone: i(64) };\n  }, function (t, e, i) {\n    t.exports = { Dynamic: i(949) };\n  }, function (t, e, i) {\n    t.exports = { FX: i(950) };\n  }, function (t, e, i) {\n    var n = i(71),\n        r = i(0),\n        s = i(2),\n        a = new r({ initialize: function initialize(t, e) {\n        this.audioContext = t, this.frequencyValue = s(e, "frequency", 200), this.attack = s(e, "attack", 0), this.decay = s(e, "decay", 1), this.type = s(e, "type", "sine"), this.volumeValue = s(e, "volume", 1), this.panValue = s(e, "pan", 0), this.wait = s(e, "wait", 0), this.pitchBendAmount = s(e, "pitchBend", 0), this.reverse = s(e, "reverse", !1), this.randomValue = s(e, "random", 0), this.dissonance = s(e, "dissonance", 0), this.echo = s(e, "echo", !1), this.echoDelay = s(e, "echo.delay", 0), this.echoFeedback = s(e, "echo.feedback", 0), this.echoFilter = s(e, "echo.filter", 0), this.reverb = s(e, "reverb", !1), this.reverbDuration = s(e, "reverb.duration", 0), this.reverbDecay = s(e, "reverb.decay", 0), this.reverbReverse = s(e, "reverb.reverse", !1), this.timeout = s(e, "timeout", !1), this.volume = t.createGain(), this.pan = t.createStereoPanner ? t.createStereoPanner() : t.createPanner(), this.volume.connect(this.pan), this.pan.connect(t.destination), this.volume.gain.value = this.volumeValue, t.createStereoPanner ? this.pan.pan.value = this.panValue : this.pan.setPosition(this.panValue, 0, 1 - Math.abs(this.panValue));var i = t.createOscillator();i.connect(this.volume), i.type = this.type, this.randomValue > 0 ? i.frequency.value = n(this.frequencyValue - this.randomValue / 2, this.frequencyValue + this.randomValue / 2) : i.frequency.value = this.frequencyValue, this.attack > 0 && this.fadeIn(this.volume), this.fadeOut(this.volume), this.pitchBendAmount > 0 && this.pitchBend(i), this.echo && this.addEcho(this.volume), this.reverb && this.addReverb(this.volume), this.dissonance > 0 && this.addDissonance(), this.play(i);var r = this;i.onended = function () {\n          r.pan.disconnect(), r.volume.disconnect();\n        };\n      }, play: function play(t) {\n        t.start(this.audioContext.currentTime + this.wait), t.stop(this.audioContext.currentTime + this.wait + 2);\n      }, fadeIn: function fadeIn(t) {\n        t.gain.value = 0, t.gain.linearRampToValueAtTime(0, this.audioContext.currentTime + this.wait), t.gain.linearRampToValueAtTime(this.volumeValue, this.audioContext.currentTime + this.wait + this.attack);\n      }, fadeOut: function fadeOut(t) {\n        t.gain.linearRampToValueAtTime(this.volumeValue, this.audioContext.currentTime + this.wait + this.attack), t.gain.linearRampToValueAtTime(0, this.audioContext.currentTime + this.wait + this.attack + this.decay);\n      }, addReverb: function addReverb(t) {\n        var e = this.audioContext.createConvolver();e.buffer = this.impulseResponse(this.reverbDuration, this.reverbDecay, this.reverbReverse, this.audioContext), t.connect(e), e.connect(this.pan);\n      }, addEcho: function addEcho(t) {\n        var e = this.audioContext.createGain(),\n            i = this.audioContext.createDelay(),\n            n = this.audioContext.createBiquadFilter();e.gain.value = this.echoFeedback, i.delayTime.value = this.echoDelay, this.echoFilter && (n.frequency.value = this.echoFilter), i.connect(e), this.echoFilter ? (e.connect(n), n.connect(i)) : e.connect(i), t.connect(i), i.connect(this.pan);\n      }, pitchBend: function pitchBend(t) {\n        var e = t.frequency.value;this.reverse ? (t.frequency.linearRampToValueAtTime(e, this.audioContext.currentTime + this.wait), t.frequency.linearRampToValueAtTime(e + this.pitchBendAmount, this.audioContext.currentTime + this.wait + this.attack + this.decay)) : (t.frequency.linearRampToValueAtTime(e, this.audioContext.currentTime + this.wait), t.frequency.linearRampToValueAtTime(e - this.pitchBendAmount, this.audioContext.currentTime + this.wait + this.attack + this.decay));\n      }, addDissonance: function addDissonance() {\n        var t = this.audioContext,\n            e = t.createOscillator(),\n            i = t.createOscillator(),\n            n = t.createGain(),\n            r = t.createGain();n.gain.value = this.volumeValue, r.gain.value = this.volumeValue, e.connect(n), i.connect(r), n.connect(t.destination), r.connect(t.destination), e.type = "sawtooth", i.type = "sawtooth", e.frequency.value = this.frequencyValue + this.dissonance, i.frequency.value = this.frequencyValue - this.dissonance, this.attack > 0 && (this.fadeIn(n), this.fadeIn(r)), this.decay > 0 && (this.fadeOut(n), this.fadeOut(r)), this.pitchBendAmount > 0 && (this.pitchBend(e), this.pitchBend(i)), this.echo && (this.addEcho(n), this.addEcho(r)), this.reverb && (this.addReverb(n), this.addReverb(r)), this.play(e), this.play(i);\n      }, impulseResponse: function impulseResponse(t, e, i) {\n        for (var n = this.audioContext.sampleRate * t, r = this.audioContext.createBuffer(2, n, this.audioContext.sampleRate), s = r.getChannelData(0), a = r.getChannelData(1), o = 0; o < n; o++) {\n          var h = i ? n - o : o;s[o] = (2 * Math.random() - 1) * Math.pow(1 - h / n, e), a[o] = (2 * Math.random() - 1) * Math.pow(1 - h / n, e);\n        }return r;\n      } });t.exports = a;\n  }, function (t, e, i) {\n    t.exports = { Map: i(163), RTree: i(952), Set: i(54) };\n  }, function (t, e, i) {\n    function n(t, e) {\n      if (!(this instanceof n)) return new n(t, e);this._maxEntries = Math.max(4, t || 9), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), e && this._initFormat(e), this.clear();\n    }function r(t, e, i) {\n      if (!i) return e.indexOf(t);for (var n = 0; n < e.length; n++) {\n        if (i(t, e[n])) return n;\n      }return -1;\n    }function s(t, e) {\n      a(t, 0, t.children.length, e, t);\n    }function a(t, e, i, n, r) {\n      r || (r = g(null)), r.minX = 1 / 0, r.minY = 1 / 0, r.maxX = -1 / 0, r.maxY = -1 / 0;for (var s, a = e; a < i; a++) {\n        s = t.children[a], o(r, t.leaf ? n(s) : s);\n      }return r;\n    }function o(t, e) {\n      return t.minX = Math.min(t.minX, e.minX), t.minY = Math.min(t.minY, e.minY), t.maxX = Math.max(t.maxX, e.maxX), t.maxY = Math.max(t.maxY, e.maxY), t;\n    }function h(t, e) {\n      return t.minX - e.minX;\n    }function u(t, e) {\n      return t.minY - e.minY;\n    }function c(t) {\n      return (t.maxX - t.minX) * (t.maxY - t.minY);\n    }function l(t) {\n      return t.maxX - t.minX + (t.maxY - t.minY);\n    }function f(t, e) {\n      return (Math.max(e.maxX, t.maxX) - Math.min(e.minX, t.minX)) * (Math.max(e.maxY, t.maxY) - Math.min(e.minY, t.minY));\n    }function d(t, e) {\n      var i = Math.max(t.minX, e.minX),\n          n = Math.max(t.minY, e.minY),\n          r = Math.min(t.maxX, e.maxX),\n          s = Math.min(t.maxY, e.maxY);return Math.max(0, r - i) * Math.max(0, s - n);\n    }function p(t, e) {\n      return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY;\n    }function v(t, e) {\n      return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY;\n    }function g(t) {\n      return { children: t, height: 1, leaf: !0, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };\n    }function x(t, e, i, n, r) {\n      for (var s, a = [e, i]; a.length;) {\n        i = a.pop(), e = a.pop(), i - e <= n || (s = e + Math.ceil((i - e) / n / 2) * n, m(t, s, e, i, r), a.push(e, s, s, i));\n      }\n    }var m = i(226);n.prototype = { all: function all() {\n        return this._all(this.data, []);\n      }, search: function search(t) {\n        var e = this.data,\n            i = [],\n            n = this.toBBox;if (!v(t, e)) return i;for (var r, s, a, o, h = []; e;) {\n          for (r = 0, s = e.children.length; r < s; r++) {\n            a = e.children[r], o = e.leaf ? n(a) : a, v(t, o) && (e.leaf ? i.push(a) : p(t, o) ? this._all(a, i) : h.push(a));\n          }e = h.pop();\n        }return i;\n      }, collides: function collides(t) {\n        var e = this.data,\n            i = this.toBBox;if (!v(t, e)) return !1;for (var n, r, s, a, o = []; e;) {\n          for (n = 0, r = e.children.length; n < r; n++) {\n            if (s = e.children[n], a = e.leaf ? i(s) : s, v(t, a)) {\n              if (e.leaf || p(t, a)) return !0;o.push(s);\n            }\n          }e = o.pop();\n        }return !1;\n      }, load: function load(t) {\n        if (!t || !t.length) return this;if (t.length < this._minEntries) {\n          for (var e = 0, i = t.length; e < i; e++) {\n            this.insert(t[e]);\n          }return this;\n        }var n = this._build(t.slice(), 0, t.length - 1, 0);if (this.data.children.length) {\n          if (this.data.height === n.height) this._splitRoot(this.data, n);else {\n            if (this.data.height < n.height) {\n              var r = this.data;this.data = n, n = r;\n            }this._insert(n, this.data.height - n.height - 1, !0);\n          }\n        } else this.data = n;return this;\n      }, insert: function insert(t) {\n        return t && this._insert(t, this.data.height - 1), this;\n      }, clear: function clear() {\n        return this.data = g([]), this;\n      }, remove: function remove(t, e) {\n        if (!t) return this;for (var i, n, s, a, o = this.data, h = this.toBBox(t), u = [], c = []; o || u.length;) {\n          if (o || (o = u.pop(), n = u[u.length - 1], i = c.pop(), a = !0), o.leaf && -1 !== (s = r(t, o.children, e))) return o.children.splice(s, 1), u.push(o), this._condense(u), this;a || o.leaf || !p(o, h) ? n ? (i++, o = n.children[i], a = !1) : o = null : (u.push(o), c.push(i), i = 0, n = o, o = o.children[0]);\n        }return this;\n      }, toBBox: function toBBox(t) {\n        return t;\n      }, compareMinX: h, compareMinY: u, toJSON: function toJSON() {\n        return this.data;\n      }, fromJSON: function fromJSON(t) {\n        return this.data = t, this;\n      }, _all: function _all(t, e) {\n        for (var i = []; t;) {\n          t.leaf ? e.push.apply(e, t.children) : i.push.apply(i, t.children), t = i.pop();\n        }return e;\n      }, _build: function _build(t, e, i, n) {\n        var r,\n            a = i - e + 1,\n            o = this._maxEntries;if (a <= o) return r = g(t.slice(e, i + 1)), s(r, this.toBBox), r;n || (n = Math.ceil(Math.log(a) / Math.log(o)), o = Math.ceil(a / Math.pow(o, n - 1))), r = g([]), r.leaf = !1, r.height = n;var h,\n            u,\n            c,\n            l,\n            f = Math.ceil(a / o),\n            d = f * Math.ceil(Math.sqrt(o));for (x(t, e, i, d, this.compareMinX), h = e; h <= i; h += d) {\n          for (c = Math.min(h + d - 1, i), x(t, h, c, f, this.compareMinY), u = h; u <= c; u += f) {\n            l = Math.min(u + f - 1, c), r.children.push(this._build(t, u, l, n - 1));\n          }\n        }return s(r, this.toBBox), r;\n      }, _chooseSubtree: function _chooseSubtree(t, e, i, n) {\n        for (var r, s, a, o, h, u, l, d;;) {\n          if (n.push(e), e.leaf || n.length - 1 === i) break;for (l = d = 1 / 0, r = 0, s = e.children.length; r < s; r++) {\n            a = e.children[r], h = c(a), u = f(t, a) - h, u < d ? (d = u, l = h < l ? h : l, o = a) : u === d && h < l && (l = h, o = a);\n          }e = o || e.children[0];\n        }return e;\n      }, _insert: function _insert(t, e, i) {\n        var n = this.toBBox,\n            r = i ? t : n(t),\n            s = [],\n            a = this._chooseSubtree(r, this.data, e, s);for (a.children.push(t), o(a, r); e >= 0 && s[e].children.length > this._maxEntries;) {\n          this._split(s, e), e--;\n        }this._adjustParentBBoxes(r, s, e);\n      }, _split: function _split(t, e) {\n        var i = t[e],\n            n = i.children.length,\n            r = this._minEntries;this._chooseSplitAxis(i, r, n);var a = this._chooseSplitIndex(i, r, n),\n            o = g(i.children.splice(a, i.children.length - a));o.height = i.height, o.leaf = i.leaf, s(i, this.toBBox), s(o, this.toBBox), e ? t[e - 1].children.push(o) : this._splitRoot(i, o);\n      }, _splitRoot: function _splitRoot(t, e) {\n        this.data = g([t, e]), this.data.height = t.height + 1, this.data.leaf = !1, s(this.data, this.toBBox);\n      }, _chooseSplitIndex: function _chooseSplitIndex(t, e, i) {\n        var n, r, s, o, h, u, l, f;for (u = l = 1 / 0, n = e; n <= i - e; n++) {\n          r = a(t, 0, n, this.toBBox), s = a(t, n, i, this.toBBox), o = d(r, s), h = c(r) + c(s), o < u ? (u = o, f = n, l = h < l ? h : l) : o === u && h < l && (l = h, f = n);\n        }return f;\n      }, _chooseSplitAxis: function _chooseSplitAxis(t, e, i) {\n        var n = t.leaf ? this.compareMinX : h,\n            r = t.leaf ? this.compareMinY : u;this._allDistMargin(t, e, i, n) < this._allDistMargin(t, e, i, r) && t.children.sort(n);\n      }, _allDistMargin: function _allDistMargin(t, e, i, n) {\n        t.children.sort(n);var r,\n            s,\n            h = this.toBBox,\n            u = a(t, 0, e, h),\n            c = a(t, i - e, i, h),\n            f = l(u) + l(c);for (r = e; r < i - e; r++) {\n          s = t.children[r], o(u, t.leaf ? h(s) : s), f += l(u);\n        }for (r = i - e - 1; r >= e; r--) {\n          s = t.children[r], o(c, t.leaf ? h(s) : s), f += l(c);\n        }return f;\n      }, _adjustParentBBoxes: function _adjustParentBBoxes(t, e, i) {\n        for (var n = i; n >= 0; n--) {\n          o(e[n], t);\n        }\n      }, _condense: function _condense(t) {\n        for (var e, i = t.length - 1; i >= 0; i--) {\n          0 === t[i].children.length ? i > 0 ? (e = t[i - 1].children, e.splice(e.indexOf(t[i]), 1)) : this.clear() : s(t[i], this.toBBox);\n        }\n      }, _initFormat: function _initFormat(t) {\n        var e = ["return a", " - b", ";"];this.compareMinX = new Function("a", "b", e.join(t[0])), this.compareMinY = new Function("a", "b", e.join(t[1])), this.toBBox = new Function("a", "return {minX: a" + t[0] + ", minY: a" + t[1] + ", maxX: a" + t[2] + ", maxY: a" + t[3] + "};");\n      } }, t.exports = n;\n  }, function (t, e, i) {\n    t.exports = { Align: i(954), Array: i(967), Bounds: i(972), Objects: i(975), String: i(978) };\n  }, function (t, e, i) {\n    t.exports = { InBottomCenter: i(105), InBottomLeft: i(106), InBottomRight: i(107), InCenter: i(108), InLeftCenter: i(110), InRightCenter: i(111), InTopCenter: i(112), InTopLeft: i(113), InTopRight: i(114), ToBottomCenter: i(955), ToBottomLeft: i(956), ToBottomRight: i(957), ToLeftBottom: i(958), ToLeftCenter: i(959), ToLeftTop: i(960), ToRightBottom: i(961), ToRightCenter: i(962), ToRightTop: i(963), ToTopCenter: i(964), ToTopLeft: i(965), ToTopRight: i(966) };\n  }, function (t, e, i) {\n    var n = i(32),\n        r = i(16),\n        s = i(33),\n        a = i(23),\n        o = function o(t, e, i, _o9) {\n      return void 0 === i && (i = 0), void 0 === _o9 && (_o9 = 0), s(t, n(e) + i), a(t, r(e) + _o9), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(18),\n        r = i(16),\n        s = i(19),\n        a = i(23),\n        o = function o(t, e, i, _o10) {\n      return void 0 === i && (i = 0), void 0 === _o10 && (_o10 = 0), s(t, n(e) - i), a(t, r(e) + _o10), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(20),\n        r = i(16),\n        s = i(21),\n        a = i(23),\n        o = function o(t, e, i, _o11) {\n      return void 0 === i && (i = 0), void 0 === _o11 && (_o11 = 0), s(t, n(e) + i), a(t, r(e) + _o11), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(18),\n        r = i(16),\n        s = i(21),\n        a = i(17),\n        o = function o(t, e, i, _o12) {\n      return void 0 === i && (i = 0), void 0 === _o12 && (_o12 = 0), s(t, n(e) - i), a(t, r(e) + _o12), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(18),\n        r = i(34),\n        s = i(21),\n        a = i(35),\n        o = function o(t, e, i, _o13) {\n      return void 0 === i && (i = 0), void 0 === _o13 && (_o13 = 0), s(t, n(e) - i), a(t, r(e) + _o13), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(18),\n        r = i(22),\n        s = i(21),\n        a = i(23),\n        o = function o(t, e, i, _o14) {\n      return void 0 === i && (i = 0), void 0 === _o14 && (_o14 = 0), s(t, n(e) - i), a(t, r(e) - _o14), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(20),\n        r = i(16),\n        s = i(19),\n        a = i(17),\n        o = function o(t, e, i, _o15) {\n      return void 0 === i && (i = 0), void 0 === _o15 && (_o15 = 0), s(t, n(e) + i), a(t, r(e) + _o15), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(20),\n        r = i(34),\n        s = i(19),\n        a = i(35),\n        o = function o(t, e, i, _o16) {\n      return void 0 === i && (i = 0), void 0 === _o16 && (_o16 = 0), s(t, n(e) + i), a(t, r(e) + _o16), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(20),\n        r = i(22),\n        s = i(19),\n        a = i(23),\n        o = function o(t, e, i, _o17) {\n      return void 0 === i && (i = 0), void 0 === _o17 && (_o17 = 0), s(t, n(e) + i), a(t, r(e) - _o17), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(32),\n        r = i(22),\n        s = i(33),\n        a = i(17),\n        o = function o(t, e, i, _o18) {\n      return void 0 === i && (i = 0), void 0 === _o18 && (_o18 = 0), s(t, n(e) + i), a(t, r(e) - _o18), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(18),\n        r = i(22),\n        s = i(19),\n        a = i(17),\n        o = function o(t, e, i, _o19) {\n      return void 0 === i && (i = 0), void 0 === _o19 && (_o19 = 0), s(t, n(e) - i), a(t, r(e) - _o19), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    var n = i(20),\n        r = i(22),\n        s = i(21),\n        a = i(17),\n        o = function o(t, e, i, _o20) {\n      return void 0 === i && (i = 0), void 0 === _o20 && (_o20 = 0), s(t, n(e) + i), a(t, r(e) - _o20), t;\n    };t.exports = o;\n  }, function (t, e, i) {\n    t.exports = { FindClosestInSorted: i(968), GetRandomElement: i(969), NumberArray: i(185), NumberArrayStep: i(970), QuickSelect: i(226), Range: i(179), RemoveRandomElement: i(971), RotateLeft: i(119), RotateRight: i(120), Shuffle: i(180), SpliceOne: i(227) };\n  }, function (t, e) {\n    var i = function i(t, e) {\n      if (!e.length) return NaN;if (1 === e.length || t < e[0]) return e[0];for (var i = 1; e[i] < t;) {\n        i++;\n      }var n = e[i - 1],\n          r = i < e.length ? e[i] : Number.POSITIVE_INFINITY;return r - t <= t - n ? r : n;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t, e, _i147) {\n      void 0 === e && (e = 0), void 0 === _i147 && (_i147 = t.length);var n = e + Math.floor(Math.random() * _i147);return void 0 === t[n] ? null : t[n];\n    };t.exports = i;\n  }, function (t, e, i) {\n    var n = i(152),\n        r = function r(t, e, i) {\n      void 0 === t && (t = 0), void 0 === e && (e = null), void 0 === i && (i = 1), null === e && (e = t, t = 0);for (var r = [], s = Math.max(n((e - t) / (i || 1)), 0), a = 0; a < s; a++) {\n        r.push(t), t += i;\n      }return r;\n    };t.exports = r;\n  }, function (t, e, i) {\n    var n = i(227),\n        r = function r(t, e, i) {\n      void 0 === e && (e = 0), void 0 === i && (i = t.length);var r = e + Math.floor(Math.random() * i);return n(t, r);\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { CenterOn: i(109), GetBottom: i(16), GetCenterX: i(32), GetCenterY: i(34), GetLeft: i(18), GetOffsetX: i(973), GetOffsetY: i(974), GetRight: i(20), GetTop: i(22), SetBottom: i(17), SetCenterX: i(33), SetCenterY: i(35), SetLeft: i(19), SetRight: i(21), SetTop: i(23) };\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.width * t.originX;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.height * t.originY;\n    };t.exports = i;\n  }, function (t, e, i) {\n    t.exports = { Clone: i(58), Extend: i(63), GetAdvancedValue: i(5), GetFastValue: i(7), GetMinMaxValue: i(976), GetValue: i(2), IsPlainObject: i(102), Merge: i(92), MergeRight: i(977) };\n  }, function (t, e, i) {\n    var n = i(2),\n        r = i(49),\n        s = function s(t, e, i, _s13, a) {\n      void 0 === a && (a = i);var o = n(t, e, a);return r(o, i, _s13);\n    };t.exports = s;\n  }, function (t, e, i) {\n    var n = i(58),\n        r = function r(t, e) {\n      var i = n(t);for (var r in e) {\n        i.hasOwnProperty(r) && (i[r] = e[r]);\n      }return i;\n    };t.exports = r;\n  }, function (t, e, i) {\n    t.exports = { Pad: i(162), Format: i(979), Reverse: i(980) };\n  }, function (t, e) {\n    var i = function i(t, e) {\n      return t.replace(/%([0-9]+)/g, function (t, i) {\n        return e[Number(i) - 1];\n      }), t;\n    };t.exports = i;\n  }, function (t, e) {\n    var i = function i(t) {\n      return t.split("").reverse().join("");\n    };t.exports = i;\n  }]);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92ZW5kb3IvcGhhc2VyLmpzPzVkZjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuIWZ1bmN0aW9uICh0LCBlKSB7XG4gIFwib2JqZWN0XCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZXhwb3J0cykpICYmIFwib2JqZWN0XCIgPT0gKHR5cGVvZiBtb2R1bGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihtb2R1bGUpKSA/IG1vZHVsZS5leHBvcnRzID0gZSgpIDogXCJmdW5jdGlvblwiID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShcIlBoYXNlclwiLCBbXSwgZSkgOiBcIm9iamVjdFwiID09ICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IGV4cG9ydHMuUGhhc2VyID0gZSgpIDogdC5QaGFzZXIgPSBlKCk7XG59KHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICBmdW5jdGlvbiBlKG4pIHtcbiAgICAgIGlmIChpW25dKSByZXR1cm4gaVtuXS5leHBvcnRzO3ZhciByID0gaVtuXSA9IHsgaTogbiwgbDogITEsIGV4cG9ydHM6IHt9IH07cmV0dXJuIHRbbl0uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgZSksIHIubCA9ICEwLCByLmV4cG9ydHM7XG4gICAgfXZhciBpID0ge307cmV0dXJuIGUubSA9IHQsIGUuYyA9IGksIGUuZCA9IGZ1bmN0aW9uICh0LCBpLCBuKSB7XG4gICAgICBlLm8odCwgaSkgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGksIHsgY29uZmlndXJhYmxlOiAhMSwgZW51bWVyYWJsZTogITAsIGdldDogbiB9KTtcbiAgICB9LCBlLm4gPSBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIGkgPSB0ICYmIHQuX19lc01vZHVsZSA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHQuZGVmYXVsdDtcbiAgICAgIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgICAgfTtyZXR1cm4gZS5kKGksIFwiYVwiLCBpKSwgaTtcbiAgICB9LCBlLm8gPSBmdW5jdGlvbiAodCwgZSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBlKTtcbiAgICB9LCBlLnAgPSBcIlwiLCBlKGUucyA9IDIyOCk7XG4gIH0oW2Z1bmN0aW9uICh0LCBlKSB7XG4gICAgZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gISF0LmdldCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQuZ2V0IHx8ICEhdC5zZXQgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiB0LnNldDtcbiAgICB9ZnVuY3Rpb24gbih0LCBlLCBuKSB7XG4gICAgICB2YXIgciA9IG4gPyB0W2VdIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCBlKTtyZXR1cm4gIW4gJiYgci52YWx1ZSAmJiBcIm9iamVjdFwiID09IF90eXBlb2Yoci52YWx1ZSkgJiYgKHIgPSByLnZhbHVlKSwgISghciB8fCAhaShyKSkgJiYgKHZvaWQgMCA9PT0gci5lbnVtZXJhYmxlICYmIChyLmVudW1lcmFibGUgPSAhMCksIHZvaWQgMCA9PT0gci5jb25maWd1cmFibGUgJiYgKHIuY29uZmlndXJhYmxlID0gITApLCByKTtcbiAgICB9ZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2YXIgaSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgZSk7cmV0dXJuICEhaSAmJiAoaS52YWx1ZSAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoaS52YWx1ZSkgJiYgKGkgPSBpLnZhbHVlKSwgITEgPT09IGkuY29uZmlndXJhYmxlKTtcbiAgICB9ZnVuY3Rpb24gcyh0LCBlLCBpLCBzKSB7XG4gICAgICBmb3IgKHZhciBhIGluIGUpIHtcbiAgICAgICAgaWYgKGUuaGFzT3duUHJvcGVydHkoYSkpIHtcbiAgICAgICAgICB2YXIgaCA9IG4oZSwgYSwgaSk7aWYgKCExICE9PSBoKSB7XG4gICAgICAgICAgICB2YXIgdSA9IHMgfHwgdDtpZiAocih1LnByb3RvdHlwZSwgYSkpIHtcbiAgICAgICAgICAgICAgaWYgKG8uaWdub3JlRmluYWxzKSBjb250aW51ZTt0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3Qgb3ZlcnJpZGUgZmluYWwgcHJvcGVydHkgJ1wiICsgYSArIFwiJywgc2V0IENsYXNzLmlnbm9yZUZpbmFscyA9IHRydWUgdG8gc2tpcFwiKTtcbiAgICAgICAgICAgIH1PYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIGEsIGgpO1xuICAgICAgICAgIH0gZWxzZSB0LnByb3RvdHlwZVthXSA9IGVbYV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9ZnVuY3Rpb24gYSh0LCBlKSB7XG4gICAgICBpZiAoZSkge1xuICAgICAgICBBcnJheS5pc0FycmF5KGUpIHx8IChlID0gW2VdKTtmb3IgKHZhciBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzKHQsIGVbaV0ucHJvdG90eXBlIHx8IGVbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfWZ1bmN0aW9uIG8odCkge1xuICAgICAgdCB8fCAodCA9IHt9KTt2YXIgZSwgaTtpZiAodC5pbml0aWFsaXplKSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHQuaW5pdGlhbGl6ZSkgdGhyb3cgbmV3IEVycm9yKFwiaW5pdGlhbGl6ZSBtdXN0IGJlIGEgZnVuY3Rpb25cIik7ZSA9IHQuaW5pdGlhbGl6ZSwgZGVsZXRlIHQuaW5pdGlhbGl6ZTtcbiAgICAgIH0gZWxzZSBpZiAodC5FeHRlbmRzKSB7XG4gICAgICAgIHZhciBuID0gdC5FeHRlbmRzO2UgPSBmdW5jdGlvbiBlKCkge1xuICAgICAgICAgIG4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBlID0gZnVuY3Rpb24gZSgpIHt9O3QuRXh0ZW5kcyA/IChlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodC5FeHRlbmRzLnByb3RvdHlwZSksIGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gZSwgaSA9IHQuRXh0ZW5kcywgZGVsZXRlIHQuRXh0ZW5kcykgOiBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGU7dmFyIHIgPSBudWxsO3JldHVybiB0Lk1peGlucyAmJiAociA9IHQuTWl4aW5zLCBkZWxldGUgdC5NaXhpbnMpLCBhKGUsIHIpLCBzKGUsIHQsICEwLCBpKSwgZTtcbiAgICB9by5leHRlbmQgPSBzLCBvLm1peGluID0gYSwgby5pZ25vcmVGaW5hbHMgPSAhMSwgdC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0LCB0aGlzLnRhcmdldCwgdGhpcy5fcHJvcGFnYXRlID0gITA7XG4gICAgICB9LCByZXNldDogZnVuY3Rpb24gcmVzZXQodCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHQsIHRoaXMuX3Byb3BhZ2F0ZSA9ICEwO1xuICAgICAgfSwgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgICAgIHRoaXMuX3Byb3BhZ2F0ZSA9ICExO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaSkge1xuICAgICAgaWYgKHQgJiYgXCJudW1iZXJcIiAhPSB0eXBlb2YgdCkge1xuICAgICAgICBpZiAodC5oYXNPd25Qcm9wZXJ0eShlKSkgcmV0dXJuIHRbZV07aWYgKGUuaW5kZXhPZihcIi5cIikpIHtcbiAgICAgICAgICBmb3IgKHZhciBuID0gZS5zcGxpdChcIi5cIiksIHIgPSB0LCBzID0gX2ksIGEgPSAwOyBhIDwgbi5sZW5ndGg7IGErKykge1xuICAgICAgICAgICAgaWYgKCFyLmhhc093blByb3BlcnR5KG5bYV0pKSB7XG4gICAgICAgICAgICAgIHMgPSBfaTticmVhaztcbiAgICAgICAgICAgIH1zID0gcltuW2FdXSwgciA9IHJbblthXV07XG4gICAgICAgICAgfXJldHVybiBzO1xuICAgICAgICB9cmV0dXJuIF9pO1xuICAgICAgfXJldHVybiBfaTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBBbHBoYTogaSgyNDQpLCBBbmltYXRpb246IGkoMjQ1KSwgQmxlbmRNb2RlOiBpKDI2NyksIENvbXB1dGVkU2l6ZTogaSgyNjgpLCBGbGlwOiBpKDI2OSksIEdldEJvdW5kczogaSgyNzApLCBPcmlnaW46IGkoMjcxKSwgUmVuZGVyVGFyZ2V0OiBpKDI3MiksIFNjYWxlTW9kZTogaSgyNzMpLCBTY3JvbGxGYWN0b3I6IGkoMjc0KSwgU2l6ZTogaSgyNzUpLCBUZXh0dXJlOiBpKDI3NiksIFRpbnQ6IGkoMjc3KSwgVG9KU09OOiBpKDI3OCksIFRyYW5zZm9ybTogaSgyNzkpLCBUcmFuc2Zvcm1NYXRyaXg6IGkoMTQpLCBWaXNpYmxlOiBpKDI4MCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IHsgVkVSU0lPTjogXCIzLjAuMFwiLCBCbGVuZE1vZGVzOiBpKDMxKSwgU2NhbGVNb2RlczogaSgyNiksIEFVVE86IDAsIENBTlZBUzogMSwgV0VCR0w6IDIsIEhFQURMRVNTOiAzLCBGT1JFVkVSOiAtMSwgTk9ORTogNCwgVVA6IDUsIERPV046IDYsIExFRlQ6IDcsIFJJR0hUOiA4IH07dC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNjkpLFxuICAgICAgICByID0gaSgyKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSkge1xuICAgICAgdmFyIHMgPSByKHQsIGUsIG51bGwpO2lmIChudWxsID09PSBzKSByZXR1cm4gaTtpZiAoQXJyYXkuaXNBcnJheShzKSkgcmV0dXJuIG4uUk5ELnBpY2socyk7aWYgKFwib2JqZWN0XCIgPT0gKHR5cGVvZiBzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YocykpKSB7XG4gICAgICAgIGlmIChzLmhhc093blByb3BlcnR5KFwicmFuZEludFwiKSkgcmV0dXJuIG4uUk5ELmludGVnZXJJblJhbmdlKHMucmFuZEludFswXSwgcy5yYW5kSW50WzFdKTtpZiAocy5oYXNPd25Qcm9wZXJ0eShcInJhbmRGbG9hdFwiKSkgcmV0dXJuIG4uUk5ELnJlYWxJblJhbmdlKHMucmFuZEZsb2F0WzBdLCBzLnJhbmRGbG9hdFsxXSk7XG4gICAgICB9IGVsc2UgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgcykgcmV0dXJuIHMoZSk7cmV0dXJuIHM7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMyksXG4gICAgICAgIHMgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICB0aGlzLnNjZW5lID0gdCwgdGhpcy50eXBlID0gZSwgdGhpcy5uYW1lID0gXCJcIiwgdGhpcy5hY3RpdmUgPSAhMCwgdGhpcy50YWJJbmRleCA9IC0xLCB0aGlzLnJlbmRlck1hc2sgPSAxNSwgdGhpcy5yZW5kZXJGbGFncyA9IDE1LCB0aGlzLmNhbWVyYUZpbHRlciA9IDAsIHRoaXMuaW5wdXQgPSBudWxsLCB0aGlzLmJvZHkgPSBudWxsLCB0aGlzLnNjZW5lLnN5cy5zb3J0Q2hpbGRyZW5GbGFnID0gITA7XG4gICAgICB9LCBzZXRBY3RpdmU6IGZ1bmN0aW9uIHNldEFjdGl2ZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZSA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXROYW1lOiBmdW5jdGlvbiBzZXROYW1lKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRJbnRlcmFjdGl2ZTogZnVuY3Rpb24gc2V0SW50ZXJhY3RpdmUodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5zeXMuaW5wdXRNYW5hZ2VyLmVuYWJsZSh0aGlzLCB0LCBlKSwgdGhpcztcbiAgICAgIH0sIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gci5Ub0pTT04odGhpcyk7XG4gICAgICB9LCB3aWxsUmVuZGVyOiBmdW5jdGlvbiB3aWxsUmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJNYXNrID09PSB0aGlzLnJlbmRlckZsYWdzO1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zY2VuZS5zeXMuZGlzcGxheUxpc3QucmVtb3ZlKHRoaXMpLCB0aGlzLnNjZW5lLnN5cy51cGRhdGVMaXN0LnJlbW92ZSh0aGlzKSwgdGhpcy5pbnB1dCAmJiB0aGlzLnNjZW5lLnN5cy5pbnB1dE1hbmFnZXIuY2xlYXIodGhpcyksIHRoaXMuYm9keSAmJiB0aGlzLnNjZW5lLnN5cy5waHlzaWNzTWFuYWdlci5yZW1vdmUodGhpcyksIHRoaXMuYWN0aXZlID0gITEsIHRoaXMuc2NlbmUgPSB2b2lkIDA7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMikge1xuICAgICAgdmFyIG4gPSB0eXBlb2YgdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHQpO3JldHVybiB0ICYmIFwibnVtYmVyXCIgIT09IG4gJiYgXCJzdHJpbmdcIiAhPT0gbiAmJiB0Lmhhc093blByb3BlcnR5KGUpID8gdFtlXSA6IF9pMjtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHQpLCB0aGlzLnggPSB0LCB0aGlzLnkgPSBlO1xuICAgICAgfSwgc2V0VG86IGZ1bmN0aW9uIHNldFRvKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB2b2lkIDAgPT09IGUgJiYgKGUgPSB0KSwgdGhpcy54ID0gdCwgdGhpcy55ID0gZSwgdGhpcztcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNSksXG4gICAgICAgIHIgPSBpKDI2KSxcbiAgICAgICAgcyA9IGkoMzEpLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0LCBlLCBpKSB7XG4gICAgICBlLnggPSBuKGksIFwieFwiLCAwKSwgZS55ID0gbihpLCBcInlcIiwgMCksIGUueiA9IG4oaSwgXCJ6XCIsIDApLCBlLmZsaXBYID0gbihpLCBcImZsaXBYXCIsICExKSwgZS5mbGlwWSA9IG4oaSwgXCJmbGlwWVwiLCAhMSk7dmFyIGEgPSBuKGksIFwic2NhbGVcIiwgbnVsbCk7XCJudW1iZXJcIiA9PSB0eXBlb2YgYSA/IGUuc2V0U2NhbGUoYSkgOiBudWxsICE9PSBhICYmIChlLnNjYWxlWCA9IG4oYSwgXCJ4XCIsIDEpLCBlLnNjYWxlWSA9IG4oYSwgXCJ5XCIsIDEpKTt2YXIgbyA9IG4oaSwgXCJzY3JvbGxGYWN0b3JcIiwgbnVsbCk7XCJudW1iZXJcIiA9PSB0eXBlb2YgbyA/IGUuc2V0U2Nyb2xsRmFjdG9yKG8pIDogbnVsbCAhPT0gbyAmJiAoZS5zY3JvbGxGYWN0b3JYID0gbihvLCBcInhcIiwgMSksIGUuc2Nyb2xsRmFjdG9yWSA9IG4obywgXCJ5XCIsIDEpKSwgZS5yb3RhdGlvbiA9IG4oaSwgXCJyb3RhdGlvblwiLCAwKTt2YXIgaCA9IG4oaSwgXCJhbmdsZVwiLCBudWxsKTtudWxsICE9PSBoICYmIChlLmFuZ2xlID0gaCksIGUuYWxwaGEgPSBuKGksIFwiYWxwaGFcIiwgMSk7dmFyIHUgPSBuKGksIFwib3JpZ2luXCIsIG51bGwpO2lmIChcIm51bWJlclwiID09IHR5cGVvZiB1KSBlLnNldE9yaWdpbih1KTtlbHNlIGlmIChudWxsICE9PSB1KSB7XG4gICAgICAgIHZhciBjID0gbihpLCBcInhcIiwgLjUpLFxuICAgICAgICAgICAgbCA9IG4oaSwgXCJ5XCIsIC41KTtlLnNldE9yaWdpbihjLCBsKTtcbiAgICAgIH1yZXR1cm4gZS5zY2FsZU1vZGUgPSBuKGksIFwic2NhbGVNb2RlXCIsIHIuREVGQVVMVCksIGUuYmxlbmRNb2RlID0gbihpLCBcImJsZW5kTW9kZVwiLCBzLk5PUk1BTCksIGUudmlzaWJsZSA9IG4oaSwgXCJ2aXNpYmxlXCIsICEwKSwgbihpLCBcImFkZFwiLCAhMCkgJiYgdC5zeXMuZGlzcGxheUxpc3QuYWRkKGUpLCBlO1xuICAgIH07dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgUEkyOiAyICogTWF0aC5QSSwgVEFVOiAuNSAqIE1hdGguUEksIEVQU0lMT046IDFlLTYsIERFR19UT19SQUQ6IE1hdGguUEkgLyAxODAsIFJBRF9UT19ERUc6IDE4MCAvIE1hdGguUEkgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0KSxcbiAgICAgICAgciA9IGkoNjcpLFxuICAgICAgICBzID0gW10sXG4gICAgICAgIGEgPSAhMTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdCA9IGZ1bmN0aW9uIHQoX3QyLCBlLCBpLCBoKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDEpLCB2b2lkIDAgPT09IGkgJiYgKGkgPSAxKSwgdm9pZCAwID09PSBoICYmIChoID0gbi5DQU5WQVMpO3ZhciB1LFxuICAgICAgICAgICAgYyA9IG8oaCk7cmV0dXJuIG51bGwgPT09IGMgPyAoYyA9IHsgcGFyZW50OiBfdDIsIGNhbnZhczogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSwgdHlwZTogaCB9LCBzLnB1c2goYyksIHUgPSBjLmNhbnZhcykgOiAoYy5wYXJlbnQgPSBfdDIsIHUgPSBjLmNhbnZhcyksIHUud2lkdGggPSBlLCB1LmhlaWdodCA9IGksIGEgJiYgaCA9PT0gbi5DQU5WQVMgJiYgci5kaXNhYmxlKHUuZ2V0Q29udGV4dChcIjJkXCIpKSwgdTtcbiAgICAgIH0sXG4gICAgICAgICAgZSA9IGZ1bmN0aW9uIGUoX2UsIGksIHIpIHtcbiAgICAgICAgcmV0dXJuIHQoX2UsIGksIHIsIG4uQ0FOVkFTKTtcbiAgICAgIH0sXG4gICAgICAgICAgaSA9IGZ1bmN0aW9uIGkoZSwgX2kzLCByKSB7XG4gICAgICAgIHJldHVybiB0KGUsIF9pMywgciwgbi5XRUJHTCk7XG4gICAgICB9LFxuICAgICAgICAgIG8gPSBmdW5jdGlvbiBvKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IG4uQ0FOVkFTKSwgcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgaWYgKCFlLnBhcmVudCAmJiBlLnR5cGUgPT09IHQpIHJldHVybiBlO1xuICAgICAgICB9KSwgbnVsbDtcbiAgICAgIH0sXG4gICAgICAgICAgaCA9IGZ1bmN0aW9uIGgodCkge1xuICAgICAgICB2YXIgZSA9IHQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtzLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAoZSAmJiBpLmNhbnZhcyA9PT0gdCB8fCAhZSAmJiBpLnBhcmVudCA9PT0gdCkgJiYgKGkucGFyZW50ID0gbnVsbCwgaS5jYW52YXMud2lkdGggPSAxLCBpLmNhbnZhcy5oZWlnaHQgPSAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgICAgIHUgPSBmdW5jdGlvbiB1KCkge1xuICAgICAgICB2YXIgdCA9IDA7cmV0dXJuIHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUucGFyZW50ICYmIHQrKztcbiAgICAgICAgfSksIHQ7XG4gICAgICB9LFxuICAgICAgICAgIGMgPSBmdW5jdGlvbiBjKCkge1xuICAgICAgICByZXR1cm4gcy5sZW5ndGggLSB1KCk7XG4gICAgICB9O3JldHVybiB7IGNyZWF0ZTJEOiBlLCBjcmVhdGU6IHQsIGNyZWF0ZVdlYkdMOiBpLCBkaXNhYmxlU21vb3RoaW5nOiBmdW5jdGlvbiBkaXNhYmxlU21vb3RoaW5nKCkge1xuICAgICAgICAgIGEgPSAhMDtcbiAgICAgICAgfSwgZW5hYmxlU21vb3RoaW5nOiBmdW5jdGlvbiBlbmFibGVTbW9vdGhpbmcoKSB7XG4gICAgICAgICAgYSA9ICExO1xuICAgICAgICB9LCBmaXJzdDogbywgZnJlZTogYywgcG9vbDogcywgcmVtb3ZlOiBoLCB0b3RhbDogdSB9O1xuICAgIH0oKTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgTE9BREVSX0lETEU6IDAsIExPQURFUl9MT0FESU5HOiAxLCBMT0FERVJfUFJPQ0VTU0lORzogMiwgTE9BREVSX0NPTVBMRVRFOiAzLCBMT0FERVJfREVTVFJPWUVEOiA0LCBGSUxFX1BFTkRJTkc6IDUsIEZJTEVfTE9BRElORzogNiwgRklMRV9MT0FERUQ6IDcsIEZJTEVfRkFJTEVEOiA4LCBGSUxFX1BST0NFU1NJTkc6IDksIEZJTEVfV0FJVElOR19MSU5LRklMRTogMTAsIEZJTEVfRVJST1JFRDogMTEsIEZJTEVfQ09NUExFVEU6IDEyLCBGSUxFX0RFU1RST1lFRDogMTMsIFRFWFRVUkVfQVRMQVNfSlNPTl9BUlJBWTogMjAsIFRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIOiAyMSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IENSRUFURUQ6IDAsIElOSVQ6IDEsIERFTEFZOiAyLCBPRkZTRVRfREVMQVk6IDMsIFBFTkRJTkdfUkVOREVSOiA0LCBQTEFZSU5HX0ZPUldBUkQ6IDUsIFBMQVlJTkdfQkFDS1dBUkQ6IDYsIEhPTERfREVMQVk6IDcsIFJFUEVBVF9ERUxBWTogOCwgQ09NUExFVEU6IDksIFBFTkRJTkdfQUREOiAyMCwgUEFVU0VEOiAyMSwgTE9PUF9ERUxBWTogMjIsIEFDVElWRTogMjMsIENPTVBMRVRFX0RFTEFZOiAyNCwgUEVORElOR19SRU1PVkU6IDI1LCBSRU1PVkVEOiAyNiB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gMSksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBuICYmIChuID0gMSksIHZvaWQgMCA9PT0gciAmJiAociA9IDApLCB2b2lkIDAgPT09IHMgJiYgKHMgPSAwKSwgdGhpcy5tYXRyaXggPSBuZXcgRmxvYXQzMkFycmF5KFt0LCBlLCBpLCBuLCByLCBzLCAwLCAwLCAxXSksIHRoaXMuZGVjb21wb3NlZE1hdHJpeCA9IHsgdHJhbnNsYXRlWDogMCwgdHJhbnNsYXRlWTogMCwgc2NhbGVYOiAxLCBzY2FsZVk6IDEsIHJvdGF0aW9uOiAwIH07XG4gICAgICB9LCBsb2FkSWRlbnRpdHk6IGZ1bmN0aW9uIGxvYWRJZGVudGl0eSgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLm1hdHJpeDtyZXR1cm4gdFswXSA9IDEsIHRbMV0gPSAwLCB0WzJdID0gMCwgdFszXSA9IDEsIHRbNF0gPSAwLCB0WzVdID0gMCwgdGhpcztcbiAgICAgIH0sIHRyYW5zbGF0ZTogZnVuY3Rpb24gdHJhbnNsYXRlKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLm1hdHJpeDtyZXR1cm4gaVs0XSA9IGlbMF0gKiB0ICsgaVsyXSAqIGUgKyBpWzRdLCBpWzVdID0gaVsxXSAqIHQgKyBpWzNdICogZSArIGlbNV0sIHRoaXM7XG4gICAgICB9LCBzY2FsZTogZnVuY3Rpb24gc2NhbGUodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMubWF0cml4O3JldHVybiBpWzBdICo9IHQsIGlbMV0gKj0gdCwgaVsyXSAqPSBlLCBpWzNdICo9IGUsIHRoaXM7XG4gICAgICB9LCByb3RhdGU6IGZ1bmN0aW9uIHJvdGF0ZSh0KSB7XG4gICAgICAgIHZhciBlID0gTWF0aC5zaW4odCksXG4gICAgICAgICAgICBpID0gTWF0aC5jb3ModCk7cmV0dXJuIHRoaXMudHJhbnNmb3JtKGksIC1lLCBlLCBpLCAwLCAwKTtcbiAgICAgIH0sIG11bHRpcGx5OiBmdW5jdGlvbiBtdWx0aXBseSh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5tYXRyaXgsXG4gICAgICAgICAgICBpID0gZVswXSxcbiAgICAgICAgICAgIG4gPSBlWzFdLFxuICAgICAgICAgICAgciA9IGVbMl0sXG4gICAgICAgICAgICBzID0gZVszXSxcbiAgICAgICAgICAgIGEgPSBlWzRdLFxuICAgICAgICAgICAgbyA9IGVbNV0sXG4gICAgICAgICAgICBoID0gdFswXSxcbiAgICAgICAgICAgIHUgPSB0WzFdLFxuICAgICAgICAgICAgYyA9IHRbMl0sXG4gICAgICAgICAgICBsID0gdFszXSxcbiAgICAgICAgICAgIGYgPSB0WzRdLFxuICAgICAgICAgICAgZCA9IHRbNV07cmV0dXJuIGVbMF0gPSBoICogaSArIHUgKiByLCBlWzFdID0gaCAqIG4gKyB1ICogcywgZVsyXSA9IGMgKiBpICsgbCAqIHIsIGVbM10gPSBjICogbiArIGwgKiBzLCBlWzRdID0gZiAqIGkgKyBkICogciArIGEsIGVbNV0gPSBmICogbiArIGQgKiBzICsgbywgdGhpcztcbiAgICAgIH0sIHRyYW5zZm9ybTogZnVuY3Rpb24gdHJhbnNmb3JtKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgdmFyIGEgPSB0aGlzLm1hdHJpeCxcbiAgICAgICAgICAgIG8gPSBhWzBdLFxuICAgICAgICAgICAgaCA9IGFbMV0sXG4gICAgICAgICAgICB1ID0gYVsyXSxcbiAgICAgICAgICAgIGMgPSBhWzNdLFxuICAgICAgICAgICAgbCA9IGFbNF0sXG4gICAgICAgICAgICBmID0gYVs1XTtyZXR1cm4gYVswXSA9IHQgKiBvICsgZSAqIHUsIGFbMV0gPSB0ICogaCArIGUgKiBjLCBhWzJdID0gaSAqIG8gKyBuICogdSwgYVszXSA9IGkgKiBoICsgbiAqIGMsIGFbNF0gPSByICogbyArIHMgKiB1ICsgbCwgYVs1XSA9IHIgKiBoICsgcyAqIGMgKyBmLCB0aGlzO1xuICAgICAgfSwgdHJhbnNmb3JtUG9pbnQ6IGZ1bmN0aW9uIHRyYW5zZm9ybVBvaW50KHQsIGUsIGkpIHtcbiAgICAgICAgdm9pZCAwID09PSBpICYmIChpID0geyB4OiAwLCB5OiAwIH0pO3ZhciBuID0gdGhpcy5tYXRyaXgsXG4gICAgICAgICAgICByID0gblswXSxcbiAgICAgICAgICAgIHMgPSBuWzFdLFxuICAgICAgICAgICAgYSA9IG5bMl0sXG4gICAgICAgICAgICBvID0gblszXSxcbiAgICAgICAgICAgIGggPSBuWzRdLFxuICAgICAgICAgICAgdSA9IG5bNV07cmV0dXJuIGkueCA9IHQgKiByICsgZSAqIGEgKyBoLCBpLnkgPSB0ICogcyArIGUgKiBvICsgdSwgaTtcbiAgICAgIH0sIGludmVydDogZnVuY3Rpb24gaW52ZXJ0KCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMubWF0cml4LFxuICAgICAgICAgICAgZSA9IHRbMF0sXG4gICAgICAgICAgICBpID0gdFsxXSxcbiAgICAgICAgICAgIG4gPSB0WzJdLFxuICAgICAgICAgICAgciA9IHRbM10sXG4gICAgICAgICAgICBzID0gdFs0XSxcbiAgICAgICAgICAgIGEgPSB0WzVdLFxuICAgICAgICAgICAgbyA9IGUgKiByIC0gaSAqIG47cmV0dXJuIHRbMF0gPSByIC8gbywgdFsxXSA9IC1pIC8gbywgdFsyXSA9IC1uIC8gbywgdFszXSA9IGUgLyBvLCB0WzRdID0gKG4gKiBhIC0gciAqIHMpIC8gbywgdFs1XSA9IC0oZSAqIGEgLSBpICogcykgLyBvLCB0aGlzO1xuICAgICAgfSwgc2V0VHJhbnNmb3JtOiBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0odCwgZSwgaSwgbiwgciwgcykge1xuICAgICAgICB2YXIgYSA9IHRoaXMubWF0cml4O3JldHVybiBhWzBdID0gdCwgYVsxXSA9IGUsIGFbMl0gPSBpLCBhWzNdID0gbiwgYVs0XSA9IHIsIGFbNV0gPSBzLCB0aGlzO1xuICAgICAgfSwgZGVjb21wb3NlTWF0cml4OiBmdW5jdGlvbiBkZWNvbXBvc2VNYXRyaXgoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5kZWNvbXBvc2VkTWF0cml4LFxuICAgICAgICAgICAgZSA9IHRoaXMubWF0cml4LFxuICAgICAgICAgICAgaSA9IGVbMF0sXG4gICAgICAgICAgICBuID0gZVsxXSxcbiAgICAgICAgICAgIHIgPSBlWzJdLFxuICAgICAgICAgICAgcyA9IGVbM10sXG4gICAgICAgICAgICBhID0gaSAqIGksXG4gICAgICAgICAgICBvID0gbiAqIG4sXG4gICAgICAgICAgICBoID0gciAqIHIsXG4gICAgICAgICAgICB1ID0gcyAqIHMsXG4gICAgICAgICAgICBjID0gTWF0aC5zcXJ0KGEgKyBoKSxcbiAgICAgICAgICAgIGwgPSBNYXRoLnNxcnQobyArIHUpO3JldHVybiB0LnRyYW5zbGF0ZVggPSBlWzRdLCB0LnRyYW5zbGF0ZVkgPSBlWzVdLCB0LnNjYWxlWCA9IGMsIHQuc2NhbGVZID0gbCwgdC5yb3RhdGlvbiA9IE1hdGguYWNvcyhpIC8gYykgKiAoTWF0aC5hdGFuKC1yIC8gaSkgPCAwID8gLTEgOiAxKSwgdDtcbiAgICAgIH0sIGFwcGx5SVRSUzogZnVuY3Rpb24gYXBwbHlJVFJTKHQsIGUsIGksIG4sIHIpIHtcbiAgICAgICAgdmFyIHMgPSB0aGlzLm1hdHJpeCxcbiAgICAgICAgICAgIGEgPSBNYXRoLnNpbihpKSxcbiAgICAgICAgICAgIG8gPSBNYXRoLmNvcyhpKTtyZXR1cm4gc1s0XSA9IHQsIHNbNV0gPSBlLCBzWzBdID0gbyAqIG4sIHNbMV0gPSAtYSAqIG4sIHNbMl0gPSBhICogciwgc1szXSA9IG8gKiByLCB0aGlzO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB2b2lkIDAgPT09IGUgJiYgKGUgPSAwKSwgdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gbiAmJiAobiA9IDApLCB0aGlzLnggPSB0LCB0aGlzLnkgPSBlLCB0aGlzLndpZHRoID0gaSwgdGhpcy5oZWlnaHQgPSBuO1xuICAgICAgfSwgc2V0VG86IGZ1bmN0aW9uIHNldFRvKHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9IHQsIHRoaXMueSA9IGUsIHRoaXMud2lkdGggPSBpLCB0aGlzLmhlaWdodCA9IG4sIHRoaXM7XG4gICAgICB9LCBzZXRFbXB0eTogZnVuY3Rpb24gc2V0RW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFRvKDAsIDAsIDAsIDApO1xuICAgICAgfSwgc2V0UG9zaXRpb246IGZ1bmN0aW9uIHNldFBvc2l0aW9uKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHQpLCB0aGlzLnggPSB0LCB0aGlzLnkgPSBlLCB0aGlzO1xuICAgICAgfSwgc2V0U2l6ZTogZnVuY3Rpb24gc2V0U2l6ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSB0KSwgdGhpcy53aWR0aCA9IHQsIHRoaXMuaGVpZ2h0ID0gZSwgdGhpcztcbiAgICAgIH0sIGlzRW1wdHk6IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMDtcbiAgICAgIH0sIGdldExpbmVBOiBmdW5jdGlvbiBnZXRMaW5lQSgpIHtcbiAgICAgICAgcmV0dXJuIHsgeDE6IHRoaXMueCwgeTE6IHRoaXMueSwgeDI6IHRoaXMucmlnaHQsIHkyOiB0aGlzLnkgfTtcbiAgICAgIH0sIGdldExpbmVCOiBmdW5jdGlvbiBnZXRMaW5lQigpIHtcbiAgICAgICAgcmV0dXJuIHsgeDE6IHRoaXMucmlnaHQsIHkxOiB0aGlzLnksIHgyOiB0aGlzLnJpZ2h0LCB5MjogdGhpcy5ib3R0b20gfTtcbiAgICAgIH0sIGdldExpbmVDOiBmdW5jdGlvbiBnZXRMaW5lQygpIHtcbiAgICAgICAgcmV0dXJuIHsgeDE6IHRoaXMucmlnaHQsIHkxOiB0aGlzLmJvdHRvbSwgeDI6IHRoaXMueCwgeTI6IHRoaXMuYm90dG9tIH07XG4gICAgICB9LCBnZXRMaW5lRDogZnVuY3Rpb24gZ2V0TGluZUQoKSB7XG4gICAgICAgIHJldHVybiB7IHgxOiB0aGlzLngsIHkxOiB0aGlzLmJvdHRvbSwgeDI6IHRoaXMueCwgeTI6IHRoaXMueSB9O1xuICAgICAgfSwgbGVmdDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy54O1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdCA+PSB0aGlzLnJpZ2h0ID8gdGhpcy53aWR0aCA9IDAgOiB0aGlzLndpZHRoID0gdGhpcy5yaWdodCAtIHQsIHRoaXMueCA9IHQ7XG4gICAgICAgIH0gfSwgcmlnaHQ6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0IDw9IHRoaXMueCA/IHRoaXMud2lkdGggPSAwIDogdGhpcy53aWR0aCA9IHQgLSB0aGlzLng7XG4gICAgICAgIH0gfSwgdG9wOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnk7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0ID49IHRoaXMuYm90dG9tID8gKHRoaXMuaGVpZ2h0ID0gMCwgdGhpcy55ID0gdCkgOiB0aGlzLmhlaWdodCA9IHRoaXMuYm90dG9tIC0gdDtcbiAgICAgICAgfSB9LCBib3R0b206IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdCA8PSB0aGlzLnkgPyB0aGlzLmhlaWdodCA9IDAgOiB0aGlzLmhlaWdodCA9IHQgLSB0aGlzLnk7XG4gICAgICAgIH0gfSwgY2VudGVyWDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aCAvIDI7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnggPSB0IC0gdGhpcy53aWR0aCAvIDI7XG4gICAgICAgIH0gfSwgY2VudGVyWTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy55ICsgdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy55ID0gdCAtIHRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgfSB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0LnkgKyB0LmhlaWdodCAtIHQuaGVpZ2h0ICogdC5vcmlnaW5ZO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQueSA9IGUgLSB0LmhlaWdodCArIHQuaGVpZ2h0ICogdC5vcmlnaW5ZLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQueCAtIHQud2lkdGggKiB0Lm9yaWdpblg7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdC54ID0gZSArIHQud2lkdGggKiB0Lm9yaWdpblgsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC54ICsgdC53aWR0aCAtIHQud2lkdGggKiB0Lm9yaWdpblg7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdC54ID0gZSAtIHQud2lkdGggKyB0LndpZHRoICogdC5vcmlnaW5YLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQueSAtIHQuaGVpZ2h0ICogdC5vcmlnaW5ZO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQueSA9IGUgKyB0LmhlaWdodCAqIHQub3JpZ2luWSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg3KSxcbiAgICAgICAgcyA9IGkoMTIpLFxuICAgICAgICBhID0gaSg2NjYpLFxuICAgICAgICBvID0gaSgxODYpLFxuICAgICAgICBoID0gaSg2NjcpLFxuICAgICAgICB1ID0gaSg5MCksXG4gICAgICAgIGMgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICBpZiAodGhpcy50eXBlID0gcih0LCBcInR5cGVcIiwgITEpLCB0aGlzLmtleSA9IHIodCwgXCJrZXlcIiwgITEpLCAhdGhpcy50eXBlIHx8ICF0aGlzLmtleSkgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY2FsbGluZyAnTG9hZGVyLlwiICsgdGhpcy50eXBlICsgXCInIGludmFsaWQga2V5IHByb3ZpZGVkLlwiKTt0aGlzLnVybCA9IHIodCwgXCJ1cmxcIiksIHZvaWQgMCA9PT0gdGhpcy51cmwgPyB0aGlzLnVybCA9IHIodCwgXCJwYXRoXCIsIFwiXCIpICsgdGhpcy5rZXkgKyBcIi5cIiArIHIodCwgXCJleHRlbnNpb25cIiwgXCJcIikgOiB0aGlzLnVybCA9IHIodCwgXCJwYXRoXCIsIFwiXCIpLmNvbmNhdCh0aGlzLnVybCksIHRoaXMuc3JjID0gXCJcIiwgdGhpcy54aHJTZXR0aW5ncyA9IHUocih0LCBcInJlc3BvbnNlVHlwZVwiLCB2b2lkIDApKSwgcih0LCBcInhoclNldHRpbmdzXCIsICExKSAmJiAodGhpcy54aHJTZXR0aW5ncyA9IG8odGhpcy54aHJTZXR0aW5ncywgcih0LCBcInhoclNldHRpbmdzXCIsIHt9KSkpLCB0aGlzLnhockxvYWRlciA9IG51bGwsIHRoaXMuc3RhdGUgPSBzLkZJTEVfUEVORElORywgdGhpcy5ieXRlc1RvdGFsID0gMCwgdGhpcy5ieXRlc0xvYWRlZCA9IC0xLCB0aGlzLnBlcmNlbnRDb21wbGV0ZSA9IC0xLCB0aGlzLmNyb3NzT3JpZ2luID0gdm9pZCAwLCB0aGlzLmRhdGEgPSB2b2lkIDAsIHRoaXMuY29uZmlnID0gcih0LCBcImNvbmZpZ1wiLCB7fSksIHRoaXMubGlua0ZpbGUgPSB2b2lkIDAsIHRoaXMubGlua1R5cGUgPSBcIlwiLCB0aGlzLmNhbGxiYWNrID0gbnVsbDtcbiAgICAgIH0sIHJlc2V0WEhSOiBmdW5jdGlvbiByZXNldFhIUigpIHtcbiAgICAgICAgdGhpcy54aHJMb2FkZXIub25sb2FkID0gdm9pZCAwLCB0aGlzLnhockxvYWRlci5vbmVycm9yID0gdm9pZCAwLCB0aGlzLnhockxvYWRlci5vbnByb2dyZXNzID0gdm9pZCAwO1xuICAgICAgfSwgb25Mb2FkOiBmdW5jdGlvbiBvbkxvYWQodCkge1xuICAgICAgICB0aGlzLnJlc2V0WEhSKCksIHRoaXMuY2FsbGJhY2sodGhpcywgITApO1xuICAgICAgfSwgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcih0KSB7XG4gICAgICAgIHRoaXMucmVzZXRYSFIoKSwgdGhpcy5jYWxsYmFjayh0aGlzLCAhMSk7XG4gICAgICB9LCBvblByb2dyZXNzOiBmdW5jdGlvbiBvblByb2dyZXNzKHQpIHtcbiAgICAgICAgdC5sZW5ndGhDb21wdXRhYmxlICYmICh0aGlzLmJ5dGVzTG9hZGVkID0gdC5sb2FkZWQsIHRoaXMuYnl0ZXNUb3RhbCA9IHQudG90YWwsIHRoaXMucGVyY2VudENvbXBsZXRlID0gTWF0aC5taW4odGhpcy5ieXRlc0xvYWRlZCAvIHRoaXMuYnl0ZXNUb3RhbCwgMSkpO1xuICAgICAgfSwgb25Qcm9jZXNzOiBmdW5jdGlvbiBvblByb2Nlc3ModCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gcy5GSUxFX1BST0NFU1NJTkcsIHRoaXMub25Db21wbGV0ZSgpLCB0KHRoaXMpO1xuICAgICAgfSwgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5saW5rRmlsZSA/IHRoaXMubGlua0ZpbGUuc3RhdGUgPT09IHMuRklMRV9XQUlUSU5HX0xJTktGSUxFID8gKHRoaXMuc3RhdGUgPSBzLkZJTEVfQ09NUExFVEUsIHRoaXMubGlua0ZpbGUuc3RhdGUgPSBzLkZJTEVfQ09NUExFVEUpIDogdGhpcy5zdGF0ZSA9IHMuRklMRV9XQUlUSU5HX0xJTktGSUxFIDogdGhpcy5zdGF0ZSA9IHMuRklMRV9DT01QTEVURTtcbiAgICAgIH0sIGxvYWQ6IGZ1bmN0aW9uIGxvYWQodCwgZSwgaSkge1xuICAgICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSBcIlwiKSwgdGhpcy5jYWxsYmFjayA9IHQsIHRoaXMuc3JjID0gYSh0aGlzLCBlKSwgMCA9PT0gdGhpcy5zcmMuaW5kZXhPZihcImRhdGE6XCIpID8gY29uc29sZS5sb2coXCJMb2NhbCBkYXRhIFVSSVwiKSA6IHRoaXMueGhyTG9hZGVyID0gaCh0aGlzLCBpKTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gYztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7fTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHQuZXhwb3J0cyA9IHsgREVGQVVMVDogMCwgTElORUFSOiAwLCBORUFSRVNUOiAxIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNCkge1xuICAgICAgcmV0dXJuICEodC53aWR0aCA8PSAwIHx8IHQuaGVpZ2h0IDw9IDApICYmIHQueCA8PSBlICYmIHQueCArIHQud2lkdGggPj0gZSAmJiB0LnkgPD0gX2k0ICYmIHQueSArIHQuaGVpZ2h0ID49IF9pNDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg3MiksXG4gICAgICAgIHMgPSBpKDE1NCksXG4gICAgICAgIGEgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbikge1xuICAgICAgICB2b2lkIDAgPT09IHQgJiYgKHQgPSAwKSwgdm9pZCAwID09PSBlICYmIChlID0gMCksIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IG4gJiYgKG4gPSAyNTUpLCB0aGlzLnIgPSAwLCB0aGlzLmcgPSAwLCB0aGlzLmIgPSAwLCB0aGlzLmEgPSAyNTUsIHRoaXMuZ2wgPSBbMCwgMCwgMCwgMV0sIHRoaXMuX2NvbG9yID0gMCwgdGhpcy5fY29sb3IzMiA9IDAsIHRoaXMuX3JnYmEgPSBcIlwiLCB0aGlzLnNldFRvKHQsIGUsIGksIG4pO1xuICAgICAgfSwgdHJhbnNwYXJlbnQ6IGZ1bmN0aW9uIHRyYW5zcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWQgPSAwLCB0aGlzLmdyZWVuID0gMCwgdGhpcy5ibHVlID0gMCwgdGhpcy5hbHBoYSA9IDAsIHRoaXMudXBkYXRlKCk7XG4gICAgICB9LCBzZXRUbzogZnVuY3Rpb24gc2V0VG8odCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSBuICYmIChuID0gMjU1KSwgdGhpcy5yZWQgPSB0LCB0aGlzLmdyZWVuID0gZSwgdGhpcy5ibHVlID0gaSwgdGhpcy5hbHBoYSA9IG4sIHRoaXMudXBkYXRlKCk7XG4gICAgICB9LCBzZXRHTFRvOiBmdW5jdGlvbiBzZXRHTFRvKHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gbiAmJiAobiA9IDEpLCB0aGlzLnJlZEdMID0gdCwgdGhpcy5ncmVlbkdMID0gZSwgdGhpcy5ibHVlR0wgPSBpLCB0aGlzLmFscGhhR0wgPSBuLCB0aGlzLnVwZGF0ZSgpO1xuICAgICAgfSwgc2V0RnJvbVJHQjogZnVuY3Rpb24gc2V0RnJvbVJHQih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZCA9IHQuciwgdGhpcy5ncmVlbiA9IHQuZywgdGhpcy5ibHVlID0gdC5iLCB0Lmhhc093blByb3BlcnR5KFwiYVwiKSAmJiAodGhpcy5hbHBoYSA9IHQuYSksIHRoaXMudXBkYXRlKCk7XG4gICAgICB9LCB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yID0gcih0aGlzLnIsIHRoaXMuZywgdGhpcy5iKSwgdGhpcy5fY29sb3IzMiA9IHModGhpcy5yLCB0aGlzLmcsIHRoaXMuYiwgdGhpcy5hKSwgdGhpcy5fcmdiYSA9IFwicmdiYShcIiArIHRoaXMuciArIFwiLFwiICsgdGhpcy5nICsgXCIsXCIgKyB0aGlzLmIgKyBcIixcIiArIHRoaXMuYSAvIDI1NSArIFwiKVwiLCB0aGlzO1xuICAgICAgfSwgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IGEodGhpcy5yLCB0aGlzLmcsIHRoaXMuYiwgdGhpcy5hKTtcbiAgICAgIH0sIGNvbG9yOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xvcjtcbiAgICAgICAgfSB9LCBjb2xvcjMyOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xvcjMyO1xuICAgICAgICB9IH0sIHJnYmE6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3JnYmE7XG4gICAgICAgIH0gfSwgcmVkR0w6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2xbMF07XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLmdsWzBdID0gTWF0aC5taW4oTWF0aC5hYnModCksIDEpLCB0aGlzLnIgPSBNYXRoLmZsb29yKDI1NSAqIHRoaXMuZ2xbMF0pLCB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9IH0sIGdyZWVuR0w6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2xbMV07XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLmdsWzFdID0gTWF0aC5taW4oTWF0aC5hYnModCksIDEpLCB0aGlzLmcgPSBNYXRoLmZsb29yKDI1NSAqIHRoaXMuZ2xbMV0pLCB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9IH0sIGJsdWVHTDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nbFsyXTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuZ2xbMl0gPSBNYXRoLm1pbihNYXRoLmFicyh0KSwgMSksIHRoaXMuYiA9IE1hdGguZmxvb3IoMjU1ICogdGhpcy5nbFsyXSksIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0gfSwgYWxwaGFHTDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nbFszXTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuZ2xbM10gPSBNYXRoLm1pbihNYXRoLmFicyh0KSwgMSksIHRoaXMuYSA9IE1hdGguZmxvb3IoMjU1ICogdGhpcy5nbFszXSksIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0gfSwgcmVkOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnI7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0ID0gTWF0aC5mbG9vcihNYXRoLmFicyh0KSksIHRoaXMuciA9IE1hdGgubWluKHQsIDI1NSksIHRoaXMuZ2xbMF0gPSB0IC8gMjU1LCB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9IH0sIGdyZWVuOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmc7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0ID0gTWF0aC5mbG9vcihNYXRoLmFicyh0KSksIHRoaXMuZyA9IE1hdGgubWluKHQsIDI1NSksIHRoaXMuZ2xbMV0gPSB0IC8gMjU1LCB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9IH0sIGJsdWU6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYjtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHQgPSBNYXRoLmZsb29yKE1hdGguYWJzKHQpKSwgdGhpcy5iID0gTWF0aC5taW4odCwgMjU1KSwgdGhpcy5nbFsyXSA9IHQgLyAyNTUsIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0gfSwgYWxwaGE6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHQgPSBNYXRoLmZsb29yKE1hdGguYWJzKHQpKSwgdGhpcy5hID0gTWF0aC5taW4odCwgMjU1KSwgdGhpcy5nbFszXSA9IHQgLyAyNTUsIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0gfSB9KTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMzg4KSxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IHt9LCB0aGlzLmZpbHRlcnMgPSBbXSwgdGhpcy5oYXNGaWx0ZXJzID0gITE7XG4gICAgICB9LCBnZXRCaW5kaW5nOiBmdW5jdGlvbiBnZXRCaW5kaW5nKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuYmluZGluZ3MuaGFzT3duUHJvcGVydHkodCkpIHJldHVybiB0aGlzLmJpbmRpbmdzW3RdO1xuICAgICAgfSwgY3JlYXRlQmluZGluZzogZnVuY3Rpb24gY3JlYXRlQmluZGluZyh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJpbmRpbmcodCkgfHwgKHRoaXMuYmluZGluZ3NbdF0gPSBuZXcgcih0aGlzLCB0KSksIHRoaXMuYmluZGluZ3NbdF07XG4gICAgICB9LCBvbjogZnVuY3Rpb24gb24odCwgZSwgaSkge1xuICAgICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKTt2YXIgbiA9IHRoaXMuY3JlYXRlQmluZGluZyh0KTtyZXR1cm4gbiAmJiBuLmFkZChlLCBpLCAhMSksIHRoaXM7XG4gICAgICB9LCBvbmNlOiBmdW5jdGlvbiBvbmNlKHQsIGUsIGkpIHtcbiAgICAgICAgdm9pZCAwID09PSBpICYmIChpID0gMCk7dmFyIG4gPSB0aGlzLmNyZWF0ZUJpbmRpbmcodCk7cmV0dXJuIG4gJiYgbi5hZGQoZSwgaSwgITApLCB0aGlzO1xuICAgICAgfSwgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuZmlsdGVycy5pbmRleE9mKHQpO3JldHVybiAtMSA9PT0gZSA/IHRoaXMuZmlsdGVycy5wdXNoKHQpIDogdGhpcy5maWx0ZXJzLnNwbGljZShlLCAxKSwgdGhpcy5oYXNGaWx0ZXJzID0gdGhpcy5maWx0ZXJzLmxlbmd0aCA+IDAsIHRoaXM7XG4gICAgICB9LCBoYXM6IGZ1bmN0aW9uIGhhcyh0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5nZXRCaW5kaW5nKHQpO3JldHVybiAhIWkgJiYgaS5oYXMoZSk7XG4gICAgICB9LCB0b3RhbDogZnVuY3Rpb24gdG90YWwodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuZ2V0QmluZGluZyh0KTtpZiAoZSkgcmV0dXJuIGUudG90YWwoKTtcbiAgICAgIH0sIG9mZjogZnVuY3Rpb24gb2ZmKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmdldEJpbmRpbmcodCk7cmV0dXJuIGkgJiYgaS5yZW1vdmUoZSksIHRoaXM7XG4gICAgICB9LCBfZGlzcGF0Y2hIYW5kbGVyOiBmdW5jdGlvbiBfZGlzcGF0Y2hIYW5kbGVyKHQpIHtcbiAgICAgICAgaWYgKHQucmVzZXQodGhpcyksIHRoaXMuaGFzRmlsdGVycykgZm9yICh2YXIgZSA9IDA7IGUgPCB0aGlzLmZpbHRlcnMubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5maWx0ZXJzW2VdLmNhbGwodGhpcywgdCksICF0Ll9wcm9wYWdhdGUpIHJldHVybjtcbiAgICAgICAgfXZhciBpID0gdGhpcy5nZXRCaW5kaW5nKHQudHlwZSk7aSAmJiBpLmRpc3BhdGNoKHQpO1xuICAgICAgfSwgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKHQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodCkpIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoSGFuZGxlcih0W2VdKTtcbiAgICAgICAgfSBlbHNlIHRoaXMuX2Rpc3BhdGNoSGFuZGxlcih0KTtcbiAgICAgIH0sIHJlbW92ZUFsbDogZnVuY3Rpb24gcmVtb3ZlQWxsKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmdldEJpbmRpbmcodCk7cmV0dXJuIGUgJiYgZS5yZW1vdmVBbGwoKSwgdGhpcztcbiAgICAgIH0sIHJlbW92ZUFsbEZpbHRlcnM6IGZ1bmN0aW9uIHJlbW92ZUFsbEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcnMubGVuZ3RoID0gMCwgdGhpcy5oYXNGaWx0ZXJzID0gITEsIHRoaXM7XG4gICAgICB9LCBkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuZ2V0QmluZGluZyh0KTtyZXR1cm4gZSAmJiAoZS5kZXN0cm95KCksIGRlbGV0ZSB0aGlzLmJpbmRpbmdzW3RdKSwgdGhpcztcbiAgICAgIH0sIGRlbGV0ZUFsbDogZnVuY3Rpb24gZGVsZXRlQWxsKCkge1xuICAgICAgICBmb3IgKHZhciB0IGluIHRoaXMuYmluZGluZ3MpIHtcbiAgICAgICAgICB0LmRlc3Ryb3koKTtcbiAgICAgICAgfXRoaXMuYmluZGluZ3MgPSB7fTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQWxsKCksIHRoaXMucmVtb3ZlQWxsRmlsdGVycygpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuZHdvcmRMZW5ndGggPSAwLCB0aGlzLmR3b3JkQ2FwYWNpdHkgPSB0IC8gNCwgdGhpcy5idWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodCksIHRoaXMuZmxvYXRWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmJ1ZmZlciksIHRoaXMuaW50VmlldyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYnVmZmVyKSwgdGhpcy51aW50VmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLmJ1ZmZlcik7XG4gICAgICB9LCBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZHdvcmRMZW5ndGggPSAwO1xuICAgICAgfSwgZ2V0Qnl0ZUxlbmd0aDogZnVuY3Rpb24gZ2V0Qnl0ZUxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIDQgKiB0aGlzLmR3b3JkTGVuZ3RoO1xuICAgICAgfSwgZ2V0Qnl0ZUNhcGFjaXR5OiBmdW5jdGlvbiBnZXRCeXRlQ2FwYWNpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgICAgfSwgYWxsb2NhdGU6IGZ1bmN0aW9uIGFsbG9jYXRlKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmR3b3JkTGVuZ3RoO3JldHVybiB0aGlzLmR3b3JkTGVuZ3RoICs9IHQsIGU7XG4gICAgICB9LCBnZXRVc2VkQnVmZmVyQXNGbG9hdDogZnVuY3Rpb24gZ2V0VXNlZEJ1ZmZlckFzRmxvYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsb2F0Vmlldy5zdWJhcnJheSgwLCB0aGlzLmR3b3JkTGVuZ3RoKTtcbiAgICAgIH0sIGdldFVzZWRCdWZmZXJBc0ludDogZnVuY3Rpb24gZ2V0VXNlZEJ1ZmZlckFzSW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRWaWV3LnN1YmFycmF5KDAsIHRoaXMuZHdvcmRMZW5ndGgpO1xuICAgICAgfSwgZ2V0VXNlZEJ1ZmZlckFzVWludDogZnVuY3Rpb24gZ2V0VXNlZEJ1ZmZlckFzVWludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudWludFZpZXcuc3ViYXJyYXkoMCwgdGhpcy5kd29yZExlbmd0aCk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdC5leHBvcnRzID0geyBOT1JNQUw6IDAsIEFERDogMSwgTVVMVElQTFk6IDIsIFNDUkVFTjogMywgT1ZFUkxBWTogNCwgREFSS0VOOiA1LCBMSUdIVEVOOiA2LCBDT0xPUl9ET0RHRTogNywgQ09MT1JfQlVSTjogOCwgSEFSRF9MSUdIVDogOSwgU09GVF9MSUdIVDogMTAsIERJRkZFUkVOQ0U6IDExLCBFWENMVVNJT046IDEyLCBIVUU6IDEzLCBTQVRVUkFUSU9OOiAxNCwgQ09MT1I6IDE1LCBMVU1JTk9TSVRZOiAxNiB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC54IC0gdC53aWR0aCAqIHQub3JpZ2luWCArIC41ICogdC53aWR0aDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHZhciBpID0gdC53aWR0aCAqIHQub3JpZ2luWDtyZXR1cm4gdC54ID0gZSArIGkgLSAuNSAqIHQud2lkdGgsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC55IC0gdC5oZWlnaHQgKiB0Lm9yaWdpblkgKyAuNSAqIHQuaGVpZ2h0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdmFyIGkgPSB0LmhlaWdodCAqIHQub3JpZ2luWTtyZXR1cm4gdC55ID0gZSArIGkgLSAuNSAqIHQuaGVpZ2h0LCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k1KSB7XG4gICAgICBpZiAodC5yYWRpdXMgPiAwICYmIGUgPj0gdC5sZWZ0ICYmIGUgPD0gdC5yaWdodCAmJiBfaTUgPj0gdC50b3AgJiYgX2k1IDw9IHQuYm90dG9tKSB7XG4gICAgICAgIHJldHVybiAodC54IC0gZSkgKiAodC54IC0gZSkgKyAodC55IC0gX2k1KSAqICh0LnkgLSBfaTUpIDw9IHQucmFkaXVzICogdC5yYWRpdXM7XG4gICAgICB9cmV0dXJuICExO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLndvcmRMZW5ndGggPSAwLCB0aGlzLndvcmRDYXBhY2l0eSA9IHQgLyAyLCB0aGlzLmJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0KSwgdGhpcy5pbnRWaWV3ID0gbmV3IEludDE2QXJyYXkodGhpcy5idWZmZXIpLCB0aGlzLnVpbnRWaWV3ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuYnVmZmVyKTtcbiAgICAgIH0sIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgdGhpcy53b3JkTGVuZ3RoID0gMDtcbiAgICAgIH0sIGdldEJ5dGVMZW5ndGg6IGZ1bmN0aW9uIGdldEJ5dGVMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiAyICogdGhpcy53b3JkTGVuZ3RoO1xuICAgICAgfSwgZ2V0Qnl0ZUNhcGFjaXR5OiBmdW5jdGlvbiBnZXRCeXRlQ2FwYWNpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgICAgfSwgYWxsb2NhdGU6IGZ1bmN0aW9uIGFsbG9jYXRlKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLndvcmRMZW5ndGg7cmV0dXJuIHRoaXMud29yZExlbmd0aCArPSB0LCBlO1xuICAgICAgfSwgZ2V0VXNlZEJ1ZmZlckFzU2hvcnQ6IGZ1bmN0aW9uIGdldFVzZWRCdWZmZXJBc1Nob3J0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRWaWV3LnN1YmFycmF5KDAsIHRoaXMud29yZExlbmd0aCk7XG4gICAgICB9LCBnZXRVc2VkQnVmZmVyQXNXb3JkOiBmdW5jdGlvbiBnZXRVc2VkQnVmZmVyQXNXb3JkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51aW50Vmlldy5zdWJhcnJheSgwLCB0aGlzLndvcmRMZW5ndGgpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHQuZXhwb3J0cyA9IHsgdmVydDogW1widW5pZm9ybSBtYXQ0IHVfdmlld19tYXRyaXg7XCIsIFwiYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcIiwgXCJhdHRyaWJ1dGUgdmVjMiBhX3RleF9jb29yZDtcIiwgXCJhdHRyaWJ1dGUgdmVjMyBhX2NvbG9yO1wiLCBcImF0dHJpYnV0ZSBmbG9hdCBhX2FscGhhO1wiLCBcInZhcnlpbmcgdmVjMiB2X3RleF9jb29yZDtcIiwgXCJ2YXJ5aW5nIHZlYzMgdl9jb2xvcjtcIiwgXCJ2YXJ5aW5nIGZsb2F0IHZfYWxwaGE7XCIsIFwidm9pZCBtYWluICgpIHtcIiwgXCIgICBnbF9Qb3NpdGlvbiA9IHVfdmlld19tYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCwgMS4wKTtcIiwgXCIgICB2X3RleF9jb29yZCA9IGFfdGV4X2Nvb3JkO1wiLCBcIiAgIHZfY29sb3IgPSBhX2NvbG9yO1wiLCBcIiAgIHZfYWxwaGEgPSBhX2FscGhhO1wiLCBcIn1cIl0uam9pbihcIlxcblwiKSwgZnJhZzogW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsIFwidW5pZm9ybSBzYW1wbGVyMkQgdV9zYW1wbGVyMkQ7XCIsIFwidmFyeWluZyB2ZWMyIHZfdGV4X2Nvb3JkO1wiLCBcInZhcnlpbmcgdmVjMyB2X2NvbG9yO1wiLCBcInZhcnlpbmcgZmxvYXQgdl9hbHBoYTtcIiwgXCJ2b2lkIG1haW4oKSB7XCIsIFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVfc2FtcGxlcjJELCB2X3RleF9jb29yZCkgKiB2ZWM0KHZfY29sb3IsIHZfYWxwaGEpO1wiLCBcIn1cIl0uam9pbihcIlxcblwiKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNiksXG4gICAgICAgIHMgPSBpKDMpLFxuICAgICAgICBhID0gaSg1NDEpLFxuICAgICAgICBvID0gbmV3IG4oeyBFeHRlbmRzOiByLCBNaXhpbnM6IFtzLkFscGhhLCBzLkJsZW5kTW9kZSwgcy5GbGlwLCBzLkdldEJvdW5kcywgcy5PcmlnaW4sIHMuUmVuZGVyVGFyZ2V0LCBzLlNjYWxlTW9kZSwgcy5TY3JvbGxGYWN0b3IsIHMuU2l6ZSwgcy5UZXh0dXJlLCBzLlRpbnQsIHMuVHJhbnNmb3JtLCBzLlZpc2libGUsIGFdLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIGEpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIHQsIFwiU3ByaXRlXCIpLCB0aGlzLmFuaW1zID0gbmV3IHMuQW5pbWF0aW9uKHRoaXMpLCB0aGlzLnNldFRleHR1cmUobiwgYSksIHRoaXMuc2V0UG9zaXRpb24oZSwgaSksIHRoaXMuc2V0U2l6ZVRvRnJhbWUoKSwgdGhpcy5zZXRPcmlnaW4oKTtcbiAgICAgIH0sIHByZVVwZGF0ZTogZnVuY3Rpb24gcHJlVXBkYXRlKHQsIGUpIHtcbiAgICAgICAgdGhpcy5hbmltcy51cGRhdGUodCwgZSk7XG4gICAgICB9LCBwbGF5OiBmdW5jdGlvbiBwbGF5KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbXMucGxheSh0LCBlKSwgdGhpcztcbiAgICAgIH0sIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gcy5Ub0pTT04odGhpcyk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBEUkFHOiBpKDYwNyksIERSQUdfRU5EOiBpKDYwOCksIERSQUdfRU5URVI6IGkoNjA5KSwgRFJBR19MRUFWRTogaSg2MTApLCBEUkFHX09WRVI6IGkoNjExKSwgRFJBR19TVEFSVDogaSg2MTIpLCBEUk9QOiBpKDYxMyksIEdBTUVfT0JKRUNUX0RPV046IGkoNjE0KSwgR0FNRV9PQkpFQ1RfTU9WRTogaSg2MTUpLCBHQU1FX09CSkVDVF9PVVQ6IGkoNjE2KSwgR0FNRV9PQkpFQ1RfT1ZFUjogaSg2MTcpLCBHQU1FX09CSkVDVF9VUDogaSg2MTgpLCBQT0lOVEVSX0RPV046IGkoNjE5KSwgUE9JTlRFUl9NT1ZFOiBpKDYyMCksIFBPSU5URVJfT1VUOiBpKDYyMSksIFBPSU5URVJfT1ZFUjogaSg2MjIpLCBQT0lOVEVSX1VQOiBpKDYyMykgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgciwgcykge1xuICAgICAgICB0aGlzLngxID0gMCwgdGhpcy55MSA9IDAsIHRoaXMueDIgPSAwLCB0aGlzLnkyID0gMCwgdGhpcy54MyA9IDAsIHRoaXMueTMgPSAwLCB0aGlzLnNldFRvKHQsIGUsIGksIG4sIHIsIHMpO1xuICAgICAgfSwgc2V0VG86IGZ1bmN0aW9uIHNldFRvKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB2b2lkIDAgPT09IGUgJiYgKGUgPSAwKSwgdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gbiAmJiAobiA9IDApLCB2b2lkIDAgPT09IHIgJiYgKHIgPSAwKSwgdm9pZCAwID09PSBzICYmIChzID0gMCksIHRoaXMueDEgPSB0LCB0aGlzLnkxID0gZSwgdGhpcy54MiA9IGksIHRoaXMueTIgPSBuLCB0aGlzLngzID0gciwgdGhpcy55MyA9IHMsIHRoaXM7XG4gICAgICB9LCBnZXRMaW5lQTogZnVuY3Rpb24gZ2V0TGluZUEoKSB7XG4gICAgICAgIHJldHVybiB7IHgxOiB0aGlzLngxLCB5MTogdGhpcy55MSwgeDI6IHRoaXMueDIsIHkyOiB0aGlzLnkyIH07XG4gICAgICB9LCBnZXRMaW5lQjogZnVuY3Rpb24gZ2V0TGluZUIoKSB7XG4gICAgICAgIHJldHVybiB7IHgxOiB0aGlzLngyLCB5MTogdGhpcy55MiwgeDI6IHRoaXMueDMsIHkyOiB0aGlzLnkzIH07XG4gICAgICB9LCBnZXRMaW5lQzogZnVuY3Rpb24gZ2V0TGluZUMoKSB7XG4gICAgICAgIHJldHVybiB7IHgxOiB0aGlzLngzLCB5MTogdGhpcy55MywgeDI6IHRoaXMueDEsIHkyOiB0aGlzLnkxIH07XG4gICAgICB9LCBsZWZ0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLngxLCB0aGlzLngyLCB0aGlzLngzKTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHZhciBlID0gMDtlID0gdGhpcy54MSA8PSB0aGlzLngyICYmIHRoaXMueDEgPD0gdGhpcy54MyA/IHRoaXMueDEgLSB0IDogdGhpcy54MiA8PSB0aGlzLngxICYmIHRoaXMueDIgPD0gdGhpcy54MyA/IHRoaXMueDIgLSB0IDogdGhpcy54MyAtIHQsIHRoaXMueDEgLT0gZSwgdGhpcy54MiAtPSBlLCB0aGlzLngzIC09IGU7XG4gICAgICAgIH0gfSwgcmlnaHQ6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMueDEsIHRoaXMueDIsIHRoaXMueDMpO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdmFyIGUgPSAwO2UgPSB0aGlzLngxID49IHRoaXMueDIgJiYgdGhpcy54MSA+PSB0aGlzLngzID8gdGhpcy54MSAtIHQgOiB0aGlzLngyID49IHRoaXMueDEgJiYgdGhpcy54MiA+PSB0aGlzLngzID8gdGhpcy54MiAtIHQgOiB0aGlzLngzIC0gdCwgdGhpcy54MSAtPSBlLCB0aGlzLngyIC09IGUsIHRoaXMueDMgLT0gZTtcbiAgICAgICAgfSB9LCB0b3A6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMueTEsIHRoaXMueTIsIHRoaXMueTMpO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdmFyIGUgPSAwO2UgPSB0aGlzLnkxIDw9IHRoaXMueTIgJiYgdGhpcy55MSA8PSB0aGlzLnkzID8gdGhpcy55MSAtIHQgOiB0aGlzLnkyIDw9IHRoaXMueTEgJiYgdGhpcy55MiA8PSB0aGlzLnkzID8gdGhpcy55MiAtIHQgOiB0aGlzLnkzIC0gdCwgdGhpcy55MSAtPSBlLCB0aGlzLnkyIC09IGUsIHRoaXMueTMgLT0gZTtcbiAgICAgICAgfSB9LCBib3R0b206IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMueTEsIHRoaXMueTIsIHRoaXMueTMpO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdmFyIGUgPSAwO2UgPSB0aGlzLnkxID49IHRoaXMueTIgJiYgdGhpcy55MSA+PSB0aGlzLnkzID8gdGhpcy55MSAtIHQgOiB0aGlzLnkyID49IHRoaXMueTEgJiYgdGhpcy55MiA+PSB0aGlzLnkzID8gdGhpcy55MiAtIHQgOiB0aGlzLnkzIC0gdCwgdGhpcy55MSAtPSBlLCB0aGlzLnkyIC09IGUsIHRoaXMueTMgLT0gZTtcbiAgICAgICAgfSB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxMiksXG4gICAgICAgIHMgPSBpKDI0KSxcbiAgICAgICAgYSA9IGkoNyksXG4gICAgICAgIG8gPSBuZXcgbih7IEV4dGVuZHM6IHMsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgcikge1xuICAgICAgICB2YXIgbyA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgPyB0IDogYSh0LCBcImtleVwiLCBcIlwiKSxcbiAgICAgICAgICAgIGggPSB7IHR5cGU6IFwiaW1hZ2VcIiwgZXh0ZW5zaW9uOiBhKHQsIFwiZXh0ZW5zaW9uXCIsIFwicG5nXCIpLCByZXNwb25zZVR5cGU6IFwiYmxvYlwiLCBrZXk6IG8sIHVybDogYSh0LCBcImZpbGVcIiwgZSksIHBhdGg6IGksIHhoclNldHRpbmdzOiBhKHQsIFwieGhyXCIsIG4pLCBjb25maWc6IGEodCwgXCJjb25maWdcIiwgcikgfTtzLmNhbGwodGhpcywgaCk7XG4gICAgICB9LCBvblByb2Nlc3M6IGZ1bmN0aW9uIG9uUHJvY2Vzcyh0KSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSByLkZJTEVfUFJPQ0VTU0lORywgdGhpcy5kYXRhID0gbmV3IEltYWdlKCksIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47dmFyIGUgPSB0aGlzO3RoaXMuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChlLmRhdGEuc3JjKSwgZS5vbkNvbXBsZXRlKCksIHQoZSk7XG4gICAgICAgIH0sIHRoaXMuZGF0YS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoZS5kYXRhLnNyYyksIGUuc3RhdGUgPSByLkZJTEVfRVJST1JFRCwgdChlKTtcbiAgICAgICAgfSwgdGhpcy5kYXRhLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy54aHJMb2FkZXIucmVzcG9uc2UpO1xuICAgICAgfSB9KTtvLmNyZWF0ZSA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgZm9yICh2YXIgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7XG4gICAgICAgIHQuYWRkRmlsZShuZXcgbyhlW3JdLCBpLCB0LnBhdGgsIG4pKTtcbiAgICAgIH0gZWxzZSB0LmFkZEZpbGUobmV3IG8oZSwgaSwgdC5wYXRoLCBuKSk7cmV0dXJuIHQ7XG4gICAgfSwgdC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIE1hdGguYXRhbjIodC55MiAtIHQueTEsIHQueDIgLSB0LngxKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgKGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgaSA9IHsgZGVza3RvcDogITEsIHdlYkFwcDogITEsIGlPUzogITEsIGlPU1ZlcnNpb246IDAsIGlQaG9uZTogITEsIGlQYWQ6ICExLCBjb2Nvb25KUzogITEsIGNvY29vbkpTQXBwOiAhMSwgY29yZG92YTogITEsIG5vZGU6ICExLCBub2RlV2Via2l0OiAhMSwgZWxlY3Ryb246ICExLCBlamVjdGE6ICExLCBjcm9zc3dhbGs6ICExLCBhbmRyb2lkOiAhMSwgY2hyb21lT1M6ICExLCBsaW51eDogITEsIG1hY09TOiAhMSwgd2luZG93czogITEsIHdpbmRvd3NQaG9uZTogITEsIHZpdGE6ICExLCBraW5kbGU6ICExLCBwaXhlbFJhdGlvOiAxIH07dC5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7L1dpbmRvd3MvLnRlc3QodCkgPyBpLndpbmRvd3MgPSAhMCA6IC9NYWMgT1MvLnRlc3QodCkgPyBpLm1hY09TID0gITAgOiAvTGludXgvLnRlc3QodCkgPyBpLmxpbnV4ID0gITAgOiAvQW5kcm9pZC8udGVzdCh0KSA/IGkuYW5kcm9pZCA9ICEwIDogL2lQW2FvXWR8aVBob25lL2kudGVzdCh0KSA/IChpLmlPUyA9ICEwLCBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspLyksIGkuaU9TVmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApKSA6IC9LaW5kbGUvLnRlc3QodCkgfHwgL1xcYktGW0EtWl1bQS1aXSsvLnRlc3QodCkgfHwgL1NpbGsuKk1vYmlsZSBTYWZhcmkvLnRlc3QodCkgPyBpLmtpbmRsZSA9ICEwIDogL0NyT1MvLnRlc3QodCkgPyBpLmNocm9tZU9TID0gITAgOiAvUGxheXN0YXRpb24gVml0YS8udGVzdCh0KSAmJiAoaS52aXRhID0gITApLCAoL1dpbmRvd3MgUGhvbmUvaS50ZXN0KHQpIHx8IC9JRU1vYmlsZS9pLnRlc3QodCkpICYmIChpLmFuZHJvaWQgPSAhMSwgaS5pT1MgPSAhMSwgaS5tYWNPUyA9ICExLCBpLndpbmRvd3MgPSAhMCwgaS53aW5kb3dzUGhvbmUgPSAhMCk7dmFyIG4gPSAvU2lsay8udGVzdCh0KTtpZiAoKGkud2luZG93cyB8fCBpLm1hY09TIHx8IGkubGludXggJiYgIW4gfHwgaS5jaHJvbWVPUykgJiYgKGkuZGVza3RvcCA9ICEwKSwgKGkud2luZG93c1Bob25lIHx8IC9XaW5kb3dzIE5UL2kudGVzdCh0KSAmJiAvVG91Y2gvaS50ZXN0KHQpKSAmJiAoaS5kZXNrdG9wID0gITEpLCBuYXZpZ2F0b3Iuc3RhbmRhbG9uZSAmJiAoaS53ZWJBcHAgPSAhMCksIHZvaWQgMCAhPT0gd2luZG93LmNvcmRvdmEgJiYgKGkuY29yZG92YSA9ICEwKSwgdm9pZCAwICE9PSBlICYmIHZvaWQgMCAhPT0gZS52ZXJzaW9ucy5ub2RlICYmIChpLm5vZGUgPSAhMCksIGkubm9kZSAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoZS52ZXJzaW9ucykgJiYgKGkubm9kZVdlYmtpdCA9ICEhZS52ZXJzaW9uc1tcIm5vZGUtd2Via2l0XCJdLCBpLmVsZWN0cm9uID0gISFlLnZlcnNpb25zLmVsZWN0cm9uKSwgbmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICBpLmNvY29vbkpTID0gITA7dHJ5IHtcbiAgICAgICAgICAgIGkuY29jb29uSlNBcHAgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBDb2Nvb25KUztcbiAgICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICBpLmNvY29vbkpTQXBwID0gITE7XG4gICAgICAgICAgfVxuICAgICAgICB9cmV0dXJuIHZvaWQgMCAhPT0gd2luZG93LmVqZWN0YSAmJiAoaS5lamVjdGEgPSAhMCksIC9Dcm9zc3dhbGsvLnRlc3QodCkgJiYgKGkuY3Jvc3N3YWxrID0gITApLCBpLmlQaG9uZSA9IC0xICE9PSB0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImlwaG9uZVwiKSwgaS5pUGFkID0gLTEgIT09IHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaXBhZFwiKSwgaS5waXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSwgaTtcbiAgICAgIH0oKTtcbiAgICB9KS5jYWxsKGUsIGkoMzI4KSk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBBRERfQU5JTUFUSU9OX0VWRU5UOiBpKDM5NCksIFBBVVNFX0FMTF9BTklNQVRJT05fRVZFTlQ6IGkoMzk1KSwgUkVNT1ZFX0FOSU1BVElPTl9FVkVOVDogaSgzOTYpLCBSRVNVTUVfQUxMX0FOSU1BVElPTl9FVkVOVDogaSgzOTcpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxNzUpLFxuICAgICAgICBzID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5zeXMgPSBuZXcgcih0aGlzLCB0KTtcbiAgICAgIH0sIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge30gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k2KSB7XG4gICAgICB2YXIgbiA9IHQueDMgLSB0LngxLFxuICAgICAgICAgIHIgPSB0LnkzIC0gdC55MSxcbiAgICAgICAgICBzID0gdC54MiAtIHQueDEsXG4gICAgICAgICAgYSA9IHQueTIgLSB0LnkxLFxuICAgICAgICAgIG8gPSBlIC0gdC54MSxcbiAgICAgICAgICBoID0gX2k2IC0gdC55MSxcbiAgICAgICAgICB1ID0gbiAqIG4gKyByICogcixcbiAgICAgICAgICBjID0gbiAqIHMgKyByICogYSxcbiAgICAgICAgICBsID0gbiAqIG8gKyByICogaCxcbiAgICAgICAgICBmID0gcyAqIHMgKyBhICogYSxcbiAgICAgICAgICBkID0gcyAqIG8gKyBhICogaCxcbiAgICAgICAgICBwID0gdSAqIGYgLSBjICogYyxcbiAgICAgICAgICB2ID0gMCA9PT0gcCA/IDAgOiAxIC8gcCxcbiAgICAgICAgICBnID0gKGYgKiBsIC0gYyAqIGQpICogdixcbiAgICAgICAgICB4ID0gKHUgKiBkIC0gYyAqIGwpICogdjtyZXR1cm4gZyA+PSAwICYmIHggPj0gMCAmJiBnICsgeCA8IDE7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB2b2lkIDAgPT09IGUgJiYgKGUgPSAwKSwgdm9pZCAwID09PSBpICYmIChpID0gMCksIHRoaXMueCA9IHQsIHRoaXMueSA9IGUsIHRoaXMuX3JhZGl1cyA9IGksIHRoaXMuX2RpYW1ldGVyID0gMiAqIGk7XG4gICAgICB9LCBzZXRUbzogZnVuY3Rpb24gc2V0VG8odCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ID0gdCwgdGhpcy55ID0gZSwgdGhpcy5fcmFkaXVzID0gaSwgdGhpcy5fZGlhbWV0ZXIgPSAyICogaSwgdGhpcztcbiAgICAgIH0sIHNldEVtcHR5OiBmdW5jdGlvbiBzZXRFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0VG8oMCwgMCwgMCk7XG4gICAgICB9LCBzZXRQb3NpdGlvbjogZnVuY3Rpb24gc2V0UG9zaXRpb24odCwgZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gdCksIHRoaXMueCA9IHQsIHRoaXMueSA9IGUsIHRoaXM7XG4gICAgICB9LCBpc0VtcHR5OiBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmFkaXVzIDw9IDA7XG4gICAgICB9LCByYWRpdXM6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3JhZGl1cztcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuX3JhZGl1cyA9IHQsIHRoaXMuX2RpYW1ldGVyID0gMiAqIHQ7XG4gICAgICAgIH0gfSwgZGlhbWV0ZXI6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2RpYW1ldGVyO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy5fZGlhbWV0ZXIgPSB0LCB0aGlzLl9yYWRpdXMgPSAuNSAqIHQ7XG4gICAgICAgIH0gfSwgbGVmdDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy54IC0gdGhpcy5fcmFkaXVzO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy54ID0gdCArIHRoaXMuX3JhZGl1cztcbiAgICAgICAgfSB9LCByaWdodDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy5fcmFkaXVzO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy54ID0gdCAtIHRoaXMuX3JhZGl1cztcbiAgICAgICAgfSB9LCB0b3A6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMueSAtIHRoaXMuX3JhZGl1cztcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMueSA9IHQgKyB0aGlzLl9yYWRpdXM7XG4gICAgICAgIH0gfSwgYm90dG9tOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLl9yYWRpdXM7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnkgPSB0IC0gdGhpcy5fcmFkaXVzO1xuICAgICAgICB9IH0gfSk7dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k3KSB7XG4gICAgICByZXR1cm4gdCA8IGUgPyBlIDogX2k3IDwgdCA/IF9pNyA6IHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTgpIHtcbiAgICAgIHZhciBuID0gX2k4IC0gZTtyZXR1cm4gZSArICgodCAtIGUpICUgbiArIG4pICUgbjtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pOSwgbikge1xuICAgICAgdmFyIHIgPSB0IC0gX2k5LFxuICAgICAgICAgIHMgPSBlIC0gbjtyZXR1cm4gTWF0aC5zcXJ0KHIgKiByICsgcyAqIHMpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTUzKSxcbiAgICAgICAgciA9IGkoMTU1KSxcbiAgICAgICAgcyA9IGkoMTU2KSxcbiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCkge1xuICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgPyBcInJnYlwiID09PSB0LnN1YnN0cigwLCAzKS50b0xvd2VyQ2FzZSgpID8gbih0KSA6IHIodCkgOiBcIm51bWJlclwiID09IHR5cGVvZiB0ID8gcyh0KSA6IHZvaWQgMDtcbiAgICB9O3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQ0KSxcbiAgICAgICAgciA9IHsgYXJvcmE6ICExLCBjaHJvbWU6ICExLCBjaHJvbWVWZXJzaW9uOiAwLCBlcGlwaGFueTogITEsIGZpcmVmb3g6ICExLCBmaXJlZm94VmVyc2lvbjogMCwgbW9iaWxlU2FmYXJpOiAhMSwgaWU6ICExLCBpZVZlcnNpb246IDAsIG1pZG9yaTogITEsIG9wZXJhOiAhMSwgc2FmYXJpOiAhMSwgc2FmYXJpVmVyc2lvbjogMCwgdHJpZGVudDogITEsIHRyaWRlbnRWZXJzaW9uOiAwLCBlZGdlOiAhMSwgc2lsazogITEgfTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuICgvQXJvcmEvLnRlc3QodCkgPyByLmFyb3JhID0gITAgOiAvRWRnZVxcL1xcZCsvLnRlc3QodCkgPyByLmVkZ2UgPSAhMCA6IC9DaHJvbWVcXC8oXFxkKykvLnRlc3QodCkgJiYgIW4ud2luZG93c1Bob25lID8gKHIuY2hyb21lID0gITAsIHIuY2hyb21lVmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApKSA6IC9FcGlwaGFueS8udGVzdCh0KSA/IHIuZXBpcGhhbnkgPSAhMCA6IC9GaXJlZm94XFxEKyhcXGQrKS8udGVzdCh0KSA/IChyLmZpcmVmb3ggPSAhMCwgci5maXJlZm94VmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApKSA6IC9BcHBsZVdlYktpdC8udGVzdCh0KSAmJiBuLmlPUyA/IHIubW9iaWxlU2FmYXJpID0gITAgOiAvTVNJRSAoXFxkK1xcLlxcZCspOy8udGVzdCh0KSA/IChyLmllID0gITAsIHIuaWVWZXJzaW9uID0gcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkpIDogL01pZG9yaS8udGVzdCh0KSA/IHIubWlkb3JpID0gITAgOiAvT3BlcmEvLnRlc3QodCkgPyByLm9wZXJhID0gITAgOiAvU2FmYXJpLy50ZXN0KHQpICYmICFuLndpbmRvd3NQaG9uZSA/IHIuc2FmYXJpID0gITAgOiAvVHJpZGVudFxcLyhcXGQrXFwuXFxkKykoLiopcnY6KFxcZCtcXC5cXGQrKS8udGVzdCh0KSAmJiAoci5pZSA9ICEwLCByLnRyaWRlbnQgPSAhMCwgci50cmlkZW50VmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApLCByLmllVmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMywgMTApKSwgL1NpbGsvLnRlc3QodCkgJiYgKHIuc2lsayA9ICEwKSwgclxuICAgICAgKTtcbiAgICB9KCk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuZW50cmllcyA9IFtdLCBBcnJheS5pc0FycmF5KHQpKSBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0aGlzLnNldCh0W2VdKTtcbiAgICAgICAgfVxuICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICByZXR1cm4gLTEgPT09IHRoaXMuZW50cmllcy5pbmRleE9mKHQpICYmIHRoaXMuZW50cmllcy5wdXNoKHQpLCB0aGlzO1xuICAgICAgfSwgZ2V0OiBmdW5jdGlvbiBnZXQodCwgZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBuID0gdGhpcy5lbnRyaWVzW2ldO2lmIChuW3RdID09PSBlKSByZXR1cm4gbjtcbiAgICAgICAgfVxuICAgICAgfSwgZ2V0QXJyYXk6IGZ1bmN0aW9uIGdldEFycmF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzLnNsaWNlKDApO1xuICAgICAgfSwgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmVudHJpZXMuaW5kZXhPZih0KTtyZXR1cm4gZSA+IC0xICYmIHRoaXMuZW50cmllcy5zcGxpY2UoZSwgMSksIHRoaXM7XG4gICAgICB9LCBkdW1wOiBmdW5jdGlvbiBkdW1wKCkge1xuICAgICAgICBjb25zb2xlLmdyb3VwKFwiU2V0XCIpO2ZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy5lbnRyaWVzLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgdmFyIGUgPSB0aGlzLmVudHJpZXNbdF07Y29uc29sZS5sb2coZSk7XG4gICAgICAgIH1jb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICB9LCBlYWNoOiBmdW5jdGlvbiBlYWNoKHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSA9IHRoaXMuZW50cmllcy5zbGljZSgpLCBpID0gMDsgaSA8IGUubGVuZ3RoICYmICExICE9PSB0KGVbaV0pOyBpKyspIHt9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBpdGVyYXRlOiBmdW5jdGlvbiBpdGVyYXRlKHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0aGlzLmVudHJpZXMubGVuZ3RoICYmICExICE9PSB0KHRoaXMuZW50cmllc1tlXSwgZSk7IGUrKykge31yZXR1cm4gdGhpcztcbiAgICAgIH0sIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllcy5sZW5ndGggPSAwLCB0aGlzO1xuICAgICAgfSwgY29udGFpbnM6IGZ1bmN0aW9uIGNvbnRhaW5zKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllcy5pbmRleE9mKHQpID4gLTE7XG4gICAgICB9LCB1bmlvbjogZnVuY3Rpb24gdW5pb24odCkge1xuICAgICAgICB2YXIgZSA9IG5ldyByKCk7cmV0dXJuIHQudmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICBlLmFkZCh0KTtcbiAgICAgICAgfSksIHRoaXMuZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgZS5hZGQodCk7XG4gICAgICAgIH0pLCBlO1xuICAgICAgfSwgaW50ZXJzZWN0OiBmdW5jdGlvbiBpbnRlcnNlY3QodCkge1xuICAgICAgICB2YXIgZSA9IG5ldyByKCk7cmV0dXJuIHRoaXMuZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgdC5jb250YWlucyhpKSAmJiBlLmFkZChpKTtcbiAgICAgICAgfSksIGU7XG4gICAgICB9LCBkaWZmZXJlbmNlOiBmdW5jdGlvbiBkaWZmZXJlbmNlKHQpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgcigpO3JldHVybiB0aGlzLmVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgIHQuY29udGFpbnMoaSkgfHwgZS5hZGQoaSk7XG4gICAgICAgIH0pLCBlO1xuICAgICAgfSwgc2l6ZTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzLmxlbmd0aDtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMubGVuZ3RoID0gdDtcbiAgICAgICAgfSB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg2KSxcbiAgICAgICAgcyA9IGkoMyksXG4gICAgICAgIGEgPSBpKDU0NSksXG4gICAgICAgIG8gPSBuZXcgbih7IEV4dGVuZHM6IHIsIE1peGluczogW3MuQWxwaGEsIHMuQmxlbmRNb2RlLCBzLkZsaXAsIHMuR2V0Qm91bmRzLCBzLk9yaWdpbiwgcy5SZW5kZXJUYXJnZXQsIHMuU2NhbGVNb2RlLCBzLlNjcm9sbEZhY3Rvciwgcy5TaXplLCBzLlRleHR1cmUsIHMuVGludCwgcy5UcmFuc2Zvcm0sIHMuVmlzaWJsZSwgYV0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgcykge1xuICAgICAgICByLmNhbGwodGhpcywgdCwgXCJJbWFnZVwiKSwgdGhpcy5zZXRUZXh0dXJlKG4sIHMpLCB0aGlzLnNldFBvc2l0aW9uKGUsIGkpLCB0aGlzLnNldFNpemVUb0ZyYW1lKCksIHRoaXMuc2V0T3JpZ2luKCk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg2KSxcbiAgICAgICAgcyA9IGkoMyksXG4gICAgICAgIGEgPSBpKDU0OSksXG4gICAgICAgIG8gPSBuZXcgbih7IEV4dGVuZHM6IHIsIE1peGluczogW3MuQWxwaGEsIHMuQmxlbmRNb2RlLCBzLkZsaXAsIHMuR2V0Qm91bmRzLCBzLk9yaWdpbiwgcy5SZW5kZXJUYXJnZXQsIHMuU2NhbGVNb2RlLCBzLlNpemUsIHMuVGV4dHVyZSwgcy5UcmFuc2Zvcm0sIHMuVmlzaWJsZSwgcy5TY3JvbGxGYWN0b3IsIGFdLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIHMsIGEsIG8sIGgsIHUsIGMpIHtcbiAgICAgICAgaWYgKHIuY2FsbCh0aGlzLCB0LCBcIk1lc2hcIiksIHRoaXMuc2V0VGV4dHVyZSh1LCBjKSwgdGhpcy5zZXRQb3NpdGlvbihlLCBpKSwgdGhpcy5zZXRTaXplVG9GcmFtZSgpLCB0aGlzLnNldE9yaWdpbigpLCBuLmxlbmd0aCAhPT0gcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIlBoYXNlcjogVmVydGV4IGNvdW50IG11c3QgbWF0Y2ggVVYgY291bnRcIik7dmFyIGwgPSBuLmxlbmd0aCAvIDIgfCAwO2lmIChvLmxlbmd0aCA+IDAgJiYgby5sZW5ndGggPCBsKSB0aHJvdyBuZXcgRXJyb3IoXCJQaGFzZXI6IENvbG9yIGNvdW50IG11c3QgbWF0Y2ggVmVydGV4IGNvdW50XCIpO2lmIChoLmxlbmd0aCA+IDAgJiYgaC5sZW5ndGggPCBsKSB0aHJvdyBuZXcgRXJyb3IoXCJQaGFzZXI6IEFscGhhIGNvdW50IG11c3QgbWF0Y2ggVmVydGV4IGNvdW50XCIpO3ZhciBmO2lmICgwID09PSBvLmxlbmd0aCkgZm9yIChmID0gMDsgZiA8IGw7ICsrZikge1xuICAgICAgICAgIG9bZl0gPSAxNjc3NzIxNTtcbiAgICAgICAgfWlmICgwID09PSBoLmxlbmd0aCkgZm9yIChmID0gMDsgZiA8IGw7ICsrZikge1xuICAgICAgICAgIGhbZl0gPSAxO1xuICAgICAgICB9dGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkobiksIHRoaXMudXYgPSBuZXcgRmxvYXQzMkFycmF5KHMpLCB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoYSksIHRoaXMuY29sb3JzID0gbmV3IFVpbnQzMkFycmF5KG8pLCB0aGlzLmFscGhhcyA9IG5ldyBGbG9hdDMyQXJyYXkoaCk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTApIHtcbiAgICAgIGlmICh0LndpZHRoIDw9IDAgfHwgdC5oZWlnaHQgPD0gMCkgcmV0dXJuICExO3ZhciBuID0gKGUgLSB0LngpIC8gdC53aWR0aCAtIC41LFxuICAgICAgICAgIHIgPSAoX2kxMCAtIHQueSkgLyB0LmhlaWdodCAtIC41O3JldHVybiBuICo9IG4sIHIgKj0gciwgbiArIHIgPCAuMjU7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IHt9O2ZvciAodmFyIGkgaW4gdCkge1xuICAgICAgICBBcnJheS5pc0FycmF5KHRbaV0pID8gZVtpXSA9IHRbaV0uc2xpY2UoMCkgOiBlW2ldID0gdFtpXTtcbiAgICAgIH1yZXR1cm4gZTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdC5leHBvcnRzID0geyBORVZFUjogMCwgTElURTogMSwgUEFTU0lWRTogMiwgQUNUSVZFOiA0LCBGSVhFRDogOCB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHQuZXhwb3J0cyA9IHsgTk9ORTogMCwgQTogMSwgQjogMiwgQk9USDogMyB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdC5pbmRleCA8IGUuaW5kZXggPyAtMSA6IHQuaW5kZXggPiBlLmluZGV4ID8gMSA6IDA7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTExKSB7XG4gICAgICB2b2lkIDAgPT09IF9pMTEgJiYgKF9pMTEgPSB7IHg6IDAsIHk6IDAgfSk7dmFyIG4gPSB0LngxLFxuICAgICAgICAgIHIgPSB0LnkxLFxuICAgICAgICAgIHMgPSB0LngyLFxuICAgICAgICAgIGEgPSB0LnkyLFxuICAgICAgICAgIG8gPSBlLngxLFxuICAgICAgICAgIGggPSBlLnkxLFxuICAgICAgICAgIHUgPSBlLngyLFxuICAgICAgICAgIGMgPSBlLnkyLFxuICAgICAgICAgIGwgPSAodSAtIG8pICogKHIgLSBoKSAtIChjIC0gaCkgKiAobiAtIG8pLFxuICAgICAgICAgIGYgPSAocyAtIG4pICogKHIgLSBoKSAtIChhIC0gcikgKiAobiAtIG8pLFxuICAgICAgICAgIGQgPSAoYyAtIGgpICogKHMgLSBuKSAtICh1IC0gbykgKiAoYSAtIHIpO2lmICgwID09PSBkKSByZXR1cm4gITE7dmFyIHAgPSBsIC8gZCxcbiAgICAgICAgICB2ID0gZiAvIGQ7cmV0dXJuIHAgPj0gMCAmJiBwIDw9IDEgJiYgdiA+PSAwICYmIHYgPD0gMSAmJiAoX2kxMS54ID0gbiArIHAgKiAocyAtIG4pLCBfaTExLnkgPSByICsgcCAqIChhIC0gciksICEwKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEwMiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKCkge1xuICAgICAgdmFyIHQsXG4gICAgICAgICAgZSxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHMsXG4gICAgICAgICAgYSxcbiAgICAgICAgICBvLFxuICAgICAgICAgIGggPSBhcmd1bWVudHNbMF0gfHwge30sXG4gICAgICAgICAgdSA9IDEsXG4gICAgICAgICAgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgbCA9ICExO2ZvciAoXCJib29sZWFuXCIgPT0gdHlwZW9mIGggJiYgKGwgPSBoLCBoID0gYXJndW1lbnRzWzFdIHx8IHt9LCB1ID0gMiksIGMgPT09IHUgJiYgKGggPSB0aGlzLCAtLXUpOyB1IDwgYzsgdSsrKSB7XG4gICAgICAgIGlmIChudWxsICE9ICh0ID0gYXJndW1lbnRzW3VdKSkgZm9yIChlIGluIHQpIHtcbiAgICAgICAgICBpID0gaFtlXSwgcyA9IHRbZV0sIGggIT09IHMgJiYgKGwgJiYgcyAmJiAobihzKSB8fCAoYSA9IEFycmF5LmlzQXJyYXkocykpKSA/IChhID8gKGEgPSAhMSwgbyA9IGkgJiYgQXJyYXkuaXNBcnJheShpKSA/IGkgOiBbXSkgOiBvID0gaSAmJiBuKGkpID8gaSA6IHt9LCBoW2VdID0gcihsLCBvLCBzKSkgOiB2b2lkIDAgIT09IHMgJiYgKGhbZV0gPSBzKSk7XG4gICAgICAgIH1cbiAgICAgIH1yZXR1cm4gaDtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDMxKSxcbiAgICAgICAgciA9IGkoNDgpLFxuICAgICAgICBzID0gaSgzNiksXG4gICAgICAgIGEgPSBpKDApLFxuICAgICAgICBvID0gaSgzKSxcbiAgICAgICAgaCA9IGkoNiksXG4gICAgICAgIHUgPSBpKDE1KSxcbiAgICAgICAgYyA9IGkoMjcpLFxuICAgICAgICBsID0gbmV3IGEoeyBFeHRlbmRzOiBoLCBNaXhpbnM6IFtvLkdldEJvdW5kcywgby5PcmlnaW4sIG8uU2NhbGVNb2RlLCBvLlNpemUsIG8uVHJhbnNmb3JtLCBvLlNjcm9sbEZhY3Rvciwgby5WaXNpYmxlXSwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCByLCBzKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gciAmJiAociA9IDEpLCB2b2lkIDAgPT09IHMgJiYgKHMgPSByKSwgaC5jYWxsKHRoaXMsIHQsIFwiWm9uZVwiKSwgdGhpcy5zZXRQb3NpdGlvbihlLCBpKSwgdGhpcy5zZXRTaXplKHIsIHMpLCB0aGlzLmJsZW5kTW9kZSA9IG4uTk9STUFMO1xuICAgICAgfSwgc2V0Q2lyY2xlRHJvcFpvbmU6IGZ1bmN0aW9uIHNldENpcmNsZURyb3Bab25lKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RHJvcFpvbmUobmV3IHIoMCwgMCwgdCksIHMpO1xuICAgICAgfSwgc2V0UmVjdGFuZ2xlRHJvcFpvbmU6IGZ1bmN0aW9uIHNldFJlY3RhbmdsZURyb3Bab25lKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSAtdCAvIDIsXG4gICAgICAgICAgICBuID0gLWUgLyAyO3JldHVybiB0aGlzLnNldERyb3Bab25lKG5ldyB1KGksIG4sIHQsIGUpLCBjKTtcbiAgICAgIH0sIHNldERyb3Bab25lOiBmdW5jdGlvbiBzZXREcm9wWm9uZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgPyB0aGlzLnNldFJlY3RhbmdsZURyb3Bab25lKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSA6ICh0aGlzLmlucHV0IHx8IHRoaXMuc2V0SW50ZXJhY3RpdmUodCwgZSksIHRoaXMuaW5wdXQuZHJvcFpvbmUgPSAhMCksIHRoaXM7XG4gICAgICB9LCByZW5kZXJDYW52YXM6IGZ1bmN0aW9uIHJlbmRlckNhbnZhcygpIHt9LCByZW5kZXJXZWJHTDogZnVuY3Rpb24gcmVuZGVyV2ViR0woKSB7fSB9KTt0LmV4cG9ydHMgPSBsO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEyKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAxKSwgdm9pZCAwID09PSBfaTEyICYmIChfaTEyID0gW10pO3ZhciBuID0gTWF0aC5yb3VuZCh0LngxKSxcbiAgICAgICAgICByID0gTWF0aC5yb3VuZCh0LnkxKSxcbiAgICAgICAgICBzID0gTWF0aC5yb3VuZCh0LngyKSxcbiAgICAgICAgICBhID0gTWF0aC5yb3VuZCh0LnkyKSxcbiAgICAgICAgICBvID0gTWF0aC5hYnMocyAtIG4pLFxuICAgICAgICAgIGggPSBNYXRoLmFicyhhIC0gciksXG4gICAgICAgICAgdSA9IG4gPCBzID8gMSA6IC0xLFxuICAgICAgICAgIGMgPSByIDwgYSA/IDEgOiAtMSxcbiAgICAgICAgICBsID0gbyAtIGg7X2kxMi5wdXNoKFtuLCByXSk7Zm9yICh2YXIgZiA9IDE7IG4gIT09IHMgfHwgciAhPT0gYTspIHtcbiAgICAgICAgdmFyIGQgPSBsIDw8IDE7ZCA+IC1oICYmIChsIC09IGgsIG4gKz0gdSksIGQgPCBvICYmIChsICs9IG8sIHIgKz0gYyksIGYgJSBlID09IDAgJiYgX2kxMi5wdXNoKFtuLCByXSksIGYrKztcbiAgICAgIH1yZXR1cm4gX2kxMjtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTMsIG4sIHIpIHtcbiAgICAgIHZhciBzID0gbiArIE1hdGguYXRhbjIodC55IC0gX2kxMywgdC54IC0gZSk7cmV0dXJuIHQueCA9IGUgKyByICogTWF0aC5jb3MocyksIHQueSA9IF9pMTMgKyByICogTWF0aC5zaW4ocyksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gXCJcIjt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdCA9IGZ1bmN0aW9uIHQoX3QzKSB7XG4gICAgICAgIGZvciAodmFyIGUgPSBbXCJpXCIsIFwid2Via2l0SVwiLCBcIm1zSVwiLCBcIm1veklcIiwgXCJvSVwiXSwgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG4gPSBlW2ldICsgXCJtYWdlU21vb3RoaW5nRW5hYmxlZFwiO2lmIChuIGluIF90MykgcmV0dXJuIG47XG4gICAgICAgIH1yZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgICAgICAgZSA9IGZ1bmN0aW9uIGUoX2UyKSB7XG4gICAgICAgIHJldHVybiBcIlwiID09PSBpICYmIChpID0gdChfZTIpKSwgaSAmJiAoX2UyW2ldID0gITApLCBfZTI7XG4gICAgICB9O3JldHVybiB7IGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoZSkge1xuICAgICAgICAgIHJldHVybiBcIlwiID09PSBpICYmIChpID0gdChlKSksIGkgJiYgKGVbaV0gPSAhMSksIGU7XG4gICAgICAgIH0sIGVuYWJsZTogZSwgZ2V0UHJlZml4OiB0LCBpc0VuYWJsZWQ6IGZ1bmN0aW9uIGlzRW5hYmxlZCh0KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGwgIT09IGkgPyB0W2ldIDogbnVsbDtcbiAgICAgICAgfSB9O1xuICAgIH0oKTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgc2V0Q3Jpc3A6IGZ1bmN0aW9uIHNldENyaXNwKHQpIHtcbiAgICAgICAgcmV0dXJuIFtcIm9wdGltaXplU3BlZWRcIiwgXCJjcmlzcC1lZGdlc1wiLCBcIi1tb3otY3Jpc3AtZWRnZXNcIiwgXCItd2Via2l0LW9wdGltaXplLWNvbnRyYXN0XCIsIFwib3B0aW1pemUtY29udHJhc3RcIiwgXCJwaXhlbGF0ZWRcIl0uZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHQuc3R5bGVbXCJpbWFnZS1yZW5kZXJpbmdcIl0gPSBlO1xuICAgICAgICB9KSwgdC5zdHlsZS5tc0ludGVycG9sYXRpb25Nb2RlID0gXCJuZWFyZXN0LW5laWdoYm9yXCIsIHQ7XG4gICAgICB9LCBzZXRCaWN1YmljOiBmdW5jdGlvbiBzZXRCaWN1YmljKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuc3R5bGVbXCJpbWFnZS1yZW5kZXJpbmdcIl0gPSBcImF1dG9cIiwgdC5zdHlsZS5tc0ludGVycG9sYXRpb25Nb2RlID0gXCJiaWN1YmljXCIsIHQ7XG4gICAgICB9IH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMzM1KTt0LmV4cG9ydHMgPSB7IFBJMjogMiAqIE1hdGguUEksIFRBVTogLjUgKiBNYXRoLlBJLCBFUFNJTE9OOiAxZS02LCBERUdfVE9fUkFEOiBNYXRoLlBJIC8gMTgwLCBSQURfVE9fREVHOiAxODAgLyBNYXRoLlBJLCBBbmdsZTogaSgzMzYpLCBEaXN0YW5jZTogaSgzNDQpLCBFYXNpbmc6IGkoMzQ3KSwgRnV6enk6IGkoMzQ4KSwgSW50ZXJwb2xhdGlvbjogaSgzNTQpLCBQb3cyOiBpKDM1NyksIFNuYXA6IGkoMzU5KSwgUk5EOiBuZXcgbigpLCBBdmVyYWdlOiBpKDM2MyksIEJlcm5zdGVpbjogaSgxNDYpLCBCZXR3ZWVuOiBpKDcxKSwgQ2F0bXVsbFJvbTogaSgxNDgpLCBDZWlsVG86IGkoMzY0KSwgQ2xhbXA6IGkoNDkpLCBEZWdUb1JhZDogaSgzNjUpLCBEaWZmZXJlbmNlOiBpKDM2NiksIEZhY3RvcmlhbDogaSgxNDcpLCBGbG9hdEJldHdlZW46IGkoMzY3KSwgRmxvb3JUbzogaSgzNjgpLCBHZXRTcGVlZDogaSgzNjkpLCBJc0V2ZW46IGkoMzcwKSwgSXNFdmVuU3RyaWN0OiBpKDM3MSksIExpbmVhcjogaSgxNTApLCBNYXhBZGQ6IGkoMzcyKSwgTWluU3ViOiBpKDM3MyksIFBlcmNlbnQ6IGkoMzc0KSwgUmFkVG9EZWc6IGkoMzc1KSwgUm90YXRlOiBpKDM3NiksIFJvdGF0ZUFyb3VuZDogaSgzNzcpLCBSb3RhdGVBcm91bmREaXN0YW5jZTogaSg2NiksIFJvdW5kQXdheUZyb21aZXJvOiBpKDE1MiksIFJvdW5kVG86IGkoMzc4KSwgU2luQ29zVGFibGVHZW5lcmF0b3I6IGkoMzc5KSwgU21vb3RoZXJTdGVwOiBpKDEyNiksIFNtb290aFN0ZXA6IGkoMTI3KSwgV2l0aGluOiBpKDM4MCksIFdyYXA6IGkoNTApIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB0ID4gMCAmJiAwID09ICh0ICYgdCAtIDEpICYmIGUgPiAwICYmIDAgPT0gKGUgJiBlIC0gMSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGUgLSB0ICsgMSkgKyB0KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTQpIHtcbiAgICAgIHJldHVybiB0IDw8IDE2IHwgZSA8PCA4IHwgX2kxNDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbnVsbCxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHRoaXMuZ2wgPSB0LCB0aGlzLmJ1ZmZlclRhcmdldCA9IHQuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlck9iamVjdCA9IGUsIHRoaXMuYXR0cmlidXRlcyA9IFtdO1xuICAgICAgfSwgYWRkQXR0cmlidXRlOiBmdW5jdGlvbiBhZGRBdHRyaWJ1dGUodCwgZSwgaSwgbiwgciwgcykge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnB1c2goeyBpbmRleDogdCwgc2l6ZTogZSwgdHlwZTogaSwgbm9ybWFsaXplZDogbiwgc3RyaWRlOiByLCBvZmZzZXQ6IHMgfSksIHRoaXM7XG4gICAgICB9LCB1cGRhdGVSZXNvdXJjZTogZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2UodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZ2w7cmV0dXJuIHIgIT09IHRoaXMgJiYgKHIgPSB0aGlzLCBpLmJpbmRCdWZmZXIoaS5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyT2JqZWN0KSksIGkuYnVmZmVyU3ViRGF0YShpLkFSUkFZX0JVRkZFUiwgZSwgdCksIHRoaXM7XG4gICAgICB9LCBiaW5kOiBmdW5jdGlvbiBiaW5kKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuZ2wsXG4gICAgICAgICAgICBlID0gdGhpcy5idWZmZXJPYmplY3QsXG4gICAgICAgICAgICBpID0gdGhpcy5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgbiA9IGkubGVuZ3RoO2lmIChyICE9PSB0aGlzKSB7XG4gICAgICAgICAgciA9IHRoaXMsIHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUiwgZSk7Zm9yICh2YXIgcyA9IDA7IHMgPCBuOyArK3MpIHtcbiAgICAgICAgICAgIHZhciBhID0gaVtzXTt2b2lkIDAgIT09IGEgJiYgbnVsbCAhPT0gYSAmJiAodC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhLmluZGV4KSwgdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGEuaW5kZXgsIGEuc2l6ZSwgYS50eXBlLCBhLm5vcm1hbGl6ZWQsIGEuc3RyaWRlLCBhLm9mZnNldCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfXJldHVybiB0aGlzO1xuICAgICAgfSB9KTtzLlNldERpcnR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgciA9IG51bGw7XG4gICAgfSwgdC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxNSwgbiwgcikge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gciAmJiAociA9IHsgeDogMCwgeTogMCB9KSwgdC5hcHBseUlUUlMoZS54LCBlLnksIC1lLnJvdGF0aW9uLCBlLnNjYWxlWCwgZS5zY2FsZVkpLCB0LmludmVydCgpLCB0LnRyYW5zZm9ybVBvaW50KF9pMTUsIG4sIHIpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB0LmV4cG9ydHMgPSB7IEJBQ0tTUEFDRTogOCwgVEFCOiA5LCBFTlRFUjogMTMsIFNISUZUOiAxNiwgQ1RSTDogMTcsIEFMVDogMTgsIFBBVVNFOiAxOSwgQ0FQU19MT0NLOiAyMCwgRVNDOiAyNywgU1BBQ0U6IDMyLCBQQUdFX1VQOiAzMywgUEFHRV9ET1dOOiAzNCwgRU5EOiAzNSwgSE9NRTogMzYsIExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgRE9XTjogNDAsIFBSSU5UX1NDUkVFTjogNDIsIElOU0VSVDogNDUsIERFTEVURTogNDYsIFpFUk86IDQ4LCBPTkU6IDQ5LCBUV086IDUwLCBUSFJFRTogNTEsIEZPVVI6IDUyLCBGSVZFOiA1MywgU0lYOiA1NCwgU0VWRU46IDU1LCBFSUdIVDogNTYsIE5JTkU6IDU3LCBBOiA2NSwgQjogNjYsIEM6IDY3LCBEOiA2OCwgRTogNjksIEY6IDcwLCBHOiA3MSwgSDogNzIsIEk6IDczLCBKOiA3NCwgSzogNzUsIEw6IDc2LCBNOiA3NywgTjogNzgsIE86IDc5LCBQOiA4MCwgUTogODEsIFI6IDgyLCBTOiA4MywgVDogODQsIFU6IDg1LCBWOiA4NiwgVzogODcsIFg6IDg4LCBZOiA4OSwgWjogOTAsIEYxOiAxMTIsIEYyOiAxMTMsIEYzOiAxMTQsIEY0OiAxMTUsIEY1OiAxMTYsIEY2OiAxMTcsIEY3OiAxMTgsIEY4OiAxMTksIEY5OiAxMjAsIEYxMDogMTIxLCBGMTE6IDEyMiwgRjEyOiAxMjMsIFNFTUlDT0xPTjogMTg2LCBQTFVTOiAxODcsIENPTU1BOiAxODgsIE1JTlVTOiAxODksIFBFUklPRDogMTkwLCBGT1JXQURfU0xBU0g6IDE5MSwgQkFDS19TTEFTSDogMjIwLCBRVU9URVM6IDIyMiB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg1MTkpLFxuICAgICAgICByID0gaSg1MjIpLFxuICAgICAgICBzID0gaSgwKSxcbiAgICAgICAgYSA9IGkoMyksXG4gICAgICAgIG8gPSBpKDE3NyksXG4gICAgICAgIGggPSBpKDYpLFxuICAgICAgICB1ID0gbmV3IHMoeyBFeHRlbmRzOiBoLCBNaXhpbnM6IFthLkFscGhhLCBhLkJsZW5kTW9kZSwgYS5SZW5kZXJUYXJnZXQsIGEuU2NhbGVNb2RlLCBhLlNpemUsIGEuVGV4dHVyZSwgYS5UcmFuc2Zvcm0sIGEuVmlzaWJsZSwgYS5TY3JvbGxGYWN0b3IsIG5dLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIHIpIHtcbiAgICAgICAgaC5jYWxsKHRoaXMsIHQsIFwiQmxpdHRlclwiKSwgdGhpcy5zZXRUZXh0dXJlKG4sIHIpLCB0aGlzLnNldFBvc2l0aW9uKGUsIGkpLCB0aGlzLmNoaWxkcmVuID0gbmV3IG8odGhpcyksIHRoaXMucmVuZGVyTGlzdCA9IFtdLCB0aGlzLmRpcnR5ID0gITE7XG4gICAgICB9LCBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSh0LCBlLCBpLCBuLCBzKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9ICEwKSwgdm9pZCAwID09PSBzICYmIChzID0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpLCBpID0gdm9pZCAwID09PSBpID8gdGhpcy5mcmFtZSA6IHRoaXMudGV4dHVyZS5nZXQoaSk7dmFyIGEgPSBuZXcgcih0LCBlLCBpLCBuKTtyZXR1cm4gdGhpcy5jaGlsZHJlbi5hZGRBdChhLCBzLCAhMSksIHRoaXMuZGlydHkgPSAhMCwgYTtcbiAgICAgIH0sIGNyZWF0ZUZyb21DYWxsYmFjazogZnVuY3Rpb24gY3JlYXRlRnJvbUNhbGxiYWNrKHQsIGUsIGksIG4pIHtcbiAgICAgICAgZm9yICh2YXIgciA9IHRoaXMuY3JlYXRlTXVsdGlwbGUoZSwgaSwgbiksIHMgPSAwOyBzIDwgci5sZW5ndGg7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gcltzXTt0LmNhbGwodGhpcywgYSwgcyk7XG4gICAgICAgIH1yZXR1cm4gcjtcbiAgICAgIH0sIGNyZWF0ZU11bHRpcGxlOiBmdW5jdGlvbiBjcmVhdGVNdWx0aXBsZSh0LCBlLCBpKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHRoaXMuZnJhbWUpLCB2b2lkIDAgPT09IGkgJiYgKGkgPSAhMCksIEFycmF5LmlzQXJyYXkoZSkgfHwgKGUgPSBbZV0pO3ZhciBuID0gW10sXG4gICAgICAgICAgICByID0gdGhpcztyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCB0OyBzKyspIHtcbiAgICAgICAgICAgIG4ucHVzaChyLmNyZWF0ZSgwLCAwLCBlLCBpKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgbjtcbiAgICAgIH0sIGNoaWxkQ2FuUmVuZGVyOiBmdW5jdGlvbiBjaGlsZENhblJlbmRlcih0KSB7XG4gICAgICAgIHJldHVybiB0LnZpc2libGUgJiYgdC5hbHBoYSA+IDA7XG4gICAgICB9LCBnZXRSZW5kZXJMaXN0OiBmdW5jdGlvbiBnZXRSZW5kZXJMaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJ0eSAmJiAodGhpcy5yZW5kZXJMaXN0ID0gdGhpcy5jaGlsZHJlbi5saXN0LmZpbHRlcih0aGlzLmNoaWxkQ2FuUmVuZGVyLCB0aGlzKSwgdGhpcy5kaXJ0eSA9ICExKSwgdGhpcy5yZW5kZXJMaXN0O1xuICAgICAgfSwgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUFsbCgpLCB0aGlzLmRpcnR5ID0gITA7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHU7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg2KSxcbiAgICAgICAgcyA9IGkoMyksXG4gICAgICAgIGEgPSBpKDUyNCksXG4gICAgICAgIG8gPSBpKDE3OCksXG4gICAgICAgIGggPSBuZXcgbih7IEV4dGVuZHM6IHIsIE1peGluczogW3MuQWxwaGEsIHMuQmxlbmRNb2RlLCBzLk9yaWdpbiwgcy5SZW5kZXJUYXJnZXQsIHMuVGV4dHVyZSwgcy5UaW50LCBzLlRyYW5zZm9ybSwgcy5WaXNpYmxlLCBzLlNjcm9sbEZhY3RvciwgYV0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgcywgYSkge1xuICAgICAgICB2b2lkIDAgPT09IHMgJiYgKHMgPSBcIlwiKSwgci5jYWxsKHRoaXMsIHQsIFwiRHluYW1pY0JpdG1hcFRleHRcIiksIHRoaXMuZm9udCA9IG47dmFyIG8gPSB0aGlzLnNjZW5lLnN5cy5jYWNoZS5iaXRtYXBGb250LmdldChuKTt0aGlzLmZvbnREYXRhID0gby5kYXRhLCB0aGlzLnRleHQgPSBBcnJheS5pc0FycmF5KHMpID8gcy5qb2luKFwiXFxuXCIpIDogcywgdGhpcy5mb250U2l6ZSA9IGEgfHwgdGhpcy5mb250RGF0YS5zaXplLCB0aGlzLnNldFRleHR1cmUoby50ZXh0dXJlLCBvLmZyYW1lKSwgdGhpcy5zZXRQb3NpdGlvbihlLCBpKSwgdGhpcy5zZXRPcmlnaW4oMCwgMCksIHRoaXMuX2JvdW5kcyA9IHRoaXMuZ2V0VGV4dEJvdW5kcygpLCB0aGlzLnNjcm9sbFggPSAwLCB0aGlzLnNjcm9sbFkgPSAwLCB0aGlzLmNyb3BXaWR0aCA9IDAsIHRoaXMuY3JvcEhlaWdodCA9IDAsIHRoaXMuZGlzcGxheUNhbGxiYWNrO1xuICAgICAgfSwgc2V0U2l6ZTogZnVuY3Rpb24gc2V0U2l6ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyb3BXaWR0aCA9IHQsIHRoaXMuY3JvcEhlaWdodCA9IGUsIHRoaXM7XG4gICAgICB9LCBzZXREaXNwbGF5Q2FsbGJhY2s6IGZ1bmN0aW9uIHNldERpc3BsYXlDYWxsYmFjayh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlDYWxsYmFjayA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRGb250U2l6ZTogZnVuY3Rpb24gc2V0Rm9udFNpemUodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb250U2l6ZSA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRUZXh0OiBmdW5jdGlvbiBzZXRUZXh0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRTY3JvbGxYOiBmdW5jdGlvbiBzZXRTY3JvbGxYKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsWCA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRTY3JvbGxZOiBmdW5jdGlvbiBzZXRTY3JvbGxZKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsWSA9IHQsIHRoaXM7XG4gICAgICB9LCBnZXRUZXh0Qm91bmRzOiBmdW5jdGlvbiBnZXRUZXh0Qm91bmRzKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcyA9IG8odGhpcywgdCksIHRoaXMuX2JvdW5kcztcbiAgICAgIH0sIHdpZHRoOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldFRleHRCb3VuZHMoITEpLCB0aGlzLl9ib3VuZHMuZ2xvYmFsLndpZHRoO1xuICAgICAgICB9IH0sIGhlaWdodDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUZXh0Qm91bmRzKCExKSwgdGhpcy5fYm91bmRzLmdsb2JhbC5oZWlnaHQ7XG4gICAgICAgIH0gfSwgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgIHZhciB0ID0gcy5Ub0pTT04odGhpcyksXG4gICAgICAgICAgICBlID0geyBmb250OiB0aGlzLmZvbnQsIHRleHQ6IHRoaXMudGV4dCwgZm9udFNpemU6IHRoaXMuZm9udFNpemUgfTtyZXR1cm4gdC5kYXRhID0gZSwgdDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gaDtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDYpLFxuICAgICAgICBzID0gaSgzKSxcbiAgICAgICAgYSA9IGkoNTI4KSxcbiAgICAgICAgbyA9IGkoNTMxKSxcbiAgICAgICAgaCA9IG5ldyBuKHsgRXh0ZW5kczogciwgTWl4aW5zOiBbcy5BbHBoYSwgcy5CbGVuZE1vZGUsIHMuRmxpcCwgcy5HZXRCb3VuZHMsIHMuT3JpZ2luLCBzLlJlbmRlclRhcmdldCwgcy5TY2FsZU1vZGUsIHMuU2l6ZSwgcy5UZXh0dXJlLCBzLlRyYW5zZm9ybSwgcy5WaXNpYmxlLCBzLlNjcm9sbEZhY3RvciwgYV0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgcywgYSwgbywgaCwgdSwgYywgbCkge1xuICAgICAgICByLmNhbGwodGhpcywgdCwgXCJUaWxlbWFwXCIpLCB0aGlzLm1hcERhdGEgPSBudWxsICE9PSBlID8gbmV3IFVpbnQzMkFycmF5KGUpIDogbmV3IFVpbnQzMkFycmF5KG8gKiBoKSwgdGhpcy50aWxlV2lkdGggPSBzLCB0aGlzLnRpbGVIZWlnaHQgPSBhLCB0aGlzLm1hcFdpZHRoID0gbywgdGhpcy5tYXBIZWlnaHQgPSBoLCB0aGlzLnRpbGVBcnJheSA9IFtdLCB0aGlzLmN1bGxlZFRpbGVzID0gW10sIHRoaXMudGlsZUJvcmRlciA9IHUsIHRoaXMuc2V0VGV4dHVyZShjLCBsKSwgdGhpcy5zZXRQb3NpdGlvbihpLCBuKSwgdGhpcy5zZXRTaXplVG9GcmFtZSgpLCB0aGlzLnNldE9yaWdpbigpLCB0aGlzLnNldFNpemUocyAqIG8sIGEgKiBoKSwgdGhpcy5idWlsZFRpbGVtYXAoISF0LnN5cy5nYW1lLnJlbmRlcmVyLmdsKTtcbiAgICAgIH0sIGdldFRvdGFsVGlsZUNvdW50OiBmdW5jdGlvbiBnZXRUb3RhbFRpbGVDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUFycmF5Lmxlbmd0aDtcbiAgICAgIH0sIGdldFZpc2libGVUaWxlQ291bnQ6IGZ1bmN0aW9uIGdldFZpc2libGVUaWxlQ291bnQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdWxsKHQpLmxlbmd0aDtcbiAgICAgIH0sIGJ1aWxkVGlsZW1hcDogZnVuY3Rpb24gYnVpbGRUaWxlbWFwKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLnRpbGVBcnJheSxcbiAgICAgICAgICAgIGkgPSB0aGlzLm1hcERhdGEsXG4gICAgICAgICAgICBuID0gdGhpcy50aWxlQm9yZGVyLFxuICAgICAgICAgICAgciA9IHRoaXMudGlsZVdpZHRoLFxuICAgICAgICAgICAgcyA9IHRoaXMudGlsZUhlaWdodCxcbiAgICAgICAgICAgIGEgPSByICsgMiAqIG4sXG4gICAgICAgICAgICBoID0gcyArIDIgKiBuLFxuICAgICAgICAgICAgdSA9IHRoaXMudGV4dHVyZS5zb3VyY2VbMF0ud2lkdGgsXG4gICAgICAgICAgICBjID0gdGhpcy50ZXh0dXJlLnNvdXJjZVswXS5oZWlnaHQsXG4gICAgICAgICAgICBsID0gdGhpcy5tYXBXaWR0aCxcbiAgICAgICAgICAgIGYgPSB0aGlzLm1hcEhlaWdodCxcbiAgICAgICAgICAgIGQgPSB1IC8gcixcbiAgICAgICAgICAgIHAgPSAuNSAqIGEsXG4gICAgICAgICAgICB2ID0gLjUgKiBoO3QgfHwgKHAgPSAwLCB2ID0gMCksIGUubGVuZ3RoID0gMDtmb3IgKHZhciBnID0gMDsgZyA8IGY7ICsrZykge1xuICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbDsgKyt4KSB7XG4gICAgICAgICAgICB2YXIgbSA9IGlbZyAqIGwgKyB4XSxcbiAgICAgICAgICAgICAgICB5ID0gKG0gJSBkIHwgMCkgKiBhICsgcCxcbiAgICAgICAgICAgICAgICB3ID0gKG0gLyBkIHwgMCkgKiBoICsgdixcbiAgICAgICAgICAgICAgICBFID0geCAqIHIsXG4gICAgICAgICAgICAgICAgVCA9IGcgKiBzO2UucHVzaChuZXcgbyh7IGluZGV4OiB4ICsgZywgaWQ6IG0sIHg6IEUsIHk6IFQsIHdpZHRoOiByLCBoZWlnaHQ6IHMsIGZyYW1lWDogeSwgZnJhbWVZOiB3LCBmcmFtZVdpZHRoOiByLCBmcmFtZUhlaWdodDogcywgdGV4dHVyZVdpZHRoOiB1LCB0ZXh0dXJlSGVpZ2h0OiBjLCBib3JkZXI6IG4sIGNlbnRlcjogdCB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBjdWxsOiBmdW5jdGlvbiBjdWxsKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmN1bGxlZFRpbGVzLFxuICAgICAgICAgICAgaSA9IHRoaXMudGlsZUFycmF5LFxuICAgICAgICAgICAgbiA9IGkubGVuZ3RoLFxuICAgICAgICAgICAgciA9IHQuc2Nyb2xsWCAqIHRoaXMuc2Nyb2xsRmFjdG9yWCxcbiAgICAgICAgICAgIHMgPSB0LnNjcm9sbFkgKiB0aGlzLnNjcm9sbEZhY3RvclksXG4gICAgICAgICAgICBhID0gdC53aWR0aCxcbiAgICAgICAgICAgIG8gPSB0LmhlaWdodDtlLmxlbmd0aCA9IDA7Zm9yICh2YXIgaCA9IDA7IGggPCBuOyArK2gpIHtcbiAgICAgICAgICB2YXIgdSA9IGlbaF0sXG4gICAgICAgICAgICAgIGMgPSB1LnggLSByLFxuICAgICAgICAgICAgICBsID0gdS55IC0gcyxcbiAgICAgICAgICAgICAgZiA9IHUud2lkdGgsXG4gICAgICAgICAgICAgIGQgPSB1LmhlaWdodCxcbiAgICAgICAgICAgICAgcCA9IGEgKyBmLFxuICAgICAgICAgICAgICB2ID0gbyArIGQ7dS52aXNpYmxlICYmIGMgPiAtZiAmJiBsID4gLWQgJiYgYyA8IHAgJiYgbCA8IHYgJiYgZS5wdXNoKHUpO1xuICAgICAgICB9cmV0dXJuIGU7XG4gICAgICB9LCBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKHQpIHtcbiAgICAgICAgdGhpcy50aWxlQXJyYXkuZm9yRWFjaCh0KTtcbiAgICAgIH0sIGdldFRpbGVBdDogZnVuY3Rpb24gZ2V0VGlsZUF0KHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSAwIHwgdCxcbiAgICAgICAgICAgIG4gPSAwIHwgZSxcbiAgICAgICAgICAgIHIgPSB0aGlzLnRpbGVBcnJheSxcbiAgICAgICAgICAgIHMgPSBuICogdGhpcy5tYXBXaWR0aCArIGk7cmV0dXJuIHMgPCByLmxlbmd0aCA/IHJbc10gOiBudWxsO1xuICAgICAgfSwgZ2V0VGlsZUF0SW5kZXg6IGZ1bmN0aW9uIGdldFRpbGVBdEluZGV4KHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLnRpbGVBcnJheTtyZXR1cm4gdCA8IGUubGVuZ3RoID8gZVt0XSA6IG51bGw7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGg7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg2KSxcbiAgICAgICAgcyA9IGkoMyksXG4gICAgICAgIGEgPSBpKDUzMyksXG4gICAgICAgIG8gPSBpKDM4KSxcbiAgICAgICAgaCA9IG5ldyBuKHsgRXh0ZW5kczogciwgTWl4aW5zOiBbcy5BbHBoYSwgcy5CbGVuZE1vZGUsIHMuRmxpcCwgcy5HZXRCb3VuZHMsIHMuT3JpZ2luLCBzLlJlbmRlclRhcmdldCwgcy5TY2FsZU1vZGUsIHMuU2l6ZSwgcy5UcmFuc2Zvcm0sIHMuVmlzaWJsZSwgcy5TY3JvbGxGYWN0b3IsIGFdLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIHMsIGEsIGgpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIHQsIFwiRWZmZWN0TGF5ZXJcIik7dmFyIHUsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgbCA9IDAgPT0gKG4gJiBuIC0gMSkgJiYgMCA9PSAocyAmIHMgLSAxKSxcbiAgICAgICAgICAgIGYgPSB0LnN5cy5nYW1lLnJlbmRlcmVyLnJlc291cmNlTWFuYWdlcjt0aGlzLmRzdFJlbmRlclRhcmdldCA9IG51bGwsIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGwsIHRoaXMuZHN0U2hhZGVyID0gbnVsbCwgdGhpcy51bmlmb3JtcyA9IHt9LCB2b2lkIDAgIT09IGYgJiYgKGMgPSB0LnN5cy5nYW1lLnJlbmRlcmVyLmdsLCB1ID0gbCA/IGMuUkVQRUFUIDogYy5DTEFNUF9UT19FREdFLCB0aGlzLmRzdFNoYWRlciA9IGYuY3JlYXRlU2hhZGVyKGEsIHsgdmVydDogby52ZXJ0LCBmcmFnOiBoIH0pLCB0aGlzLnJlbmRlclRleHR1cmUgPSBmLmNyZWF0ZVRleHR1cmUoMCwgYy5MSU5FQVIsIGMuTElORUFSLCB1LCB1LCBjLlJHQkEsIG51bGwsIG4sIHMpLCB0aGlzLmRzdFJlbmRlclRhcmdldCA9IGYuY3JlYXRlUmVuZGVyVGFyZ2V0KG4sIHMsIHRoaXMucmVuZGVyVGV4dHVyZSwgbnVsbCksIHQuc3lzLmdhbWUucmVuZGVyZXIuY3VycmVudFRleHR1cmVbMF0gPSBudWxsKSwgdGhpcy5mbGlwWSA9ICEwLCB0aGlzLnNldFBvc2l0aW9uKGUsIGkpLCB0aGlzLnNldFNpemUobiwgcyksIHRoaXMuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgfSwgc2V0Q2xlYXJBbHBoYTogZnVuY3Rpb24gc2V0Q2xlYXJBbHBoYSh0KSB7XG4gICAgICAgIHRoaXMuZHN0UmVuZGVyVGFyZ2V0ICYmICh0aGlzLmRzdFJlbmRlclRhcmdldC5jbGVhckFscGhhID0gdCk7XG4gICAgICB9LCByZW5kZXJPZmZTY3JlZW46IGZ1bmN0aW9uIHJlbmRlck9mZlNjcmVlbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQgPSB0aGlzLmRzdFJlbmRlclRhcmdldDtcbiAgICAgIH0sIHJlbmRlck9uU2NyZWVuOiBmdW5jdGlvbiByZW5kZXJPblNjcmVlbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgICAgfSwgYWRkOiBmdW5jdGlvbiBhZGQodCkge1xuICAgICAgICB2b2lkIDAgIT09IHQucmVuZGVyVGFyZ2V0ICYmICh0LnJlbmRlclRhcmdldCA9IHRoaXMuZHN0UmVuZGVyVGFyZ2V0KTtcbiAgICAgIH0sIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKHQpIHtcbiAgICAgICAgdm9pZCAwICE9PSB0LnJlbmRlclRhcmdldCAmJiAodC5yZW5kZXJUYXJnZXQgPSBudWxsKTtcbiAgICAgIH0sIGdldFVuaWZvcm1Mb2NhdGlvbjogZnVuY3Rpb24gZ2V0VW5pZm9ybUxvY2F0aW9uKHQpIHtcbiAgICAgICAgdmFyIGUsXG4gICAgICAgICAgICBpID0gdGhpcy5kc3RTaGFkZXIsXG4gICAgICAgICAgICBuID0gdGhpcy51bmlmb3JtcztyZXR1cm4gdCBpbiBuID8gZSA9IG5bdF0gOiAoZSA9IGkuZ2V0VW5pZm9ybUxvY2F0aW9uKHQpLCBuW3RdID0gZSksIGU7XG4gICAgICB9LCBzZXRGbG9hdDogZnVuY3Rpb24gc2V0RmxvYXQodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZHN0U2hhZGVyO251bGwgIT09IGkgJiYgaS5zZXRDb25zdGFudEZsb2F0MSh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSk7XG4gICAgICB9LCBzZXRGbG9hdDI6IGZ1bmN0aW9uIHNldEZsb2F0Mih0LCBlLCBpKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5kc3RTaGFkZXI7bnVsbCAhPT0gbiAmJiBuLnNldENvbnN0YW50RmxvYXQyKHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHQpLCBlLCBpKTtcbiAgICAgIH0sIHNldEZsb2F0MzogZnVuY3Rpb24gc2V0RmxvYXQzKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzLmRzdFNoYWRlcjtudWxsICE9PSByICYmIHIuc2V0Q29uc3RhbnRGbG9hdDModGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUsIGksIG4pO1xuICAgICAgfSwgc2V0RmxvYXQ0OiBmdW5jdGlvbiBzZXRGbG9hdDQodCwgZSwgaSwgbiwgcikge1xuICAgICAgICB2YXIgcyA9IHRoaXMuZHN0U2hhZGVyO251bGwgIT09IHMgJiYgcy5zZXRDb25zdGFudEZsb2F0NCh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSwgaSwgbiwgcik7XG4gICAgICB9LCBzZXRJbnQ6IGZ1bmN0aW9uIHNldEludCh0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5kc3RTaGFkZXI7bnVsbCAhPT0gaSAmJiBpLnNldENvbnN0YW50SW50MSh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSk7XG4gICAgICB9LCBzZXRJbnQyOiBmdW5jdGlvbiBzZXRJbnQyKHQsIGUsIGkpIHtcbiAgICAgICAgdmFyIG4gPSB0aGlzLmRzdFNoYWRlcjtudWxsICE9PSBuICYmIG4uc2V0Q29uc3RhbnRJbnQyKHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHQpLCBlLCBpKTtcbiAgICAgIH0sIHNldEludDM6IGZ1bmN0aW9uIHNldEludDModCwgZSwgaSwgbikge1xuICAgICAgICB2YXIgciA9IHRoaXMuZHN0U2hhZGVyO251bGwgIT09IHIgJiYgci5zZXRDb25zdGFudEludDModGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUsIGksIG4pO1xuICAgICAgfSwgc2V0SW50NDogZnVuY3Rpb24gc2V0SW50NCh0LCBlLCBpLCBuLCByKSB7XG4gICAgICAgIHZhciBzID0gdGhpcy5kc3RTaGFkZXI7bnVsbCAhPT0gcyAmJiBzLnNldENvbnN0YW50SW50NCh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSwgaSwgbiwgcik7XG4gICAgICB9LCBzZXRNYXRyaXgyeDI6IGZ1bmN0aW9uIHNldE1hdHJpeDJ4Mih0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5kc3RTaGFkZXI7bnVsbCAhPT0gaSAmJiBpLnNldENvbnN0YW50TWF0cml4MngyKHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHQpLCBlKTtcbiAgICAgIH0sIHNldE1hdHJpeDN4MzogZnVuY3Rpb24gc2V0TWF0cml4M3gzKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmRzdFNoYWRlcjtudWxsICE9PSBpICYmIGkuc2V0Q29uc3RhbnRNYXRyaXgzeDModGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUpO1xuICAgICAgfSwgc2V0TWF0cml4NHg0OiBmdW5jdGlvbiBzZXRNYXRyaXg0eDQodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZHN0U2hhZGVyO251bGwgIT09IGkgJiYgaS5zZXRDb25zdGFudE1hdHJpeDR4NCh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGg7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg2KSxcbiAgICAgICAgcyA9IGkoMyksXG4gICAgICAgIGEgPSBpKDUzNyksXG4gICAgICAgIG8gPSBpKDgxKSxcbiAgICAgICAgaCA9IGkoMTApLFxuICAgICAgICB1ID0gaSgyKSxcbiAgICAgICAgYyA9IChpKDExKSwgaSgxNzYpKSxcbiAgICAgICAgbCA9IG5ldyBuKHsgRXh0ZW5kczogciwgTWl4aW5zOiBbcy5BbHBoYSwgcy5CbGVuZE1vZGUsIHMuVHJhbnNmb3JtLCBzLlJlbmRlclRhcmdldCwgcy5WaXNpYmxlLCBzLlNjcm9sbEZhY3RvciwgYV0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHUoZSwgXCJ4XCIsIDApLFxuICAgICAgICAgICAgbiA9IHUoZSwgXCJ5XCIsIDApO3IuY2FsbCh0aGlzLCB0LCBcIkdyYXBoaWNzXCIpLCB0aGlzLnNldFBvc2l0aW9uKGksIG4pLCB0aGlzLmRpc3BsYXlPcmlnaW5YID0gMCwgdGhpcy5kaXNwbGF5T3JpZ2luWSA9IDAsIHRoaXMuY29tbWFuZEJ1ZmZlciA9IFtdLCB0aGlzLmRlZmF1bHRGaWxsQ29sb3IgPSAtMSwgdGhpcy5kZWZhdWx0RmlsbEFscGhhID0gMSwgdGhpcy5kZWZhdWx0U3Ryb2tlV2lkdGggPSAxLCB0aGlzLmRlZmF1bHRTdHJva2VDb2xvciA9IC0xLCB0aGlzLmRlZmF1bHRTdHJva2VBbHBoYSA9IDEsIHRoaXMuc2V0RGVmYXVsdFN0eWxlcyhlKTt2YXIgcyA9IHQuc3lzLmdhbWUucmVuZGVyZXIucmVzb3VyY2VNYW5hZ2VyO3ZvaWQgMCAhPT0gcyAmJiAodGhpcy5yZXNvdXJjZU1hbmFnZXIgPSBzLCB0aGlzLmdsID0gdC5zeXMuZ2FtZS5yZW5kZXJlci5nbCk7XG4gICAgICB9LCBzZXREZWZhdWx0U3R5bGVzOiBmdW5jdGlvbiBzZXREZWZhdWx0U3R5bGVzKHQpIHtcbiAgICAgICAgcmV0dXJuIHUodCwgXCJsaW5lU3R5bGVcIiwgbnVsbCkgJiYgKHRoaXMuZGVmYXVsdFN0cm9rZVdpZHRoID0gdSh0LCBcImxpbmVTdHlsZS53aWR0aFwiLCAxKSwgdGhpcy5kZWZhdWx0U3Ryb2tlQ29sb3IgPSB1KHQsIFwibGluZVN0eWxlLmNvbG9yXCIsIDE2Nzc3MjE1KSwgdGhpcy5kZWZhdWx0U3Ryb2tlQWxwaGEgPSB1KHQsIFwibGluZVN0eWxlLmFscGhhXCIsIDEpLCB0aGlzLmxpbmVTdHlsZSh0aGlzLmRlZmF1bHRTdHJva2VXaWR0aCwgdGhpcy5kZWZhdWx0U3Ryb2tlQ29sb3IsIHRoaXMuZGVmYXVsdFN0cm9rZUFscGhhKSksIHUodCwgXCJmaWxsU3R5bGVcIiwgbnVsbCkgJiYgKHRoaXMuZGVmYXVsdEZpbGxDb2xvciA9IHUodCwgXCJmaWxsU3R5bGUuY29sb3JcIiwgMTY3NzcyMTUpLCB0aGlzLmRlZmF1bHRGaWxsQWxwaGEgPSB1KHQsIFwiZmlsbFN0eWxlLmFscGhhXCIsIDEpLCB0aGlzLmZpbGxTdHlsZSh0aGlzLmRlZmF1bHRGaWxsQ29sb3IsIHRoaXMuZGVmYXVsdEZpbGxBbHBoYSkpLCB0aGlzO1xuICAgICAgfSwgbGluZVN0eWxlOiBmdW5jdGlvbiBsaW5lU3R5bGUodCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMSksIHRoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKG8uTElORV9TVFlMRSwgdCwgZSwgaSksIHRoaXM7XG4gICAgICB9LCBmaWxsU3R5bGU6IGZ1bmN0aW9uIGZpbGxTdHlsZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSAxKSwgdGhpcy5jb21tYW5kQnVmZmVyLnB1c2goby5GSUxMX1NUWUxFLCB0LCBlKSwgdGhpcztcbiAgICAgIH0sIGJlZ2luUGF0aDogZnVuY3Rpb24gYmVnaW5QYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kQnVmZmVyLnB1c2goby5CRUdJTl9QQVRIKSwgdGhpcztcbiAgICAgIH0sIGNsb3NlUGF0aDogZnVuY3Rpb24gY2xvc2VQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kQnVmZmVyLnB1c2goby5DTE9TRV9QQVRIKSwgdGhpcztcbiAgICAgIH0sIGZpbGxQYXRoOiBmdW5jdGlvbiBmaWxsUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKG8uRklMTF9QQVRIKSwgdGhpcztcbiAgICAgIH0sIHN0cm9rZVBhdGg6IGZ1bmN0aW9uIHN0cm9rZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChvLlNUUk9LRV9QQVRIKSwgdGhpcztcbiAgICAgIH0sIGZpbGxDaXJjbGVTaGFwZTogZnVuY3Rpb24gZmlsbENpcmNsZVNoYXBlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsbENpcmNsZSh0LngsIHQueSwgdC5yYWRpdXMpO1xuICAgICAgfSwgc3Ryb2tlQ2lyY2xlU2hhcGU6IGZ1bmN0aW9uIHN0cm9rZUNpcmNsZVNoYXBlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlQ2lyY2xlKHQueCwgdC55LCB0LnJhZGl1cyk7XG4gICAgICB9LCBmaWxsQ2lyY2xlOiBmdW5jdGlvbiBmaWxsQ2lyY2xlKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmVnaW5QYXRoKCksIHRoaXMuYXJjKHQsIGUsIGksIDAsIGguUEkyKSwgdGhpcy5maWxsUGF0aCgpLCB0aGlzLmNsb3NlUGF0aCgpLCB0aGlzO1xuICAgICAgfSwgc3Ryb2tlQ2lyY2xlOiBmdW5jdGlvbiBzdHJva2VDaXJjbGUodCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblBhdGgoKSwgdGhpcy5hcmModCwgZSwgaSwgMCwgaC5QSTIpLCB0aGlzLmNsb3NlUGF0aCgpLCB0aGlzLnN0cm9rZVBhdGgoKSwgdGhpcztcbiAgICAgIH0sIGZpbGxSZWN0U2hhcGU6IGZ1bmN0aW9uIGZpbGxSZWN0U2hhcGUodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxsUmVjdCh0LngsIHQueSwgdC53aWR0aCwgdC5oZWlnaHQpO1xuICAgICAgfSwgc3Ryb2tlUmVjdFNoYXBlOiBmdW5jdGlvbiBzdHJva2VSZWN0U2hhcGUodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJva2VSZWN0KHQueCwgdC55LCB0LndpZHRoLCB0LmhlaWdodCk7XG4gICAgICB9LCBmaWxsUmVjdDogZnVuY3Rpb24gZmlsbFJlY3QodCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kQnVmZmVyLnB1c2goby5GSUxMX1JFQ1QsIHQsIGUsIGksIG4pLCB0aGlzO1xuICAgICAgfSwgc3Ryb2tlUmVjdDogZnVuY3Rpb24gc3Ryb2tlUmVjdCh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJlZ2luUGF0aCgpLCB0aGlzLm1vdmVUbyh0LCBlKSwgdGhpcy5saW5lVG8odCArIGksIGUpLCB0aGlzLmxpbmVUbyh0ICsgaSwgZSArIG4pLCB0aGlzLmxpbmVUbyh0LCBlICsgbiksIHRoaXMubGluZVRvKHQsIGUpLCB0aGlzLnN0cm9rZVBhdGgoKSwgdGhpcy5jbG9zZVBhdGgoKSwgdGhpcztcbiAgICAgIH0sIGZpbGxQb2ludFNoYXBlOiBmdW5jdGlvbiBmaWxsUG9pbnRTaGFwZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGxQb2ludCh0LngsIHQueSwgZSk7XG4gICAgICB9LCBmaWxsUG9pbnQ6IGZ1bmN0aW9uIGZpbGxQb2ludCh0LCBlLCBpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChvLkZJTExfUkVDVCwgdCwgZSwgaSwgaSksIHRoaXM7XG4gICAgICB9LCBmaWxsVHJpYW5nbGVTaGFwZTogZnVuY3Rpb24gZmlsbFRyaWFuZ2xlU2hhcGUodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxsVHJpYW5nbGUodC54MSwgdC55MSwgdC54MiwgdC55MiwgdC54MywgdC55Myk7XG4gICAgICB9LCBzdHJva2VUcmlhbmdsZVNoYXBlOiBmdW5jdGlvbiBzdHJva2VUcmlhbmdsZVNoYXBlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlVHJpYW5nbGUodC54MSwgdC55MSwgdC54MiwgdC55MiwgdC54MywgdC55Myk7XG4gICAgICB9LCBmaWxsVHJpYW5nbGU6IGZ1bmN0aW9uIGZpbGxUcmlhbmdsZSh0LCBlLCBpLCBuLCByLCBzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChvLkZJTExfVFJJQU5HTEUsIHQsIGUsIGksIG4sIHIsIHMpLCB0aGlzO1xuICAgICAgfSwgc3Ryb2tlVHJpYW5nbGU6IGZ1bmN0aW9uIHN0cm9rZVRyaWFuZ2xlKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKG8uU1RST0tFX1RSSUFOR0xFLCB0LCBlLCBpLCBuLCByLCBzKSwgdGhpcztcbiAgICAgIH0sIHN0cm9rZUxpbmVTaGFwZTogZnVuY3Rpb24gc3Ryb2tlTGluZVNoYXBlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUJldHdlZW4odC54MSwgdC55MSwgdC54MiwgdC55Mik7XG4gICAgICB9LCBsaW5lQmV0d2VlbjogZnVuY3Rpb24gbGluZUJldHdlZW4odCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblBhdGgoKSwgdGhpcy5tb3ZlVG8odCwgZSksIHRoaXMubGluZVRvKGksIG4pLCB0aGlzLnN0cm9rZVBhdGgoKSwgdGhpcy5jbG9zZVBhdGgoKSwgdGhpcztcbiAgICAgIH0sIGxpbmVUbzogZnVuY3Rpb24gbGluZVRvKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKG8uTElORV9UTywgdCwgZSksIHRoaXM7XG4gICAgICB9LCBtb3ZlVG86IGZ1bmN0aW9uIG1vdmVUbyh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChvLk1PVkVfVE8sIHQsIGUpLCB0aGlzO1xuICAgICAgfSwgbGluZUZ4VG86IGZ1bmN0aW9uIGxpbmVGeFRvKHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKG8uTElORV9GWF9UTywgdCwgZSwgaSwgbiwgMSksIHRoaXM7XG4gICAgICB9LCBtb3ZlRnhUbzogZnVuY3Rpb24gbW92ZUZ4VG8odCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kQnVmZmVyLnB1c2goby5NT1ZFX0ZYX1RPLCB0LCBlLCBpLCBuLCAxKSwgdGhpcztcbiAgICAgIH0sIGFyYzogZnVuY3Rpb24gYXJjKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKG8uQVJDLCB0LCBlLCBpLCBuLCByLCBzKSwgdGhpcztcbiAgICAgIH0sIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChvLlNBVkUpLCB0aGlzO1xuICAgICAgfSwgcmVzdG9yZTogZnVuY3Rpb24gcmVzdG9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKG8uUkVTVE9SRSksIHRoaXM7XG4gICAgICB9LCB0cmFuc2xhdGU6IGZ1bmN0aW9uIHRyYW5zbGF0ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChvLlRSQU5TTEFURSwgdCwgZSksIHRoaXM7XG4gICAgICB9LCBzY2FsZTogZnVuY3Rpb24gc2NhbGUodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kQnVmZmVyLnB1c2goby5TQ0FMRSwgdCwgZSksIHRoaXM7XG4gICAgICB9LCByb3RhdGU6IGZ1bmN0aW9uIHJvdGF0ZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChvLlJPVEFURSwgdCksIHRoaXM7XG4gICAgICB9LCBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRCdWZmZXIubGVuZ3RoID0gMCwgdGhpcy5kZWZhdWx0RmlsbENvbG9yID4gLTEgJiYgdGhpcy5maWxsU3R5bGUodGhpcy5kZWZhdWx0RmlsbENvbG9yLCB0aGlzLmRlZmF1bHRGaWxsQWxwaGEpLCB0aGlzLmRlZmF1bHRTdHJva2VDb2xvciA+IC0xICYmIHRoaXMubGluZVN0eWxlKHRoaXMuZGVmYXVsdFN0cm9rZVdpZHRoLCB0aGlzLmRlZmF1bHRTdHJva2VDb2xvciwgdGhpcy5kZWZhdWx0U3Ryb2tlQWxwaGEpLCB0aGlzO1xuICAgICAgfSwgZ2VuZXJhdGVUZXh0dXJlOiBmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUodCwgZSwgaSkge1xuICAgICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSB0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aCksIHZvaWQgMCA9PT0gaSAmJiAoaSA9IHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLmhlaWdodCksIGwuVGFyZ2V0Q2FtZXJhLnNldFZpZXdwb3J0KDAsIDAsIGUsIGkpLCBsLlRhcmdldENhbWVyYS5zY3JvbGxYID0gdGhpcy54LCBsLlRhcmdldENhbWVyYS5zY3JvbGxZID0gdGhpcy55O3ZhciBuID0gdGhpcy5zY2VuZS5zeXMuZ2FtZS50ZXh0dXJlcy5jcmVhdGVDYW52YXModCwgZSwgaSksXG4gICAgICAgICAgICByID0gbi5zb3VyY2VbMF0uaW1hZ2UuZ2V0Q29udGV4dChcIjJkXCIpO24uYWRkKFwiX19CQVNFXCIsIDAsIDAsIDAsIGUsIGkpLCB0aGlzLnJlbmRlckNhbnZhcyh0aGlzLnNjZW5lLnN5cy5nYW1lLnJlbmRlcmVyLCB0aGlzLCAwLCBsLlRhcmdldENhbWVyYSwgciksIHRoaXMuZ2wgJiYgdGhpcy5zY2VuZS5zeXMuZ2FtZS5yZW5kZXJlci51cGxvYWRDYW52YXNUb0dQVShyLmNhbnZhcywgbi5zb3VyY2VbMF0uZ2xUZXh0dXJlLCAhMCk7XG4gICAgICB9IH0pO2wuVGFyZ2V0Q2FtZXJhID0gbmV3IGMoMCwgMCwgMCwgMCksIHQuZXhwb3J0cyA9IGw7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdC5leHBvcnRzID0geyBBUkM6IDAsIEJFR0lOX1BBVEg6IDEsIENMT1NFX1BBVEg6IDIsIEZJTExfUkVDVDogMywgTElORV9UTzogNCwgTU9WRV9UTzogNSwgTElORV9TVFlMRTogNiwgRklMTF9TVFlMRTogNywgRklMTF9QQVRIOiA4LCBTVFJPS0VfUEFUSDogOSwgRklMTF9UUklBTkdMRTogMTAsIFNUUk9LRV9UUklBTkdMRTogMTEsIExJTkVfRlhfVE86IDEyLCBNT1ZFX0ZYX1RPOiAxMywgU0FWRTogMTQsIFJFU1RPUkU6IDE1LCBUUkFOU0xBVEU6IDE2LCBTQ0FMRTogMTcsIFJPVEFURTogMTggfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDU0KSxcbiAgICAgICAgcyA9IGkoMiksXG4gICAgICAgIGEgPSBpKDE3OSksXG4gICAgICAgIG8gPSBpKDEwMyksXG4gICAgICAgIGggPSBpKDM5KSxcbiAgICAgICAgdSA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSB0LCB0aGlzLmNoaWxkcmVuID0gbmV3IHIoZSksIHRoaXMuY2xhc3NUeXBlID0gaCwgaSAmJiB0aGlzLmNyZWF0ZU11bHRpcGxlKGkpO1xuICAgICAgfSwgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUodCwgZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5jaGlsZHJlbi5lbnRyaWVzLnNsaWNlKCksIG4gPSAwOyBuIDwgaS5sZW5ndGggJiYgITEgIT09IGlbbl0udXBkYXRlKHQsIGUpOyBuKyspIHt9XG4gICAgICB9LCBhZGQ6IGZ1bmN0aW9uIGFkZCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLnNldCh0KSwgdGhpcztcbiAgICAgIH0sIGFkZE11bHRpcGxlOiBmdW5jdGlvbiBhZGRNdWx0aXBsZSh0KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHQpKSBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNldCh0W2VdKTtcbiAgICAgICAgfXJldHVybiB0aGlzO1xuICAgICAgfSwgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUodCwgZSwgaSwgbiwgcikge1xuICAgICAgICB2b2lkIDAgPT09IHIgJiYgKHIgPSAhMCk7dmFyIHMgPSBuZXcgdGhpcy5jbGFzc1R5cGUodGhpcy5zY2VuZSwgdCwgZSwgaSwgbik7cmV0dXJuIHRoaXMuc2NlbmUuc3lzLmRpc3BsYXlMaXN0LmFkZChzKSwgcy5wcmVVcGRhdGUgJiYgdGhpcy5zY2VuZS5zeXMudXBkYXRlTGlzdC5hZGQocyksIHMudmlzaWJsZSA9IHIsIHRoaXMuY2hpbGRyZW4uc2V0KHMpLCBzO1xuICAgICAgfSwgY3JlYXRlRnJvbUNvbmZpZzogZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyh0KSB7XG4gICAgICAgIHRoaXMuY2xhc3NUeXBlID0gcyh0LCBcImNsYXNzVHlwZVwiLCB0aGlzLmNsYXNzVHlwZSk7dmFyIGUgPSBzKHQsIFwia2V5XCIsIHZvaWQgMCksXG4gICAgICAgICAgICBpID0gcyh0LCBcImZyYW1lXCIsIG51bGwpLFxuICAgICAgICAgICAgbiA9IHModCwgXCJ2aXNpYmxlXCIsICEwKSxcbiAgICAgICAgICAgIHIgPSBbXTtpZiAodm9pZCAwID09PSBlKSByZXR1cm4gcjtBcnJheS5pc0FycmF5KGUpIHx8IChlID0gW2VdKSwgQXJyYXkuaXNBcnJheShpKSB8fCAoaSA9IFtpXSk7Zm9yICh2YXIgaCA9IHModCwgXCJyZXBlYXRcIiwgMCksIHUgPSBzKHQsIFwicmFuZG9tS2V5XCIsICExKSwgYyA9IHModCwgXCJyYW5kb21GcmFtZVwiLCAhMSksIGwgPSBzKHQsIFwieW95b1wiLCAhMSksIGYgPSBzKHQsIFwiZnJhbWVRdWFudGl0eVwiLCAxKSwgZCA9IHModCwgXCJtYXhcIiwgMCksIHAgPSBhKGUsIGksIHsgbWF4OiBkLCBxdHk6IGYsIHJhbmRvbTogdSwgcmFuZG9tQjogYywgcmVwZWF0OiBoLCB5b3lvOiBsIH0pLCB2ID0gMDsgdiA8IHAubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgICByLnB1c2godGhpcy5jcmVhdGUoMCwgMCwgcFt2XS5hLCBwW3ZdLmIsIG4pKTtcbiAgICAgICAgfXZhciBnID0gcyh0LCBcInNldFhZLnhcIiwgMCksXG4gICAgICAgICAgICB4ID0gcyh0LCBcInNldFhZLnlcIiwgMCksXG4gICAgICAgICAgICBtID0gcyh0LCBcInNldFhZLnN0ZXBYXCIsIDApLFxuICAgICAgICAgICAgeSA9IHModCwgXCJzZXRYWS5zdGVwWVwiLCAwKTtvLlNldFhZKHIsIGcsIHgsIG0sIHkpO3ZhciB3ID0gcyh0LCBcInNldFJvdGF0aW9uLnZhbHVlXCIsIDApLFxuICAgICAgICAgICAgRSA9IHModCwgXCJzZXRSb3RhdGlvbi5zdGVwXCIsIDApO28uU2V0Um90YXRpb24ociwgdywgRSk7dmFyIFQgPSBzKHQsIFwic2V0U2NhbGUueFwiLCAxKSxcbiAgICAgICAgICAgIGIgPSBzKHQsIFwic2V0U2NhbGUueVwiLCBUKSxcbiAgICAgICAgICAgIF8gPSBzKHQsIFwic2V0U2NhbGUuc3RlcFhcIiwgMCksXG4gICAgICAgICAgICBBID0gcyh0LCBcInNldFNjYWxlLnN0ZXBZXCIsIDApO28uU2V0U2NhbGUociwgVCwgYiwgXywgQSk7dmFyIFMgPSBzKHQsIFwic2V0QWxwaGEudmFsdWVcIiwgMSksXG4gICAgICAgICAgICBSID0gcyh0LCBcInNldEFscGhhLnN0ZXBcIiwgMCk7by5TZXRBbHBoYShyLCBTLCBSKTt2YXIgTSA9IHModCwgXCJoaXRBcmVhXCIsIG51bGwpLFxuICAgICAgICAgICAgTyA9IHModCwgXCJoaXRBcmVhQ2FsbGJhY2tcIiwgbnVsbCk7TSAmJiBvLlNldEhpdEFyZWEociwgTSwgTyk7dmFyIEMgPSBzKHQsIFwiZ3JpZEFsaWduXCIsICExKTtyZXR1cm4gQyAmJiBvLkdyaWRBbGlnbihyLCBDKSwgcjtcbiAgICAgIH0sIGNyZWF0ZU11bHRpcGxlOiBmdW5jdGlvbiBjcmVhdGVNdWx0aXBsZSh0KSB7XG4gICAgICAgIEFycmF5LmlzQXJyYXkodCkgfHwgKHQgPSBbdF0pO2ZvciAodmFyIGUgPSBbXSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG4gPSB0aGlzLmNyZWF0ZUZyb21Db25maWcodFtpXSk7ZSA9IGUuY29uY2F0KG4pO1xuICAgICAgICB9cmV0dXJuIGU7XG4gICAgICB9LCByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmRlbGV0ZSh0KSwgdGhpcztcbiAgICAgIH0sIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uY2xlYXIoKSwgdGhpcztcbiAgICAgIH0sIGdldENoaWxkcmVuOiBmdW5jdGlvbiBnZXRDaGlsZHJlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uZW50cmllcztcbiAgICAgIH0sIGdldExlbmd0aDogZnVuY3Rpb24gZ2V0TGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5zaXplO1xuICAgICAgfSwgZ2V0Rmlyc3Q6IGZ1bmN0aW9uIGdldEZpcnN0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCBvLkdldEZpcnN0KHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSk7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLmNsZWFyKCksIHRoaXMuc2NlbmUgPSB2b2lkIDAsIHRoaXMuY2hpbGRyZW4gPSB2b2lkIDA7XG4gICAgICB9LCBhbmdsZTogZnVuY3Rpb24gYW5nbGUodCkge1xuICAgICAgICByZXR1cm4gby5BbmdsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQpLCB0aGlzO1xuICAgICAgfSwgZ3JpZEFsaWduOiBmdW5jdGlvbiBncmlkQWxpZ24odCkge1xuICAgICAgICByZXR1cm4gby5HcmlkQWxpZ24odGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0KSwgdGhpcztcbiAgICAgIH0sIGluY0FscGhhOiBmdW5jdGlvbiBpbmNBbHBoYSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBvLkluY0FscGhhKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSksIHRoaXM7XG4gICAgICB9LCBpbmNYOiBmdW5jdGlvbiBpbmNYKHQpIHtcbiAgICAgICAgcmV0dXJuIG8uSW5jWCh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQpLCB0aGlzO1xuICAgICAgfSwgaW5jWFk6IGZ1bmN0aW9uIGluY1hZKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIG8uSW5jWFkodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlKSwgdGhpcztcbiAgICAgIH0sIGluY1k6IGZ1bmN0aW9uIGluY1kodCkge1xuICAgICAgICByZXR1cm4gby5JbmNZKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCksIHRoaXM7XG4gICAgICB9LCBwbGFjZU9uQ2lyY2xlOiBmdW5jdGlvbiBwbGFjZU9uQ2lyY2xlKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIG8uUGxhY2VPbkNpcmNsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQsIGUsIGkpLCB0aGlzO1xuICAgICAgfSwgcGxhY2VPbkVsbGlwc2U6IGZ1bmN0aW9uIHBsYWNlT25FbGxpcHNlKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIG8uUGxhY2VPbkVsbGlwc2UodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlLCBpKSwgdGhpcztcbiAgICAgIH0sIHBsYWNlT25MaW5lOiBmdW5jdGlvbiBwbGFjZU9uTGluZSh0KSB7XG4gICAgICAgIHJldHVybiBvLlBsYWNlT25MaW5lKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCksIHRoaXM7XG4gICAgICB9LCBwbGFjZU9uUmVjdGFuZ2xlOiBmdW5jdGlvbiBwbGFjZU9uUmVjdGFuZ2xlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIG8uUGxhY2VPblJlY3RhbmdsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQsIGUpLCB0aGlzO1xuICAgICAgfSwgcGxhY2VPblRyaWFuZ2xlOiBmdW5jdGlvbiBwbGFjZU9uVHJpYW5nbGUodCwgZSkge1xuICAgICAgICByZXR1cm4gby5QbGFjZU9uVHJpYW5nbGUodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlKSwgdGhpcztcbiAgICAgIH0sIHBsYXlBbmltYXRpb246IGZ1bmN0aW9uIHBsYXlBbmltYXRpb24odCwgZSkge1xuICAgICAgICByZXR1cm4gby5QbGF5QW5pbWF0aW9uKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSksIHRoaXM7XG4gICAgICB9LCByYW5kb21DaXJjbGU6IGZ1bmN0aW9uIHJhbmRvbUNpcmNsZSh0KSB7XG4gICAgICAgIHJldHVybiBvLlJhbmRvbUNpcmNsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQpLCB0aGlzO1xuICAgICAgfSwgcmFuZG9tRWxsaXBzZTogZnVuY3Rpb24gcmFuZG9tRWxsaXBzZSh0KSB7XG4gICAgICAgIHJldHVybiBvLlJhbmRvbUVsbGlwc2UodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0KSwgdGhpcztcbiAgICAgIH0sIHJhbmRvbUxpbmU6IGZ1bmN0aW9uIHJhbmRvbUxpbmUodCkge1xuICAgICAgICByZXR1cm4gby5SYW5kb21MaW5lKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCksIHRoaXM7XG4gICAgICB9LCByYW5kb21SZWN0YW5nbGU6IGZ1bmN0aW9uIHJhbmRvbVJlY3RhbmdsZSh0KSB7XG4gICAgICAgIHJldHVybiBvLlJhbmRvbVJlY3RhbmdsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQpLCB0aGlzO1xuICAgICAgfSwgcmFuZG9tVHJpYW5nbGU6IGZ1bmN0aW9uIHJhbmRvbVRyaWFuZ2xlKHQpIHtcbiAgICAgICAgcmV0dXJuIG8uUmFuZG9tVHJpYW5nbGUodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0KSwgdGhpcztcbiAgICAgIH0sIHJvdGF0ZTogZnVuY3Rpb24gcm90YXRlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIG8uUm90YXRlKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSksIHRoaXM7XG4gICAgICB9LCByb3RhdGVBcm91bmQ6IGZ1bmN0aW9uIHJvdGF0ZUFyb3VuZCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBvLlJvdGF0ZUFyb3VuZCh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQsIGUpLCB0aGlzO1xuICAgICAgfSwgcm90YXRlQXJvdW5kRGlzdGFuY2U6IGZ1bmN0aW9uIHJvdGF0ZUFyb3VuZERpc3RhbmNlKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIG8uUm90YXRlQXJvdW5kRGlzdGFuY2UodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlLCBpKSwgdGhpcztcbiAgICAgIH0sIHNldEFscGhhOiBmdW5jdGlvbiBzZXRBbHBoYSh0LCBlKSB7XG4gICAgICAgIHJldHVybiBvLlNldEFscGhhKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSksIHRoaXM7XG4gICAgICB9LCBzZXRPcmlnaW46IGZ1bmN0aW9uIHNldE9yaWdpbih0LCBlKSB7XG4gICAgICAgIHJldHVybiBvLlNldE9yaWdpbih0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQsIGUpLCB0aGlzO1xuICAgICAgfSwgc2NhbGVYOiBmdW5jdGlvbiBzY2FsZVgodCkge1xuICAgICAgICByZXR1cm4gby5TY2FsZVgodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0KSwgdGhpcztcbiAgICAgIH0sIHNjYWxlWFk6IGZ1bmN0aW9uIHNjYWxlWFkodCwgZSkge1xuICAgICAgICByZXR1cm4gby5TY2FsZVhZKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSksIHRoaXM7XG4gICAgICB9LCBzY2FsZVk6IGZ1bmN0aW9uIHNjYWxlWSh0KSB7XG4gICAgICAgIHJldHVybiBvLlNjYWxlWSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQpLCB0aGlzO1xuICAgICAgfSwgc2V0Um90YXRpb246IGZ1bmN0aW9uIHNldFJvdGF0aW9uKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIG8uU2V0Um90YXRpb24odGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlKSwgdGhpcztcbiAgICAgIH0sIHNldFNjYWxlOiBmdW5jdGlvbiBzZXRTY2FsZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiBvLlNldFNjYWxlKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSwgaSwgbiksIHRoaXM7XG4gICAgICB9LCBzZXRTY2FsZVg6IGZ1bmN0aW9uIHNldFNjYWxlWCh0LCBlKSB7XG4gICAgICAgIHJldHVybiBvLlNldFNjYWxlWCh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQsIGUpLCB0aGlzO1xuICAgICAgfSwgc2V0U2NhbGVZOiBmdW5jdGlvbiBzZXRTY2FsZVkodCwgZSkge1xuICAgICAgICByZXR1cm4gby5TZXRTY2FsZVkodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlKSwgdGhpcztcbiAgICAgIH0sIHNldFZpc2libGU6IGZ1bmN0aW9uIHNldFZpc2libGUodCkge1xuICAgICAgICByZXR1cm4gby5TZXRWaXNpYmxlKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCksIHRoaXM7XG4gICAgICB9LCBzZXRYOiBmdW5jdGlvbiBzZXRYKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIG8uU2V0WCh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQsIGUpLCB0aGlzO1xuICAgICAgfSwgc2V0WFk6IGZ1bmN0aW9uIHNldFhZKHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIG8uU2V0WFkodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlLCBpLCBuKSwgdGhpcztcbiAgICAgIH0sIHNldFk6IGZ1bmN0aW9uIHNldFkodCwgZSkge1xuICAgICAgICByZXR1cm4gby5TZXRZKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSksIHRoaXM7XG4gICAgICB9LCBzZXRaOiBmdW5jdGlvbiBzZXRaKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIG8uU2V0Wih0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQsIGUpLCB0aGlzO1xuICAgICAgfSwgc2hpZnRQb3NpdGlvbjogZnVuY3Rpb24gc2hpZnRQb3NpdGlvbih0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiBvLlNoaWZ0UG9zaXRpb24odGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlLCBpLCBuKSwgdGhpcztcbiAgICAgIH0sIHNtb290aGVyU3RlcDogZnVuY3Rpb24gc21vb3RoZXJTdGVwKHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIG8uU21vb3RoZXJTdGVwKHRoaXMuY2hpbGRyZW4uZW50cmllcywgdCwgZSwgaSwgbiksIHRoaXM7XG4gICAgICB9LCBzbW9vdGhTdGVwOiBmdW5jdGlvbiBzbW9vdGhTdGVwKHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIG8uU21vb3RoU3RlcCh0aGlzLmNoaWxkcmVuLmVudHJpZXMsIHQsIGUsIGksIG4pLCB0aGlzO1xuICAgICAgfSwgc3ByZWFkOiBmdW5jdGlvbiBzcHJlYWQodCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gby5TcHJlYWQodGhpcy5jaGlsZHJlbi5lbnRyaWVzLCB0LCBlLCBpLCBuKSwgdGhpcztcbiAgICAgIH0sIHRvZ2dsZVZpc2libGU6IGZ1bmN0aW9uIHRvZ2dsZVZpc2libGUoKSB7XG4gICAgICAgIHJldHVybiBvLlRvZ2dsZVZpc2libGUodGhpcy5jaGlsZHJlbi5lbnRyaWVzKSwgdGhpcztcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gdTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDU2KSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuLCBzKSB7XG4gICAgICAgIHZhciBhID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgbyA9IFswLCAwLCAwLCAxLCAxLCAxLCAxLCAwXSxcbiAgICAgICAgICAgIGggPSBbMCwgMSwgMiwgMCwgMiwgM10sXG4gICAgICAgICAgICB1ID0gWzE2Nzc3MjE1LCAxNjc3NzIxNSwgMTY3NzcyMTUsIDE2Nzc3MjE1XSxcbiAgICAgICAgICAgIGMgPSBbMSwgMSwgMSwgMV07ci5jYWxsKHRoaXMsIHQsIGUsIGksIGEsIG8sIGgsIHUsIGMsIG4sIHMpLCB0aGlzLnJlc2V0UG9zaXRpb24oKTtcbiAgICAgIH0sIHRvcExlZnRYOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnggKyB0aGlzLnZlcnRpY2VzWzBdO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy52ZXJ0aWNlc1swXSA9IHQgLSB0aGlzLng7XG4gICAgICAgIH0gfSwgdG9wTGVmdFk6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMudmVydGljZXNbMV07XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnZlcnRpY2VzWzFdID0gdCAtIHRoaXMueTtcbiAgICAgICAgfSB9LCB0b3BSaWdodFg6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMudmVydGljZXNbNl07XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnZlcnRpY2VzWzZdID0gdCAtIHRoaXMueDtcbiAgICAgICAgfSB9LCB0b3BSaWdodFk6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMudmVydGljZXNbN107XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnZlcnRpY2VzWzddID0gdCAtIHRoaXMueTtcbiAgICAgICAgfSB9LCBib3R0b21MZWZ0WDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy52ZXJ0aWNlc1syXTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMudmVydGljZXNbMl0gPSB0IC0gdGhpcy54O1xuICAgICAgICB9IH0sIGJvdHRvbUxlZnRZOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLnZlcnRpY2VzWzNdO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy52ZXJ0aWNlc1szXSA9IHQgLSB0aGlzLnk7XG4gICAgICAgIH0gfSwgYm90dG9tUmlnaHRYOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnggKyB0aGlzLnZlcnRpY2VzWzRdO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy52ZXJ0aWNlc1s0XSA9IHQgLSB0aGlzLng7XG4gICAgICAgIH0gfSwgYm90dG9tUmlnaHRZOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLnZlcnRpY2VzWzVdO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy52ZXJ0aWNlc1s1XSA9IHQgLSB0aGlzLnk7XG4gICAgICAgIH0gfSwgdG9wTGVmdEFscGhhOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhc1swXTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuYWxwaGFzWzBdID0gdDtcbiAgICAgICAgfSB9LCB0b3BSaWdodEFscGhhOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhc1szXTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuYWxwaGFzWzNdID0gdDtcbiAgICAgICAgfSB9LCBib3R0b21MZWZ0QWxwaGE6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFzWzFdO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy5hbHBoYXNbMV0gPSB0O1xuICAgICAgICB9IH0sIGJvdHRvbVJpZ2h0QWxwaGE6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFzWzJdO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy5hbHBoYXNbMl0gPSB0O1xuICAgICAgICB9IH0sIHRvcExlZnRDb2xvcjogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcnNbMF07XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLmNvbG9yc1swXSA9IHQ7XG4gICAgICAgIH0gfSwgdG9wUmlnaHRDb2xvcjogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcnNbM107XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLmNvbG9yc1szXSA9IHQ7XG4gICAgICAgIH0gfSwgYm90dG9tTGVmdENvbG9yOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yc1sxXTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuY29sb3JzWzFdID0gdDtcbiAgICAgICAgfSB9LCBib3R0b21SaWdodENvbG9yOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yc1syXTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuY29sb3JzWzJdID0gdDtcbiAgICAgICAgfSB9LCBzZXRUb3BMZWZ0OiBmdW5jdGlvbiBzZXRUb3BMZWZ0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9wTGVmdFggPSB0LCB0aGlzLnRvcExlZnRZID0gZSwgdGhpcztcbiAgICAgIH0sIHNldFRvcFJpZ2h0OiBmdW5jdGlvbiBzZXRUb3BSaWdodCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvcFJpZ2h0WCA9IHQsIHRoaXMudG9wUmlnaHRZID0gZSwgdGhpcztcbiAgICAgIH0sIHNldEJvdHRvbUxlZnQ6IGZ1bmN0aW9uIHNldEJvdHRvbUxlZnQodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3R0b21MZWZ0WCA9IHQsIHRoaXMuYm90dG9tTGVmdFkgPSBlLCB0aGlzO1xuICAgICAgfSwgc2V0Qm90dG9tUmlnaHQ6IGZ1bmN0aW9uIHNldEJvdHRvbVJpZ2h0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tUmlnaHRYID0gdCwgdGhpcy5ib3R0b21SaWdodFkgPSBlLCB0aGlzO1xuICAgICAgfSwgcmVzZXRQb3NpdGlvbjogZnVuY3Rpb24gcmVzZXRQb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLngsXG4gICAgICAgICAgICBlID0gdGhpcy55LFxuICAgICAgICAgICAgaSA9IE1hdGguZmxvb3IodGhpcy53aWR0aCAvIDIpLFxuICAgICAgICAgICAgbiA9IE1hdGguZmxvb3IodGhpcy5oZWlnaHQgLyAyKTtyZXR1cm4gdGhpcy5zZXRUb3BMZWZ0KHQgLSBpLCBlIC0gbiksIHRoaXMuc2V0VG9wUmlnaHQodCArIGksIGUgLSBuKSwgdGhpcy5zZXRCb3R0b21MZWZ0KHQgLSBpLCBlICsgbiksIHRoaXMuc2V0Qm90dG9tUmlnaHQodCArIGksIGUgKyBuKSwgdGhpcztcbiAgICAgIH0sIHJlc2V0QWxwaGE6IGZ1bmN0aW9uIHJlc2V0QWxwaGEoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5hbHBoYXM7cmV0dXJuIHRbMF0gPSAxLCB0WzFdID0gMSwgdFsyXSA9IDEsIHRbM10gPSAxLCB0aGlzO1xuICAgICAgfSwgcmVzZXRDb2xvcnM6IGZ1bmN0aW9uIHJlc2V0Q29sb3JzKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuY29sb3JzO3JldHVybiB0WzBdID0gMTY3NzcyMTUsIHRbMV0gPSAxNjc3NzIxNSwgdFsyXSA9IDE2Nzc3MjE1LCB0WzNdID0gMTY3NzcyMTUsIHRoaXM7XG4gICAgICB9LCByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucmVzZXRQb3NpdGlvbigpLCB0aGlzLnJlc2V0QWxwaGEoKSwgdGhpcy5yZXNldENvbG9ycygpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNiksXG4gICAgICAgIHMgPSBpKDMpLFxuICAgICAgICBhID0gaSg1NTQpLFxuICAgICAgICBvID0gaSgzOCksXG4gICAgICAgIGggPSBuZXcgbih7IEV4dGVuZHM6IHIsIE1peGluczogW3MuQWxwaGEsIHMuQmxlbmRNb2RlLCBzLkZsaXAsIHMuR2V0Qm91bmRzLCBzLk9yaWdpbiwgcy5SZW5kZXJUYXJnZXQsIHMuU2NhbGVNb2RlLCBzLlNjcm9sbEZhY3Rvciwgcy5TaXplLCBzLlRpbnQsIHMuVHJhbnNmb3JtLCBzLlZpc2libGUsIGFdLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIHMsIGEsIGgpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIHQsIFwiUmVuZGVyUGFzc1wiKTt2YXIgdSxcbiAgICAgICAgICAgIGMsXG4gICAgICAgICAgICBsID0gdC5zeXMuZ2FtZS5yZW5kZXJlci5yZXNvdXJjZU1hbmFnZXIsXG4gICAgICAgICAgICBmID0gMCA9PSAobiAmIG4gLSAxKSAmJiAwID09IChzICYgcyAtIDEpO3RoaXMucmVuZGVyZXIgPSB0LnN5cy5nYW1lLnJlbmRlcmVyLCB0aGlzLnBhc3NSZW5kZXJUYXJnZXQgPSBudWxsLCB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsLCB0aGlzLnBhc3NTaGFkZXIgPSBudWxsLCB0aGlzLnVuaWZvcm1zID0ge30sIHRoaXMudGV4dHVyZXMgPSB7fSwgdm9pZCAwICE9PSBsICYmICh1ID0gdC5zeXMuZ2FtZS5yZW5kZXJlci5nbCwgYyA9IGYgPyB1LlJFUEVBVCA6IHUuQ0xBTVBfVE9fRURHRSwgdGhpcy5wYXNzU2hhZGVyID0gbC5jcmVhdGVTaGFkZXIoYSwgeyB2ZXJ0OiBvLnZlcnQsIGZyYWc6IGggfSksIHRoaXMucmVuZGVyVGV4dHVyZSA9IGwuY3JlYXRlVGV4dHVyZSgwLCB1LkxJTkVBUiwgdS5MSU5FQVIsIGMsIGMsIHUuUkdCQSwgbnVsbCwgbiwgcyksIHRoaXMucGFzc1JlbmRlclRhcmdldCA9IGwuY3JlYXRlUmVuZGVyVGFyZ2V0KG4sIHMsIHRoaXMucmVuZGVyVGV4dHVyZSwgbnVsbCksIHQuc3lzLmdhbWUucmVuZGVyZXIuY3VycmVudFRleHR1cmVbMF0gPSBudWxsKSwgdGhpcy5mbGlwWSA9ICEwLCB0aGlzLnNldFBvc2l0aW9uKGUsIGkpLCB0aGlzLnNldFNpemUobiwgcyksIHRoaXMuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgfSwgY2xlYXJDb2xvckJ1ZmZlcjogZnVuY3Rpb24gY2xlYXJDb2xvckJ1ZmZlcih0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5yZW5kZXJlci5nbDtyICYmIChyLmJpbmRGcmFtZWJ1ZmZlcihyLkZSQU1FQlVGRkVSLCB0aGlzLnBhc3NSZW5kZXJUYXJnZXQuZnJhbWVidWZmZXJPYmplY3QpLCByLmNsZWFyQ29sb3IodCwgZSwgaSwgbiksIHIuY2xlYXIoci5DT0xPUl9CVUZGRVJfQklUKSwgci5iaW5kRnJhbWVidWZmZXIoci5GUkFNRUJVRkZFUiwgbnVsbCkpO1xuICAgICAgfSwgY2xlYXJEZXB0aFN0ZW5jaWxCdWZmZXJzOiBmdW5jdGlvbiBjbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcnModCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMucmVuZGVyZXIuZ2w7aSAmJiAoaS5iaW5kRnJhbWVidWZmZXIoaS5GUkFNRUJVRkZFUiwgdGhpcy5wYXNzUmVuZGVyVGFyZ2V0LmZyYW1lYnVmZmVyT2JqZWN0KSwgaS5jbGVhckRlcHRoKHQpLCBpLmNsZWFyU3RlbmNpbChlKSwgaS5jbGVhcihpLkRFUFRIX0JVRkZFUl9CSVQgfCBpLlNURU5DSUxfQlVGRkVSX0JJVCksIGkuYmluZEZyYW1lYnVmZmVyKGkuRlJBTUVCVUZGRVIsIG51bGwpKTtcbiAgICAgIH0sIGNsZWFyQWxsQnVmZmVyczogZnVuY3Rpb24gY2xlYXJBbGxCdWZmZXJzKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgdmFyIGEgPSB0aGlzLnJlbmRlcmVyLmdsO2EgJiYgKGEuYmluZEZyYW1lYnVmZmVyKGEuRlJBTUVCVUZGRVIsIHRoaXMucGFzc1JlbmRlclRhcmdldC5mcmFtZWJ1ZmZlck9iamVjdCksIGEuY2xlYXJDb2xvcih0LCBlLCBpLCBuKSwgYS5jbGVhckRlcHRoKHIpLCBhLmNsZWFyU3RlbmNpbChzKSwgYS5jbGVhcihhLkNPTE9SX0JVRkZFUl9CSVQgfCBhLkRFUFRIX0JVRkZFUl9CSVQgfCBhLlNURU5DSUxfQlVGRkVSX0JJVCksIGEuYmluZEZyYW1lYnVmZmVyKGEuRlJBTUVCVUZGRVIsIG51bGwpKTtcbiAgICAgIH0sIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLnJlbmRlcmVyLmdsO2lmIChpKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRSZW5kZXJlcih0aGlzLnJlbmRlcmVyLnNwcml0ZUJhdGNoLCBudWxsLCBudWxsKSwgdGhpcy5yZW5kZXJlci5zcHJpdGVCYXRjaC5hZGRTcHJpdGUodCwgZSk7Zm9yICh2YXIgbiBpbiB0aGlzLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB2YXIgciA9IHRoaXMudGV4dHVyZXNbbl07dGhpcy5zZXRJbnQobiwgci51bml0KSwgaS5hY3RpdmVUZXh0dXJlKGkuVEVYVFVSRTAgKyByLnVuaXQpLCBpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCwgci50ZXh0dXJlKSwgaS5hY3RpdmVUZXh0dXJlKGkuVEVYVFVSRTApO1xuICAgICAgICAgIH10aGlzLnJlbmRlcmVyLnNwcml0ZUJhdGNoLmZsdXNoKHRoaXMucGFzc1NoYWRlciwgdGhpcy5wYXNzUmVuZGVyVGFyZ2V0LmZyYW1lYnVmZmVyT2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVuZGVyUmVjdDogZnVuY3Rpb24gcmVuZGVyUmVjdCh0LCBlLCBpLCBuLCByKSB7XG4gICAgICAgIHZhciBzID0gdGhpcy5yZW5kZXJlci5nbDtpZiAocykge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UmVuZGVyZXIodGhpcy5yZW5kZXJlci5zcHJpdGVCYXRjaCwgbnVsbCwgbnVsbCksIHRoaXMucmVuZGVyZXIuc3ByaXRlQmF0Y2guYWRkVGlsZVRleHR1cmVSZWN0KG51bGwsIHQsIGUsIGksIG4sIDEsIDQyOTQ5NjcyOTUsIHRoaXMuc2Nyb2xsRmFjdG9yWCwgdGhpcy5zY3JvbGxGYWN0b3JZLCBpLCBuLCAwLCAwLCBpLCBuLCByLCBudWxsKTtmb3IgKHZhciBhIGluIHRoaXMudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHZhciBvID0gdGhpcy50ZXh0dXJlc1thXTt0aGlzLnNldEludChhLCBvLnVuaXQpLCBzLmFjdGl2ZVRleHR1cmUocy5URVhUVVJFMCArIG8udW5pdCksIHMuYmluZFRleHR1cmUocy5URVhUVVJFXzJELCBvLnRleHR1cmUpLCBzLmFjdGl2ZVRleHR1cmUocy5URVhUVVJFMCk7XG4gICAgICAgICAgfXRoaXMucmVuZGVyZXIuc3ByaXRlQmF0Y2guZmx1c2godGhpcy5wYXNzU2hhZGVyLCB0aGlzLnBhc3NSZW5kZXJUYXJnZXQuZnJhbWVidWZmZXJPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9LCBzZXRSZW5kZXJUZXh0dXJlQXQ6IGZ1bmN0aW9uIHNldFJlbmRlclRleHR1cmVBdCh0LCBlLCBpKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgJiYgKGkgPSBpID4gMCA/IGkgOiAxLCB0aGlzLnRleHR1cmVzW2VdID0geyB0ZXh0dXJlOiB0LnRleHR1cmUsIHVuaXQ6IGkgfSk7XG4gICAgICB9LCBnZXRVbmlmb3JtTG9jYXRpb246IGZ1bmN0aW9uIGdldFVuaWZvcm1Mb2NhdGlvbih0KSB7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAgaSA9IHRoaXMucGFzc1NoYWRlcixcbiAgICAgICAgICAgIG4gPSB0aGlzLnVuaWZvcm1zO3JldHVybiB0IGluIG4gPyBlID0gblt0XSA6IChlID0gaS5nZXRVbmlmb3JtTG9jYXRpb24odCksIG5bdF0gPSBlKSwgZTtcbiAgICAgIH0sIHNldEZsb2F0OiBmdW5jdGlvbiBzZXRGbG9hdCh0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5wYXNzU2hhZGVyO251bGwgIT09IGkgJiYgaS5zZXRDb25zdGFudEZsb2F0MSh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSk7XG4gICAgICB9LCBzZXRGbG9hdDI6IGZ1bmN0aW9uIHNldEZsb2F0Mih0LCBlLCBpKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5wYXNzU2hhZGVyO251bGwgIT09IG4gJiYgbi5zZXRDb25zdGFudEZsb2F0Mih0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSwgaSk7XG4gICAgICB9LCBzZXRGbG9hdDM6IGZ1bmN0aW9uIHNldEZsb2F0Myh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5wYXNzU2hhZGVyO251bGwgIT09IHIgJiYgci5zZXRDb25zdGFudEZsb2F0Myh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSwgaSwgbik7XG4gICAgICB9LCBzZXRGbG9hdDQ6IGZ1bmN0aW9uIHNldEZsb2F0NCh0LCBlLCBpLCBuLCByKSB7XG4gICAgICAgIHZhciBzID0gdGhpcy5wYXNzU2hhZGVyO251bGwgIT09IHMgJiYgcy5zZXRDb25zdGFudEZsb2F0NCh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih0KSwgZSwgaSwgbiwgcik7XG4gICAgICB9LCBzZXRJbnQ6IGZ1bmN0aW9uIHNldEludCh0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5wYXNzU2hhZGVyO251bGwgIT09IGkgJiYgaS5zZXRDb25zdGFudEludDEodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUpO1xuICAgICAgfSwgc2V0SW50MjogZnVuY3Rpb24gc2V0SW50Mih0LCBlLCBpKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5wYXNzU2hhZGVyO251bGwgIT09IG4gJiYgbi5zZXRDb25zdGFudEludDIodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUsIGkpO1xuICAgICAgfSwgc2V0SW50MzogZnVuY3Rpb24gc2V0SW50Myh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5wYXNzU2hhZGVyO251bGwgIT09IHIgJiYgci5zZXRDb25zdGFudEludDModGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUsIGksIG4pO1xuICAgICAgfSwgc2V0SW50NDogZnVuY3Rpb24gc2V0SW50NCh0LCBlLCBpLCBuLCByKSB7XG4gICAgICAgIHZhciBzID0gdGhpcy5wYXNzU2hhZGVyO251bGwgIT09IHMgJiYgcy5zZXRDb25zdGFudEludDQodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUsIGksIG4sIHIpO1xuICAgICAgfSwgc2V0TWF0cml4MngyOiBmdW5jdGlvbiBzZXRNYXRyaXgyeDIodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMucGFzc1NoYWRlcjtudWxsICE9PSBpICYmIGkuc2V0Q29uc3RhbnRNYXRyaXgyeDIodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUpO1xuICAgICAgfSwgc2V0TWF0cml4M3gzOiBmdW5jdGlvbiBzZXRNYXRyaXgzeDModCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMucGFzc1NoYWRlcjtudWxsICE9PSBpICYmIGkuc2V0Q29uc3RhbnRNYXRyaXgzeDModGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUpO1xuICAgICAgfSwgc2V0TWF0cml4NHg0OiBmdW5jdGlvbiBzZXRNYXRyaXg0eDQodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMucGFzc1NoYWRlcjtudWxsICE9PSBpICYmIGkuc2V0Q29uc3RhbnRNYXRyaXg0eDQodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odCksIGUpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBoO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMyksXG4gICAgICAgIHMgPSBpKDYpLFxuICAgICAgICBhID0gaSgxNzgpLFxuICAgICAgICBvID0gaSg1NjApLFxuICAgICAgICBoID0gaSg1NjEpLFxuICAgICAgICB1ID0gaSg1NjIpLFxuICAgICAgICBjID0gbmV3IG4oeyBFeHRlbmRzOiBzLCBNaXhpbnM6IFtyLkFscGhhLCByLkJsZW5kTW9kZSwgci5PcmlnaW4sIHIuUmVuZGVyVGFyZ2V0LCByLlNjYWxlTW9kZSwgci5UZXh0dXJlLCByLlRpbnQsIHIuVHJhbnNmb3JtLCByLlZpc2libGUsIHIuU2Nyb2xsRmFjdG9yLCB1XSwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuLCByLCBhKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gciAmJiAociA9IFwiXCIpLCBzLmNhbGwodGhpcywgdCwgXCJCaXRtYXBUZXh0XCIpLCB0aGlzLmZvbnQgPSBuO3ZhciBvID0gdGhpcy5zY2VuZS5zeXMuY2FjaGUuYml0bWFwRm9udC5nZXQobik7dGhpcy5mb250RGF0YSA9IG8uZGF0YSwgdGhpcy50ZXh0ID0gQXJyYXkuaXNBcnJheShyKSA/IHIuam9pbihcIlxcblwiKSA6IHIsIHRoaXMuZm9udFNpemUgPSBhIHx8IHRoaXMuZm9udERhdGEuc2l6ZSwgdGhpcy5zZXRUZXh0dXJlKG8udGV4dHVyZSwgby5mcmFtZSksIHRoaXMuc2V0UG9zaXRpb24oZSwgaSksIHRoaXMuc2V0T3JpZ2luKDAsIDApLCB0aGlzLl9ib3VuZHMgPSB0aGlzLmdldFRleHRCb3VuZHMoKTtcbiAgICAgIH0sIHNldEZvbnRTaXplOiBmdW5jdGlvbiBzZXRGb250U2l6ZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTaXplID0gdCwgdGhpcztcbiAgICAgIH0sIHNldFRleHQ6IGZ1bmN0aW9uIHNldFRleHQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0ID0gdCwgdGhpcztcbiAgICAgIH0sIGdldFRleHRCb3VuZHM6IGZ1bmN0aW9uIGdldFRleHRCb3VuZHModCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzID0gYSh0aGlzLCB0KSwgdGhpcy5fYm91bmRzO1xuICAgICAgfSwgd2lkdGg6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGV4dEJvdW5kcyghMSksIHRoaXMuX2JvdW5kcy5nbG9iYWwud2lkdGg7XG4gICAgICAgIH0gfSwgaGVpZ2h0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldFRleHRCb3VuZHMoITEpLCB0aGlzLl9ib3VuZHMuZ2xvYmFsLmhlaWdodDtcbiAgICAgICAgfSB9LCB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgdmFyIHQgPSByLlRvSlNPTih0aGlzKSxcbiAgICAgICAgICAgIGUgPSB7IGZvbnQ6IHRoaXMuZm9udCwgdGV4dDogdGhpcy50ZXh0LCBmb250U2l6ZTogdGhpcy5mb250U2l6ZSB9O3JldHVybiB0LmRhdGEgPSBlLCB0O1xuICAgICAgfSB9KTtjLlBhcnNlUmV0cm9Gb250ID0gaCwgYy5QYXJzZUZyb21BdGxhcyA9IG8sIHQuZXhwb3J0cyA9IGM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg2KSxcbiAgICAgICAgcyA9IGkoMyksXG4gICAgICAgIGEgPSBpKDU2NiksXG4gICAgICAgIG8gPSBpKDE2NyksXG4gICAgICAgIGggPSBuZXcgbih7IEV4dGVuZHM6IHIsIE1peGluczogW3MuQWxwaGEsIHMuQmxlbmRNb2RlLCBzLkZsaXAsIHMuR2V0Qm91bmRzLCBzLk9yaWdpbiwgcy5SZW5kZXJUYXJnZXQsIHMuU2NhbGVNb2RlLCBzLlNpemUsIHMuVGV4dHVyZSwgcy5UcmFuc2Zvcm0sIHMuVmlzaWJsZSwgcy5TY3JvbGxGYWN0b3IsIGFdLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIHMsIGEsIG8sIGgsIHUsIGMsIGwpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIHQsIFwiU3RhdGljVGlsZW1hcFwiKSwgdGhpcy52Ym8gPSBudWxsLCB0aGlzLmdsID0gdC5zeXMuZ2FtZS5yZW5kZXJlci5nbCA/IHQuc3lzLmdhbWUucmVuZGVyZXIuZ2wgOiBudWxsLCB0aGlzLnRpbGVtYXBSZW5kZXJlciA9IHQuc3lzLmdhbWUucmVuZGVyZXIudGlsZW1hcFJlbmRlcmVyID8gdC5zeXMuZ2FtZS5yZW5kZXJlci50aWxlbWFwUmVuZGVyZXIgOiBudWxsLCB0aGlzLnJlc291cmNlTWFuYWdlciA9IHRoaXMuZ2wgPyB0LnN5cy5nYW1lLnJlbmRlcmVyLnJlc291cmNlTWFuYWdlciA6IG51bGwsIHRoaXMuYnVmZmVyRGF0YSA9IG51bGwsIHRoaXMubWFwRGF0YSA9IGUsIHRoaXMudGlsZVdpZHRoID0gcywgdGhpcy50aWxlSGVpZ2h0ID0gYSwgdGhpcy5tYXBXaWR0aCA9IG8sIHRoaXMubWFwSGVpZ2h0ID0gaCwgdGhpcy5kaXJ0eSA9ICEwLCB0aGlzLnZlcnRleENvdW50ID0gMCwgdGhpcy5jdWxsU3RhcnQgPSAwLCB0aGlzLmN1bGxFbmQgPSAwLCB0aGlzLnRpbGVCb3JkZXIgPSB1LCB0aGlzLnNldFRleHR1cmUoYywgbCksIHRoaXMuc2V0UG9zaXRpb24oaSwgbiksIHRoaXMuc2V0U2l6ZVRvRnJhbWUoKSwgdGhpcy5zZXRPcmlnaW4oKSwgdGhpcy5zZXRTaXplKHMgKiBvLCBhICogaCk7XG4gICAgICB9LCB1cGxvYWQ6IGZ1bmN0aW9uIHVwbG9hZCh0KSB7XG4gICAgICAgIGlmICh0aGlzLmdsKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHZhciBlLFxuICAgICAgICAgICAgICAgIGkgPSB0aGlzLmdsLFxuICAgICAgICAgICAgICAgIG4gPSB0aGlzLnZibyxcbiAgICAgICAgICAgICAgICByID0gdGhpcy5tYXBXaWR0aCxcbiAgICAgICAgICAgICAgICBzID0gdGhpcy5tYXBIZWlnaHQsXG4gICAgICAgICAgICAgICAgYSA9IHRoaXMudGlsZUJvcmRlcixcbiAgICAgICAgICAgICAgICBoID0gdGhpcy50aWxlV2lkdGgsXG4gICAgICAgICAgICAgICAgdSA9IHRoaXMudGlsZUhlaWdodCxcbiAgICAgICAgICAgICAgICBjID0gaCArIDIgKiBhLFxuICAgICAgICAgICAgICAgIGwgPSB1ICsgMiAqIGEsXG4gICAgICAgICAgICAgICAgZiA9IHRoaXMuYnVmZmVyRGF0YSxcbiAgICAgICAgICAgICAgICBkID0gMCxcbiAgICAgICAgICAgICAgICBwID0gMCxcbiAgICAgICAgICAgICAgICB2ID0gdGhpcy50ZXh0dXJlLnNvdXJjZVswXS53aWR0aCxcbiAgICAgICAgICAgICAgICBnID0gdGhpcy50ZXh0dXJlLnNvdXJjZVswXS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgeCA9IHYgLyBoLFxuICAgICAgICAgICAgICAgIG0gPSB0aGlzLm1hcERhdGE7bnVsbCA9PT0gdGhpcy52Ym8gJiYgKG4gPSB0aGlzLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIoaS5BUlJBWV9CVUZGRVIsIHIgKiBzICogMjQgKiA0LCBpLlNUQVRJQ19EUkFXKSwgbi5hZGRBdHRyaWJ1dGUodGhpcy50aWxlbWFwUmVuZGVyZXIuc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9wb3NpdGlvblwiKSwgMiwgaS5GTE9BVCwgITEsIG8uVkVSVEVYX1NJWkUsIDApLCBuLmFkZEF0dHJpYnV0ZSh0aGlzLnRpbGVtYXBSZW5kZXJlci5zaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oXCJhX3RleF9jb29yZFwiKSwgMiwgaS5GTE9BVCwgITEsIG8uVkVSVEVYX1NJWkUsIDgpLCBmID0gdGhpcy5idWZmZXJEYXRhID0gbmV3IEFycmF5QnVmZmVyKHIgKiBzICogMjQgKiA0KSwgdGhpcy52Ym8gPSBuLCBuLmJpbmQoKSksIGUgPSBuZXcgRmxvYXQzMkFycmF5KGYpO2ZvciAodmFyIHkgPSAwOyB5IDwgczsgKyt5KSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgcjsgKyt3KSB7XG4gICAgICAgICAgICAgICAgdmFyIEUgPSBtW3kgKiByICsgd10sXG4gICAgICAgICAgICAgICAgICAgIFQgPSAuNSAqIGMsXG4gICAgICAgICAgICAgICAgICAgIGIgPSAuNSAqIGwsXG4gICAgICAgICAgICAgICAgICAgIF8gPSAoRSAlIHggfCAwKSAqIGMgKyBULFxuICAgICAgICAgICAgICAgICAgICBBID0gKEUgLyB4IHwgMCkgKiBsICsgYixcbiAgICAgICAgICAgICAgICAgICAgUyA9IHcgKiBoLFxuICAgICAgICAgICAgICAgICAgICBSID0geSAqIHUsXG4gICAgICAgICAgICAgICAgICAgIE0gPSBTICsgaCxcbiAgICAgICAgICAgICAgICAgICAgTyA9IFIgKyB1LFxuICAgICAgICAgICAgICAgICAgICBDID0gKF8gLSAoVCAtIC41KSkgLyB2LFxuICAgICAgICAgICAgICAgICAgICBMID0gKEEgLSAoYiAtIC41KSkgLyBnLFxuICAgICAgICAgICAgICAgICAgICBGID0gKF8gKyAoVCAtIC41KSkgLyB2LFxuICAgICAgICAgICAgICAgICAgICBJID0gKEEgKyAoYiAtIC41KSkgLyBnLFxuICAgICAgICAgICAgICAgICAgICBEID0gUyxcbiAgICAgICAgICAgICAgICAgICAgQiA9IFIsXG4gICAgICAgICAgICAgICAgICAgIFAgPSBTLFxuICAgICAgICAgICAgICAgICAgICBrID0gTyxcbiAgICAgICAgICAgICAgICAgICAgTiA9IE0sXG4gICAgICAgICAgICAgICAgICAgIFggPSBPLFxuICAgICAgICAgICAgICAgICAgICBVID0gTSxcbiAgICAgICAgICAgICAgICAgICAgWSA9IFI7ZVtkICsgMF0gPSBELCBlW2QgKyAxXSA9IEIsIGVbZCArIDJdID0gQywgZVtkICsgM10gPSBMLCBlW2QgKyA0XSA9IFAsIGVbZCArIDVdID0gaywgZVtkICsgNl0gPSBDLCBlW2QgKyA3XSA9IEksIGVbZCArIDhdID0gTiwgZVtkICsgOV0gPSBYLCBlW2QgKyAxMF0gPSBGLCBlW2QgKyAxMV0gPSBJLCBlW2QgKyAxMl0gPSBELCBlW2QgKyAxM10gPSBCLCBlW2QgKyAxNF0gPSBDLCBlW2QgKyAxNV0gPSBMLCBlW2QgKyAxNl0gPSBOLCBlW2QgKyAxN10gPSBYLCBlW2QgKyAxOF0gPSBGLCBlW2QgKyAxOV0gPSBJLCBlW2QgKyAyMF0gPSBVLCBlW2QgKyAyMV0gPSBZLCBlW2QgKyAyMl0gPSBGLCBlW2QgKyAyM10gPSBMLCBkICs9IDI0LCBwICs9IDY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH10aGlzLnZlcnRleENvdW50ID0gcCwgbi51cGRhdGVSZXNvdXJjZShmLCAwKSwgdGhpcy5kaXJ0eSA9ICExO1xuICAgICAgICAgIH10aGlzLnRpbGVtYXBSZW5kZXJlci5zaGFkZXIuc2V0Q29uc3RhbnRGbG9hdDIodGhpcy50aWxlbWFwUmVuZGVyZXIuc2Nyb2xsTG9jYXRpb24sIC10LnNjcm9sbFgsIC10LnNjcm9sbFkpLCB0aGlzLnRpbGVtYXBSZW5kZXJlci5zaGFkZXIuc2V0Q29uc3RhbnRGbG9hdDIodGhpcy50aWxlbWFwUmVuZGVyZXIuc2Nyb2xsRmFjdG9yTG9jYXRpb24sIHRoaXMuc2Nyb2xsRmFjdG9yWCwgdGhpcy5zY3JvbGxGYWN0b3JZKSwgdGhpcy50aWxlbWFwUmVuZGVyZXIuc2hhZGVyLnNldENvbnN0YW50RmxvYXQyKHRoaXMudGlsZW1hcFJlbmRlcmVyLnRpbGVtYXBQb3NpdGlvbkxvY2F0aW9uLCB0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJ0eSAmJiAhdGhpcy5nbCkge1xuICAgICAgICAgIHZhciByID0gdGhpcy5tYXBXaWR0aCxcbiAgICAgICAgICAgICAgcyA9IHRoaXMubWFwSGVpZ2h0LFxuICAgICAgICAgICAgICBhID0gdGhpcy50aWxlQm9yZGVyLFxuICAgICAgICAgICAgICBoID0gdGhpcy50aWxlV2lkdGgsXG4gICAgICAgICAgICAgIHUgPSB0aGlzLnRpbGVIZWlnaHQsXG4gICAgICAgICAgICAgIGMgPSBoICsgMiAqIGEsXG4gICAgICAgICAgICAgIGwgPSB1ICsgMiAqIGEsXG4gICAgICAgICAgICAgIHYgPSB0aGlzLnRleHR1cmUuc291cmNlWzBdLndpZHRoLFxuICAgICAgICAgICAgICBnID0gdGhpcy50ZXh0dXJlLnNvdXJjZVswXS5oZWlnaHQsXG4gICAgICAgICAgICAgIHggPSB2IC8gaCxcbiAgICAgICAgICAgICAgbSA9IHRoaXMubWFwRGF0YTt0aGlzLnRpbGVzID0gW107Zm9yICh2YXIgeSA9IDA7IHkgPCBzOyArK3kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHcgPSAwOyB3IDwgcjsgKyt3KSB7XG4gICAgICAgICAgICAgIHZhciBFID0gbVt5ICogciArIHddLFxuICAgICAgICAgICAgICAgICAgViA9IChFICUgeCB8IDApICogYyxcbiAgICAgICAgICAgICAgICAgIHogPSAoRSAvIHggfCAwKSAqIGwsXG4gICAgICAgICAgICAgICAgICBTID0gdyAqIGgsXG4gICAgICAgICAgICAgICAgICBSID0geSAqIHU7dGhpcy50aWxlcy5wdXNoKHsgeDogUywgeTogUiwgZnJhbWVYOiBWLCBmcmFtZVk6IHogfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfXRoaXMuZGlydHkgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfSwgZ2V0VG90YWxUaWxlQ291bnQ6IGZ1bmN0aW9uIGdldFRvdGFsVGlsZUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBEYXRhLmxlbmd0aDtcbiAgICAgIH0sIGdldFZpc2libGVUaWxlQ291bnQ6IGZ1bmN0aW9uIGdldFZpc2libGVUaWxlQ291bnQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdWxsKHQpLCAodGhpcy5jdWxsRW5kIC0gdGhpcy5jdWxsU3RhcnQpIC8gNjtcbiAgICAgIH0sIGN1bGw6IGZ1bmN0aW9uIGN1bGwodCkge1xuICAgICAgICB0aGlzLmN1bGxTdGFydCA9IDAsIHRoaXMuY3VsbEVuZCA9IDA7dmFyIGUgPSB0aGlzLnRpbGVXaWR0aCxcbiAgICAgICAgICAgIGkgPSB0aGlzLnRpbGVIZWlnaHQsXG4gICAgICAgICAgICBuID0gdGhpcy54IC0gdC5zY3JvbGxYICogdGhpcy5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgciA9IHRoaXMueSAtIHQuc2Nyb2xsWSAqIHRoaXMuc2Nyb2xsRmFjdG9yWSxcbiAgICAgICAgICAgIHMgPSB0aGlzLm1hcFdpZHRoICogZSxcbiAgICAgICAgICAgIGEgPSB0aGlzLm1hcEhlaWdodCAqIGk7aWYgKG4gPCB0LnggKyB0LndpZHRoICsgMiAqIGUgJiYgbiArIHMgPiB0LnggKyAtMiAqIGUgJiYgciA8IHQueSArIHQuaGVpZ2h0ICsgMiAqIGkgJiYgciArIGEgPiB0LnkgKyAtMiAqIGkpIHtcbiAgICAgICAgICB2YXIgbyA9IE1hdGgubWF4KG4sIHQueCArIC0yICogZSksXG4gICAgICAgICAgICAgIGggPSBNYXRoLm1heChyLCB0LnkgKyAtMiAqIGkpLFxuICAgICAgICAgICAgICB1ID0gTWF0aC5taW4obiArIHMsIHQueCArIHQud2lkdGggKyAyICogZSkgLSBvLFxuICAgICAgICAgICAgICBjID0gTWF0aC5taW4ociArIGEsIHQueSArIHQuaGVpZ2h0ICsgMiAqIGkpIC0gaDtvID0gKG8gKyB0LnNjcm9sbFggKiB0aGlzLnNjcm9sbEZhY3RvclgpIC8gZSB8IDAsIGggPSAoaCArIHQuc2Nyb2xsWSAqIHRoaXMuc2Nyb2xsRmFjdG9yWSkgLyBpIHwgMCwgdSA9IHUgLyBlIHwgMCwgYyA9IGMgLyBpIHwgMCwgdGhpcy5jdWxsU3RhcnQgPSA2ICogKGggKiB0aGlzLm1hcFdpZHRoICsgbyksIHRoaXMuY3VsbEVuZCA9IDYgKiAoKGggKyBjKSAqIHRoaXMubWFwV2lkdGggKyBvKTtcbiAgICAgICAgfVxuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBoO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNiksXG4gICAgICAgIHMgPSBpKDMpLFxuICAgICAgICBhID0gaSgxMSksXG4gICAgICAgIG8gPSBpKDU3MCksXG4gICAgICAgIGggPSBpKDU3MyksXG4gICAgICAgIHUgPSBpKDU3NSksXG4gICAgICAgIGMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIE1peGluczogW3MuQWxwaGEsIHMuQmxlbmRNb2RlLCBzLkZsaXAsIHMuR2V0Qm91bmRzLCBzLk9yaWdpbiwgcy5SZW5kZXJUYXJnZXQsIHMuU2NhbGVNb2RlLCBzLlNjcm9sbEZhY3Rvciwgcy5UaW50LCBzLlRyYW5zZm9ybSwgcy5WaXNpYmxlLCBvXSwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuLCBzKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBuICYmIChuID0gXCIgXCIpLCByLmNhbGwodGhpcywgdCwgXCJUZXh0XCIpLCB0aGlzLnNldFBvc2l0aW9uKGUsIGkpLCB0aGlzLnNldE9yaWdpbigwLCAwKSwgdGhpcy5jYW52YXMgPSBhLmNyZWF0ZSh0aGlzKSwgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLCB0aGlzLnN0eWxlID0gbmV3IGgodGhpcywgcyksIHRoaXMuYXV0b1JvdW5kID0gITAsIHRoaXMuc3BsaXRSZWdFeHAgPSAvKD86XFxyXFxufFxccnxcXG4pLywgdGhpcy50ZXh0ID0gQXJyYXkuaXNBcnJheShuKSA/IG4uam9pbihcIlxcblwiKSA6IG4sIHRoaXMucmVzb2x1dGlvbiA9IDEsIHRoaXMucGFkZGluZyA9IHsgeDogMCwgeTogMCB9LCB0aGlzLndpZHRoID0gMSwgdGhpcy5oZWlnaHQgPSAxLCB0aGlzLmNhbnZhc1RleHR1cmUgPSBudWxsLCB0aGlzLmRpcnR5ID0gITEsIFwiXCIgIT09IG4gJiYgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICB9LCBzZXRUZXh0OiBmdW5jdGlvbiBzZXRUZXh0KHQpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodCkgJiYgKHQgPSB0LmpvaW4oXCJcXG5cIikpLCB0ICE9PSB0aGlzLnRleHQgJiYgKHRoaXMudGV4dCA9IHQudG9TdHJpbmcoKSwgdGhpcy51cGRhdGVUZXh0KCkpLCB0aGlzO1xuICAgICAgfSwgc2V0U3R5bGU6IGZ1bmN0aW9uIHNldFN0eWxlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2V0U3R5bGUodCk7XG4gICAgICB9LCBzZXRGb250OiBmdW5jdGlvbiBzZXRGb250KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2V0Rm9udCh0KTtcbiAgICAgIH0sIHNldEZpeGVkU2l6ZTogZnVuY3Rpb24gc2V0Rml4ZWRTaXplKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2V0Rml4ZWRTaXplKHQsIGUpO1xuICAgICAgfSwgc2V0QmFja2dyb3VuZENvbG9yOiBmdW5jdGlvbiBzZXRCYWNrZ3JvdW5kQ29sb3IodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5zZXRCYWNrZ3JvdW5kQ29sb3IodCk7XG4gICAgICB9LCBzZXRGaWxsOiBmdW5jdGlvbiBzZXRGaWxsKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2V0RmlsbCh0KTtcbiAgICAgIH0sIHNldFN0cm9rZTogZnVuY3Rpb24gc2V0U3Ryb2tlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2V0U3Ryb2tlKHQsIGUpO1xuICAgICAgfSwgc2V0U2hhZG93OiBmdW5jdGlvbiBzZXRTaGFkb3codCwgZSwgaSwgbiwgciwgcykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5zZXRTaGFkb3codCwgZSwgaSwgbiwgciwgcyk7XG4gICAgICB9LCBzZXRTaGFkb3dPZmZzZXQ6IGZ1bmN0aW9uIHNldFNoYWRvd09mZnNldCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnNldFNoYWRvd09mZnNldCh0LCBlKTtcbiAgICAgIH0sIHNldFNoYWRvd0NvbG9yOiBmdW5jdGlvbiBzZXRTaGFkb3dDb2xvcih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnNldFNoYWRvd0NvbG9yKHQpO1xuICAgICAgfSwgc2V0U2hhZG93Qmx1cjogZnVuY3Rpb24gc2V0U2hhZG93Qmx1cih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnNldFNoYWRvd0JsdXIodCk7XG4gICAgICB9LCBzZXRTaGFkb3dTdHJva2U6IGZ1bmN0aW9uIHNldFNoYWRvd1N0cm9rZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnNldFNoYWRvd1N0cm9rZSh0KTtcbiAgICAgIH0sIHNldFNoYWRvd0ZpbGw6IGZ1bmN0aW9uIHNldFNoYWRvd0ZpbGwodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5zZXRTaGFkb3dGaWxsKHQpO1xuICAgICAgfSwgc2V0QWxpZ246IGZ1bmN0aW9uIHNldEFsaWduKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2V0QWxpZ24odCk7XG4gICAgICB9LCBzZXRNYXhMaW5lczogZnVuY3Rpb24gc2V0TWF4TGluZXModCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5zZXRNYXhMaW5lcyh0KTtcbiAgICAgIH0sIHVwZGF0ZVRleHQ6IGZ1bmN0aW9uIHVwZGF0ZVRleHQoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5jYW52YXMsXG4gICAgICAgICAgICBlID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgaSA9IHRoaXMuc3R5bGUsXG4gICAgICAgICAgICBuID0gaS5tZXRyaWNzLFxuICAgICAgICAgICAgciA9IHRoaXMudGV4dCxcbiAgICAgICAgICAgIHMgPSByLnNwbGl0KHRoaXMuc3BsaXRSZWdFeHApLFxuICAgICAgICAgICAgYSA9IHUodGhpcywgbiwgcyk7aS5maXhlZFdpZHRoIHx8ICh0aGlzLndpZHRoID0gYS53aWR0aCksIGkuZml4ZWRIZWlnaHQgfHwgKHRoaXMuaGVpZ2h0ID0gYS5oZWlnaHQpLCB0aGlzLnVwZGF0ZU9yaWdpbigpO3ZhciBvID0gdGhpcy5wYWRkaW5nLFxuICAgICAgICAgICAgaCA9IChhLndpZHRoICsgMiAqIG8ueCkgKiB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICBjID0gKGEuaGVpZ2h0ICsgMiAqIG8ueSkgKiB0aGlzLnJlc29sdXRpb247dC53aWR0aCAhPT0gaCB8fCB0LmhlaWdodCAhPT0gYyA/ICh0LndpZHRoID0gaCwgdC5oZWlnaHQgPSBjKSA6IGUuY2xlYXJSZWN0KDAsIDAsIGgsIGMpLCBpLmJhY2tncm91bmRDb2xvciAmJiAoZS5maWxsU3R5bGUgPSBpLmJhY2tncm91bmRDb2xvciwgZS5maWxsUmVjdCgwLCAwLCBoLCBjKSksIGkuc3luY0ZvbnQodCwgZSksIGUudGV4dEJhc2VsaW5lID0gXCJhbHBoYWJldGljXCIsIGUudHJhbnNsYXRlKG8ueCwgby55KTtmb3IgKHZhciBsLCBmLCBkID0gMDsgZCA8IGEubGluZXM7IGQrKykge1xuICAgICAgICAgIGwgPSBpLnN0cm9rZVRoaWNrbmVzcyAvIDIsIGYgPSBpLnN0cm9rZVRoaWNrbmVzcyAvIDIgKyBkICogYS5saW5lSGVpZ2h0ICsgbi5hc2NlbnQsIGQgPiAwICYmIChmICs9IGEubGluZVNwYWNpbmcgKiBkKSwgXCJyaWdodFwiID09PSBpLmFsaWduID8gbCArPSBhLndpZHRoIC0gYS5saW5lV2lkdGhzW2RdIDogXCJjZW50ZXJcIiA9PT0gaS5hbGlnbiAmJiAobCArPSAoYS53aWR0aCAtIGEubGluZVdpZHRoc1tkXSkgLyAyKSwgdGhpcy5hdXRvUm91bmQgJiYgKGwgPSBNYXRoLnJvdW5kKGwpLCBmID0gTWF0aC5yb3VuZChmKSksIGkuc3Ryb2tlVGhpY2tuZXNzICYmICh0aGlzLnN0eWxlLnN5bmNTaGFkb3coZSwgaS5zaGFkb3dTdHJva2UpLCBlLnN0cm9rZVRleHQoc1tkXSwgbCwgZikpLCBpLmZpbGwgJiYgKHRoaXMuc3R5bGUuc3luY1NoYWRvdyhlLCBpLnNoYWRvd0ZpbGwpLCBlLmZpbGxUZXh0KHNbZF0sIGwsIGYpKTtcbiAgICAgICAgfXJldHVybiB0aGlzLmRpcnR5ID0gITAsIHRoaXM7XG4gICAgICB9LCBnZXRUZXh0TWV0cmljczogZnVuY3Rpb24gZ2V0VGV4dE1ldHJpY3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldFRleHRNZXRyaWNzKCk7XG4gICAgICB9LCB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgdmFyIHQgPSBzLlRvSlNPTih0aGlzKSxcbiAgICAgICAgICAgIGUgPSB7IGF1dG9Sb3VuZDogdGhpcy5hdXRvUm91bmQsIHRleHQ6IHRoaXMudGV4dCwgc3R5bGU6IHRoaXMuc3R5bGUudG9KU09OKCksIHJlc29sdXRpb246IHRoaXMucmVzb2x1dGlvbiwgcGFkZGluZzogeyB4OiB0aGlzLnBhZGRpbmcueCwgeTogdGhpcy5wYWRkaW5nLnkgfSB9O3JldHVybiB0LmRhdGEgPSBlLCB0O1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBjO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMSksXG4gICAgICAgIHIgPSBpKDApLFxuICAgICAgICBzID0gaSgzKSxcbiAgICAgICAgYSA9IGkoNiksXG4gICAgICAgIG8gPSBpKDE1MSksXG4gICAgICAgIGggPSBpKDU3NyksXG4gICAgICAgIHUgPSBuZXcgcih7IEV4dGVuZHM6IGEsIE1peGluczogW3MuQWxwaGEsIHMuQmxlbmRNb2RlLCBzLkZsaXAsIHMuR2V0Qm91bmRzLCBzLk9yaWdpbiwgcy5SZW5kZXJUYXJnZXQsIHMuU2NhbGVNb2RlLCBzLlNjcm9sbEZhY3Rvciwgcy5TaXplLCBzLlRleHR1cmUsIHMuVGludCwgcy5UcmFuc2Zvcm0sIHMuVmlzaWJsZSwgaF0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgciwgcywgaCwgdSkge1xuICAgICAgICB2YXIgYyA9IHQuc3lzLmdhbWUucmVuZGVyZXIucmVzb3VyY2VNYW5hZ2VyO2lmIChhLmNhbGwodGhpcywgdCwgXCJUaWxlU3ByaXRlXCIpLCB0aGlzLnRpbGVQb3NpdGlvblggPSAwLCB0aGlzLnRpbGVQb3NpdGlvblkgPSAwLCB0aGlzLmRpcnR5ID0gITAsIHRoaXMudGlsZVRleHR1cmUgPSBudWxsLCB0aGlzLnJlbmRlcmVyID0gbnVsbCwgdGhpcy5zZXRUZXh0dXJlKGgsIHUpLCB0aGlzLnNldFBvc2l0aW9uKGUsIGkpLCB0aGlzLnNldFNpemUociwgcyksIHRoaXMuc2V0T3JpZ2luKCksIHRoaXMucG90V2lkdGggPSBvKHRoaXMuZnJhbWUud2lkdGgpLCB0aGlzLnBvdEhlaWdodCA9IG8odGhpcy5mcmFtZS5oZWlnaHQpLCB0aGlzLmNhbnZhc1BhdHRlcm4gPSBudWxsLCBjKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlciA9IHQuc3lzLmdhbWUucmVuZGVyZXI7dmFyIGwgPSB0LnN5cy5nYW1lLnJlbmRlcmVyLmdsO3RoaXMudGlsZVRleHR1cmUgPSBjLmNyZWF0ZVRleHR1cmUoMCwgbC5MSU5FQVIsIGwuTElORUFSLCBsLlJFUEVBVCwgbC5SRVBFQVQsIGwuUkdCQSwgdGhpcy5jYW52YXNCdWZmZXIsIHRoaXMucG90V2lkdGgsIHRoaXMucG90SGVpZ2h0KTtcbiAgICAgICAgfXRoaXMuY2FudmFzQnVmZmVyID0gbi5jcmVhdGUyRChudWxsLCB0aGlzLnBvdFdpZHRoLCB0aGlzLnBvdEhlaWdodCksIHRoaXMuY2FudmFzQnVmZmVyQ3R4ID0gdGhpcy5jYW52YXNCdWZmZXIuZ2V0Q29udGV4dChcIjJkXCIpLCB0aGlzLnVwZGF0ZVRpbGVUZXh0dXJlKCk7XG4gICAgICB9LCB1cGRhdGVUaWxlVGV4dHVyZTogZnVuY3Rpb24gdXBkYXRlVGlsZVRleHR1cmUoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgJiYgKHRoaXMuY2FudmFzQnVmZmVyQ3R4LmRyYXdJbWFnZSh0aGlzLmZyYW1lLnNvdXJjZS5pbWFnZSwgdGhpcy5mcmFtZS5jdXRYLCB0aGlzLmZyYW1lLmN1dFksIHRoaXMuZnJhbWUuY3V0V2lkdGgsIHRoaXMuZnJhbWUuY3V0SGVpZ2h0LCAwLCAwLCB0aGlzLnBvdFdpZHRoLCB0aGlzLnBvdEhlaWdodCksIHRoaXMucmVuZGVyZXIgPyB0aGlzLnJlbmRlcmVyLnVwbG9hZENhbnZhc1RvR1BVKHRoaXMuY2FudmFzQnVmZmVyLCB0aGlzLnRpbGVUZXh0dXJlLCAhMSkgOiB0aGlzLmNhbnZhc1BhdHRlcm4gPSB0aGlzLmNhbnZhc0J1ZmZlckN0eC5jcmVhdGVQYXR0ZXJuKHRoaXMuY2FudmFzQnVmZmVyLCBcInJlcGVhdFwiKSwgdGhpcy5kaXJ0eSA9ICExKTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgJiYgdGhpcy5yZW5kZXJlci5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGlsZVRleHR1cmUpLCBuLnJlbW92ZSh0aGlzLmNhbnZhc0J1ZmZlciksIHRoaXMuY2FudmFzUGF0dGVybiA9IG51bGwsIHRoaXMuY2FudmFzQnVmZmVyQ3R4ID0gbnVsbCwgdGhpcy5jYW52YXNCdWZmZXIgPSBudWxsLCB0aGlzLnJlbmRlcmVyID0gbnVsbCwgdGhpcy52aXNpYmxlID0gITE7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHU7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBuICYmIChuID0gMCksIHRoaXMueCA9IHQsIHRoaXMueSA9IGUsIHRoaXMud2lkdGggPSBpLCB0aGlzLmhlaWdodCA9IG47XG4gICAgICB9LCBzZXRUbzogZnVuY3Rpb24gc2V0VG8odCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID0gdCwgdGhpcy55ID0gZSwgdGhpcy53aWR0aCA9IGksIHRoaXMuaGVpZ2h0ID0gbiwgdGhpcztcbiAgICAgIH0sIHNldEVtcHR5OiBmdW5jdGlvbiBzZXRFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0VG8oMCwgMCwgMCwgMCk7XG4gICAgICB9LCBzZXRQb3NpdGlvbjogZnVuY3Rpb24gc2V0UG9zaXRpb24odCwgZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gdCksIHRoaXMueCA9IHQsIHRoaXMueSA9IGUsIHRoaXM7XG4gICAgICB9LCBzZXRTaXplOiBmdW5jdGlvbiBzZXRTaXplKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHQpLCB0aGlzLndpZHRoID0gdCwgdGhpcy5oZWlnaHQgPSBlLCB0aGlzO1xuICAgICAgfSwgaXNFbXB0eTogZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwO1xuICAgICAgfSwgZ2V0TWlub3JSYWRpdXM6IGZ1bmN0aW9uIGdldE1pbm9yUmFkaXVzKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpIC8gMjtcbiAgICAgIH0sIGdldE1ham9yUmFkaXVzOiBmdW5jdGlvbiBnZXRNYWpvclJhZGl1cygpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSAvIDI7XG4gICAgICB9LCBsZWZ0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0ID49IHRoaXMucmlnaHQgPyB0aGlzLndpZHRoID0gMCA6IHRoaXMud2lkdGggPSB0aGlzLnJpZ2h0IC0gdCwgdGhpcy54ID0gdDtcbiAgICAgICAgfSB9LCByaWdodDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHQgPD0gdGhpcy54ID8gdGhpcy53aWR0aCA9IDAgOiB0aGlzLndpZHRoID0gdCAtIHRoaXMueDtcbiAgICAgICAgfSB9LCB0b3A6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHQgPj0gdGhpcy5ib3R0b20gPyAodGhpcy5oZWlnaHQgPSAwLCB0aGlzLnkgPSB0KSA6IHRoaXMuaGVpZ2h0ID0gdGhpcy5ib3R0b20gLSB0O1xuICAgICAgICB9IH0sIGJvdHRvbTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy55ICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0IDw9IHRoaXMueSA/IHRoaXMuaGVpZ2h0ID0gMCA6IHRoaXMuaGVpZ2h0ID0gdCAtIHRoaXMueTtcbiAgICAgICAgfSB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTYsIG4sIHIpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSBcIlwiKSwgdm9pZCAwID09PSBlICYmIChlID0gITApLCB2b2lkIDAgPT09IF9pMTYgJiYgKF9pMTYgPSBcIlwiKSwgdm9pZCAwID09PSBuICYmIChuID0gXCJcIiksIHZvaWQgMCA9PT0gciAmJiAociA9IDApLCB7IHJlc3BvbnNlVHlwZTogdCwgYXN5bmM6IGUsIHVzZXI6IF9pMTYsIHBhc3N3b3JkOiBuLCB0aW1lb3V0OiByLCBoZWFkZXI6IHZvaWQgMCwgaGVhZGVyVmFsdWU6IHZvaWQgMCwgb3ZlcnJpZGVNaW1lVHlwZTogdm9pZCAwIH07XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMTIpLFxuICAgICAgICBzID0gaSgyNCksXG4gICAgICAgIGEgPSBpKDcpLFxuICAgICAgICBvID0gbmV3IG4oeyBFeHRlbmRzOiBzLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gdCA6IGEodCwgXCJrZXlcIiwgXCJcIiksXG4gICAgICAgICAgICBvID0geyB0eXBlOiBcImpzb25cIiwgZXh0ZW5zaW9uOiBhKHQsIFwiZXh0ZW5zaW9uXCIsIFwianNvblwiKSwgcmVzcG9uc2VUeXBlOiBcInRleHRcIiwga2V5OiByLCB1cmw6IGEodCwgXCJmaWxlXCIsIGUpLCBwYXRoOiBpLCB4aHJTZXR0aW5nczogYSh0LCBcInhoclwiLCBuKSB9O3MuY2FsbCh0aGlzLCBvKTtcbiAgICAgIH0sIG9uUHJvY2VzczogZnVuY3Rpb24gb25Qcm9jZXNzKHQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHIuRklMRV9QUk9DRVNTSU5HLCB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRoaXMueGhyTG9hZGVyLnJlc3BvbnNlVGV4dCksIHRoaXMub25Db21wbGV0ZSgpLCB0KHRoaXMpO1xuICAgICAgfSB9KTtvLmNyZWF0ZSA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgZm9yICh2YXIgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7XG4gICAgICAgIHQuYWRkRmlsZShuZXcgbyhlW3JdLCBpLCB0LnBhdGgsIG4pKTtcbiAgICAgIH0gZWxzZSB0LmFkZEZpbGUobmV3IG8oZSwgaSwgdC5wYXRoLCBuKSk7cmV0dXJuIHQ7XG4gICAgfSwgdC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNTgpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2YXIgaSA9IG4odCk7Zm9yICh2YXIgciBpbiBlKSB7XG4gICAgICAgIGkuaGFzT3duUHJvcGVydHkocikgfHwgKGlbcl0gPSBlW3JdKTtcbiAgICAgIH1yZXR1cm4gaTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBBY2NlbGVyYXRpb246IGkoNjkyKSwgQm9keVNjYWxlOiBpKDY5MyksIEJvZHlUeXBlOiBpKDY5NCksIEJvdW5jZTogaSg2OTUpLCBDaGVja0FnYWluc3Q6IGkoNjk2KSwgQ29sbGlkZXM6IGkoNjk3KSwgRGVidWc6IGkoNjk4KSwgRnJpY3Rpb246IGkoNjk5KSwgR3Jhdml0eTogaSg3MDApLCBPZmZzZXQ6IGkoNzAxKSwgU2V0R2FtZU9iamVjdDogaSg3MDIpLCBWZWxvY2l0eTogaSg3MDMpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIHIpIHtcbiAgICAgICAgdm9pZCAwID09PSBpICYmIChpID0gLTEpLCB2b2lkIDAgPT09IG4gJiYgKG4gPSB0aGlzLm1ha2VHYW1lT2JqZWN0KSwgdm9pZCAwID09PSByICYmIChyID0gdGhpcyksIHRoaXMubWFuYWdlciA9IHQsIHRoaXMuc2NlbmUgPSB0LnNjZW5lLCB0aGlzLmRpc3BsYXlMaXN0ID0gdGhpcy5zY2VuZS5zeXMuZGlzcGxheUxpc3QsIHRoaXMudXBkYXRlTGlzdCA9IHRoaXMuc2NlbmUuc3lzLnVwZGF0ZUxpc3QsIHRoaXMuY3JlYXRlQ2FsbGJhY2sgPSBuLCB0aGlzLmNhbGxiYWNrU2NvcGUgPSByLCB0aGlzLm1heFNpemUgPSBpLCB0aGlzLmNsYXNzVHlwZSA9IGUsIHRoaXMuX2xpc3QgPSBbXTtcbiAgICAgIH0sIG1ha2VHYW1lT2JqZWN0OiBmdW5jdGlvbiBtYWtlR2FtZU9iamVjdCgpIHtcbiAgICAgICAgdmFyIHQgPSBuZXcgdGhpcy5jbGFzc1R5cGUodGhpcy5zY2VuZSk7cmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKHQpLCB0LnNldEFjdGl2ZSghMSksIHQuc2V0VmlzaWJsZSghMSksIHQ7XG4gICAgICB9LCBhZGQ6IGZ1bmN0aW9uIGFkZCh0KSB7XG4gICAgICAgIHZhciBlO2UgPSBBcnJheS5pc0FycmF5KHQpID8gdCA6IHQuaGFzT3duUHJvcGVydHkoXCJjaGlsZHJlblwiKSA/IHQuY2hpbGRyZW4uZ2V0QXJyYXkoKSA6IFt0XTt2YXIgaSA9IGUubGVuZ3RoO2lmICh0aGlzLm1heFNpemUgPiAtMSkge1xuICAgICAgICAgIHZhciBuID0gdGhpcy5tYXhTaXplIC0gdGhpcy5fbGlzdC5sZW5ndGg7aSA+IG4gJiYgKGkgPSBuKTtcbiAgICAgICAgfWZvciAodmFyIHIgPSAwOyByIDwgaTsgcisrKSB7XG4gICAgICAgICAgdGhpcy5fbGlzdC5wdXNoKGVbcl0pO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSh0KSB7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdDsgZSsrKSB7XG4gICAgICAgICAgdGhpcy5pc0Z1bGwoKSB8fCB0aGlzLl9saXN0LnB1c2godGhpcy5jcmVhdGVDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tTY29wZSkpO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnJlZUdhbWVPYmplY3QoKTtcbiAgICAgIH0sIGdldEZyZWVHYW1lT2JqZWN0OiBmdW5jdGlvbiBnZXRGcmVlR2FtZU9iamVjdCgpIHtcbiAgICAgICAgZm9yICh2YXIgdCwgZSA9IDA7IGUgPCB0aGlzLl9saXN0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgaWYgKHQgPSB0aGlzLl9saXN0W2VdLCAhdC5hY3RpdmUpIHJldHVybiB0LnNldEFjdGl2ZSghMCksIHQuc2V0VmlzaWJsZSghMCksIHQ7XG4gICAgICAgIH1yZXR1cm4gdGhpcy5pc0Z1bGwoKSA/IG51bGwgOiAodCA9IHRoaXMuY3JlYXRlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrU2NvcGUpLCB0LnNldEFjdGl2ZSghMCksIHQuc2V0VmlzaWJsZSghMCksIHRoaXMuX2xpc3QucHVzaCh0KSwgdCk7XG4gICAgICB9LCBraWxsOiBmdW5jdGlvbiBraWxsKHQpIHtcbiAgICAgICAgdGhpcy5fbGlzdC5pbmRleE9mKHQpID4gLTEgJiYgdC5zZXRBY3RpdmUoITEpO1xuICAgICAgfSwga2lsbEFuZEhpZGU6IGZ1bmN0aW9uIGtpbGxBbmRIaWRlKHQpIHtcbiAgICAgICAgdGhpcy5fbGlzdC5pbmRleE9mKHQpID4gLTEgJiYgKHQuc2V0QWN0aXZlKCExKSwgdC5zZXRWaXNpYmxlKCExKSk7XG4gICAgICB9LCBwdXJnZTogZnVuY3Rpb24gcHVyZ2UodCkge1xuICAgICAgICBpZiAodm9pZCAwID09PSB0ICYmICh0ID0gITApLCB0KSBmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMuX2xpc3QubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0aGlzLl9saXN0W2VdLmRlc3Ryb3koKTtcbiAgICAgICAgfXRoaXMuX2xpc3QubGVuZ3RoID0gMDtcbiAgICAgIH0sIGlzRnVsbDogZnVuY3Rpb24gaXNGdWxsKCkge1xuICAgICAgICByZXR1cm4gLTEgIT09IHRoaXMubWF4U2l6ZSAmJiB0aGlzLl9saXN0Lmxlbmd0aCA9PT0gdGhpcy5tYXhTaXplO1xuICAgICAgfSwgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUodCwgZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgbiA9IHRoaXMuX2xpc3RbaV07bi5hY3RpdmUgJiYgbi51cGRhdGUodCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGdldFRvdGFsVXNlZDogZnVuY3Rpb24gZ2V0VG90YWxVc2VkKCkge1xuICAgICAgICBmb3IgKHZhciB0ID0gMCwgZSA9IDA7IGUgPCB0aGlzLl9saXN0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgdGhpcy5fbGlzdFtlXS5hY3RpdmUgJiYgdCsrO1xuICAgICAgICB9cmV0dXJuIHQ7XG4gICAgICB9LCBnZXRUb3RhbEZyZWU6IGZ1bmN0aW9uIGdldFRvdGFsRnJlZSgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmdldFRvdGFsVXNlZCgpO3JldHVybiAoLTEgPT09IHRoaXMubWF4U2l6ZSA/IDk5OTk5OTk5OTk5OSA6IHRoaXMubWF4U2l6ZSkgLSB0O1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyID0gdm9pZCAwLCB0aGlzLnNjZW5lID0gdm9pZCAwLCB0aGlzLmRpc3BsYXlMaXN0ID0gdm9pZCAwLCB0aGlzLnVwZGF0ZUxpc3QgPSB2b2lkIDAsIHRoaXMuY3JlYXRlQ2FsbGJhY2sgPSB2b2lkIDAsIHRoaXMuY2FsbGJhY2tTY29wZSA9IHZvaWQgMCwgdGhpcy5fbGlzdC5sZW5ndGggPSAwO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxODkpLFxuICAgICAgICByID0gaSg1KSxcbiAgICAgICAgcyA9IGkoMTkwKSxcbiAgICAgICAgYSA9IGkoMTkxKSxcbiAgICAgICAgbyA9IGkoMTkyKSxcbiAgICAgICAgaCA9IGkoNzE4KSxcbiAgICAgICAgdSA9IGkoMTkzKSxcbiAgICAgICAgYyA9IGkoMiksXG4gICAgICAgIGwgPSBpKDcyMCksXG4gICAgICAgIGYgPSBpKDE5NCksXG4gICAgICAgIGQgPSBpKDczNCksXG4gICAgICAgIHAgPSBmdW5jdGlvbiBwKHQsIGUsIGkpIHtcbiAgICAgIHZvaWQgMCA9PT0gaSAmJiAoaSA9IG4pO2ZvciAodmFyIHAgPSBpLnRhcmdldHMgPyBpLnRhcmdldHMgOiB1KGUpLCB2ID0gaChlKSwgZyA9IG8oZSwgXCJkZWxheVwiLCBpLmRlbGF5KSwgeCA9IG8oZSwgXCJkdXJhdGlvblwiLCBpLmR1cmF0aW9uKSwgbSA9IGMoZSwgXCJlYXNlUGFyYW1zXCIsIGkuZWFzZVBhcmFtcyksIHkgPSBhKGMoZSwgXCJlYXNlXCIsIGkuZWFzZSksIG0pLCB3ID0gbyhlLCBcImhvbGRcIiwgaS5ob2xkKSwgRSA9IG8oZSwgXCJyZXBlYXRcIiwgaS5yZXBlYXQpLCBUID0gbyhlLCBcInJlcGVhdERlbGF5XCIsIGkucmVwZWF0RGVsYXkpLCBiID0gbyhlLCBcInN0YXJ0QXRcIiwgaS5zdGFydEF0KSwgXyA9IHMoZSwgXCJ5b3lvXCIsIGkueW95byksIEEgPSBzKGUsIFwiZmxpcFhcIiwgaS5mbGlwWCksIFMgPSBzKGUsIFwiZmxpcFlcIiwgaS5mbGlwWSksIFIgPSBbXSwgTSA9IDA7IE0gPCB2Lmxlbmd0aDsgTSsrKSB7XG4gICAgICAgIGZvciAodmFyIE8gPSB2W01dLmtleSwgQyA9IHZbTV0udmFsdWUsIEwgPSAwOyBMIDwgcC5sZW5ndGg7IEwrKykge1xuICAgICAgICAgIHZhciBGID0gZChwW0xdLCBPLCBsKE8sIEMpLCBhKGMoQywgXCJlYXNlXCIsIHkpLCBtKSwgbyhDLCBcImRlbGF5XCIsIGcpLCBvKEMsIFwiZHVyYXRpb25cIiwgeCksIHMoQywgXCJ5b3lvXCIsIF8pLCBvKEMsIFwiaG9sZFwiLCB3KSwgbyhDLCBcInJlcGVhdFwiLCBFKSwgbyhDLCBcInJlcGVhdERlbGF5XCIsIFQpLCBvKEMsIFwic3RhcnRBdFwiLCBiKSwgcyhDLCBcImZsaXBYXCIsIEEpLCBzKEMsIFwiZmxpcFlcIiwgUykpO1IucHVzaChGKTtcbiAgICAgICAgfVxuICAgICAgfXZhciBJID0gbmV3IGYodCwgUik7SS50b3RhbFRhcmdldHMgPSBwLmxlbmd0aCwgSS5vZmZzZXQgPSByKGUsIFwib2Zmc2V0XCIsIG51bGwpLCBJLmNvbXBsZXRlRGVsYXkgPSByKGUsIFwiY29tcGxldGVEZWxheVwiLCAwKSwgSS5sb29wID0gTWF0aC5yb3VuZChyKGUsIFwibG9vcFwiLCAwKSksIEkubG9vcERlbGF5ID0gTWF0aC5yb3VuZChyKGUsIFwibG9vcERlbGF5XCIsIDApKSwgSS5wYXVzZWQgPSBzKGUsIFwicGF1c2VkXCIsICExKSwgSS51c2VGcmFtZXMgPSBzKGUsIFwidXNlRnJhbWVzXCIsICExKTt2YXIgRCA9IGMoZSwgXCJjYWxsYmFja1Njb3BlXCIsIEkpLFxuICAgICAgICAgIEIgPSBbSV0sXG4gICAgICAgICAgUCA9IGMoZSwgXCJvblN0YXJ0XCIsICExKTtpZiAoUCkge1xuICAgICAgICB2YXIgayA9IGMoZSwgXCJvblN0YXJ0U2NvcGVcIiwgRCksXG4gICAgICAgICAgICBOID0gYyhlLCBcIm9uU3RhcnRQYXJhbXNcIiwgW10pO0kuc2V0Q2FsbGJhY2soXCJvblN0YXJ0XCIsIFAsIEIuY29uY2F0KE4pLCBrKTtcbiAgICAgIH12YXIgWCA9IGMoZSwgXCJvblVwZGF0ZVwiLCAhMSk7aWYgKFgpIHtcbiAgICAgICAgdmFyIFUgPSBjKGUsIFwib25VcGRhdGVTY29wZVwiLCBEKSxcbiAgICAgICAgICAgIFkgPSBjKGUsIFwib25VcGRhdGVQYXJhbXNcIiwgW10pO0kuc2V0Q2FsbGJhY2soXCJvblVwZGF0ZVwiLCBYLCBCLmNvbmNhdChZKSwgVSk7XG4gICAgICB9dmFyIFYgPSBjKGUsIFwib25SZXBlYXRcIiwgITEpO2lmIChWKSB7XG4gICAgICAgIHZhciB6ID0gYyhlLCBcIm9uUmVwZWF0U2NvcGVcIiwgRCksXG4gICAgICAgICAgICBHID0gYyhlLCBcIm9uUmVwZWF0UGFyYW1zXCIsIFtdKTtJLnNldENhbGxiYWNrKFwib25SZXBlYXRcIiwgViwgQi5jb25jYXQobnVsbCwgRyksIHopO1xuICAgICAgfXZhciBIID0gYyhlLCBcIm9uTG9vcFwiLCAhMSk7aWYgKEgpIHtcbiAgICAgICAgdmFyIGogPSBjKGUsIFwib25Mb29wU2NvcGVcIiwgRCksXG4gICAgICAgICAgICBXID0gYyhlLCBcIm9uTG9vcFBhcmFtc1wiLCBbXSk7SS5zZXRDYWxsYmFjayhcIm9uTG9vcFwiLCBILCBCLmNvbmNhdChXKSwgaik7XG4gICAgICB9dmFyIHEgPSBjKGUsIFwib25Zb3lvXCIsICExKTtpZiAocSkge1xuICAgICAgICB2YXIgSyA9IGMoZSwgXCJvbllveW9TY29wZVwiLCBEKSxcbiAgICAgICAgICAgIFogPSBjKGUsIFwib25Zb3lvUGFyYW1zXCIsIFtdKTtJLnNldENhbGxiYWNrKFwib25Zb3lvXCIsIHEsIEIuY29uY2F0KG51bGwsIFopLCBLKTtcbiAgICAgIH12YXIgSiA9IGMoZSwgXCJvbkNvbXBsZXRlXCIsICExKTtpZiAoSikge1xuICAgICAgICB2YXIgUSA9IGMoZSwgXCJvbkNvbXBsZXRlU2NvcGVcIiwgRCksXG4gICAgICAgICAgICAkID0gYyhlLCBcIm9uQ29tcGxldGVQYXJhbXNcIiwgW10pO0kuc2V0Q2FsbGJhY2soXCJvbkNvbXBsZXRlXCIsIEosIEIuY29uY2F0KCQpLCBRKTtcbiAgICAgIH1yZXR1cm4gSTtcbiAgICB9O3QuZXhwb3J0cyA9IHA7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTcsIG4pIHtcbiAgICAgIHZvaWQgMCA9PT0gX2kxNyAmJiAoX2kxNyA9ICExKSwgdm9pZCAwID09PSBuICYmIChuID0gW10pO2ZvciAodmFyIHIsIHMsIGEsIG8sIGgsIHUsIGMgPSB0LngzIC0gdC54MSwgbCA9IHQueTMgLSB0LnkxLCBmID0gdC54MiAtIHQueDEsIGQgPSB0LnkyIC0gdC55MSwgcCA9IGMgKiBjICsgbCAqIGwsIHYgPSBjICogZiArIGwgKiBkLCBnID0gZiAqIGYgKyBkICogZCwgeCA9IHAgKiBnIC0gdiAqIHYsIG0gPSAwID09PSB4ID8gMCA6IDEgLyB4LCB5ID0gdC54MSwgdyA9IHQueTEsIEUgPSAwOyBFIDwgZS5sZW5ndGggJiYgKGEgPSBlW0VdLnggLSB5LCBvID0gZVtFXS55IC0gdywgaCA9IGMgKiBhICsgbCAqIG8sIHUgPSBmICogYSArIGQgKiBvLCByID0gKGcgKiBoIC0gdiAqIHUpICogbSwgcyA9IChwICogdSAtIHYgKiBoKSAqIG0sICEociA+PSAwICYmIHMgPj0gMCAmJiByICsgcyA8IDEgJiYgKG4ucHVzaCh7IHg6IGVbRV0ueCwgeTogZVtFXS55IH0pLCBfaTE3KSkpOyBFKyspIHt9cmV0dXJuIG47XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTE4LCBuKSB7XG4gICAgICB2YXIgciA9IE1hdGguY29zKG4pLFxuICAgICAgICAgIHMgPSBNYXRoLnNpbihuKSxcbiAgICAgICAgICBhID0gdC54MSAtIGUsXG4gICAgICAgICAgbyA9IHQueTEgLSBfaTE4O3JldHVybiB0LngxID0gYSAqIHIgLSBvICogcyArIGUsIHQueTEgPSBhICogcyArIG8gKiByICsgX2kxOCwgYSA9IHQueDIgLSBlLCBvID0gdC55MiAtIF9pMTgsIHQueDIgPSBhICogciAtIG8gKiBzICsgZSwgdC55MiA9IGEgKiBzICsgbyAqIHIgKyBfaTE4LCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQueCAqIGUueCArIHQueSAqIGUueTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiAwID09PSB0LmhlaWdodCA/IE5hTiA6IHQud2lkdGggLyB0LmhlaWdodDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTksIG4pIHtcbiAgICAgIHZhciByID0gTWF0aC5jb3MobiksXG4gICAgICAgICAgcyA9IE1hdGguc2luKG4pLFxuICAgICAgICAgIGEgPSB0LngxIC0gZSxcbiAgICAgICAgICBvID0gdC55MSAtIF9pMTk7cmV0dXJuIHQueDEgPSBhICogciAtIG8gKiBzICsgZSwgdC55MSA9IGEgKiBzICsgbyAqIHIgKyBfaTE5LCBhID0gdC54MiAtIGUsIG8gPSB0LnkyIC0gX2kxOSwgdC54MiA9IGEgKiByIC0gbyAqIHMgKyBlLCB0LnkyID0gYSAqIHMgKyBvICogciArIF9pMTksIGEgPSB0LngzIC0gZSwgbyA9IHQueTMgLSBfaTE5LCB0LngzID0gYSAqIHIgLSBvICogcyArIGUsIHQueTMgPSBhICogcyArIG8gKiByICsgX2kxOSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGk7aSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0oKTt0cnkge1xuICAgICAgaSA9IGkgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgwLCBldmFsKShcInRoaXNcIik7XG4gICAgfSBjYXRjaCAodCkge1xuICAgICAgXCJvYmplY3RcIiA9PSAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHdpbmRvdykpICYmIChpID0gd2luZG93KTtcbiAgICB9dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgaWYgKFwib2JqZWN0XCIgIT0gKHR5cGVvZiB0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YodCkpIHx8IHQubm9kZVR5cGUgfHwgdCA9PT0gdC53aW5kb3cpIHJldHVybiAhMTt0cnkge1xuICAgICAgICBpZiAodC5jb25zdHJ1Y3RvciAmJiAhe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgXCJpc1Byb3RvdHlwZU9mXCIpKSByZXR1cm4gITE7XG4gICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1yZXR1cm4gITA7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQW5nbGU6IGkoMjM5KSwgQ2FsbDogaSgyNDApLCBHZXRGaXJzdDogaSgyNDEpLCBHcmlkQWxpZ246IGkoMjQyKSwgSW5jQWxwaGE6IGkoMjgxKSwgSW5jWDogaSgyODIpLCBJbmNYWTogaSgyODMpLCBJbmNZOiBpKDI4NCksIFBsYWNlT25DaXJjbGU6IGkoMjg1KSwgUGxhY2VPbkVsbGlwc2U6IGkoMjg2KSwgUGxhY2VPbkxpbmU6IGkoMjg3KSwgUGxhY2VPblJlY3RhbmdsZTogaSgyODgpLCBQbGFjZU9uVHJpYW5nbGU6IGkoMjg5KSwgUGxheUFuaW1hdGlvbjogaSgyOTApLCBSYW5kb21DaXJjbGU6IGkoMjkxKSwgUmFuZG9tRWxsaXBzZTogaSgyOTIpLCBSYW5kb21MaW5lOiBpKDI5MyksIFJhbmRvbVJlY3RhbmdsZTogaSgyOTQpLCBSYW5kb21UcmlhbmdsZTogaSgyOTUpLCBSb3RhdGU6IGkoMjk2KSwgUm90YXRlQXJvdW5kOiBpKDI5NyksIFJvdGF0ZUFyb3VuZERpc3RhbmNlOiBpKDI5OCksIFNjYWxlWDogaSgyOTkpLCBTY2FsZVhZOiBpKDMwMCksIFNjYWxlWTogaSgzMDEpLCBTZXRBbHBoYTogaSgzMDIpLCBTZXRIaXRBcmVhOiBpKDMwMyksIFNldE9yaWdpbjogaSgzMDQpLCBTZXRSb3RhdGlvbjogaSgzMDUpLCBTZXRTY2FsZTogaSgzMDYpLCBTZXRTY2FsZVg6IGkoMzA3KSwgU2V0U2NhbGVZOiBpKDMwOCksIFNldFZpc2libGU6IGkoMzA5KSwgU2V0WDogaSgzMTApLCBTZXRYWTogaSgzMTEpLCBTZXRZOiBpKDMxMiksIFNldFo6IGkoMzEzKSwgU2hpZnRQb3NpdGlvbjogaSgzMTQpLCBTbW9vdGhlclN0ZXA6IGkoMzE1KSwgU21vb3RoU3RlcDogaSgzMTYpLCBTcHJlYWQ6IGkoMzE3KSwgVG9nZ2xlVmlzaWJsZTogaSgzMTgpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IFRPUF9MRUZUOiAwLCBUT1BfQ0VOVEVSOiAxLCBUT1BfUklHSFQ6IDIsIExFRlRfVE9QOiAzLCBMRUZUX0NFTlRFUjogNCwgTEVGVF9CT1RUT006IDUsIENFTlRFUjogNiwgUklHSFRfVE9QOiA3LCBSSUdIVF9DRU5URVI6IDgsIFJJR0hUX0JPVFRPTTogOSwgQk9UVE9NX0xFRlQ6IDEwLCBCT1RUT01fQ0VOVEVSOiAxMSwgQk9UVE9NX1JJR0hUOiAxMiB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDMyKSxcbiAgICAgICAgciA9IGkoMTYpLFxuICAgICAgICBzID0gaSgzMyksXG4gICAgICAgIGEgPSBpKDE3KSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSwgaSwgX28pIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBfbyAmJiAoX28gPSAwKSwgcyh0LCBuKGUpICsgaSksIGEodCwgcihlKSArIF9vKSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE4KSxcbiAgICAgICAgciA9IGkoMTYpLFxuICAgICAgICBzID0gaSgxOSksXG4gICAgICAgIGEgPSBpKDE3KSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSwgaSwgX28yKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gX28yICYmIChfbzIgPSAwKSwgcyh0LCBuKGUpIC0gaSksIGEodCwgcihlKSArIF9vMiksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBvO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMCksXG4gICAgICAgIHIgPSBpKDE2KSxcbiAgICAgICAgcyA9IGkoMjEpLFxuICAgICAgICBhID0gaSgxNyksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUsIGksIF9vMykge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IF9vMyAmJiAoX28zID0gMCksIHModCwgbihlKSArIGkpLCBhKHQsIHIoZSkgKyBfbzMpLCB0O1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMzIpLFxuICAgICAgICByID0gaSgzNCksXG4gICAgICAgIHMgPSBpKDEwOSksXG4gICAgICAgIGEgPSBmdW5jdGlvbiBhKHQsIGUsIGksIF9hKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gX2EgJiYgKF9hID0gMCksIHModCwgbihlKSArIGksIHIoZSkgKyBfYSksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgzMyksXG4gICAgICAgIHIgPSBpKDM1KSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSkge1xuICAgICAgcmV0dXJuIG4odCwgZSksIHIodCwgaSk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxOCksXG4gICAgICAgIHIgPSBpKDM0KSxcbiAgICAgICAgcyA9IGkoMTkpLFxuICAgICAgICBhID0gaSgzNSksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUsIGksIF9vNCkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IF9vNCAmJiAoX280ID0gMCksIHModCwgbihlKSAtIGkpLCBhKHQsIHIoZSkgKyBfbzQpLCB0O1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjApLFxuICAgICAgICByID0gaSgzNCksXG4gICAgICAgIHMgPSBpKDIxKSxcbiAgICAgICAgYSA9IGkoMzUpLFxuICAgICAgICBvID0gZnVuY3Rpb24gbyh0LCBlLCBpLCBfbzUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBfbzUgJiYgKF9vNSA9IDApLCBzKHQsIG4oZSkgKyBpKSwgYSh0LCByKGUpICsgX281KSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDMyKSxcbiAgICAgICAgciA9IGkoMjIpLFxuICAgICAgICBzID0gaSgzMyksXG4gICAgICAgIGEgPSBpKDIzKSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSwgaSwgX282KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gX282ICYmIChfbzYgPSAwKSwgcyh0LCBuKGUpICsgaSksIGEodCwgcihlKSAtIF9vNiksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBvO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxOCksXG4gICAgICAgIHIgPSBpKDIyKSxcbiAgICAgICAgcyA9IGkoMTkpLFxuICAgICAgICBhID0gaSgyMyksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUsIGksIF9vNykge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IF9vNyAmJiAoX283ID0gMCksIHModCwgbihlKSAtIGkpLCBhKHQsIHIoZSkgLSBfbzcpLCB0O1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjApLFxuICAgICAgICByID0gaSgyMiksXG4gICAgICAgIHMgPSBpKDIxKSxcbiAgICAgICAgYSA9IGkoMjMpLFxuICAgICAgICBvID0gZnVuY3Rpb24gbyh0LCBlLCBpLCBfbzgpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBfbzggJiYgKF9vOCA9IDApLCBzKHQsIG4oZSkgKyBpKSwgYSh0LCByKGUpIC0gX284KSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDUwKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgcmV0dXJuIG4odCwgLU1hdGguUEksIE1hdGguUEkpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNTApLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICByZXR1cm4gbih0LCAtMTgwLCAxODApO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTE4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3IpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IF9yICYmIChfciA9IFtdKSwgIWUgJiYgIWkpIHJldHVybiBfcjtlID8gaSA9IE1hdGgucm91bmQobih0KSAvIGUpIDogZSA9IG4odCkgLyBpO2ZvciAodmFyIHMgPSB0LngsIGEgPSB0LnksIG8gPSAwLCBoID0gMDsgaCA8IGk7IGgrKykge1xuICAgICAgICBzd2l0Y2ggKF9yLnB1c2goeyB4OiBzLCB5OiBhIH0pLCBvKSB7Y2FzZSAwOlxuICAgICAgICAgICAgcyArPSBlLCBzID49IHQucmlnaHQgJiYgKG8gPSAxLCBhICs9IHMgLSB0LnJpZ2h0LCBzID0gdC5yaWdodCk7YnJlYWs7Y2FzZSAxOlxuICAgICAgICAgICAgYSArPSBlLCBhID49IHQuYm90dG9tICYmIChvID0gMiwgcyAtPSBhIC0gdC5ib3R0b20sIGEgPSB0LmJvdHRvbSk7YnJlYWs7Y2FzZSAyOlxuICAgICAgICAgICAgcyAtPSBlLCBzIDw9IHQubGVmdCAmJiAobyA9IDMsIGEgLT0gdC5sZWZ0IC0gcywgcyA9IHQubGVmdCk7YnJlYWs7Y2FzZSAzOlxuICAgICAgICAgICAgYSAtPSBlLCBhIDw9IHQudG9wICYmIChvID0gMCwgYSA9IHQudG9wKTt9XG4gICAgICB9cmV0dXJuIF9yO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIDIgKiAodC53aWR0aCArIHQuaGVpZ2h0KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDEpO2ZvciAodmFyIGkgPSBudWxsLCBuID0gMDsgbiA8IGU7IG4rKykge1xuICAgICAgICBpID0gdC5zaGlmdCgpLCB0LnB1c2goaSk7XG4gICAgICB9cmV0dXJuIGk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAxKTtmb3IgKHZhciBpID0gbnVsbCwgbiA9IDA7IG4gPCBlOyBuKyspIHtcbiAgICAgICAgaSA9IHQucG9wKCksIHQudW5zaGlmdChpKTtcbiAgICAgIH1yZXR1cm4gaTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDgpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSBuZXcgbigpKTt2YXIgaSA9IDIgKiBNYXRoLlBJICogTWF0aC5yYW5kb20oKSxcbiAgICAgICAgICByID0gTWF0aC5yYW5kb20oKSArIE1hdGgucmFuZG9tKCksXG4gICAgICAgICAgcyA9IHIgPiAxID8gMiAtIHIgOiByLFxuICAgICAgICAgIGEgPSBzICogTWF0aC5jb3MoaSksXG4gICAgICAgICAgbyA9IHMgKiBNYXRoLnNpbihpKTtyZXR1cm4gZS54ID0gdC54ICsgYSAqIHQucmFkaXVzLCBlLnkgPSB0LnkgKyBvICogdC5yYWRpdXMsIGU7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gbmV3IG4oKSk7dmFyIGkgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDIsXG4gICAgICAgICAgciA9IE1hdGguc3FydChNYXRoLnJhbmRvbSgpKTtyZXR1cm4gZS54ID0gdC54ICsgciAqIE1hdGguY29zKGkpICogdC53aWR0aCAvIDIsIGUueSA9IHQueSArIHIgKiBNYXRoLnNpbihpKSAqIHQuaGVpZ2h0IC8gMiwgZTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDgpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSBuZXcgbigpKTt2YXIgaSA9IE1hdGgucmFuZG9tKCk7cmV0dXJuIGUueCA9IHQueDEgKyBpICogKHQueDIgLSB0LngxKSwgZS55ID0gdC55MSArIGkgKiAodC55MiAtIHQueTEpLCBlO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoOCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSBuZXcgbigpKSwgZS54ID0gdC54ICsgTWF0aC5yYW5kb20oKSAqIHQud2lkdGgsIGUueSA9IHQueSArIE1hdGgucmFuZG9tKCkgKiB0LmhlaWdodCwgZTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHsgeDogMCwgeTogMCB9KTt2YXIgaSA9IHQueDIgLSB0LngxLFxuICAgICAgICAgIG4gPSB0LnkyIC0gdC55MSxcbiAgICAgICAgICByID0gdC54MyAtIHQueDEsXG4gICAgICAgICAgcyA9IHQueTMgLSB0LnkxLFxuICAgICAgICAgIGEgPSBNYXRoLnJhbmRvbSgpLFxuICAgICAgICAgIG8gPSBNYXRoLnJhbmRvbSgpO3JldHVybiBhICsgbyA+PSAxICYmIChhID0gMSAtIGEsIG8gPSAxIC0gbyksIGUueCA9IHQueDEgKyAoaSAqIGEgKyByICogbyksIGUueSA9IHQueTEgKyAobiAqIGEgKyBzICogbyksIGU7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTIwKSB7XG4gICAgICByZXR1cm4gKHQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAodCAtIGUpIC8gKF9pMjAgLSBlKSkpKSAqIHQgKiB0ICogKHQgKiAoNiAqIHQgLSAxNSkgKyAxMCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTIxKSB7XG4gICAgICByZXR1cm4gKHQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAodCAtIGUpIC8gKF9pMjEgLSBlKSkpKSAqIHQgKiAoMyAtIDIgKiB0KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIpLFxuICAgICAgICByID0gaSgxMjkpLFxuICAgICAgICBzID0gaSgxMSksXG4gICAgICAgIGEgPSBmdW5jdGlvbiBhKHQpIHtcbiAgICAgIHZhciBlID0gbih0LCBcImRhdGFcIiwgW10pLFxuICAgICAgICAgIGkgPSBuKHQsIFwiY2FudmFzXCIsIG51bGwpLFxuICAgICAgICAgIGEgPSBuKHQsIFwicGFsZXR0ZVwiLCByKSxcbiAgICAgICAgICBvID0gbih0LCBcInBpeGVsV2lkdGhcIiwgMSksXG4gICAgICAgICAgaCA9IG4odCwgXCJwaXhlbEhlaWdodFwiLCBvKSxcbiAgICAgICAgICB1ID0gbih0LCBcInJlc2l6ZUNhbnZhc1wiLCAhMCksXG4gICAgICAgICAgYyA9IG4odCwgXCJjbGVhckNhbnZhc1wiLCAhMCksXG4gICAgICAgICAgbCA9IG4odCwgXCJwcmVSZW5kZXJcIiwgbnVsbCksXG4gICAgICAgICAgZiA9IG4odCwgXCJwb3N0UmVuZGVyXCIsIG51bGwpLFxuICAgICAgICAgIGQgPSBNYXRoLmZsb29yKE1hdGguYWJzKGVbMF0ubGVuZ3RoICogbykpLFxuICAgICAgICAgIHAgPSBNYXRoLmZsb29yKE1hdGguYWJzKGUubGVuZ3RoICogaCkpO2kgfHwgKGkgPSBzLmNyZWF0ZTJEKHRoaXMsIGQsIHApLCB1ID0gITEsIGMgPSAhMSksIHUgJiYgKGkud2lkdGggPSBkLCBpLmhlaWdodCA9IHApO3ZhciB2ID0gaS5nZXRDb250ZXh0KFwiMmRcIik7YyAmJiB2LmNsZWFyUmVjdCgwLCAwLCBkLCBwKSwgbCAmJiBsKGksIHYpO2ZvciAodmFyIGcgPSAwOyBnIDwgZS5sZW5ndGg7IGcrKykge1xuICAgICAgICBmb3IgKHZhciB4ID0gZVtnXSwgbSA9IDA7IG0gPCB4Lmxlbmd0aDsgbSsrKSB7XG4gICAgICAgICAgdmFyIHkgPSB4W21dO1wiLlwiICE9PSB5ICYmIFwiIFwiICE9PSB5ICYmICh2LmZpbGxTdHlsZSA9IGFbeV0sIHYuZmlsbFJlY3QobSAqIG8sIGcgKiBoLCBvLCBoKSk7XG4gICAgICAgIH1cbiAgICAgIH1yZXR1cm4gZiAmJiBmKGksIHYpLCBpO1xuICAgIH07dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB0LmV4cG9ydHMgPSB7IDA6IFwiIzAwMFwiLCAxOiBcIiM5RDlEOURcIiwgMjogXCIjRkZGXCIsIDM6IFwiI0JFMjYzM1wiLCA0OiBcIiNFMDZGOEJcIiwgNTogXCIjNDkzQzJCXCIsIDY6IFwiI0E0NjQyMlwiLCA3OiBcIiNFQjg5MzFcIiwgODogXCIjRjdFMjZCXCIsIDk6IFwiIzJGNDg0RVwiLCBBOiBcIiM0NDg5MUFcIiwgQjogXCIjQTNDRTI3XCIsIEM6IFwiIzFCMjYzMlwiLCBEOiBcIiMwMDU3ODRcIiwgRTogXCIjMzFBMkYyXCIsIEY6IFwiI0IyRENFRlwiIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMjIpIHtcbiAgICAgIHZvaWQgMCA9PT0gX2kyMiAmJiAoX2kyMiA9ICEwKTt2YXIgbjtyZXR1cm4gZSAmJiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSA/IG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSA6IFwib2JqZWN0XCIgPT0gKHR5cGVvZiBlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZSkpICYmIDEgPT09IGUubm9kZVR5cGUgJiYgKG4gPSBlKSksIG4gfHwgKG4gPSBkb2N1bWVudC5ib2R5KSwgX2kyMiAmJiBuLnN0eWxlICYmIChuLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIiksIG4uYXBwZW5kQ2hpbGQodCksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0NCksXG4gICAgICAgIHIgPSAhMSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCkge1xuICAgICAgaWYgKCFyKSB7XG4gICAgICAgIGlmIChcImNvbXBsZXRlXCIgPT09IGRvY3VtZW50LnJlYWR5U3RhdGUgfHwgXCJpbnRlcmFjdGl2ZVwiID09PSBkb2N1bWVudC5yZWFkeVN0YXRlKSByZXR1cm4gciA9ICEwLCB2b2lkIHQoKTt2YXIgZSA9IGZ1bmN0aW9uIGUoKSB7XG4gICAgICAgICAgciA9ICEwLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlcmVhZHlcIiwgZSwgITApLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBlLCAhMCksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCBlLCAhMCksIHQoKTtcbiAgICAgICAgfTtkb2N1bWVudC5ib2R5ID8gbi5jb3Jkb3ZhICYmICFuLmNvY29vbkpTID8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZXJlYWR5XCIsIGUsICExKSA6IChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBlLCAhMCksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBlLCAhMCkpIDogd2luZG93LnNldFRpbWVvdXQoZSwgMjApO1xuICAgICAgfVxuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSBcIlwiO3RyeSB7XG4gICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgdmFyIGkgPSBuZXcgRE9NUGFyc2VyKCk7ZSA9IGkucGFyc2VGcm9tU3RyaW5nKHQsIFwidGV4dC94bWxcIik7XG4gICAgICAgIH0gZWxzZSBlID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MRE9NXCIpLCBlLmxvYWRYTUwodCk7XG4gICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgIGUgPSBudWxsO1xuICAgICAgfXJldHVybiBlICYmIGUuZG9jdW1lbnRFbGVtZW50ICYmICFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoID8gZSA6IG51bGw7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyNSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKCkge1xuICAgICAgdGhpcy5pc1J1bm5pbmcgPSAhMSwgdGhpcy5jYWxsYmFjayA9IG4sIHRoaXMudGljayA9IDAsIHRoaXMuaXNTZXRUaW1lT3V0ID0gITEsIHRoaXMudGltZU91dElEID0gbnVsbDt2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgZSA9IGZ1bmN0aW9uIGUoaSkge1xuICAgICAgICB0LnRpY2sgPSBpLCB0LmNhbGxiYWNrKGkpLCB0LnRpbWVPdXRJRCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk7XG4gICAgICB9LFxuICAgICAgICAgIGkgPSBmdW5jdGlvbiBpKCkge1xuICAgICAgICB2YXIgZSA9IERhdGUubm93KCk7dC50aWNrID0gZSwgdC5jYWxsYmFjayhlKSwgdC50aW1lT3V0SUQgPSB3aW5kb3cuc2V0VGltZW91dChpLCB0LnRpbWVUb0NhbGwpO1xuICAgICAgfTt0aGlzLnN0ZXAgPSBlLCB0aGlzLnN0ZXBUaW1lb3V0ID0gaTtcbiAgICB9O3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gciwgci5wcm90b3R5cGUgPSB7IHN0YXJ0OiBmdW5jdGlvbiBzdGFydCh0LCBlKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSB0LCB0aGlzLmlzU2V0VGltZU91dCA9IGUsIHRoaXMuaXNSdW5uaW5nID0gITA7dmFyIGkgPSB0aGlzO3RoaXMudGltZU91dElEID0gZSA/IHdpbmRvdy5zZXRUaW1lb3V0KGkuc3RlcFRpbWVvdXQsIDApIDogd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShpLnN0ZXApO1xuICAgICAgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSAhMSwgdGhpcy5pc1NldFRpbWVPdXQgPyBjbGVhclRpbWVvdXQodGhpcy50aW1lT3V0SUQpIDogd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZU91dElEKTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpLCB0aGlzLmNhbGxiYWNrID0gbjtcbiAgICAgIH0gfSwgdC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQgJT0gMiAqIE1hdGguUEksIHQgPj0gMCA/IHQgOiB0ICsgMiAqIE1hdGguUEk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDEuNzAxNTgpLCB0ICogdCAqICgoZSArIDEpICogdCAtIGUpO1xuICAgIH1mdW5jdGlvbiBuKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSAxLjcwMTU4KSwgLS10ICogdCAqICgoZSArIDEpICogdCArIGUpICsgMTtcbiAgICB9ZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAxLjcwMTU4KTt2YXIgaSA9IDEuNTI1ICogZTtyZXR1cm4gKHQgKj0gMikgPCAxID8gdCAqIHQgKiAoKGkgKyAxKSAqIHQgLSBpKSAqIC41IDogLjUgKiAoKHQgLT0gMikgKiB0ICogKChpICsgMSkgKiB0ICsgaSkgKyAyKTtcbiAgICB9dC5leHBvcnRzID0geyBJbjogaSwgT3V0OiBuLCBJbk91dDogciB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQgPSAxIC0gdCwgdCA8IDEgLyAyLjc1ID8gMSAtIDcuNTYyNSAqIHQgKiB0IDogdCA8IDIgLyAyLjc1ID8gMSAtICg3LjU2MjUgKiAodCAtPSAxLjUgLyAyLjc1KSAqIHQgKyAuNzUpIDogdCA8IDIuNSAvIDIuNzUgPyAxIC0gKDcuNTYyNSAqICh0IC09IDIuMjUgLyAyLjc1KSAqIHQgKyAuOTM3NSkgOiAxIC0gKDcuNTYyNSAqICh0IC09IDIuNjI1IC8gMi43NSkgKiB0ICsgLjk4NDM3NSk7XG4gICAgfWZ1bmN0aW9uIG4odCkge1xuICAgICAgcmV0dXJuIHQgPCAxIC8gMi43NSA/IDcuNTYyNSAqIHQgKiB0IDogdCA8IDIgLyAyLjc1ID8gNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgLjc1IDogdCA8IDIuNSAvIDIuNzUgPyA3LjU2MjUgKiAodCAtPSAyLjI1IC8gMi43NSkgKiB0ICsgLjkzNzUgOiA3LjU2MjUgKiAodCAtPSAyLjYyNSAvIDIuNzUpICogdCArIC45ODQzNzU7XG4gICAgfWZ1bmN0aW9uIHIodCkge1xuICAgICAgdmFyIGUgPSAhMTtyZXR1cm4gdCA8IC41ID8gKHQgPSAxIC0gMiAqIHQsIGUgPSAhMCkgOiB0ID0gMiAqIHQgLSAxLCB0IDwgMSAvIDIuNzUgPyB0ICo9IDcuNTYyNSAqIHQgOiB0ID0gdCA8IDIgLyAyLjc1ID8gNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgLjc1IDogdCA8IDIuNSAvIDIuNzUgPyA3LjU2MjUgKiAodCAtPSAyLjI1IC8gMi43NSkgKiB0ICsgLjkzNzUgOiA3LjU2MjUgKiAodCAtPSAyLjYyNSAvIDIuNzUpICogdCArIC45ODQzNzUsIGUgPyAuNSAqICgxIC0gdCkgOiAuNSAqIHQgKyAuNTtcbiAgICB9dC5leHBvcnRzID0geyBJbjogaSwgT3V0OiBuLCBJbk91dDogciB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTtcbiAgICB9ZnVuY3Rpb24gbih0KSB7XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KDEgLSAtLXQgKiB0KTtcbiAgICB9ZnVuY3Rpb24gcih0KSB7XG4gICAgICByZXR1cm4gKHQgKj0gMikgPCAxID8gLS41ICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgOiAuNSAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKTtcbiAgICB9dC5leHBvcnRzID0geyBJbjogaSwgT3V0OiBuLCBJbk91dDogciB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQgKiB0ICogdDtcbiAgICB9ZnVuY3Rpb24gbih0KSB7XG4gICAgICByZXR1cm4gLS10ICogdCAqIHQgKyAxO1xuICAgIH1mdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiAodCAqPSAyKSA8IDEgPyAuNSAqIHQgKiB0ICogdCA6IC41ICogKCh0IC09IDIpICogdCAqIHQgKyAyKTtcbiAgICB9dC5leHBvcnRzID0geyBJbjogaSwgT3V0OiBuLCBJbk91dDogciB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCwgZSwgaSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gZSAmJiAoZSA9IC4xKSwgdm9pZCAwID09PSBpICYmIChpID0gLjEpLCAwID09PSB0KSByZXR1cm4gMDtpZiAoMSA9PT0gdCkgcmV0dXJuIDE7dmFyIG4gPSBpIC8gNDtyZXR1cm4gZSA8IDEgPyBlID0gMSA6IG4gPSBpICogTWF0aC5hc2luKDEgLyBlKSAvICgyICogTWF0aC5QSSksIC1lICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAtIG4pICogKDIgKiBNYXRoLlBJKSAvIGkpO1xuICAgIH1mdW5jdGlvbiBuKHQsIGUsIGkpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IGUgJiYgKGUgPSAuMSksIHZvaWQgMCA9PT0gaSAmJiAoaSA9IC4xKSwgMCA9PT0gdCkgcmV0dXJuIDA7aWYgKDEgPT09IHQpIHJldHVybiAxO3ZhciBuID0gaSAvIDQ7cmV0dXJuIGUgPCAxID8gZSA9IDEgOiBuID0gaSAqIE1hdGguYXNpbigxIC8gZSkgLyAoMiAqIE1hdGguUEkpLCBlICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAtIG4pICogKDIgKiBNYXRoLlBJKSAvIGkpICsgMTtcbiAgICB9ZnVuY3Rpb24gcih0LCBlLCBpKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBlICYmIChlID0gLjEpLCB2b2lkIDAgPT09IGkgJiYgKGkgPSAuMSksIDAgPT09IHQpIHJldHVybiAwO2lmICgxID09PSB0KSByZXR1cm4gMTt2YXIgbiA9IGkgLyA0O3JldHVybiBlIDwgMSA/IGUgPSAxIDogbiA9IGkgKiBNYXRoLmFzaW4oMSAvIGUpIC8gKDIgKiBNYXRoLlBJKSwgKHQgKj0gMikgPCAxID8gZSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgLSBuKSAqICgyICogTWF0aC5QSSkgLyBpKSAqIC0uNSA6IGUgKiBNYXRoLnBvdygyLCAtMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAtIG4pICogKDIgKiBNYXRoLlBJKSAvIGkpICogLjUgKyAxO1xuICAgIH10LmV4cG9ydHMgPSB7IEluOiBpLCBPdXQ6IG4sIEluT3V0OiByIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSAtIC4wMDE7XG4gICAgfWZ1bmN0aW9uIG4odCkge1xuICAgICAgcmV0dXJuIDEgLSBNYXRoLnBvdygyLCAtMTAgKiB0KTtcbiAgICB9ZnVuY3Rpb24gcih0KSB7XG4gICAgICByZXR1cm4gKHQgKj0gMikgPCAxID8gLjUgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpIDogLjUgKiAoMiAtIE1hdGgucG93KDIsIC0xMCAqICh0IC0gMSkpKTtcbiAgICB9dC5leHBvcnRzID0geyBJbjogaSwgT3V0OiBuLCBJbk91dDogciB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdCAqIHQ7XG4gICAgfWZ1bmN0aW9uIG4odCkge1xuICAgICAgcmV0dXJuIHQgKiAoMiAtIHQpO1xuICAgIH1mdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiAodCAqPSAyKSA8IDEgPyAuNSAqIHQgKiB0IDogLS41ICogKC0tdCAqICh0IC0gMikgLSAxKTtcbiAgICB9dC5leHBvcnRzID0geyBJbjogaSwgT3V0OiBuLCBJbk91dDogciB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQgKiB0ICogdCAqIHQ7XG4gICAgfWZ1bmN0aW9uIG4odCkge1xuICAgICAgcmV0dXJuIDEgLSAtLXQgKiB0ICogdCAqIHQ7XG4gICAgfWZ1bmN0aW9uIHIodCkge1xuICAgICAgcmV0dXJuICh0ICo9IDIpIDwgMSA/IC41ICogdCAqIHQgKiB0ICogdCA6IC0uNSAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpO1xuICAgIH10LmV4cG9ydHMgPSB7IEluOiBpLCBPdXQ6IG4sIEluT3V0OiByIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdCAqIHQgKiB0ICogdCAqIHQ7XG4gICAgfWZ1bmN0aW9uIG4odCkge1xuICAgICAgcmV0dXJuIC0tdCAqIHQgKiB0ICogdCAqIHQgKyAxO1xuICAgIH1mdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiAodCAqPSAyKSA8IDEgPyAuNSAqIHQgKiB0ICogdCAqIHQgKiB0IDogLjUgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMik7XG4gICAgfXQuZXhwb3J0cyA9IHsgSW46IGksIE91dDogbiwgSW5PdXQ6IHIgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiAwID09PSB0ID8gMCA6IDEgPT09IHQgPyAxIDogMSAtIE1hdGguY29zKHQgKiBNYXRoLlBJIC8gMik7XG4gICAgfWZ1bmN0aW9uIG4odCkge1xuICAgICAgcmV0dXJuIDAgPT09IHQgPyAwIDogMSA9PT0gdCA/IDEgOiBNYXRoLnNpbih0ICogTWF0aC5QSSAvIDIpO1xuICAgIH1mdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiAwID09PSB0ID8gMCA6IDEgPT09IHQgPyAxIDogLjUgKiAoMSAtIE1hdGguY29zKE1hdGguUEkgKiB0KSk7XG4gICAgfXQuZXhwb3J0cyA9IHsgSW46IGksIE91dDogbiwgSW5PdXQ6IHIgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTQ3KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgcmV0dXJuIG4odCkgLyBuKGUpIC8gbih0IC0gZSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICBpZiAoMCA9PT0gdCkgcmV0dXJuIDE7Zm9yICh2YXIgZSA9IHQ7IC0tdDspIHtcbiAgICAgICAgZSAqPSB0O1xuICAgICAgfXJldHVybiBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kyMywgbiwgcikge1xuICAgICAgdmFyIHMgPSAuNSAqIChfaTIzIC0gdCksXG4gICAgICAgICAgYSA9IC41ICogKG4gLSBlKSxcbiAgICAgICAgICBvID0gciAqIHI7cmV0dXJuICgyICogZSAtIDIgKiBfaTIzICsgcyArIGEpICogKHIgKiBvKSArICgtMyAqIGUgKyAzICogX2kyMyAtIDIgKiBzIC0gYSkgKiBvICsgcyAqIHIgKyBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTUwKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgdmFyIGkgPSB0Lmxlbmd0aCAtIDEsXG4gICAgICAgICAgciA9IGkgKiBlLFxuICAgICAgICAgIHMgPSBNYXRoLmZsb29yKHIpO3JldHVybiBlIDwgMCA/IG4odFswXSwgdFsxXSwgcikgOiBlID4gMSA/IG4odFtpXSwgdFtpIC0gMV0sIGkgLSByKSA6IG4odFtzXSwgdFtzICsgMSA+IGkgPyBpIDogcyArIDFdLCByIC0gcyk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTI0KSB7XG4gICAgICByZXR1cm4gKGUgLSB0KSAqIF9pMjQgKyB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSBNYXRoLmxvZyh0KSAvIC42OTMxNDcxODA1NTk5NDUzO3JldHVybiAxIDw8IE1hdGguY2VpbChlKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0ID4gMCA/IE1hdGguY2VpbCh0KSA6IE1hdGguZmxvb3IodCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyOCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHZhciBlID0gbmV3IG4oKSxcbiAgICAgICAgICBpID0gL15yZ2JhP1xcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqKD86LFxccyooXFxkKyg/OlxcLlxcZCspPykpP1xccypcXCkkLy5leGVjKHQudG9Mb3dlckNhc2UoKSk7aWYgKGkpIHtcbiAgICAgICAgdmFyIHIgPSBwYXJzZUludChpWzFdLCAxMCksXG4gICAgICAgICAgICBzID0gcGFyc2VJbnQoaVsyXSwgMTApLFxuICAgICAgICAgICAgYSA9IHBhcnNlSW50KGlbM10sIDEwKSxcbiAgICAgICAgICAgIG8gPSB2b2lkIDAgIT09IGlbNF0gPyBwYXJzZUZsb2F0KGlbNF0pIDogMTtlLnNldFRvKHIsIHMsIGEsIDI1NSAqIG8pO1xuICAgICAgfXJldHVybiBlO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kyNSwgbikge1xuICAgICAgcmV0dXJuIG4gPDwgMjQgfCB0IDw8IDE2IHwgZSA8PCA4IHwgX2kyNTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDI4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgdmFyIGUgPSBuZXcgbigpO3QgPSB0LnJlcGxhY2UoL14oPzojfDB4KT8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2ksIGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiBlICsgZSArIGkgKyBpICsgbiArIG47XG4gICAgICB9KTt2YXIgaSA9IC9eKD86I3wweCk/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWModCk7aWYgKGkpIHtcbiAgICAgICAgdmFyIHIgPSBwYXJzZUludChpWzFdLCAxNiksXG4gICAgICAgICAgICBzID0gcGFyc2VJbnQoaVsyXSwgMTYpLFxuICAgICAgICAgICAgYSA9IHBhcnNlSW50KGlbM10sIDE2KTtlLnNldFRvKHIsIHMsIGEpO1xuICAgICAgfXJldHVybiBlO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjgpLFxuICAgICAgICByID0gaSgxNTcpLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0KSB7XG4gICAgICB2YXIgZSA9IHIodCk7cmV0dXJuIG5ldyBuKGUuciwgZS5nLCBlLmIsIGUuYSk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdCA+IDE2Nzc3MjE1ID8geyBhOiB0ID4+PiAyNCwgcjogdCA+PiAxNiAmIDI1NSwgZzogdCA+PiA4ICYgMjU1LCBiOiAyNTUgJiB0IH0gOiB7IGE6IDI1NSwgcjogdCA+PiAxNiAmIDI1NSwgZzogdCA+PiA4ICYgMjU1LCBiOiAyNTUgJiB0IH07XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIGZ1bmN0aW9uIG4oKSB7XG4gICAgICB2YXIgdCA9IG5ldyBBcnJheUJ1ZmZlcig0KSxcbiAgICAgICAgICBlID0gbmV3IFVpbnQ4QXJyYXkodCksXG4gICAgICAgICAgaSA9IG5ldyBVaW50MzJBcnJheSh0KTtyZXR1cm4gZVswXSA9IDE2MSwgZVsxXSA9IDE3OCwgZVsyXSA9IDE5NSwgZVszXSA9IDIxMiwgMzU2OTU5NTA0MSA9PT0gaVswXSB8fCAyNzEyODQ3MzE2ICE9PSBpWzBdICYmIG51bGw7XG4gICAgfXZhciByID0gaSg0NCksXG4gICAgICAgIHMgPSBpKDUzKSxcbiAgICAgICAgYSA9IChpKDExKSwgeyBjYW52YXM6ICExLCBjYW52YXNCaXRCbHRTaGlmdDogbnVsbCwgd2ViR0w6ICExLCBmaWxlOiAhMSwgZmlsZVN5c3RlbTogITEsIGxvY2FsU3RvcmFnZTogITEsIHdvcmtlcjogITEsIHBvaW50ZXJMb2NrOiAhMSwgdmlicmF0aW9uOiAhMSwgZ2V0VXNlck1lZGlhOiAhMCwgbGl0dGxlRW5kaWFuOiAhMSwgc3VwcG9ydDMyYml0OiAhMSB9KTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBhLmNhbnZhcyA9ICEhd2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8fCByLmNvY29vbkpTO3RyeSB7XG4gICAgICAgIGEubG9jYWxTdG9yYWdlID0gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbTtcbiAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgYS5sb2NhbFN0b3JhZ2UgPSAhMTtcbiAgICAgIH1hLmZpbGUgPSAhISh3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkJsb2IpLCBhLmZpbGVTeXN0ZW0gPSAhIXdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbTt2YXIgdCA9ICExO3JldHVybiBhLndlYkdMID0gITAsIGEud29ya2VyID0gISF3aW5kb3cuV29ya2VyLCBhLnBvaW50ZXJMb2NrID0gXCJwb2ludGVyTG9ja0VsZW1lbnRcIiBpbiBkb2N1bWVudCB8fCBcIm1velBvaW50ZXJMb2NrRWxlbWVudFwiIGluIGRvY3VtZW50IHx8IFwid2Via2l0UG9pbnRlckxvY2tFbGVtZW50XCIgaW4gZG9jdW1lbnQsIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm9HZXRVc2VyTWVkaWEsIHdpbmRvdy5VUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwgfHwgd2luZG93Lm1velVSTCB8fCB3aW5kb3cubXNVUkwsIGEuZ2V0VXNlck1lZGlhID0gYS5nZXRVc2VyTWVkaWEgJiYgISFuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhICYmICEhd2luZG93LlVSTCwgcy5maXJlZm94ICYmIHMuZmlyZWZveFZlcnNpb24gPCAyMSAmJiAoYS5nZXRVc2VyTWVkaWEgPSAhMSksICFyLmlPUyAmJiAocy5pZSB8fCBzLmZpcmVmb3ggfHwgcy5jaHJvbWUpICYmIChhLmNhbnZhc0JpdEJsdFNoaWZ0ID0gITApLCAocy5zYWZhcmkgfHwgcy5tb2JpbGVTYWZhcmkpICYmIChhLmNhbnZhc0JpdEJsdFNoaWZ0ID0gITEpLCBuYXZpZ2F0b3IudmlicmF0ZSA9IG5hdmlnYXRvci52aWJyYXRlIHx8IG5hdmlnYXRvci53ZWJraXRWaWJyYXRlIHx8IG5hdmlnYXRvci5tb3pWaWJyYXRlIHx8IG5hdmlnYXRvci5tc1ZpYnJhdGUsIG5hdmlnYXRvci52aWJyYXRlICYmIChhLnZpYnJhdGlvbiA9ICEwKSwgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQXJyYXlCdWZmZXIgJiYgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgVWludDhBcnJheSAmJiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBVaW50MzJBcnJheSAmJiAoYS5saXR0bGVFbmRpYW4gPSBuKCkpLCBhLnN1cHBvcnQzMmJpdCA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIEFycmF5QnVmZmVyICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIEludDMyQXJyYXkgJiYgbnVsbCAhPT0gYS5saXR0bGVFbmRpYW4gJiYgdCwgYTtcbiAgICB9KCk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgZnVuY3Rpb24gbigpIHtcbiAgICAgIHZhciB0ID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFRQUFBQUJBUU1BQUFERDhwMk9BQUFBQTFCTVZFWC9cIixcbiAgICAgICAgICBlID0gXCJBQUFBQ2tsRVFWUUkxMk5nQUFBQUFnQUI0aUc4TXdBQUFBQkpSVTVFcmtKZ2dnPT1cIixcbiAgICAgICAgICBpID0gbmV3IEltYWdlKCk7cmV0dXJuIGkub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbiA9IG5ldyBJbWFnZSgpO24ub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciB0ID0gcy5jcmVhdGUobiwgNiwgMSksXG4gICAgICAgICAgICAgIGUgPSB0LmdldENvbnRleHQoXCIyZFwiKTtpZiAoZS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcIm11bHRpcGx5XCIsIGUuZHJhd0ltYWdlKGksIDAsIDApLCBlLmRyYXdJbWFnZShuLCAyLCAwKSwgIWUuZ2V0SW1hZ2VEYXRhKDIsIDAsIDEsIDEpKSByZXR1cm4gITE7dmFyIHIgPSBlLmdldEltYWdlRGF0YSgyLCAwLCAxLCAxKS5kYXRhO3MucmVtb3ZlKG4pLCBhLnN1cHBvcnROZXdCbGVuZE1vZGVzID0gMjU1ID09PSByWzBdICYmIDAgPT09IHJbMV0gJiYgMCA9PT0gclsyXTtcbiAgICAgICAgfSwgbi5zcmMgPSB0ICsgXCIvd0NLeHZSRlwiICsgZTtcbiAgICAgIH0sIGkuc3JjID0gdCArIFwiQVA4MDRPYTZcIiArIGUsICExO1xuICAgIH1mdW5jdGlvbiByKCkge1xuICAgICAgdmFyIHQgPSBzLmNyZWF0ZSh0aGlzLCAyLCAxKSxcbiAgICAgICAgICBlID0gdC5nZXRDb250ZXh0KFwiMmRcIik7ZS5maWxsU3R5bGUgPSBcInJnYmEoMTAsIDIwLCAzMCwgMC41KVwiLCBlLmZpbGxSZWN0KDAsIDAsIDEsIDEpO3ZhciBpID0gZS5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSk7aWYgKG51bGwgPT09IGkpIHJldHVybiAhMTtlLnB1dEltYWdlRGF0YShpLCAxLCAwKTt2YXIgbiA9IGUuZ2V0SW1hZ2VEYXRhKDEsIDAsIDEsIDEpO3JldHVybiBuLmRhdGFbMF0gPT09IGkuZGF0YVswXSAmJiBuLmRhdGFbMV0gPT09IGkuZGF0YVsxXSAmJiBuLmRhdGFbMl0gPT09IGkuZGF0YVsyXSAmJiBuLmRhdGFbM10gPT09IGkuZGF0YVszXTtcbiAgICB9dmFyIHMgPSBpKDExKSxcbiAgICAgICAgYSA9IHsgc3VwcG9ydE5ld0JsZW5kTW9kZXM6ICExLCBzdXBwb3J0SW52ZXJzZUFscGhhOiAhMSB9O3QuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGRvY3VtZW50ICYmIChhLnN1cHBvcnROZXdCbGVuZE1vZGVzID0gbigpLCBhLnN1cHBvcnRJbnZlcnNlQWxwaGEgPSByKCkpLCBhO1xuICAgIH0oKTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgRElTUEFUQ0hFUl9JRExFOiAwLCBESVNQQVRDSEVSX0RJU1BBVENISU5HOiAxLCBESVNQQVRDSEVSX1JFTU9WSU5HOiAyLCBESVNQQVRDSEVSX0RFU1RST1lFRDogMywgTElTVEVORVJfUEVORElORzogNCwgTElTVEVORVJfQUNUSVZFOiA1LCBMSVNURU5FUl9SRU1PVklORzogNiB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQwMCksXG4gICAgICAgIHIgPSBpKDIpLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlKSB7XG4gICAgICB2YXIgaSxcbiAgICAgICAgICBzLFxuICAgICAgICAgIGEsXG4gICAgICAgICAgbyxcbiAgICAgICAgICBoID0gW10sXG4gICAgICAgICAgdSA9IDE7aWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHtcbiAgICAgICAgbyA9IGU7dmFyIGMgPSB0LmdldChvKSxcbiAgICAgICAgICAgIGwgPSBjLmdldEZyYW1lTmFtZXMoKTtlID0gW10sIGwuZm9yRWFjaChmdW5jdGlvbiAodCwgaSkge1xuICAgICAgICAgIGUucHVzaCh7IGtleTogbywgZnJhbWU6IGkgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfWlmICghQXJyYXkuaXNBcnJheShlKSB8fCAwID09PSBlLmxlbmd0aCkgcmV0dXJuIGg7Zm9yIChhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgdmFyIGYgPSBlW2FdLFxuICAgICAgICAgICAgZCA9IHIoZiwgXCJrZXlcIiwgbnVsbCk7aWYgKGQpIHtcbiAgICAgICAgICB2YXIgcCA9IHIoZiwgXCJmcmFtZVwiLCAwKSxcbiAgICAgICAgICAgICAgdiA9IHQuZ2V0RnJhbWUoZCwgcCk7cyA9IG5ldyBuKGQsIHAsIHUsIHYpLCBzLmR1cmF0aW9uID0gcihmLCBcImR1cmF0aW9uXCIsIDApLCBzLm9uVXBkYXRlID0gcihmLCBcIm9uVXBkYXRlXCIsIG51bGwpO3ZhciBnID0gcihmLCBcInZpc2libGVcIiwgbnVsbCk7bnVsbCAhPT0gZyAmJiAocy5zZXRWaXNpYmxlID0gITAsIHMudmlzaWJsZSA9IGcpLCBzLmlzRmlyc3QgPSAhaSwgaSAmJiAoaS5uZXh0RnJhbWUgPSBzLCBzLnByZXZGcmFtZSA9IGkpLCBoLnB1c2gocyksIGkgPSBzLCB1Kys7XG4gICAgICAgIH1cbiAgICAgIH1pZiAoaC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHMuaXNMYXN0ID0gITAsIHMubmV4dEZyYW1lID0gaFswXSwgaFswXS5wcmV2RnJhbWUgPSBzO3ZhciB4ID0gMSAvIChoLmxlbmd0aCAtIDEpO2ZvciAoYSA9IDA7IGEgPCBoLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgaFthXS5wcm9ncmVzcyA9IGEgKiB4O1xuICAgICAgICB9XG4gICAgICB9cmV0dXJuIGg7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTI2LCBuKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAwKSwgdm9pZCAwID09PSBfaTI2ICYmIChfaTI2ID0gXCIgXCIpLCB2b2lkIDAgPT09IG4gJiYgKG4gPSAzKSwgdCA9IHQudG9TdHJpbmcoKTt2YXIgciA9IDA7aWYgKGUgKyAxID49IHQubGVuZ3RoKSBzd2l0Y2ggKG4pIHtjYXNlIDE6XG4gICAgICAgICAgdCA9IG5ldyBBcnJheShlICsgMSAtIHQubGVuZ3RoKS5qb2luKF9pMjYpICsgdDticmVhaztjYXNlIDM6XG4gICAgICAgICAgdmFyIHMgPSBNYXRoLmNlaWwoKHIgPSBlIC0gdC5sZW5ndGgpIC8gMiksXG4gICAgICAgICAgICAgIGEgPSByIC0gczt0ID0gbmV3IEFycmF5KGEgKyAxKS5qb2luKF9pMjYpICsgdCArIG5ldyBBcnJheShzICsgMSkuam9pbihfaTI2KTticmVhaztkZWZhdWx0OlxuICAgICAgICAgIHQgKz0gbmV3IEFycmF5KGUgKyAxIC0gdC5sZW5ndGgpLmpvaW4oX2kyNik7fXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICBpZiAodGhpcy5lbnRyaWVzID0ge30sIHRoaXMuc2l6ZSA9IDAsIEFycmF5LmlzQXJyYXkodCkpIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIHRoaXMuc2V0KHRbZV1bMF0sIHRbZV1bMV0pO1xuICAgICAgICB9XG4gICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhcyh0KSB8fCAodGhpcy5lbnRyaWVzW3RdID0gZSwgdGhpcy5zaXplKyspLCB0aGlzO1xuICAgICAgfSwgZ2V0OiBmdW5jdGlvbiBnZXQodCkge1xuICAgICAgICBpZiAodGhpcy5oYXModCkpIHJldHVybiB0aGlzLmVudHJpZXNbdF07XG4gICAgICB9LCBnZXRBcnJheTogZnVuY3Rpb24gZ2V0QXJyYXkoKSB7XG4gICAgICAgIHZhciB0ID0gW10sXG4gICAgICAgICAgICBlID0gdGhpcy5lbnRyaWVzO2ZvciAodmFyIGkgaW4gZSkge1xuICAgICAgICAgIHQucHVzaChlW2ldKTtcbiAgICAgICAgfXJldHVybiB0O1xuICAgICAgfSwgaGFzOiBmdW5jdGlvbiBoYXModCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzLmhhc093blByb3BlcnR5KHQpO1xuICAgICAgfSwgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzKHQpICYmIChkZWxldGUgdGhpcy5lbnRyaWVzW3RdLCB0aGlzLnNpemUtLSksIHRoaXM7XG4gICAgICB9LCBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmVudHJpZXMpLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5lbnRyaWVzW3RdO1xuICAgICAgICB9KSwgdGhpcy5zaXplID0gMCwgdGhpcztcbiAgICAgIH0sIGtleXM6IGZ1bmN0aW9uIGtleXMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmVudHJpZXMpO1xuICAgICAgfSwgdmFsdWVzOiBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgICAgIHZhciB0ID0gW10sXG4gICAgICAgICAgICBlID0gdGhpcy5lbnRyaWVzO2ZvciAodmFyIGkgaW4gZSkge1xuICAgICAgICAgIHQucHVzaChlW2ldKTtcbiAgICAgICAgfXJldHVybiB0O1xuICAgICAgfSwgZHVtcDogZnVuY3Rpb24gZHVtcCgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmVudHJpZXM7Y29uc29sZS5ncm91cChcIk1hcFwiKTtmb3IgKHZhciBlIGluIHQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlLCB0W2VdKTtcbiAgICAgICAgfWNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgIH0sIGVhY2g6IGZ1bmN0aW9uIGVhY2godCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuZW50cmllcztmb3IgKHZhciBpIGluIGUpIHtcbiAgICAgICAgICBpZiAoITEgPT09IHQoaSwgZVtpXSkpIGJyZWFrO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBjb250YWluczogZnVuY3Rpb24gY29udGFpbnModCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuZW50cmllcztmb3IgKHZhciBpIGluIGUpIHtcbiAgICAgICAgICBpZiAoZVtpXSA9PT0gdCkgcmV0dXJuICEwO1xuICAgICAgICB9cmV0dXJuICExO1xuICAgICAgfSwgbWVyZ2U6IGZ1bmN0aW9uIG1lcmdlKHQsIGUpIHtcbiAgICAgICAgdm9pZCAwID09PSBlICYmIChlID0gITEpO3ZhciBpID0gdGhpcy5lbnRyaWVzLFxuICAgICAgICAgICAgbiA9IHQuZW50cmllcztmb3IgKHZhciByIGluIG4pIHtcbiAgICAgICAgICBpLmhhc093blByb3BlcnR5KHIpICYmIGUgPyBpW3JdID0gbltyXSA6IHRoaXMuc2V0KHIsIG5bcl0pO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB0LmdldENvbnRleHQoXCIyZFwiLCBlKSB8fCBudWxsO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IEluZGV4QnVmZmVyOiBpKDQ0NCksIFJlbmRlclRhcmdldDogaSg0NDUpLCBTaGFkZXI6IGkoNDQ2KSwgVGV4dHVyZTogaSg0NDcpLCBWZXJ0ZXhCdWZmZXI6IGkoNzMpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gbih0LCBlLCBpKSB7XG4gICAgICBpID0gaSB8fCAyO3ZhciBuID0gZSAmJiBlLmxlbmd0aCxcbiAgICAgICAgICBzID0gbiA/IGVbMF0gKiBpIDogdC5sZW5ndGgsXG4gICAgICAgICAgbyA9IHIodCwgMCwgcywgaSwgITApLFxuICAgICAgICAgIGggPSBbXTtpZiAoIW8pIHJldHVybiBoO3ZhciB1LCBjLCBmLCBkLCBwLCB2LCBnO2lmIChuICYmIChvID0gbCh0LCBlLCBvLCBpKSksIHQubGVuZ3RoID4gODAgKiBpKSB7XG4gICAgICAgIHUgPSBmID0gdFswXSwgYyA9IGQgPSB0WzFdO2ZvciAodmFyIHggPSBpOyB4IDwgczsgeCArPSBpKSB7XG4gICAgICAgICAgcCA9IHRbeF0sIHYgPSB0W3ggKyAxXSwgcCA8IHUgJiYgKHUgPSBwKSwgdiA8IGMgJiYgKGMgPSB2KSwgcCA+IGYgJiYgKGYgPSBwKSwgdiA+IGQgJiYgKGQgPSB2KTtcbiAgICAgICAgfWcgPSBNYXRoLm1heChmIC0gdSwgZCAtIGMpO1xuICAgICAgfXJldHVybiBhKG8sIGgsIGksIHUsIGMsIGcpLCBoO1xuICAgIH1mdW5jdGlvbiByKHQsIGUsIGksIG4sIHIpIHtcbiAgICAgIHZhciBzLCBhO2lmIChyID09PSBMKHQsIGUsIGksIG4pID4gMCkgZm9yIChzID0gZTsgcyA8IGk7IHMgKz0gbikge1xuICAgICAgICBhID0gTShzLCB0W3NdLCB0W3MgKyAxXSwgYSk7XG4gICAgICB9IGVsc2UgZm9yIChzID0gaSAtIG47IHMgPj0gZTsgcyAtPSBuKSB7XG4gICAgICAgIGEgPSBNKHMsIHRbc10sIHRbcyArIDFdLCBhKTtcbiAgICAgIH1yZXR1cm4gYSAmJiBUKGEsIGEubmV4dCkgJiYgKE8oYSksIGEgPSBhLm5leHQpLCBhO1xuICAgIH1mdW5jdGlvbiBzKHQsIGUpIHtcbiAgICAgIGlmICghdCkgcmV0dXJuIHQ7ZSB8fCAoZSA9IHQpO3ZhciBpLFxuICAgICAgICAgIG4gPSB0O2RvIHtcbiAgICAgICAgaWYgKGkgPSAhMSwgbi5zdGVpbmVyIHx8ICFUKG4sIG4ubmV4dCkgJiYgMCAhPT0gRShuLnByZXYsIG4sIG4ubmV4dCkpIG4gPSBuLm5leHQ7ZWxzZSB7XG4gICAgICAgICAgaWYgKE8obiksIChuID0gZSA9IG4ucHJldikgPT09IG4ubmV4dCkgcmV0dXJuIG51bGw7aSA9ICEwO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChpIHx8IG4gIT09IGUpO3JldHVybiBlO1xuICAgIH1mdW5jdGlvbiBhKHQsIGUsIGksIG4sIHIsIGwsIGYpIHtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgICFmICYmIGwgJiYgdih0LCBuLCByLCBsKTtmb3IgKHZhciBkLCBwLCBnID0gdDsgdC5wcmV2ICE9PSB0Lm5leHQ7KSB7XG4gICAgICAgICAgaWYgKGQgPSB0LnByZXYsIHAgPSB0Lm5leHQsIGwgPyBoKHQsIG4sIHIsIGwpIDogbyh0KSkgZS5wdXNoKGQuaSAvIGkpLCBlLnB1c2godC5pIC8gaSksIGUucHVzaChwLmkgLyBpKSwgTyh0KSwgdCA9IHAubmV4dCwgZyA9IHAubmV4dDtlbHNlIGlmICgodCA9IHApID09PSBnKSB7XG4gICAgICAgICAgICBmID8gMSA9PT0gZiA/ICh0ID0gdSh0LCBlLCBpKSwgYSh0LCBlLCBpLCBuLCByLCBsLCAyKSkgOiAyID09PSBmICYmIGModCwgZSwgaSwgbiwgciwgbCkgOiBhKHModCksIGUsIGksIG4sIHIsIGwsIDEpO2JyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1mdW5jdGlvbiBvKHQpIHtcbiAgICAgIHZhciBlID0gdC5wcmV2LFxuICAgICAgICAgIGkgPSB0LFxuICAgICAgICAgIG4gPSB0Lm5leHQ7aWYgKEUoZSwgaSwgbikgPj0gMCkgcmV0dXJuICExO2ZvciAodmFyIHIgPSB0Lm5leHQubmV4dDsgciAhPT0gdC5wcmV2Oykge1xuICAgICAgICBpZiAoeShlLngsIGUueSwgaS54LCBpLnksIG4ueCwgbi55LCByLngsIHIueSkgJiYgRShyLnByZXYsIHIsIHIubmV4dCkgPj0gMCkgcmV0dXJuICExO3IgPSByLm5leHQ7XG4gICAgICB9cmV0dXJuICEwO1xuICAgIH1mdW5jdGlvbiBoKHQsIGUsIGksIG4pIHtcbiAgICAgIHZhciByID0gdC5wcmV2LFxuICAgICAgICAgIHMgPSB0LFxuICAgICAgICAgIGEgPSB0Lm5leHQ7aWYgKEUociwgcywgYSkgPj0gMCkgcmV0dXJuICExO2ZvciAodmFyIG8gPSByLnggPCBzLnggPyByLnggPCBhLnggPyByLnggOiBhLnggOiBzLnggPCBhLnggPyBzLnggOiBhLngsIGggPSByLnkgPCBzLnkgPyByLnkgPCBhLnkgPyByLnkgOiBhLnkgOiBzLnkgPCBhLnkgPyBzLnkgOiBhLnksIHUgPSByLnggPiBzLnggPyByLnggPiBhLnggPyByLnggOiBhLnggOiBzLnggPiBhLnggPyBzLnggOiBhLngsIGMgPSByLnkgPiBzLnkgPyByLnkgPiBhLnkgPyByLnkgOiBhLnkgOiBzLnkgPiBhLnkgPyBzLnkgOiBhLnksIGwgPSB4KG8sIGgsIGUsIGksIG4pLCBmID0geCh1LCBjLCBlLCBpLCBuKSwgZCA9IHQubmV4dFo7IGQgJiYgZC56IDw9IGY7KSB7XG4gICAgICAgIGlmIChkICE9PSB0LnByZXYgJiYgZCAhPT0gdC5uZXh0ICYmIHkoci54LCByLnksIHMueCwgcy55LCBhLngsIGEueSwgZC54LCBkLnkpICYmIEUoZC5wcmV2LCBkLCBkLm5leHQpID49IDApIHJldHVybiAhMTtkID0gZC5uZXh0WjtcbiAgICAgIH1mb3IgKGQgPSB0LnByZXZaOyBkICYmIGQueiA+PSBsOykge1xuICAgICAgICBpZiAoZCAhPT0gdC5wcmV2ICYmIGQgIT09IHQubmV4dCAmJiB5KHIueCwgci55LCBzLngsIHMueSwgYS54LCBhLnksIGQueCwgZC55KSAmJiBFKGQucHJldiwgZCwgZC5uZXh0KSA+PSAwKSByZXR1cm4gITE7ZCA9IGQucHJldlo7XG4gICAgICB9cmV0dXJuICEwO1xuICAgIH1mdW5jdGlvbiB1KHQsIGUsIGkpIHtcbiAgICAgIHZhciBuID0gdDtkbyB7XG4gICAgICAgIHZhciByID0gbi5wcmV2LFxuICAgICAgICAgICAgcyA9IG4ubmV4dC5uZXh0OyFUKHIsIHMpICYmIGIociwgbiwgbi5uZXh0LCBzKSAmJiBBKHIsIHMpICYmIEEocywgcikgJiYgKGUucHVzaChyLmkgLyBpKSwgZS5wdXNoKG4uaSAvIGkpLCBlLnB1c2gocy5pIC8gaSksIE8obiksIE8obi5uZXh0KSwgbiA9IHQgPSBzKSwgbiA9IG4ubmV4dDtcbiAgICAgIH0gd2hpbGUgKG4gIT09IHQpO3JldHVybiBuO1xuICAgIH1mdW5jdGlvbiBjKHQsIGUsIGksIG4sIHIsIG8pIHtcbiAgICAgIHZhciBoID0gdDtkbyB7XG4gICAgICAgIGZvciAodmFyIHUgPSBoLm5leHQubmV4dDsgdSAhPT0gaC5wcmV2Oykge1xuICAgICAgICAgIGlmIChoLmkgIT09IHUuaSAmJiB3KGgsIHUpKSB7XG4gICAgICAgICAgICB2YXIgYyA9IFIoaCwgdSk7cmV0dXJuIGggPSBzKGgsIGgubmV4dCksIGMgPSBzKGMsIGMubmV4dCksIGEoaCwgZSwgaSwgbiwgciwgbyksIHZvaWQgYShjLCBlLCBpLCBuLCByLCBvKTtcbiAgICAgICAgICB9dSA9IHUubmV4dDtcbiAgICAgICAgfWggPSBoLm5leHQ7XG4gICAgICB9IHdoaWxlIChoICE9PSB0KTtcbiAgICB9ZnVuY3Rpb24gbCh0LCBlLCBpLCBuKSB7XG4gICAgICB2YXIgYSxcbiAgICAgICAgICBvLFxuICAgICAgICAgIGgsXG4gICAgICAgICAgdSxcbiAgICAgICAgICBjLFxuICAgICAgICAgIGwgPSBbXTtmb3IgKGEgPSAwLCBvID0gZS5sZW5ndGg7IGEgPCBvOyBhKyspIHtcbiAgICAgICAgaCA9IGVbYV0gKiBuLCB1ID0gYSA8IG8gLSAxID8gZVthICsgMV0gKiBuIDogdC5sZW5ndGgsIGMgPSByKHQsIGgsIHUsIG4sICExKSwgYyA9PT0gYy5uZXh0ICYmIChjLnN0ZWluZXIgPSAhMCksIGwucHVzaChtKGMpKTtcbiAgICAgIH1mb3IgKGwuc29ydChmKSwgYSA9IDA7IGEgPCBsLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIGQobFthXSwgaSksIGkgPSBzKGksIGkubmV4dCk7XG4gICAgICB9cmV0dXJuIGk7XG4gICAgfWZ1bmN0aW9uIGYodCwgZSkge1xuICAgICAgcmV0dXJuIHQueCAtIGUueDtcbiAgICB9ZnVuY3Rpb24gZCh0LCBlKSB7XG4gICAgICBpZiAoZSA9IHAodCwgZSkpIHtcbiAgICAgICAgdmFyIGkgPSBSKGUsIHQpO3MoaSwgaS5uZXh0KTtcbiAgICAgIH1cbiAgICB9ZnVuY3Rpb24gcCh0LCBlKSB7XG4gICAgICB2YXIgaSxcbiAgICAgICAgICBuID0gZSxcbiAgICAgICAgICByID0gdC54LFxuICAgICAgICAgIHMgPSB0LnksXG4gICAgICAgICAgYSA9IC0xIC8gMDtkbyB7XG4gICAgICAgIGlmIChzIDw9IG4ueSAmJiBzID49IG4ubmV4dC55ICYmIG4ubmV4dC55ICE9PSBuLnkpIHtcbiAgICAgICAgICB2YXIgbyA9IG4ueCArIChzIC0gbi55KSAqIChuLm5leHQueCAtIG4ueCkgLyAobi5uZXh0LnkgLSBuLnkpO2lmIChvIDw9IHIgJiYgbyA+IGEpIHtcbiAgICAgICAgICAgIGlmIChhID0gbywgbyA9PT0gcikge1xuICAgICAgICAgICAgICBpZiAocyA9PT0gbi55KSByZXR1cm4gbjtpZiAocyA9PT0gbi5uZXh0LnkpIHJldHVybiBuLm5leHQ7XG4gICAgICAgICAgICB9aSA9IG4ueCA8IG4ubmV4dC54ID8gbiA6IG4ubmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1uID0gbi5uZXh0O1xuICAgICAgfSB3aGlsZSAobiAhPT0gZSk7aWYgKCFpKSByZXR1cm4gbnVsbDtpZiAociA9PT0gYSkgcmV0dXJuIGkucHJldjt2YXIgaCxcbiAgICAgICAgICB1ID0gaSxcbiAgICAgICAgICBjID0gaS54LFxuICAgICAgICAgIGwgPSBpLnksXG4gICAgICAgICAgZiA9IDEgLyAwO2ZvciAobiA9IGkubmV4dDsgbiAhPT0gdTspIHtcbiAgICAgICAgciA+PSBuLnggJiYgbi54ID49IGMgJiYgciAhPT0gbi54ICYmIHkocyA8IGwgPyByIDogYSwgcywgYywgbCwgcyA8IGwgPyBhIDogciwgcywgbi54LCBuLnkpICYmICgoaCA9IE1hdGguYWJzKHMgLSBuLnkpIC8gKHIgLSBuLngpKSA8IGYgfHwgaCA9PT0gZiAmJiBuLnggPiBpLngpICYmIEEobiwgdCkgJiYgKGkgPSBuLCBmID0gaCksIG4gPSBuLm5leHQ7XG4gICAgICB9cmV0dXJuIGk7XG4gICAgfWZ1bmN0aW9uIHYodCwgZSwgaSwgbikge1xuICAgICAgdmFyIHIgPSB0O2RvIHtcbiAgICAgICAgbnVsbCA9PT0gci56ICYmIChyLnogPSB4KHIueCwgci55LCBlLCBpLCBuKSksIHIucHJldlogPSByLnByZXYsIHIubmV4dFogPSByLm5leHQsIHIgPSByLm5leHQ7XG4gICAgICB9IHdoaWxlIChyICE9PSB0KTtyLnByZXZaLm5leHRaID0gbnVsbCwgci5wcmV2WiA9IG51bGwsIGcocik7XG4gICAgfWZ1bmN0aW9uIGcodCkge1xuICAgICAgdmFyIGUsXG4gICAgICAgICAgaSxcbiAgICAgICAgICBuLFxuICAgICAgICAgIHIsXG4gICAgICAgICAgcyxcbiAgICAgICAgICBhLFxuICAgICAgICAgIG8sXG4gICAgICAgICAgaCxcbiAgICAgICAgICB1ID0gMTtkbyB7XG4gICAgICAgIGZvciAoaSA9IHQsIHQgPSBudWxsLCBzID0gbnVsbCwgYSA9IDA7IGk7KSB7XG4gICAgICAgICAgZm9yIChhKyssIG4gPSBpLCBvID0gMCwgZSA9IDA7IGUgPCB1ICYmIChvKyssIG4gPSBuLm5leHRaKTsgZSsrKSB7fWZvciAoaCA9IHU7IG8gPiAwIHx8IGggPiAwICYmIG47KSB7XG4gICAgICAgICAgICAwICE9PSBvICYmICgwID09PSBoIHx8ICFuIHx8IGkueiA8PSBuLnopID8gKHIgPSBpLCBpID0gaS5uZXh0Wiwgby0tKSA6IChyID0gbiwgbiA9IG4ubmV4dFosIGgtLSksIHMgPyBzLm5leHRaID0gciA6IHQgPSByLCByLnByZXZaID0gcywgcyA9IHI7XG4gICAgICAgICAgfWkgPSBuO1xuICAgICAgICB9cy5uZXh0WiA9IG51bGwsIHUgKj0gMjtcbiAgICAgIH0gd2hpbGUgKGEgPiAxKTtyZXR1cm4gdDtcbiAgICB9ZnVuY3Rpb24geCh0LCBlLCBpLCBuLCByKSB7XG4gICAgICByZXR1cm4gdCA9IDMyNzY3ICogKHQgLSBpKSAvIHIsIGUgPSAzMjc2NyAqIChlIC0gbikgLyByLCB0ID0gMTY3MTE5MzUgJiAodCB8IHQgPDwgOCksIHQgPSAyNTI2NDUxMzUgJiAodCB8IHQgPDwgNCksIHQgPSA4NTg5OTM0NTkgJiAodCB8IHQgPDwgMiksIHQgPSAxNDMxNjU1NzY1ICYgKHQgfCB0IDw8IDEpLCBlID0gMTY3MTE5MzUgJiAoZSB8IGUgPDwgOCksIGUgPSAyNTI2NDUxMzUgJiAoZSB8IGUgPDwgNCksIGUgPSA4NTg5OTM0NTkgJiAoZSB8IGUgPDwgMiksIGUgPSAxNDMxNjU1NzY1ICYgKGUgfCBlIDw8IDEpLCB0IHwgZSA8PCAxO1xuICAgIH1mdW5jdGlvbiBtKHQpIHtcbiAgICAgIHZhciBlID0gdCxcbiAgICAgICAgICBpID0gdDtkbyB7XG4gICAgICAgIGUueCA8IGkueCAmJiAoaSA9IGUpLCBlID0gZS5uZXh0O1xuICAgICAgfSB3aGlsZSAoZSAhPT0gdCk7cmV0dXJuIGk7XG4gICAgfWZ1bmN0aW9uIHkodCwgZSwgaSwgbiwgciwgcywgYSwgbykge1xuICAgICAgcmV0dXJuIChyIC0gYSkgKiAoZSAtIG8pIC0gKHQgLSBhKSAqIChzIC0gbykgPj0gMCAmJiAodCAtIGEpICogKG4gLSBvKSAtIChpIC0gYSkgKiAoZSAtIG8pID49IDAgJiYgKGkgLSBhKSAqIChzIC0gbykgLSAociAtIGEpICogKG4gLSBvKSA+PSAwO1xuICAgIH1mdW5jdGlvbiB3KHQsIGUpIHtcbiAgICAgIHJldHVybiB0Lm5leHQuaSAhPT0gZS5pICYmIHQucHJldi5pICE9PSBlLmkgJiYgIV8odCwgZSkgJiYgQSh0LCBlKSAmJiBBKGUsIHQpICYmIFModCwgZSk7XG4gICAgfWZ1bmN0aW9uIEUodCwgZSwgaSkge1xuICAgICAgcmV0dXJuIChlLnkgLSB0LnkpICogKGkueCAtIGUueCkgLSAoZS54IC0gdC54KSAqIChpLnkgLSBlLnkpO1xuICAgIH1mdW5jdGlvbiBUKHQsIGUpIHtcbiAgICAgIHJldHVybiB0LnggPT09IGUueCAmJiB0LnkgPT09IGUueTtcbiAgICB9ZnVuY3Rpb24gYih0LCBlLCBpLCBuKSB7XG4gICAgICByZXR1cm4gISEoVCh0LCBlKSAmJiBUKGksIG4pIHx8IFQodCwgbikgJiYgVChpLCBlKSkgfHwgRSh0LCBlLCBpKSA+IDAgIT0gRSh0LCBlLCBuKSA+IDAgJiYgRShpLCBuLCB0KSA+IDAgIT0gRShpLCBuLCBlKSA+IDA7XG4gICAgfWZ1bmN0aW9uIF8odCwgZSkge1xuICAgICAgdmFyIGkgPSB0O2RvIHtcbiAgICAgICAgaWYgKGkuaSAhPT0gdC5pICYmIGkubmV4dC5pICE9PSB0LmkgJiYgaS5pICE9PSBlLmkgJiYgaS5uZXh0LmkgIT09IGUuaSAmJiBiKGksIGkubmV4dCwgdCwgZSkpIHJldHVybiAhMDtpID0gaS5uZXh0O1xuICAgICAgfSB3aGlsZSAoaSAhPT0gdCk7cmV0dXJuICExO1xuICAgIH1mdW5jdGlvbiBBKHQsIGUpIHtcbiAgICAgIHJldHVybiBFKHQucHJldiwgdCwgdC5uZXh0KSA8IDAgPyBFKHQsIGUsIHQubmV4dCkgPj0gMCAmJiBFKHQsIHQucHJldiwgZSkgPj0gMCA6IEUodCwgZSwgdC5wcmV2KSA8IDAgfHwgRSh0LCB0Lm5leHQsIGUpIDwgMDtcbiAgICB9ZnVuY3Rpb24gUyh0LCBlKSB7XG4gICAgICB2YXIgaSA9IHQsXG4gICAgICAgICAgbiA9ICExLFxuICAgICAgICAgIHIgPSAodC54ICsgZS54KSAvIDIsXG4gICAgICAgICAgcyA9ICh0LnkgKyBlLnkpIC8gMjtkbyB7XG4gICAgICAgIGkueSA+IHMgIT0gaS5uZXh0LnkgPiBzICYmIGkubmV4dC55ICE9PSBpLnkgJiYgciA8IChpLm5leHQueCAtIGkueCkgKiAocyAtIGkueSkgLyAoaS5uZXh0LnkgLSBpLnkpICsgaS54ICYmIChuID0gIW4pLCBpID0gaS5uZXh0O1xuICAgICAgfSB3aGlsZSAoaSAhPT0gdCk7cmV0dXJuIG47XG4gICAgfWZ1bmN0aW9uIFIodCwgZSkge1xuICAgICAgdmFyIGkgPSBuZXcgQyh0LmksIHQueCwgdC55KSxcbiAgICAgICAgICBuID0gbmV3IEMoZS5pLCBlLngsIGUueSksXG4gICAgICAgICAgciA9IHQubmV4dCxcbiAgICAgICAgICBzID0gZS5wcmV2O3JldHVybiB0Lm5leHQgPSBlLCBlLnByZXYgPSB0LCBpLm5leHQgPSByLCByLnByZXYgPSBpLCBuLm5leHQgPSBpLCBpLnByZXYgPSBuLCBzLm5leHQgPSBuLCBuLnByZXYgPSBzLCBuO1xuICAgIH1mdW5jdGlvbiBNKHQsIGUsIGksIG4pIHtcbiAgICAgIHZhciByID0gbmV3IEModCwgZSwgaSk7cmV0dXJuIG4gPyAoci5uZXh0ID0gbi5uZXh0LCByLnByZXYgPSBuLCBuLm5leHQucHJldiA9IHIsIG4ubmV4dCA9IHIpIDogKHIucHJldiA9IHIsIHIubmV4dCA9IHIpLCByO1xuICAgIH1mdW5jdGlvbiBPKHQpIHtcbiAgICAgIHQubmV4dC5wcmV2ID0gdC5wcmV2LCB0LnByZXYubmV4dCA9IHQubmV4dCwgdC5wcmV2WiAmJiAodC5wcmV2Wi5uZXh0WiA9IHQubmV4dFopLCB0Lm5leHRaICYmICh0Lm5leHRaLnByZXZaID0gdC5wcmV2Wik7XG4gICAgfWZ1bmN0aW9uIEModCwgZSwgaSkge1xuICAgICAgdGhpcy5pID0gdCwgdGhpcy54ID0gZSwgdGhpcy55ID0gaSwgdGhpcy5wcmV2ID0gbnVsbCwgdGhpcy5uZXh0ID0gbnVsbCwgdGhpcy56ID0gbnVsbCwgdGhpcy5wcmV2WiA9IG51bGwsIHRoaXMubmV4dFogPSBudWxsLCB0aGlzLnN0ZWluZXIgPSAhMTtcbiAgICB9ZnVuY3Rpb24gTCh0LCBlLCBpLCBuKSB7XG4gICAgICBmb3IgKHZhciByID0gMCwgcyA9IGUsIGEgPSBpIC0gbjsgcyA8IGk7IHMgKz0gbikge1xuICAgICAgICByICs9ICh0W2FdIC0gdFtzXSkgKiAodFtzICsgMV0gKyB0W2EgKyAxXSksIGEgPSBzO1xuICAgICAgfXJldHVybiByO1xuICAgIH10LmV4cG9ydHMgPSBuLCBuLmRldmlhdGlvbiA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7XG4gICAgICB2YXIgciA9IGUgJiYgZS5sZW5ndGgsXG4gICAgICAgICAgcyA9IHIgPyBlWzBdICogaSA6IHQubGVuZ3RoLFxuICAgICAgICAgIGEgPSBNYXRoLmFicyhMKHQsIDAsIHMsIGkpKTtpZiAocikgZm9yICh2YXIgbyA9IDAsIGggPSBlLmxlbmd0aDsgbyA8IGg7IG8rKykge1xuICAgICAgICB2YXIgdSA9IGVbb10gKiBpLFxuICAgICAgICAgICAgYyA9IG8gPCBoIC0gMSA/IGVbbyArIDFdICogaSA6IHQubGVuZ3RoO2EgLT0gTWF0aC5hYnMoTCh0LCB1LCBjLCBpKSk7XG4gICAgICB9dmFyIGwgPSAwO2ZvciAobyA9IDA7IG8gPCBuLmxlbmd0aDsgbyArPSAzKSB7XG4gICAgICAgIHZhciBmID0gbltvXSAqIGksXG4gICAgICAgICAgICBkID0gbltvICsgMV0gKiBpLFxuICAgICAgICAgICAgcCA9IG5bbyArIDJdICogaTtsICs9IE1hdGguYWJzKCh0W2ZdIC0gdFtwXSkgKiAodFtkICsgMV0gLSB0W2YgKyAxXSkgLSAodFtmXSAtIHRbZF0pICogKHRbcCArIDFdIC0gdFtmICsgMV0pKTtcbiAgICAgIH1yZXR1cm4gMCA9PT0gYSAmJiAwID09PSBsID8gMCA6IE1hdGguYWJzKChsIC0gYSkgLyBhKTtcbiAgICB9LCBuLmZsYXR0ZW4gPSBmdW5jdGlvbiAodCkge1xuICAgICAgZm9yICh2YXIgZSA9IHRbMF1bMF0ubGVuZ3RoLCBpID0geyB2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZSB9LCBuID0gMCwgciA9IDA7IHIgPCB0Lmxlbmd0aDsgcisrKSB7XG4gICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgdFtyXS5sZW5ndGg7IHMrKykge1xuICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgZTsgYSsrKSB7XG4gICAgICAgICAgICBpLnZlcnRpY2VzLnB1c2godFtyXVtzXVthXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9ciA+IDAgJiYgKG4gKz0gdFtyIC0gMV0ubGVuZ3RoLCBpLmhvbGVzLnB1c2gobikpO1xuICAgICAgfXJldHVybiBpO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IFZFUlRFWF9TSVpFOiAxNiwgSU5ERVhfU0laRTogMiwgVElMRU1BUF9WRVJURVhfQ09VTlQ6IDQsIFRJTEVNQVBfSU5ERVhfQ09VTlQ6IDYsIFRJTEVNQVBfVkVSVEVYX0NPTVBPTkVOVF9DT1VOVDogNCwgTUFYX1RJTEVNQVA6IDJlMyB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gKGkoMSksIGkoMjkpKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdCwgdGhpcy5ldmVudHMgPSBuZXcgcigpLCB0aGlzLmxpc3QgPSB7fSwgdGhpcy5fYmVmb3JlQ2FsbGJhY2tzID0ge30sIHRoaXMuX2FmdGVyQ2FsbGJhY2tzID0ge30sIHRoaXMuX2Zyb3plbiA9ICExO1xuICAgICAgfSwgZ2V0OiBmdW5jdGlvbiBnZXQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0W3RdO1xuICAgICAgfSwgZ2V0QWxsOiBmdW5jdGlvbiBnZXRBbGwoKSB7XG4gICAgICAgIHZhciB0ID0ge307Zm9yICh2YXIgZSBpbiB0aGlzLmxpc3QpIHtcbiAgICAgICAgICB0W2VdID0gdGhpcy5saXN0W2VdO1xuICAgICAgICB9cmV0dXJuIHQ7XG4gICAgICB9LCBxdWVyeTogZnVuY3Rpb24gcXVlcnkodCkge1xuICAgICAgICB2YXIgZSA9IHt9O2ZvciAodmFyIGkgaW4gdGhpcy5saXN0KSB7XG4gICAgICAgICAgaS5tYXRjaCh0KSAmJiAoZVtpXSA9IHRoaXMubGlzdFtpXSk7XG4gICAgICAgIH1yZXR1cm4gZTtcbiAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQsIGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Zyb3plbikgcmV0dXJuIHRoaXM7dmFyIGksIG47cmV0dXJuIHRoaXMuX2JlZm9yZUNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eSh0KSAmJiAoaSA9IHRoaXMuX2JlZm9yZUNhbGxiYWNrc1t0XSwgdm9pZCAwICE9PSAobiA9IGkuY2FsbGJhY2suY2FsbChpLnNjb3BlLCB0aGlzLnBhcmVudCwgdCwgZSkpICYmIChlID0gbikpLCB0aGlzLmxpc3RbdF0gPSBlLCB0aGlzLl9hZnRlckNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eSh0KSAmJiAoaSA9IHRoaXMuX2FmdGVyQ2FsbGJhY2tzW3RdLCB2b2lkIDAgIT09IChuID0gaS5jYWxsYmFjay5jYWxsKGkuc2NvcGUsIHRoaXMucGFyZW50LCB0LCBlKSkgJiYgKHRoaXMubGlzdFt0XSA9IG4pKSwgdGhpcztcbiAgICAgIH0sIGJlZm9yZTogZnVuY3Rpb24gYmVmb3JlKHQsIGUsIGkpIHtcbiAgICAgICAgdm9pZCAwID09PSBlID8gZGVsZXRlIHRoaXMuX2JlZm9yZUNhbGxiYWNrc1t0XSA6IHRoaXMuX2JlZm9yZUNhbGxiYWNrc1t0XSA9IHsgY2FsbGJhY2s6IGUsIHNjb3BlOiBpIH07XG4gICAgICB9LCBhZnRlcjogZnVuY3Rpb24gYWZ0ZXIodCwgZSwgaSkge1xuICAgICAgICB2b2lkIDAgPT09IGUgPyBkZWxldGUgdGhpcy5fYWZ0ZXJDYWxsYmFja3NbdF0gOiB0aGlzLl9hZnRlckNhbGxiYWNrc1t0XSA9IHsgY2FsbGJhY2s6IGUsIHNjb3BlOiBpIH07XG4gICAgICB9LCBlYWNoOiBmdW5jdGlvbiBlYWNoKHQsIGUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IFt0aGlzLnBhcmVudCwgbnVsbCwgdm9pZCAwXSwgbiA9IDE7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICBpLnB1c2goYXJndW1lbnRzW25dKTtcbiAgICAgICAgfWZvciAodmFyIHIgaW4gdGhpcy5saXN0KSB7XG4gICAgICAgICAgaVsxXSA9IHIsIGlbMl0gPSB0aGlzLmxpc3Rbcl0sIHQuYXBwbHkoZSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0sIG1lcmdlOiBmdW5jdGlvbiBtZXJnZSh0LCBlKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9ICEwKTtmb3IgKHZhciBpIGluIHQpIHtcbiAgICAgICAgICAoZSB8fCAhZSAmJiAhdGhpcy5oYXMoaSkpICYmICh0aGlzLmxpc3RbaV0gPSB0KTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUodCkge1xuICAgICAgICAhdGhpcy5fZnJvemVuICYmIHRoaXMuaGFzKHQpICYmIChkZWxldGUgdGhpcy5saXN0W3RdLCB0aGlzLnJlbW92ZUxpc3RlbmVycyh0KSk7XG4gICAgICB9LCByZW1vdmVMaXN0ZW5lcnM6IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycyh0KSB7XG4gICAgICAgIHRoaXMuX2JlZm9yZUNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eSh0KSAmJiBkZWxldGUgdGhpcy5fYmVmb3JlQ2FsbGJhY2tzW3RdLCB0aGlzLl9hZnRlckNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eSh0KSAmJiBkZWxldGUgdGhpcy5fYWZ0ZXJDYWxsYmFja3NbdF07XG4gICAgICB9LCBwb3A6IGZ1bmN0aW9uIHBvcCh0KSB7XG4gICAgICAgIHZhciBlID0gdm9pZCAwO3JldHVybiAhdGhpcy5fZnJvemVuICYmIHRoaXMuaGFzKHQpICYmIChlID0gdGhpcy5saXN0W3RdLCBkZWxldGUgdGhpcy5saXN0W3RdLCB0aGlzLnJlbW92ZUxpc3RlbmVycyh0KSksIGU7XG4gICAgICB9LCBoYXM6IGZ1bmN0aW9uIGhhcyh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QuaGFzT3duUHJvcGVydHkodCk7XG4gICAgICB9LCByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIGZvciAodmFyIHQgaW4gdGhpcy5saXN0KSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMubGlzdFt0XTtcbiAgICAgICAgfWZvciAodCBpbiB0aGlzLl9iZWZvcmVDYWxsYmFja3MpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5fYmVmb3JlQ2FsbGJhY2tzW3RdO1xuICAgICAgICB9Zm9yICh0IGluIHRoaXMuX2FmdGVyQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2FmdGVyQ2FsbGJhY2tzW3RdO1xuICAgICAgICB9dGhpcy5fZnJvemVuID0gITE7XG4gICAgICB9LCBmcmVlemU6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Zyb3plbjtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuX2Zyb3plbiA9ICEhdDtcbiAgICAgICAgfSB9LCBjb3VudDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICB2YXIgdCA9IDA7Zm9yICh2YXIgZSBpbiB0aGlzLmxpc3QpIHtcbiAgICAgICAgICAgIHZvaWQgMCAhPT0gdGhpcy5saXN0W2VdICYmIHQrKztcbiAgICAgICAgICB9cmV0dXJuIHQ7XG4gICAgICAgIH0gfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNDY0KSxcbiAgICAgICAgcyA9IGkoMTcwKSxcbiAgICAgICAgYSA9IGkoNzUpLFxuICAgICAgICBvID0gaSgxNzEpLFxuICAgICAgICBoID0gKGkoMTcyKSwgaSg0NzApKSxcbiAgICAgICAgdSA9IGkoNDcxKSxcbiAgICAgICAgYyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IHQsIHRoaXMuZW5hYmxlZCA9ICExLCB0aGlzLnRhcmdldCwgdGhpcy5rZXlzID0gW10sIHRoaXMuY29tYm9zID0gW10sIHRoaXMuY2FwdHVyZXMgPSBbXSwgdGhpcy5xdWV1ZSA9IFtdLCB0aGlzLmhhbmRsZXI7XG4gICAgICB9LCBib290OiBmdW5jdGlvbiBib290KCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMubWFuYWdlci5jb25maWc7dGhpcy5lbmFibGVkID0gdC5pbnB1dEtleWJvYXJkLCB0aGlzLnRhcmdldCA9IHQuaW5wdXRLZXlib2FyZEV2ZW50VGFyZ2V0LCB0aGlzLmVuYWJsZWQgJiYgdGhpcy5zdGFydExpc3RlbmVycygpO1xuICAgICAgfSwgc3RhcnRMaXN0ZW5lcnM6IGZ1bmN0aW9uIHN0YXJ0TGlzdGVuZXJzKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMucXVldWUsXG4gICAgICAgICAgICBlID0gdGhpcy5jYXB0dXJlcyxcbiAgICAgICAgICAgIGkgPSBmdW5jdGlvbiBpKF9pMjcpIHtcbiAgICAgICAgICBfaTI3LnByZXZlbnREZWZhdWx0ZWQgfHwgKHQucHVzaChfaTI3KSwgZVtfaTI3LmtleUNvZGVdICYmIF9pMjcucHJldmVudERlZmF1bHQoKSk7XG4gICAgICAgIH07dGhpcy5oYW5kbGVyID0gaSwgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaSwgITEpLCB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaSwgITEpO1xuICAgICAgfSwgc3RvcExpc3RlbmVyczogZnVuY3Rpb24gc3RvcExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVyKSwgdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuaGFuZGxlcik7XG4gICAgICB9LCBjcmVhdGVDdXJzb3JLZXlzOiBmdW5jdGlvbiBjcmVhdGVDdXJzb3JLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRLZXlzKHsgdXA6IGEuVVAsIGRvd246IGEuRE9XTiwgbGVmdDogYS5MRUZULCByaWdodDogYS5SSUdIVCB9KTtcbiAgICAgIH0sIGFkZEtleXM6IGZ1bmN0aW9uIGFkZEtleXModCkge1xuICAgICAgICB2YXIgZSA9IHt9O2ZvciAodmFyIGkgaW4gdCkge1xuICAgICAgICAgIGVbaV0gPSB0aGlzLmFkZEtleSh0W2ldKTtcbiAgICAgICAgfXJldHVybiBlO1xuICAgICAgfSwgYWRkS2V5OiBmdW5jdGlvbiBhZGRLZXkodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMua2V5cztyZXR1cm4gZVt0XSB8fCAoZVt0XSA9IG5ldyBzKHQpLCB0aGlzLmNhcHR1cmVzW3RdID0gITApLCBlW3RdO1xuICAgICAgfSwgcmVtb3ZlS2V5OiBmdW5jdGlvbiByZW1vdmVLZXkodCkge1xuICAgICAgICB0aGlzLmtleXNbdF0gJiYgKHRoaXMua2V5c1t0XSA9IHZvaWQgMCwgdGhpcy5jYXB0dXJlc1t0XSA9ICExKTtcbiAgICAgIH0sIGFkZEtleUNhcHR1cmU6IGZ1bmN0aW9uIGFkZEtleUNhcHR1cmUodCkge1xuICAgICAgICBBcnJheS5pc0FycmF5KHQpIHx8ICh0ID0gW3RdKTtmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0aGlzLmNhcHR1cmVzW3RbZV1dID0gITA7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlbW92ZUtleUNhcHR1cmU6IGZ1bmN0aW9uIHJlbW92ZUtleUNhcHR1cmUodCkge1xuICAgICAgICBBcnJheS5pc0FycmF5KHQpIHx8ICh0ID0gW3RdKTtmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0aGlzLmNhcHR1cmVzW3RbZV1dID0gITE7XG4gICAgICAgIH1cbiAgICAgIH0sIGNyZWF0ZUNvbWJvOiBmdW5jdGlvbiBjcmVhdGVDb21ibyh0LCBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgbyh0aGlzLCB0LCBlKTtcbiAgICAgIH0sIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMucXVldWUubGVuZ3RoO2lmICh0aGlzLmVuYWJsZWQgJiYgMCAhPT0gdCkgZm9yICh2YXIgZSwgaSA9IHRoaXMucXVldWUuc3BsaWNlKDAsIHQpLCBuID0gdGhpcy5rZXlzLCBzID0gMDsgcyA8IHQ7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gaVtzXTtcImtleWRvd25cIiA9PT0gYS50eXBlID8gKHRoaXMubWFuYWdlci5ldmVudHMuZGlzcGF0Y2gobmV3IHIuS0VZX0RPV05fRVZFTlQoYSkpLCBlID0gci5fRE9XTlthLmtleUNvZGVdLCBlICYmIHRoaXMubWFuYWdlci5ldmVudHMuZGlzcGF0Y2gobmV3IGUoYSkpLCBuW2Eua2V5Q29kZV0gJiYgaChuW2Eua2V5Q29kZV0sIGEpKSA6ICh0aGlzLm1hbmFnZXIuZXZlbnRzLmRpc3BhdGNoKG5ldyByLktFWV9VUF9FVkVOVChhKSksIGUgPSByLl9VUFthLmtleUNvZGVdLCBlICYmIHRoaXMubWFuYWdlci5ldmVudHMuZGlzcGF0Y2gobmV3IGUoYSkpLCBuW2Eua2V5Q29kZV0gJiYgdShuW2Eua2V5Q29kZV0sIGEpKTtcbiAgICAgICAgfVxuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBjO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMua2V5Q29kZSA9IHQsIHRoaXMub3JpZ2luYWxFdmVudCA9IHZvaWQgMCwgdGhpcy5wcmV2ZW50RGVmYXVsdCA9ICEwLCB0aGlzLmVuYWJsZWQgPSAhMCwgdGhpcy5pc0Rvd24gPSAhMSwgdGhpcy5pc1VwID0gITAsIHRoaXMuYWx0S2V5ID0gITEsIHRoaXMuY3RybEtleSA9ICExLCB0aGlzLnNoaWZ0S2V5ID0gITEsIHRoaXMubG9jYXRpb24gPSAwLCB0aGlzLnRpbWVEb3duID0gMCwgdGhpcy5kdXJhdGlvbiA9IDAsIHRoaXMudGltZVVwID0gMCwgdGhpcy5yZXBlYXRzID0gMCwgdGhpcy5fanVzdERvd24gPSAhMSwgdGhpcy5fanVzdFVwID0gITE7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg3KSxcbiAgICAgICAgcyA9IGkoNDY3KSxcbiAgICAgICAgYSA9IGkoMTcyKSxcbiAgICAgICAgbyA9IGkoNDY5KSxcbiAgICAgICAgaCA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIGlmICh2b2lkIDAgPT09IGkgJiYgKGkgPSB7fSksIGUubGVuZ3RoIDwgMikgcmV0dXJuICExO3RoaXMubWFuYWdlciA9IHQsIHRoaXMuZW5hYmxlZCA9ICEwLCB0aGlzLmtleUNvZGVzID0gW107Zm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgdmFyIGggPSBlW25dO1wic3RyaW5nXCIgPT0gdHlwZW9mIGggPyB0aGlzLmtleUNvZGVzLnB1c2goaC50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpIDogXCJudW1iZXJcIiA9PSB0eXBlb2YgaCA/IHRoaXMua2V5Q29kZXMucHVzaChoKSA6IGguaGFzT3duUHJvcGVydHkoXCJrZXlDb2RlXCIpICYmIHRoaXMua2V5Q29kZXMucHVzaChoLmtleUNvZGUpO1xuICAgICAgICB9dGhpcy5jdXJyZW50ID0gdGhpcy5rZXlDb2Rlc1swXSwgdGhpcy5pbmRleCA9IDAsIHRoaXMuc2l6ZSA9IHRoaXMua2V5Q29kZXMubGVuZ3RoLCB0aGlzLnRpbWVMYXN0TWF0Y2hlZCA9IDAsIHRoaXMubWF0Y2hlZCA9ICExLCB0aGlzLnRpbWVNYXRjaGVkID0gMCwgdGhpcy5yZXNldE9uV3JvbmdLZXkgPSByKGksIFwicmVzZXRPbldyb25nS2V5XCIsICEwKSwgdGhpcy5tYXhLZXlEZWxheSA9IHIoaSwgXCJtYXhLZXlEZWxheVwiLCAwKSwgdGhpcy5yZXNldE9uTWF0Y2ggPSByKGksIFwicmVzZXRPbk1hdGNoXCIsICExKSwgdGhpcy5kZWxldGVPbk1hdGNoID0gcihpLCBcImRlbGV0ZU9uTWF0Y2hcIiwgITEpO3ZhciB1ID0gdGhpcyxcbiAgICAgICAgICAgIGMgPSBmdW5jdGlvbiBjKHQpIHtcbiAgICAgICAgICBpZiAoIXUubWF0Y2hlZCAmJiB1LmVuYWJsZWQpIHtcbiAgICAgICAgICAgIGEodC5kYXRhLCB1KSAmJiAodS5tYW5hZ2VyLmV2ZW50cy5kaXNwYXRjaChuZXcgcyh1LCB0KSksIHUucmVzZXRPbk1hdGNoID8gbyh1KSA6IHUuZGVsZXRlT25NYXRjaCAmJiB1LmRlc3Ryb3koKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O3RoaXMub25LZXlEb3duID0gYywgdGhpcy5tYW5hZ2VyLmV2ZW50cy5vbihcIktFWV9ET1dOX0VWRU5UXCIsIGMpO1xuICAgICAgfSwgcHJvZ3Jlc3M6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggLyB0aGlzLnNpemU7XG4gICAgICAgIH0gfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gITEsIHRoaXMua2V5Q29kZXMgPSBbXSwgdGhpcy5tYW5hZ2VyLmV2ZW50cy5vZmYoXCJLRVlfRE9XTlwiLCB0aGlzLm9uS2V5RG93biksIHRoaXMubWFuYWdlciA9IHZvaWQgMDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gaDtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDY4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgaWYgKGUubWF0Y2hlZCkgcmV0dXJuICEwO3ZhciBpID0gITEsXG4gICAgICAgICAgciA9ICExO2lmICh0LmtleUNvZGUgPT09IGUuY3VycmVudCkgaWYgKGUuaW5kZXggPiAwICYmIGUubWF4S2V5RGVsYXkgPiAwKSB7XG4gICAgICAgIHZhciBzID0gZS50aW1lTGFzdE1hdGNoZWQgKyBlLm1heEtleURlbGF5O3QudGltZVN0YW1wIDw9IHMgJiYgKHIgPSAhMCwgaSA9IG4odCwgZSkpO1xuICAgICAgfSBlbHNlIHIgPSAhMCwgaSA9IG4odCwgZSk7cmV0dXJuICFyICYmIGUucmVzZXRPbldyb25nS2V5ICYmIChlLmluZGV4ID0gMCwgZS5jdXJyZW50ID0gZS5rZXlDb2Rlc1swXSksIGkgJiYgKGUudGltZUxhc3RNYXRjaGVkID0gdC50aW1lU3RhbXAsIGUubWF0Y2hlZCA9ICEwLCBlLnRpbWVNYXRjaGVkID0gdC50aW1lU3RhbXApLCBpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSB0LCB0aGlzLmNhcHR1cmUgPSAhMSwgdGhpcy5lbmFibGVkID0gITEsIHRoaXMudGFyZ2V0LCB0aGlzLmhhbmRsZXI7XG4gICAgICB9LCBib290OiBmdW5jdGlvbiBib290KCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMubWFuYWdlci5jb25maWc7dGhpcy5lbmFibGVkID0gdC5pbnB1dE1vdXNlLCB0aGlzLnRhcmdldCA9IHQuaW5wdXRNb3VzZUV2ZW50VGFyZ2V0LCB0aGlzLnRhcmdldCB8fCAodGhpcy50YXJnZXQgPSB0aGlzLm1hbmFnZXIuZ2FtZS5jYW52YXMpLCB0LmRpc2FibGVDb250ZXh0TWVudSAmJiB0aGlzLmRpc2FibGVDb250ZXh0TWVudSgpLCB0aGlzLmVuYWJsZWQgJiYgdGhpcy5zdGFydExpc3RlbmVycygpO1xuICAgICAgfSwgZGlzYWJsZUNvbnRleHRNZW51OiBmdW5jdGlvbiBkaXNhYmxlQ29udGV4dE1lbnUoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHJldHVybiB0LnByZXZlbnREZWZhdWx0KCksICExO1xuICAgICAgICB9KSwgdGhpcztcbiAgICAgIH0sIHN0YXJ0TGlzdGVuZXJzOiBmdW5jdGlvbiBzdGFydExpc3RlbmVycygpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLm1hbmFnZXIucXVldWUsXG4gICAgICAgICAgICBlID0gdGhpcyxcbiAgICAgICAgICAgIGkgPSBmdW5jdGlvbiBpKF9pMjgpIHtcbiAgICAgICAgICBfaTI4LnByZXZlbnREZWZhdWx0ZWQgfHwgKHQucHVzaChfaTI4KSwgZS5jYXB0dXJlICYmIF9pMjgucHJldmVudERlZmF1bHQoKSk7XG4gICAgICAgIH07dGhpcy5oYW5kbGVyID0gaSwgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBpLCAhMSksIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaSwgITEpLCB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBpLCAhMSk7XG4gICAgICB9LCBzdG9wTGlzdGVuZXJzOiBmdW5jdGlvbiBzdG9wTGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuaGFuZGxlciksIHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVyKSwgdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5oYW5kbGVyKTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kyOSkge1xuICAgICAgcmV0dXJuICEhdC5oaXRBcmVhICYmIChlICs9IHQuZGlzcGxheU9yaWdpblgsIF9pMjkgKz0gdC5kaXNwbGF5T3JpZ2luWSwgdC5oaXRBcmVhQ2FsbGJhY2sodC5oaXRBcmVhLCBlLCBfaTI5KSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0ODQpLFxuICAgICAgICByID0gaSgwKSxcbiAgICAgICAgcyA9IGkoNTE1KSxcbiAgICAgICAgYSA9IGkoMTY4KSxcbiAgICAgICAgbyA9IGkoMTc3KSxcbiAgICAgICAgaCA9IGkoMjkpLFxuICAgICAgICB1ID0gaSg1MTcpLFxuICAgICAgICBjID0gaSg1ODApLFxuICAgICAgICBsID0gaSg2MDYpLFxuICAgICAgICBmID0gaSg2NjApLFxuICAgICAgICBkID0gaSg2NzcpLFxuICAgICAgICBwID0gaSg3MDYpLFxuICAgICAgICB2ID0gaSg3MDgpLFxuICAgICAgICBnID0gaSg3MDkpLFxuICAgICAgICB4ID0gaSg3MTIpLFxuICAgICAgICBtID0gaSg3MTMpLFxuICAgICAgICB5ID0gaSg3NDcpLFxuICAgICAgICB3ID0gbmV3IHIoeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHQsIHRoaXMuY29uZmlnID0gZSwgdGhpcy5zZXR0aW5ncyA9IGcuY3JlYXRlKGUpLCB0aGlzLnNvcnRDaGlsZHJlbkZsYWcgPSAhMSwgdGhpcy5jYW52YXMsIHRoaXMuY29udGV4dCwgdGhpcy5nYW1lLCB0aGlzLmFuaW1zLCB0aGlzLmNhY2hlLCB0aGlzLnJlZ2lzdHJ5LCB0aGlzLnRleHR1cmVzLCB0aGlzLmFkZCwgdGhpcy5jYW1lcmFzLCB0aGlzLmRhdGEsIHRoaXMuZGlzcGxheUxpc3QsIHRoaXMuZXZlbnRzLCB0aGlzLmlucHV0TWFuYWdlciwgdGhpcy5sb2FkLCB0aGlzLm1ha2UsIHRoaXMucGh5c2ljc01hbmFnZXIsIHRoaXMucG9vbCwgdGhpcy5zY2VuZU1hbmFnZXIsIHRoaXMudGltZSwgdGhpcy50d2VlbnMsIHRoaXMudXBkYXRlTGlzdDtcbiAgICAgIH0sIGluaXQ6IGZ1bmN0aW9uIGluaXQodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuc2NlbmU7dGhpcy5nYW1lID0gdCwgdGhpcy5hbmltcyA9IHQuYW5pbXMsIHRoaXMuY2FjaGUgPSB0LmNhY2hlLCB0aGlzLnJlZ2lzdHJ5ID0gdC5yZWdpc3RyeSwgdGhpcy50ZXh0dXJlcyA9IHQudGV4dHVyZXMsIHRoaXMuYWRkID0gbmV3IGMoZSksIHRoaXMuY2FtZXJhcyA9IG5ldyBuKGUpLCB0aGlzLmRhdGEgPSBuZXcgYShlKSwgdGhpcy5kaXNwbGF5TGlzdCA9IG5ldyBvKGUpLCB0aGlzLmV2ZW50cyA9IG5ldyBoKCksIHRoaXMuaW5wdXRNYW5hZ2VyID0gbmV3IGwoZSksIHRoaXMubG9hZCA9IG5ldyBmKGUpLCB0aGlzLm1ha2UgPSBuZXcgdShlKSwgdGhpcy5waHlzaWNzTWFuYWdlciA9IG5ldyBkKGUpLCB0aGlzLnBvb2wgPSBuZXcgcChlKSwgdGhpcy5zY2VuZU1hbmFnZXIgPSBuZXcgdihlKSwgdGhpcy50aW1lID0gbmV3IHMoZSksIHRoaXMudHdlZW5zID0gbmV3IG0oZSksIHRoaXMudXBkYXRlTGlzdCA9IG5ldyB5KGUpLCB0aGlzLmFkZC5ib290KCksIHRoaXMuaW5wdXRNYW5hZ2VyLmJvb3QoKSwgdGhpcy5waHlzaWNzTWFuYWdlci5ib290KCksIHRoaXMuaW5qZWN0KCk7XG4gICAgICB9LCBpbmplY3Q6IGZ1bmN0aW9uIGluamVjdCgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLnNldHRpbmdzLm1hcDtmb3IgKHZhciBlIGluIHQpIHtcbiAgICAgICAgICBcInN5c1wiICE9PSBlICYmICh0aGlzLnNjZW5lW3RbZV1dID0gdGhpc1tlXSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHN0ZXA6IGZ1bmN0aW9uIHN0ZXAodCwgZSkge1xuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlci51cGRhdGUoKSwgdGhpcy5zZXR0aW5ncy5hY3RpdmUgJiYgKHRoaXMucG9vbC5iZWdpbih0KSwgdGhpcy51cGRhdGVMaXN0LmJlZ2luKHQpLCB0aGlzLnRpbWUuYmVnaW4odCksIHRoaXMudHdlZW5zLmJlZ2luKHQpLCB0aGlzLmlucHV0TWFuYWdlci5iZWdpbih0KSwgdGhpcy5waHlzaWNzTWFuYWdlci51cGRhdGUodCwgZSksIHRoaXMucG9vbC51cGRhdGUodCwgZSksIHRoaXMudXBkYXRlTGlzdC51cGRhdGUodCwgZSksIHRoaXMudGltZS51cGRhdGUodCwgZSksIHRoaXMudHdlZW5zLnVwZGF0ZSh0LCBlKSwgdGhpcy5jYW1lcmFzLnVwZGF0ZSh0LCBlKSwgdGhpcy5pbnB1dE1hbmFnZXIudXBkYXRlKHQsIGUpLCB0aGlzLnNjZW5lLnVwZGF0ZS5jYWxsKHRoaXMuc2NlbmUsIHQsIGUpKTtcbiAgICAgIH0sIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHQsIGUpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52aXNpYmxlICYmICh0aGlzLmRlcHRoU29ydCgpLCB0aGlzLmNhbWVyYXMucmVuZGVyKGUsIHRoaXMuZGlzcGxheUxpc3QsIHQpKTtcbiAgICAgIH0sIHF1ZXVlRGVwdGhTb3J0OiBmdW5jdGlvbiBxdWV1ZURlcHRoU29ydCgpIHtcbiAgICAgICAgdGhpcy5zb3J0Q2hpbGRyZW5GbGFnID0gITA7XG4gICAgICB9LCBkZXB0aFNvcnQ6IGZ1bmN0aW9uIGRlcHRoU29ydCgpIHtcbiAgICAgICAgdGhpcy5zb3J0Q2hpbGRyZW5GbGFnICYmICh4LmlucGxhY2UodGhpcy5kaXNwbGF5TGlzdC5saXN0LCB0aGlzLnNvcnRaKSwgdGhpcy5zb3J0Q2hpbGRyZW5GbGFnID0gITEpO1xuICAgICAgfSwgc29ydFo6IGZ1bmN0aW9uIHNvcnRaKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHQuX3ogLSBlLl96O1xuICAgICAgfSwgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmFjdGl2ZSA9ICExLCB0aGlzLnNjZW5lLnBhdXNlICYmIHRoaXMuc2NlbmUucGF1c2UuY2FsbCh0aGlzLnNjZW5lKTtcbiAgICAgIH0sIHJlc3VtZTogZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmFjdGl2ZSA9ICEwLCB0aGlzLnNjZW5lLnJlc3VtZSAmJiB0aGlzLnNjZW5lLnJlc3VtZS5jYWxsKHRoaXMuc2NlbmUpO1xuICAgICAgfSwgc2xlZXA6IGZ1bmN0aW9uIHNsZWVwKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmFjdGl2ZSA9ICExLCB0aGlzLnNldHRpbmdzLnZpc2libGUgPSAhMSwgdGhpcy5zY2VuZS5zbGVlcCAmJiB0aGlzLnNjZW5lLnNsZWVwLmNhbGwodGhpcy5zY2VuZSk7XG4gICAgICB9LCB3YWtlOiBmdW5jdGlvbiB3YWtlKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmFjdGl2ZSA9ICEwLCB0aGlzLnNldHRpbmdzLnZpc2libGUgPSAhMCwgdGhpcy5zY2VuZS53YWtlICYmIHRoaXMuc2NlbmUud2FrZS5jYWxsKHRoaXMuc2NlbmUpO1xuICAgICAgfSwgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KHQpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kYXRhID0gdCwgdGhpcy5zZXR0aW5ncy5hY3RpdmUgPSAhMCwgdGhpcy5zZXR0aW5ncy52aXNpYmxlID0gITA7XG4gICAgICB9LCBzaHV0ZG93bjogZnVuY3Rpb24gc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYWN0aXZlID0gITEsIHRoaXMuc2V0dGluZ3MudmlzaWJsZSA9ICExLCB0aGlzLnBvb2wuc2h1dGRvd24oKSwgdGhpcy5kaXNwbGF5TGlzdC5zaHV0ZG93bigpLCB0aGlzLnVwZGF0ZUxpc3Quc2h1dGRvd24oKSwgdGhpcy50aW1lLnNodXRkb3duKCksIHRoaXMudHdlZW5zLnNodXRkb3duKCksIHRoaXMuc2NlbmUuc2h1dGRvd24gJiYgdGhpcy5zY2VuZS5zaHV0ZG93bi5jYWxsKHRoaXMuc2NlbmUpO1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5wb29sLmRlc3Ryb3koKSwgdGhpcy50aW1lLmRlc3Ryb3koKSwgdGhpcy50d2VlbnMuZGVzdHJveSgpLCB0aGlzLnNjZW5lLmRlc3Ryb3kgJiYgdGhpcy5zY2VuZS5kZXN0cm95LmNhbGwodGhpcy5zY2VuZSk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHc7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxNSksXG4gICAgICAgIHMgPSBpKDE0KSxcbiAgICAgICAgYSA9IGkoNTIpLFxuICAgICAgICBvID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdGhpcy5zY2VuZSwgdGhpcy5uYW1lID0gXCJcIiwgdGhpcy54ID0gdCwgdGhpcy55ID0gZSwgdGhpcy53aWR0aCA9IGksIHRoaXMuaGVpZ2h0ID0gbiwgdGhpcy5yb3VuZFBpeGVscyA9ICExLCB0aGlzLnVzZUJvdW5kcyA9ICExLCB0aGlzLl9ib3VuZHMgPSBuZXcgcigpLCB0aGlzLmlucHV0RW5hYmxlZCA9ICEwLCB0aGlzLnNjcm9sbFggPSAwLCB0aGlzLnNjcm9sbFkgPSAwLCB0aGlzLnpvb20gPSAxLCB0aGlzLnJvdGF0aW9uID0gMCwgdGhpcy5tYXRyaXggPSBuZXcgcygxLCAwLCAwLCAxLCAwLCAwKSwgdGhpcy50cmFuc3BhcmVudCA9ICEwLCB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gITAsIHRoaXMuYmFja2dyb3VuZENvbG9yID0gYShcInJnYmEoMCwwLDAsMClcIiksIHRoaXMuZGlzYWJsZUN1bGwgPSAhMSwgdGhpcy5jdWxsZWRPYmplY3RzID0gW10sIHRoaXMuX3NoYWtlRHVyYXRpb24gPSAwLCB0aGlzLl9zaGFrZUludGVuc2l0eSA9IDAsIHRoaXMuX3NoYWtlT2Zmc2V0WCA9IDAsIHRoaXMuX3NoYWtlT2Zmc2V0WSA9IDAsIHRoaXMuX2ZhZGVEdXJhdGlvbiA9IDAsIHRoaXMuX2ZhZGVSZWQgPSAwLCB0aGlzLl9mYWRlR3JlZW4gPSAwLCB0aGlzLl9mYWRlQmx1ZSA9IDAsIHRoaXMuX2ZhZGVBbHBoYSA9IDAsIHRoaXMuX2ZsYXNoRHVyYXRpb24gPSAwLCB0aGlzLl9mbGFzaFJlZCA9IDEsIHRoaXMuX2ZsYXNoR3JlZW4gPSAxLCB0aGlzLl9mbGFzaEJsdWUgPSAxLCB0aGlzLl9mbGFzaEFscGhhID0gMCwgdGhpcy5fZm9sbG93ID0gbnVsbCwgdGhpcy5faWQgPSAwO1xuICAgICAgfSwgY2FtZXJhVG9TY3JlZW46IGkoNDg1KSwgY2VudGVyVG9Cb3VuZHM6IGkoNDg2KSwgY2VudGVyVG9TaXplOiBpKDQ4NyksIGN1bGw6IGkoNDg4KSwgY3VsbEhpdFRlc3Q6IGkoNDg5KSwgY3VsbFRpbGVtYXA6IGkoNDkwKSwgZGVzdHJveTogaSg0OTEpLCBmYWRlOiBpKDQ5MiksIGZsYXNoOiBpKDQ5MyksIGlnbm9yZTogaSg0OTQpLCBwcmVSZW5kZXI6IGkoNDk1KSwgcmVtb3ZlQm91bmRzOiBpKDQ5NiksIHNldEJhY2tncm91bmRDb2xvcjogaSg0OTcpLCBzZXRCb3VuZHM6IGkoNDk4KSwgc2V0TmFtZTogaSg0OTkpLCBzZXRQb3NpdGlvbjogaSg1MDApLCBzZXRSb3RhdGlvbjogaSg1MDEpLCBzZXRSb3VuZFBpeGVsczogaSg1MDIpLCBzZXRTY2VuZTogaSg1MDMpLCBzZXRTY3JvbGw6IGkoNTA0KSwgc2V0U2l6ZTogaSg1MDUpLCBzZXRWaWV3cG9ydDogaSg1MDYpLCBzZXRab29tOiBpKDUwNyksIHNoYWtlOiBpKDUwOCksIHN0YXJ0Rm9sbG93OiBpKDUwOSksIHN0b3BGb2xsb3c6IGkoNTEwKSwgdG9KU09OOiBpKDUxMSksIHVwZGF0ZTogaSg1MTIpIH0pO3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHQsIHRoaXMubGlzdCA9IFtdLCB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICAgIH0sIGFkZDogZnVuY3Rpb24gYWRkKHQpIHtcbiAgICAgICAgcmV0dXJuIC0xID09PSB0aGlzLmdldEluZGV4KHQpICYmIHRoaXMubGlzdC5wdXNoKHQpLCB0O1xuICAgICAgfSwgYWRkQXQ6IGZ1bmN0aW9uIGFkZEF0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCAwID09PSB0aGlzLmxpc3QubGVuZ3RoID8gdGhpcy5hZGQodCkgOiAoZSA+PSAwICYmIGUgPD0gdGhpcy5saXN0Lmxlbmd0aCAmJiAtMSA9PT0gdGhpcy5nZXRJbmRleCh0KSAmJiB0aGlzLmxpc3Quc3BsaWNlKGUsIDAsIHQpLCB0KTtcbiAgICAgIH0sIGFkZE11bHRpcGxlOiBmdW5jdGlvbiBhZGRNdWx0aXBsZSh0KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHQpKSBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0aGlzLmFkZCh0W2VdKTtcbiAgICAgICAgfXJldHVybiB0O1xuICAgICAgfSwgZ2V0QXQ6IGZ1bmN0aW9uIGdldEF0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdFt0XTtcbiAgICAgIH0sIGdldEluZGV4OiBmdW5jdGlvbiBnZXRJbmRleCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QuaW5kZXhPZih0KTtcbiAgICAgIH0sIHNvcnRHYW1lT2JqZWN0czogZnVuY3Rpb24gc29ydEdhbWVPYmplY3RzKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IHRoaXMubGlzdCksIHRoaXMuc2NlbmUuc3lzLmRlcHRoU29ydCgpLCB0LnNvcnQodGhpcy5zb3J0SW5kZXhIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgfSwgZ2V0VG9wR2FtZU9iamVjdDogZnVuY3Rpb24gZ2V0VG9wR2FtZU9iamVjdCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRHYW1lT2JqZWN0cyh0KSwgdFt0Lmxlbmd0aCAtIDFdO1xuICAgICAgfSwgc29ydEluZGV4SGFuZGxlcjogZnVuY3Rpb24gc29ydEluZGV4SGFuZGxlcih0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5nZXRJbmRleCh0KSxcbiAgICAgICAgICAgIG4gPSB0aGlzLmdldEluZGV4KGUpO3JldHVybiBpIDwgbiA/IC0xIDogaSA+IG4gPyAxIDogMDtcbiAgICAgIH0sIGdldEJ5S2V5OiBmdW5jdGlvbiBnZXRCeUtleSh0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMubGlzdFtpXVt0XSA9PT0gZSkgcmV0dXJuIHRoaXMubGlzdFtpXTtcbiAgICAgICAgfXJldHVybiBudWxsO1xuICAgICAgfSwgZ2V0QnlOYW1lOiBmdW5jdGlvbiBnZXRCeU5hbWUodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCeUtleShcIm5hbWVcIiwgdCk7XG4gICAgICB9LCBnZXRSYW5kb206IGZ1bmN0aW9uIGdldFJhbmRvbSh0LCBlKSB7XG4gICAgICAgIGlmICh2b2lkIDAgPT09IHQgJiYgKHQgPSAwKSwgdm9pZCAwID09PSBlICYmIChlID0gdGhpcy5saXN0Lmxlbmd0aCksIDAgPT09IGUgfHwgZSA+IHRoaXMubGlzdC5sZW5ndGgpIHJldHVybiBudWxsO3ZhciBpID0gdCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGUpO3JldHVybiB0aGlzLmxpc3RbaV07XG4gICAgICB9LCBnZXRGaXJzdDogZnVuY3Rpb24gZ2V0Rmlyc3QodCwgZSwgaSwgbikge1xuICAgICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBuICYmIChuID0gdGhpcy5saXN0Lmxlbmd0aCk7Zm9yICh2YXIgciA9IGk7IHIgPCBuOyByKyspIHtcbiAgICAgICAgICB2YXIgcyA9IHRoaXMubGlzdFtyXTtpZiAoc1t0XSA9PT0gZSkgcmV0dXJuIHM7XG4gICAgICAgIH1yZXR1cm4gbnVsbDtcbiAgICAgIH0sIGdldEFsbDogZnVuY3Rpb24gZ2V0QWxsKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gbiAmJiAobiA9IHRoaXMubGlzdC5sZW5ndGgpO2ZvciAodmFyIHIgPSBbXSwgcyA9IGk7IHMgPCBuOyBzKyspIHtcbiAgICAgICAgICB2YXIgYSA9IHRoaXMubGlzdFtzXTt0ID8gYVt0XSA9PT0gZSAmJiByLnB1c2goYSkgOiByLnB1c2goYSk7XG4gICAgICAgIH1yZXR1cm4gcjtcbiAgICAgIH0sIHN3YXA6IGZ1bmN0aW9uIHN3YXAodCwgZSkge1xuICAgICAgICBpZiAodCAhPT0gZSkge1xuICAgICAgICAgIHZhciBpID0gdGhpcy5nZXRJbmRleCh0KSxcbiAgICAgICAgICAgICAgbiA9IHRoaXMuZ2V0SW5kZXgoZSk7aWYgKGkgPCAwIHx8IG4gPCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJEaXNwbGF5TGlzdC5zd2FwOiBTdXBwbGllZCBvYmplY3RzIG11c3QgYmUgY2hpbGRyZW4gb2YgdGhlIHNhbWUgbGlzdFwiKTt0aGlzLmxpc3RbaV0gPSBlLCB0aGlzLmxpc3Rbbl0gPSB0O1xuICAgICAgICB9XG4gICAgICB9LCBtb3ZlVG86IGZ1bmN0aW9uIG1vdmVUbyh0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5nZXRJbmRleCh0KTtpZiAoLTEgPT09IGkgfHwgZSA8IDAgfHwgZSA+PSB0aGlzLmxpc3QubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJEaXNwbGF5TGlzdC5tb3ZlVG86IFRoZSBzdXBwbGllZCBpbmRleCBpcyBvdXQgb2YgYm91bmRzXCIpO3JldHVybiB0aGlzLmxpc3Quc3BsaWNlKGksIDEpLCB0aGlzLmxpc3Quc3BsaWNlKGUsIDAsIHQpLCB0O1xuICAgICAgfSwgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMubGlzdC5pbmRleE9mKHQpO3JldHVybiAtMSAhPT0gZSAmJiB0aGlzLmxpc3Quc3BsaWNlKGUsIDEpLCB0O1xuICAgICAgfSwgcmVtb3ZlQXQ6IGZ1bmN0aW9uIHJlbW92ZUF0KHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmxpc3RbdF07cmV0dXJuIGUgJiYgdGhpcy5jaGlsZHJlbi5zcGxpY2UodCwgMSksIGU7XG4gICAgICB9LCByZW1vdmVCZXR3ZWVuOiBmdW5jdGlvbiByZW1vdmVCZXR3ZWVuKHQsIGUpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHRoaXMubGlzdC5sZW5ndGgpO3ZhciBpID0gZSAtIHQ7aWYgKGkgPiAwICYmIGkgPD0gZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Quc3BsaWNlKHQsIGkpO1xuICAgICAgICB9aWYgKDAgPT09IGkgJiYgMCA9PT0gdGhpcy5saXN0Lmxlbmd0aCkgcmV0dXJuIFtdO3Rocm93IG5ldyBFcnJvcihcIkRpc3BsYXlMaXN0LnJlbW92ZUJldHdlZW46IFJhbmdlIEVycm9yLCBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZVwiKTtcbiAgICAgIH0sIHJlbW92ZUFsbDogZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuICAgICAgICBmb3IgKHZhciB0ID0gdGhpcy5saXN0Lmxlbmd0aDsgdC0tOykge1xuICAgICAgICAgIHRoaXMucmVtb3ZlKHRoaXMubGlzdFt0XSk7XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH0sIHNodXRkb3duOiBmdW5jdGlvbiBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgICAgIH0sIGJyaW5nVG9Ub3A6IGZ1bmN0aW9uIGJyaW5nVG9Ub3AodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbmRleCh0KSA8IHRoaXMubGlzdC5sZW5ndGggJiYgKHRoaXMucmVtb3ZlKHQpLCB0aGlzLmFkZCh0KSksIHQ7XG4gICAgICB9LCBzZW5kVG9CYWNrOiBmdW5jdGlvbiBzZW5kVG9CYWNrKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5kZXgodCkgPiAwICYmICh0aGlzLnJlbW92ZSh0KSwgdGhpcy5hZGRBdCh0LCAwKSksIHQ7XG4gICAgICB9LCBtb3ZlVXA6IGZ1bmN0aW9uIG1vdmVVcCh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5nZXRJbmRleCh0KTtpZiAoLTEgIT09IGUgJiYgZSA8IHRoaXMubGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgdmFyIGkgPSB0aGlzLmdldEF0KGUgKyAxKTtpICYmIHRoaXMuc3dhcCh0LCBpKTtcbiAgICAgICAgfXJldHVybiB0O1xuICAgICAgfSwgbW92ZURvd246IGZ1bmN0aW9uIG1vdmVEb3duKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmdldEluZGV4KHQpO2lmIChlID4gMCkge1xuICAgICAgICAgIHZhciBpID0gdGhpcy5nZXRBdChlIC0gMSk7aSAmJiB0aGlzLnN3YXAodCwgaSk7XG4gICAgICAgIH1yZXR1cm4gdDtcbiAgICAgIH0sIHJldmVyc2U6IGZ1bmN0aW9uIHJldmVyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QucmV2ZXJzZSgpLCB0aGlzO1xuICAgICAgfSwgc2h1ZmZsZTogZnVuY3Rpb24gc2h1ZmZsZSgpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IHRoaXMubGlzdC5sZW5ndGggLSAxOyB0ID4gMDsgdC0tKSB7XG4gICAgICAgICAgdmFyIGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodCArIDEpKSxcbiAgICAgICAgICAgICAgaSA9IHRoaXMubGlzdFt0XTt0aGlzLmxpc3RbdF0gPSB0aGlzLmxpc3RbZV0sIHRoaXMubGlzdFtlXSA9IGk7XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH0sIHJlcGxhY2U6IGZ1bmN0aW9uIHJlcGxhY2UodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZ2V0SW5kZXgodCk7aWYgKC0xICE9PSBpKSByZXR1cm4gZS5zY2VuZS5zeXMuZGlzcGxheUxpc3QucmVtb3ZlKGUpLCB0aGlzLnJlbW92ZSh0KSwgdGhpcy5hZGRBdChlLCBpKSwgdDtcbiAgICAgIH0sIGV4Y2hhbmdlOiBmdW5jdGlvbiBleGNoYW5nZSh0LCBlKSB7XG4gICAgICAgIGlmICh0ICE9PSBlICYmIHQuc2NlbmUgIT09IGUuc2NlbmUpIHtcbiAgICAgICAgICB2YXIgaSA9IGUuc2NlbmUuc3lzLmRpc3BsYXlMaXN0LFxuICAgICAgICAgICAgICBuID0gdGhpcy5nZXRJbmRleCh0KSxcbiAgICAgICAgICAgICAgciA9IGkuZ2V0SW5kZXgoZSk7aWYgKG4gPCAwIHx8IHIgPCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJDaGlsZHJlbi5zd2FwOiBTdXBwbGllZCBvYmplY3RzIG11c3QgYmUgY2hpbGRyZW4gb2YgcGFyZW50c1wiKTt0aGlzLnJlbW92ZSh0KSwgaS5yZW1vdmUoZSksIHRoaXMuYWRkQXQoZSwgbiksIGkuYWRkQXQodCwgcik7XG4gICAgICAgIH1cbiAgICAgIH0sIGV4aXN0czogZnVuY3Rpb24gZXhpc3RzKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5pbmRleE9mKHQpID4gLTE7XG4gICAgICB9LCBzZXRBbGw6IGZ1bmN0aW9uIHNldEFsbCh0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5saXN0W2ldICYmICh0aGlzLmxpc3RbaV1bdF0gPSBlKTtcbiAgICAgICAgfVxuICAgICAgfSwgZWFjaDogZnVuY3Rpb24gZWFjaCh0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBbbnVsbF0sIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgaS5wdXNoKGFyZ3VtZW50c1tuXSk7XG4gICAgICAgIH1mb3IgKG4gPSAwOyBuIDwgdGhpcy5saXN0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgaVswXSA9IHRoaXMubGlzdFtuXSwgdC5hcHBseShlLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVwYXJlbnQ6IGZ1bmN0aW9uIHJlcGFyZW50KHQpIHtcbiAgICAgICAgaWYgKHQgIT09IHRoaXMuc2NlbmUpIGZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5saXN0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgdmFyIGkgPSB0aGlzLnJlbW92ZSh0aGlzLmxpc3RbZV0pO3Quc3lzLmRpc3BsYXlMaXN0LmFkZChpKTtcbiAgICAgICAgfXJldHVybiB0O1xuICAgICAgfSwgbGVuZ3RoOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QubGVuZ3RoO1xuICAgICAgICB9IH0sIGZpcnN0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uID0gMCwgdGhpcy5saXN0Lmxlbmd0aCA+IDAgPyB0aGlzLmxpc3RbMF0gOiBudWxsO1xuICAgICAgICB9IH0sIGxhc3Q6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5sZW5ndGggPiAwID8gKHRoaXMucG9zaXRpb24gPSB0aGlzLmxpc3QubGVuZ3RoIC0gMSwgdGhpcy5saXN0W3RoaXMucG9zaXRpb25dKSA6IG51bGw7XG4gICAgICAgIH0gfSwgbmV4dDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiA8IHRoaXMubGlzdC5sZW5ndGggPyAodGhpcy5wb3NpdGlvbisrLCB0aGlzLmxpc3RbdGhpcy5wb3NpdGlvbl0pIDogbnVsbDtcbiAgICAgICAgfSB9LCBwcmV2aW91czogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiA+IDAgPyAodGhpcy5wb3NpdGlvbi0tLCB0aGlzLmxpc3RbdGhpcy5wb3NpdGlvbl0pIDogbnVsbDtcbiAgICAgICAgfSB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0LnRleHQsIG4gPSBpLmxlbmd0aCwgciA9IE51bWJlci5NQVhfVkFMVUUsIHMgPSBOdW1iZXIuTUFYX1ZBTFVFLCBhID0gMCwgbyA9IDAsIGggPSB0LmZvbnREYXRhLmNoYXJzLCB1ID0gdC5mb250RGF0YS5saW5lSGVpZ2h0LCBjID0gMCwgbCA9IDAsIGYgPSAwLCBkID0gMCwgcCA9IG51bGwsIHYgPSAwLCBnID0gMCwgeCA9IDAsIG0gPSAwLCB5ID0gbnVsbCwgdyA9IDAsIEUgPSAwOyBFIDwgbjsgKytFKSB7XG4gICAgICAgIGlmICgxMCAhPT0gKGQgPSBpLmNoYXJDb2RlQXQoRSkpKSB7XG4gICAgICAgICAgaWYgKHAgPSBoW2RdKSB7XG4gICAgICAgICAgICBpZiAodiA9IHAud2lkdGgsIGcgPSBwLmhlaWdodCwgeCA9IGYgKyBwLnhPZmZzZXQgKyBjLCBtID0gcC55T2Zmc2V0ICsgbCwgbnVsbCAhPT0geSkge1xuICAgICAgICAgICAgICB2YXIgVCA9IHAua2VybmluZ1t3XTt4ICs9IHZvaWQgMCAhPT0gVCA/IFQgOiAwO1xuICAgICAgICAgICAgfXIgPiB4ICYmIChyID0geCksIHMgPiBtICYmIChzID0gbSk7dmFyIGIgPSB4ICsgdiAtIHIsXG4gICAgICAgICAgICAgICAgXyA9IG0gKyBnIC0gczthIDwgYiAmJiAoYSA9IGIpLCBvIDwgXyAmJiAobyA9IF8pLCBjICs9IHAueEFkdmFuY2UsIGYgKz0gMSwgeSA9IHAsIHcgPSBkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGMgPSAwLCBmID0gMCwgbCArPSB1LCB5ID0gbnVsbDtcbiAgICAgIH12YXIgQSA9IHQuZm9udFNpemUgLyB0LmZvbnREYXRhLnNpemUsXG4gICAgICAgICAgUyA9IEEgKiB0LnNjYWxlWCxcbiAgICAgICAgICBSID0gQSAqIHQuc2NhbGVZLFxuICAgICAgICAgIE0gPSB7IGxvY2FsOiB7IHg6IHIgKiBBLCB5OiBzICogQSwgd2lkdGg6IGEgKiBBLCBoZWlnaHQ6IG8gKiBBIH0sIGdsb2JhbDogeyB4OiB0LnggKyByICogUywgeTogdC55ICsgcyAqIFIsIHdpZHRoOiBhICogUywgaGVpZ2h0OiBvICogUiB9IH07cmV0dXJuIGUgJiYgKE0ubG9jYWwueCA9IE1hdGgucm91bmQoTS5sb2NhbC54KSwgTS5sb2NhbC55ID0gTWF0aC5yb3VuZChNLmxvY2FsLnkpLCBNLmxvY2FsLndpZHRoID0gTWF0aC5yb3VuZChNLmxvY2FsLndpZHRoKSwgTS5sb2NhbC5oZWlnaHQgPSBNYXRoLnJvdW5kKE0ubG9jYWwuaGVpZ2h0KSwgTS5nbG9iYWwueCA9IE1hdGgucm91bmQoTS5nbG9iYWwueCksIE0uZ2xvYmFsLnkgPSBNYXRoLnJvdW5kKE0uZ2xvYmFsLnkpLCBNLmdsb2JhbC53aWR0aCA9IE1hdGgucm91bmQoTS5nbG9iYWwud2lkdGgpLCBNLmdsb2JhbC5oZWlnaHQgPSBNYXRoLnJvdW5kKE0uZ2xvYmFsLmhlaWdodCkpLCBNO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTgwKSxcbiAgICAgICAgciA9IGkoMiksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUsIGkpIHtcbiAgICAgIGZvciAodmFyIG4gPSBbXSwgciA9IDA7IHIgPCB0Lmxlbmd0aDsgcisrKSB7XG4gICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgZS5sZW5ndGg7IHMrKykge1xuICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgaTsgYSsrKSB7XG4gICAgICAgICAgICBuLnB1c2goeyBhOiB0W3JdLCBiOiBlW3NdIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfXJldHVybiBuO1xuICAgIH0sXG4gICAgICAgIGEgPSBmdW5jdGlvbiBhKHQsIGUsIGkpIHtcbiAgICAgIHZhciBhID0gcihpLCBcIm1heFwiLCAwKSxcbiAgICAgICAgICBvID0gcihpLCBcInF0eVwiLCAxKSxcbiAgICAgICAgICBoID0gcihpLCBcInJhbmRvbVwiLCAhMSksXG4gICAgICAgICAgdSA9IHIoaSwgXCJyYW5kb21CXCIsICExKSxcbiAgICAgICAgICBjID0gcihpLCBcInJlcGVhdFwiLCAwKSxcbiAgICAgICAgICBsID0gcihpLCBcInlveW9cIiwgITEpLFxuICAgICAgICAgIGYgPSBbXTtpZiAodSAmJiBuKGUpLCAtMSA9PT0gYykgaWYgKDAgPT09IGEpIGMgPSAwO2Vsc2Uge1xuICAgICAgICB2YXIgZCA9IHQubGVuZ3RoICogZS5sZW5ndGggKiBvO2wgJiYgKGQgKj0gMiksIGMgPSBNYXRoLmNlaWwoYSAvIGQpO1xuICAgICAgfWZvciAodmFyIHAgPSAwOyBwIDw9IGM7IHArKykge1xuICAgICAgICB2YXIgdiA9IHModCwgZSwgbyk7aCAmJiBuKHYpLCBmID0gZi5jb25jYXQodiksIGwgJiYgKHYucmV2ZXJzZSgpLCBmID0gZi5jb25jYXQodikpO1xuICAgICAgfXJldHVybiBhICYmIGYuc3BsaWNlKGEpLCBmO1xuICAgIH07dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgZm9yICh2YXIgZSA9IHQubGVuZ3RoIC0gMTsgZSA+IDA7IGUtLSkge1xuICAgICAgICB2YXIgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChlICsgMSkpLFxuICAgICAgICAgICAgbiA9IHRbZV07dFtlXSA9IHRbaV0sIHRbaV0gPSBuO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh0LmdldEF0dHJpYnV0ZShlKSwgMTApO1xuICAgIH12YXIgbiA9IGZ1bmN0aW9uIG4odCwgZSwgX24sIHIpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IF9uICYmIChfbiA9IDApO3ZhciBzID0ge30sXG4gICAgICAgICAgYSA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbmZvXCIpWzBdLFxuICAgICAgICAgIG8gPSB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiY29tbW9uXCIpWzBdO3MuZm9udCA9IGEuZ2V0QXR0cmlidXRlKFwiZmFjZVwiKSwgcy5zaXplID0gaShhLCBcInNpemVcIiksIHMubGluZUhlaWdodCA9IGkobywgXCJsaW5lSGVpZ2h0XCIpICsgX24sIHMuY2hhcnMgPSB7fTt2YXIgaCA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjaGFyXCIpLFxuICAgICAgICAgIHUgPSB2b2lkIDAgIT09IHIgJiYgci50cmltbWVkO2lmICh1KSB2YXIgYyA9IHIuaGVpZ2h0LFxuICAgICAgICAgIGwgPSByLndpZHRoO2ZvciAodmFyIGYgPSAwOyBmIDwgaC5sZW5ndGg7IGYrKykge1xuICAgICAgICB2YXIgZCA9IGhbZl0sXG4gICAgICAgICAgICBwID0gaShkLCBcImlkXCIpLFxuICAgICAgICAgICAgdiA9IGkoZCwgXCJ4XCIpLFxuICAgICAgICAgICAgZyA9IGkoZCwgXCJ5XCIpLFxuICAgICAgICAgICAgeCA9IGkoZCwgXCJ3aWR0aFwiKSxcbiAgICAgICAgICAgIG0gPSBpKGQsIFwiaGVpZ2h0XCIpO3UgJiYgKHYgPCBsICYmIChsID0gdiksIGcgPCBjICYmIChjID0gZykpLCBzLmNoYXJzW3BdID0geyB4OiB2LCB5OiBnLCB3aWR0aDogeCwgaGVpZ2h0OiBtLCBjZW50ZXJYOiBNYXRoLmZsb29yKHggLyAyKSwgY2VudGVyWTogTWF0aC5mbG9vcihtIC8gMiksIHhPZmZzZXQ6IGkoZCwgXCJ4b2Zmc2V0XCIpLCB5T2Zmc2V0OiBpKGQsIFwieW9mZnNldFwiKSwgeEFkdmFuY2U6IGkoZCwgXCJ4YWR2YW5jZVwiKSArIGUsIGRhdGE6IHt9LCBrZXJuaW5nOiB7fSB9O1xuICAgICAgfWlmICh1ICYmIDAgIT09IGMgJiYgMCAhPT0gbCkgZm9yICh2YXIgeSBpbiBzLmNoYXJzKSB7XG4gICAgICAgIHZhciB3ID0gcy5jaGFyc1t5XTt3LnggLT0gci54LCB3LnkgLT0gci55O1xuICAgICAgfXZhciBFID0gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImtlcm5pbmdcIik7Zm9yIChmID0gMDsgZiA8IEUubGVuZ3RoOyBmKyspIHtcbiAgICAgICAgdmFyIFQgPSBFW2ZdLFxuICAgICAgICAgICAgYiA9IGkoVCwgXCJmaXJzdFwiKSxcbiAgICAgICAgICAgIF8gPSBpKFQsIFwic2Vjb25kXCIpLFxuICAgICAgICAgICAgQSA9IGkoVCwgXCJhbW91bnRcIik7cy5jaGFyc1tfXS5rZXJuaW5nW2JdID0gQTtcbiAgICAgIH1yZXR1cm4gcztcbiAgICB9O3QuZXhwb3J0cyA9IG47XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg2KSxcbiAgICAgICAgcyA9IGkoMyksXG4gICAgICAgIGEgPSBpKDU4OSksXG4gICAgICAgIG8gPSBpKDU5NCksXG4gICAgICAgIGggPSBpKDU5NSksXG4gICAgICAgIHUgPSBpKDE4MyksXG4gICAgICAgIGMgPSBpKDM4KSxcbiAgICAgICAgbCA9IGkoNTk2KSxcbiAgICAgICAgZiA9IGkoMTQpLFxuICAgICAgICBkID0gKG5ldyBmKCksIGkoNzMpKSxcbiAgICAgICAgcCA9IG5ldyBuKHsgRXh0ZW5kczogciwgTWl4aW5zOiBbcy5BbHBoYSwgcy5CbGVuZE1vZGUsIHMuT3JpZ2luLCBzLlJlbmRlclRhcmdldCwgcy5TY3JvbGxGYWN0b3IsIHMuVmlzaWJsZSwgYV0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICByLmNhbGwodGhpcywgdCwgXCJMaWdodExheWVyXCIpO3ZhciBlID0gdC5zeXMuZ2FtZS5yZW5kZXJlci5yZXNvdXJjZU1hbmFnZXI7aWYgKHRoaXMuX2lzRGVmZXJyZWQgPSB1LmhhcyhcIldFQkdMX2RyYXdfYnVmZmVyc1wiKSwgdGhpcy5yZW5kZXJlciA9IHQuc3lzLmdhbWUucmVuZGVyZXIsIHRoaXMucGFzc1NoYWRlciA9IG51bGwsIHRoaXMuZ2wgPSBudWxsLCB0aGlzLmFtYmllbnRMaWdodENvbG9yUiA9IDAsIHRoaXMuYW1iaWVudExpZ2h0Q29sb3JHID0gMCwgdGhpcy5hbWJpZW50TGlnaHRDb2xvckIgPSAwLCB0aGlzLmxpZ2h0UG9vbCA9IFtdLCB0aGlzLnNwcml0ZVBvb2wgPSBbXSwgdGhpcy5saWdodHMgPSBbXSwgdGhpcy5zcHJpdGVzID0gW10sIHRoaXMubGlnaHRzTG9jYXRpb25zID0gW10sIHRoaXMuX3ogPSAwLCB2b2lkIDAgPT09IGUgfHwgdGhpcy5faXNEZWZlcnJlZCkge1xuICAgICAgICAgIHZhciBpID0gdGhpcy5nbCA9IHQuc3lzLmdhbWUucmVuZGVyZXIuZ2w7dGhpcy5leHQgPSB0LnN5cy5nYW1lLnJlbmRlcmVyLmdldEV4dGVuc2lvbihcIldFQkdMX2RyYXdfYnVmZmVyc1wiKSwgdGhpcy5nQnVmZmVyU2hhZGVyUGFzcyA9IGUuY3JlYXRlU2hhZGVyKFwiR0J1ZmZlclNoYWRlclwiLCB7IHZlcnQ6IGMudmVydCwgZnJhZzogXCJcIiB9KSwgdGhpcy5saWdodFBhc3NTaGFkZXIgPSBlLmNyZWF0ZVNoYWRlcihcIlBob25nMkRTaGFkZXJEZWZlcnJlZFwiLCB7IHZlcnQ6IFwiXCIgfSksIHRoaXMubGlnaHRQYXNzVkJPID0gaS5jcmVhdGVCdWZmZXIoKSwgaS5iaW5kQnVmZmVyKGkuQVJSQVlfQlVGRkVSLCB0aGlzLmxpZ2h0UGFzc1ZCTyksIGkuYnVmZmVyRGF0YShpLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbLTEsIDcsIC0xLCAtMSwgNywgLTFdKSwgaS5TVEFUSUNfRFJBVyksIHRoaXMudU1haW5UZXh0dXJlTG9jID0gdGhpcy5nQnVmZmVyU2hhZGVyUGFzcy5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1TWFpblRleHR1cmVcIiksIHRoaXMudU5vcm1UZXh0dXJlTG9jID0gdGhpcy5nQnVmZmVyU2hhZGVyUGFzcy5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1Tm9ybVRleHR1cmVcIiksIHRoaXMuZ0J1ZmZlclNoYWRlclBhc3Muc2V0Q29uc3RhbnRJbnQxKHRoaXMudU1haW5UZXh0dXJlTG9jLCAwKSwgdGhpcy5nQnVmZmVyU2hhZGVyUGFzcy5zZXRDb25zdGFudEludDEodGhpcy51Tm9ybVRleHR1cmVMb2MsIDEpLCB0aGlzLmFtYmllbnRMaWdodENvbG9yTG9jID0gdGhpcy5saWdodFBhc3NTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidUFtYmllbnRMaWdodENvbG9yXCIpLCB0aGlzLnVSZXNvbHV0aW9uTG9jID0gdGhpcy5saWdodFBhc3NTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidVJlc29sdXRpb25cIiksIHRoaXMudUdidWZmZXJDb2xvckxvYyA9IHRoaXMubGlnaHRQYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbihcInVHYnVmZmVyQ29sb3JcIiksIHRoaXMudUdidWZmZXJOb3JtYWxMb2MgPSB0aGlzLmxpZ2h0UGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1R2J1ZmZlck5vcm1hbFwiKSwgdGhpcy51Q2FtZXJhTG9jID0gdGhpcy5saWdodFBhc3NTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidUNhbWVyYVwiKSwgdGhpcy5saWdodFBhc3NTaGFkZXIuc2V0Q29uc3RhbnRJbnQxKHRoaXMudUdidWZmZXJDb2xvckxvYywgMCksIHRoaXMubGlnaHRQYXNzU2hhZGVyLnNldENvbnN0YW50SW50MSh0aGlzLnVHYnVmZmVyTm9ybWFsTG9jLCAxKSwgdGhpcy5nQnVmZmVyU2hhZGVyUGFzcy5iaW5kQXR0cmliTG9jYXRpb24oMCwgXCJ2X3RleF9jb29yZFwiKSwgdGhpcy5nQnVmZmVyU2hhZGVyUGFzcy5iaW5kQXR0cmliTG9jYXRpb24oMSwgXCJ2X2NvbG9yXCIpLCB0aGlzLmdCdWZmZXJTaGFkZXJQYXNzLmJpbmRBdHRyaWJMb2NhdGlvbigyLCBcInZfYWxwaGFcIiksIHRoaXMubGlnaHRQYXNzU2hhZGVyLmJpbmRBdHRyaWJMb2NhdGlvbigwLCBcInZlcnRleFBvc2l0aW9uXCIpO2ZvciAodmFyIG4gPSAwOyBuIDwgbC5ERUZFUlJFRF9NQVhfTElHSFRTOyArK24pIHtcbiAgICAgICAgICAgIHRoaXMubGlnaHRzTG9jYXRpb25zW25dID0geyBwb3NpdGlvbjogdGhpcy5saWdodFBhc3NTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidUxpZ2h0c1tcIiArIG4gKyBcIl0ucG9zaXRpb25cIiksIGNvbG9yOiB0aGlzLmxpZ2h0UGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1TGlnaHRzW1wiICsgbiArIFwiXS5jb2xvclwiKSwgYXR0ZW51YXRpb246IHRoaXMubGlnaHRQYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbihcInVMaWdodHNbXCIgKyBuICsgXCJdLmF0dGVudWF0aW9uXCIpLCByYWRpdXM6IHRoaXMubGlnaHRQYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbihcInVMaWdodHNbXCIgKyBuICsgXCJdLnJhZGl1c1wiKSB9O1xuICAgICAgICAgIH10aGlzLmdCdWZmZXJGYm8gPSBpLmNyZWF0ZUZyYW1lYnVmZmVyKCksIHRoaXMuZ0J1ZmZlckNvbG9yVGV4ID0gaS5jcmVhdGVUZXh0dXJlKCksIHRoaXMuZ0J1ZmZlck5vcm1hbFRleCA9IGkuY3JlYXRlVGV4dHVyZSgpLCBpLmJpbmRGcmFtZWJ1ZmZlcihpLkZSQU1FQlVGRkVSLCB0aGlzLmdCdWZmZXJGYm8pLCBpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCwgdGhpcy5nQnVmZmVyQ29sb3JUZXgpLCBpLnRleEltYWdlMkQoaS5URVhUVVJFXzJELCAwLCBpLlJHQkEsIHQuc3lzLmdhbWUucmVuZGVyZXIud2lkdGgsIHQuc3lzLmdhbWUucmVuZGVyZXIuaGVpZ2h0LCAwLCBpLlJHQkEsIGkuVU5TSUdORURfQllURSwgbnVsbCksIGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsIGkuVEVYVFVSRV9NQUdfRklMVEVSLCBpLk5FQVJFU1QpLCBpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELCBpLlRFWFRVUkVfTUlOX0ZJTFRFUiwgaS5ORUFSRVNUKSwgaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCwgaS5URVhUVVJFX1dSQVBfUywgaS5DTEFNUF9UT19FREdFKSwgaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCwgaS5URVhUVVJFX1dSQVBfVCwgaS5DTEFNUF9UT19FREdFKSwgaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsIHRoaXMuZ0J1ZmZlck5vcm1hbFRleCksIGkudGV4SW1hZ2UyRChpLlRFWFRVUkVfMkQsIDAsIGkuUkdCQSwgdC5zeXMuZ2FtZS5yZW5kZXJlci53aWR0aCwgdC5zeXMuZ2FtZS5yZW5kZXJlci5oZWlnaHQsIDAsIGkuUkdCQSwgaS5VTlNJR05FRF9CWVRFLCBudWxsKSwgaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCwgaS5URVhUVVJFX01BR19GSUxURVIsIGkuTkVBUkVTVCksIGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsIGkuVEVYVFVSRV9NSU5fRklMVEVSLCBpLk5FQVJFU1QpLCBpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELCBpLlRFWFRVUkVfV1JBUF9TLCBpLkNMQU1QX1RPX0VER0UpLCBpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELCBpLlRFWFRVUkVfV1JBUF9ULCBpLkNMQU1QX1RPX0VER0UpLCBpLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGkuRlJBTUVCVUZGRVIsIHRoaXMuZXh0LkNPTE9SX0FUVEFDSE1FTlQwX1dFQkdMLCBpLlRFWFRVUkVfMkQsIHRoaXMuZ0J1ZmZlckNvbG9yVGV4LCAwKSwgaS5mcmFtZWJ1ZmZlclRleHR1cmUyRChpLkZSQU1FQlVGRkVSLCB0aGlzLmV4dC5DT0xPUl9BVFRBQ0hNRU5UMV9XRUJHTCwgaS5URVhUVVJFXzJELCB0aGlzLmdCdWZmZXJOb3JtYWxUZXgsIDApLCB0aGlzLmV4dC5kcmF3QnVmZmVyc1dFQkdMKFt0aGlzLmV4dC5DT0xPUl9BVFRBQ0hNRU5UMF9XRUJHTCwgdGhpcy5leHQuQ09MT1JfQVRUQUNITUVOVDFfV0VCR0xdKTt2YXIgcyA9IGkuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhpLkZSQU1FQlVGRkVSKTtpZiAocyAhPT0gaS5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICAgICAgdmFyIGEgPSB7IDM2MDU0OiBcIkluY29tcGxldGUgQXR0YWNobWVudFwiLCAzNjA1NTogXCJNaXNzaW5nIEF0dGFjaG1lbnRcIiwgMzYwNTc6IFwiSW5jb21wbGV0ZSBEaW1lbnNpb25zXCIsIDM2MDYxOiBcIkZyYW1lYnVmZmVyIFVuc3VwcG9ydGVkXCIgfTt0aHJvdyBuZXcgRXJyb3IoXCJGcmFtZWJ1ZmZlciBpbmNvbXBsZXRlLiBGcmFtZWJ1ZmZlciBzdGF0dXM6IFwiICsgYVtzXSk7XG4gICAgICAgICAgfWkuYmluZEZyYW1lYnVmZmVyKGkuRlJBTUVCVUZGRVIsIG51bGwpLCBkLlNldERpcnR5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5nbCA9IHQuc3lzLmdhbWUucmVuZGVyZXIuZ2wsIHRoaXMucGFzc1NoYWRlciA9IGUuY3JlYXRlU2hhZGVyKFwiUGhvbmcyRFNoYWRlckZvcndhcmRcIiwgeyB2ZXJ0OiBjLnZlcnQsIGZyYWc6IFwiXCIgfSksIHRoaXMuYW1iaWVudExpZ2h0Q29sb3JMb2MgPSB0aGlzLnBhc3NTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidUFtYmllbnRMaWdodENvbG9yXCIpLCB0aGlzLnVNYWluVGV4dHVyZUxvYyA9IHRoaXMucGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1TWFpblRleHR1cmVcIiksIHRoaXMudU5vcm1UZXh0dXJlTG9jID0gdGhpcy5wYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbihcInVOb3JtVGV4dHVyZVwiKSwgdGhpcy51UmVzb2x1dGlvbkxvYyA9IHRoaXMucGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1UmVzb2x1dGlvblwiKSwgdGhpcy51Q2FtZXJhTG9jID0gdGhpcy5wYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbihcInVDYW1lcmFcIiksIHRoaXMucGFzc1NoYWRlci5zZXRDb25zdGFudEludDEodGhpcy51TWFpblRleHR1cmVMb2MsIDApLCB0aGlzLnBhc3NTaGFkZXIuc2V0Q29uc3RhbnRJbnQxKHRoaXMudU5vcm1UZXh0dXJlTG9jLCAxKTtmb3IgKHZhciBuID0gMDsgbiA8IGwuTUFYX0xJR0hUUzsgKytuKSB7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0c0xvY2F0aW9uc1tuXSA9IHsgcG9zaXRpb246IHRoaXMucGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1TGlnaHRzW1wiICsgbiArIFwiXS5wb3NpdGlvblwiKSwgY29sb3I6IHRoaXMucGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1TGlnaHRzW1wiICsgbiArIFwiXS5jb2xvclwiKSwgYXR0ZW51YXRpb246IHRoaXMucGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1TGlnaHRzW1wiICsgbiArIFwiXS5hdHRlbnVhdGlvblwiKSwgcmFkaXVzOiB0aGlzLnBhc3NTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidUxpZ2h0c1tcIiArIG4gKyBcIl0ucmFkaXVzXCIpIH07XG4gICAgICAgICAgfVxuICAgICAgICB9dGhpcy5zZXRPcmlnaW4oMCwgMCk7XG4gICAgICB9LCBmb3JFYWNoTGlnaHQ6IGZ1bmN0aW9uIGZvckVhY2hMaWdodCh0KSB7XG4gICAgICAgIGlmICh0KSBmb3IgKHZhciBlID0gdGhpcy5saWdodHMsIGkgPSBlLmxlbmd0aCwgbiA9IDA7IG4gPCBpOyArK24pIHtcbiAgICAgICAgICB0KGVbbl0pO1xuICAgICAgICB9XG4gICAgICB9LCBnZXQgeigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3o7XG4gICAgICB9LCBzZXQgeih0KSB7XG4gICAgICAgIHRoaXMuX3ogPSB0O1xuICAgICAgfSwgc2V0QW1iaWVudExpZ2h0Q29sb3I6IGZ1bmN0aW9uIHNldEFtYmllbnRMaWdodENvbG9yKHQsIGUsIGkpIHtcbiAgICAgICAgdGhpcy5hbWJpZW50TGlnaHRDb2xvclIgPSB0LCB0aGlzLmFtYmllbnRMaWdodENvbG9yRyA9IGUsIHRoaXMuYW1iaWVudExpZ2h0Q29sb3JCID0gaTtcbiAgICAgIH0sIGdldE1heExpZ2h0czogZnVuY3Rpb24gZ2V0TWF4TGlnaHRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEZWZlcnJlZCA/IGwuREVGRVJSRURfTUFYX0xJR0hUUyA6IGwuTUFYX0xJR0hUUztcbiAgICAgIH0sIGdldExpZ2h0Q291bnQ6IGZ1bmN0aW9uIGdldExpZ2h0Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpZ2h0cy5sZW5ndGg7XG4gICAgICB9LCBpc0RlZmVycmVkOiBmdW5jdGlvbiBpc0RlZmVycmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEZWZlcnJlZDtcbiAgICAgIH0sIGFkZFNwcml0ZTogZnVuY3Rpb24gYWRkU3ByaXRlKHQsIGUpIHtcbiAgICAgICAgdmFyIGk7dGhpcy5zcHJpdGVQb29sLmxlbmd0aCA+IDAgPyAoaSA9IHRoaXMuc3ByaXRlUG9vbC5wb3AoKSwgaS5zZXQodCwgZSkpIDogaSA9IG5ldyBoKHQsIGUpLCB0aGlzLnNjZW5lLnN5cy5kaXNwbGF5TGlzdC5yZW1vdmUodCksIHRoaXMuc3ByaXRlcy5wdXNoKGkpO1xuICAgICAgfSwgcmVtb3ZlU3ByaXRlOiBmdW5jdGlvbiByZW1vdmVTcHJpdGUodCkge1xuICAgICAgICBmb3IgKHZhciBlID0gdGhpcy5zcHJpdGVzLmxlbmd0aCwgaSA9IDA7IGkgPCBlOyArK2kpIHtcbiAgICAgICAgICBpZiAodGhpcy5zcHJpdGVzW2ldLnNwcml0ZVJlZiA9PT0gdCkge1xuICAgICAgICAgICAgdGhpcy5zcHJpdGVQb29sLnB1c2godGhpcy5zcHJpdGVzW2ldKSwgdGhpcy5zcHJpdGVzLnNwbGljZShpLCAxKTticmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1yZXR1cm4gdDtcbiAgICAgIH0sIGFkZExpZ2h0OiBmdW5jdGlvbiBhZGRMaWdodCh0LCBlLCBpLCBuLCByLCBzLCBhLCBoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpZ2h0cy5sZW5ndGggPCB0aGlzLmdldE1heExpZ2h0cygpKSB7XG4gICAgICAgICAgdmFyIHUgPSBudWxsO3JldHVybiB0aGlzLmxpZ2h0UG9vbC5sZW5ndGggPiAwID8gKHUgPSB0aGlzLmxpZ2h0UG9vbC5wb3AoKSwgdS5zZXQodCwgZSwgaSwgbiwgciwgcywgYSwgaCkpIDogdSA9IG5ldyBvKHQsIGUsIGksIG4sIHIsIHMsIGEsIGgpLCB0aGlzLmxpZ2h0cy5wdXNoKHUpLCB1O1xuICAgICAgICB9cmV0dXJuIG51bGw7XG4gICAgICB9LCByZW1vdmVMaWdodDogZnVuY3Rpb24gcmVtb3ZlTGlnaHQodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMubGlnaHRzLmluZGV4T2YodCk7ZSA+PSAwICYmICh0aGlzLmxpZ2h0UG9vbC5wdXNoKHQpLCB0aGlzLmxpZ2h0cy5zcGxpY2UoZSwgMSkpO1xuICAgICAgfSwgdXBkYXRlTGlnaHRzOiBmdW5jdGlvbiB1cGRhdGVMaWdodHModCwgZSwgaSkge1xuICAgICAgICBpZiAobnVsbCAhPT0gdGhpcy5nbCkge1xuICAgICAgICAgIHZhciBuID0gdGhpcy5saWdodHNMb2NhdGlvbnMsXG4gICAgICAgICAgICAgIHIgPSB0aGlzLmxpZ2h0cyxcbiAgICAgICAgICAgICAgcyA9IHIubGVuZ3RoLFxuICAgICAgICAgICAgICBhID0geyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgIG8gPSB0LmhlaWdodCxcbiAgICAgICAgICAgICAgaCA9IGUubWF0cml4LFxuICAgICAgICAgICAgICB1ID0gdGhpcy5nbDtpLmJpbmQoKSwgdS51bmlmb3JtMmYodGhpcy51UmVzb2x1dGlvbkxvYywgdC53aWR0aCwgdC5oZWlnaHQpLCB1LnVuaWZvcm0zZih0aGlzLmFtYmllbnRMaWdodENvbG9yTG9jLCB0aGlzLmFtYmllbnRMaWdodENvbG9yUiwgdGhpcy5hbWJpZW50TGlnaHRDb2xvckcsIHRoaXMuYW1iaWVudExpZ2h0Q29sb3JCKSwgdS51bmlmb3JtNGYodGhpcy51Q2FtZXJhTG9jLCBlLngsIGUueSwgZS5yb3RhdGlvbiwgZS56b29tKTtmb3IgKHZhciBjID0gMDsgYyA8IHM7ICsrYykge1xuICAgICAgICAgICAgdmFyIGwgPSByW2NdO2gudHJhbnNmb3JtUG9pbnQobC54LCBsLnksIGEpLCB1LnVuaWZvcm0xZihuW2NdLmF0dGVudWF0aW9uLCBsLmF0dGVudWF0aW9uKSwgdS51bmlmb3JtMWYobltjXS5yYWRpdXMsIGwucmFkaXVzKSwgdS51bmlmb3JtM2YobltjXS5wb3NpdGlvbiwgYS54IC0gZS5zY3JvbGxYICogbC5zY3JvbGxGYWN0b3JYICogZS56b29tLCBvIC0gKGEueSAtIGUuc2Nyb2xsWSAqIGwuc2Nyb2xsRmFjdG9yWSAqIGUuem9vbSksIGwueiksIHUudW5pZm9ybTNmKG5bY10uY29sb3IsIGwuciwgbC5nLCBsLmIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBwO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCJ3ZWJnbFwiKSxcbiAgICAgICAgICBlID0gdCA/IHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpIDogW107cmV0dXJuIHsgaGFzOiBmdW5jdGlvbiBoYXModCkge1xuICAgICAgICAgIHJldHVybiBlLmluZGV4T2YodCkgPj0gMDtcbiAgICAgICAgfSB9O1xuICAgIH0oKTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyNSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGkpIHtcbiAgICAgIHJldHVybiB7IGdhbWVPYmplY3Q6IHQsIGVuYWJsZWQ6ICEwLCBkcmFnZ2FibGU6ICExLCBkcm9wWm9uZTogITEsIHRhcmdldDogbnVsbCwgY2FtZXJhOiBudWxsLCBoaXRBcmVhOiBlLCBoaXRBcmVhQ2FsbGJhY2s6IGksIGxvY2FsWDogMCwgbG9jYWxZOiAwLCBkcmFnU3RhdGU6IDAsIGRyYWdTdGFydFg6IDAsIGRyYWdTdGFydFk6IDAsIGRyYWdYOiAwLCBkcmFnWTogMCwgY2FsbGJhY2tDb250ZXh0OiB0LCBvblVwOiBuLCBvbkRvd246IG4sIG9uT3Zlcjogbiwgb25PdXQ6IG4sIG9uTW92ZTogbiwgb25EcmFnU3RhcnQ6IG4sIG9uRHJhZzogbiwgb25EcmFnRW5kOiBuIH07XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTMwLCBuKSB7XG4gICAgICBmb3IgKHZhciByID0gW10sIHMgPSB0OyBzIDw9IGU7IHMrKykge1xuICAgICAgICBpZiAoX2kzMCB8fCBuKSB7XG4gICAgICAgICAgdmFyIGEgPSBfaTMwID8gX2kzMCArIHMudG9TdHJpbmcoKSA6IHMudG9TdHJpbmcoKTtuICYmIChhID0gYS5jb25jYXQobikpLCByLnB1c2goYSk7XG4gICAgICAgIH0gZWxzZSByLnB1c2gocyk7XG4gICAgICB9cmV0dXJuIHI7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg5MCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHZhciBpID0gdm9pZCAwID09PSB0ID8gbigpIDogT2JqZWN0LmFzc2lnbih0KTtpZiAoZSkgZm9yICh2YXIgciBpbiBlKSB7XG4gICAgICAgIHZvaWQgMCAhPT0gZVtyXSAmJiAoaVtyXSA9IGVbcl0pO1xuICAgICAgfXJldHVybiBpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEyKSxcbiAgICAgICAgcyA9IGkoMjQpLFxuICAgICAgICBhID0gaSg3KSxcbiAgICAgICAgbyA9IGkoMTMyKSxcbiAgICAgICAgaCA9IG5ldyBuKHsgRXh0ZW5kczogcywgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IHQgOiBhKHQsIFwia2V5XCIsIFwiXCIpLFxuICAgICAgICAgICAgbyA9IHsgdHlwZTogXCJ4bWxcIiwgZXh0ZW5zaW9uOiBhKHQsIFwiZXh0ZW5zaW9uXCIsIFwieG1sXCIpLCByZXNwb25zZVR5cGU6IFwidGV4dFwiLCBrZXk6IHIsIHVybDogYSh0LCBcImZpbGVcIiwgZSksIHBhdGg6IGksIHhoclNldHRpbmdzOiBhKHQsIFwieGhyXCIsIG4pIH07cy5jYWxsKHRoaXMsIG8pO1xuICAgICAgfSwgb25Qcm9jZXNzOiBmdW5jdGlvbiBvblByb2Nlc3ModCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9IHIuRklMRV9QUk9DRVNTSU5HLCB0aGlzLmRhdGEgPSBvKHRoaXMueGhyTG9hZGVyLnJlc3BvbnNlVGV4dCksIG51bGwgPT09IHRoaXMuZGF0YSkgdGhyb3cgbmV3IEVycm9yKFwiWE1MRmlsZTogSW52YWxpZCBYTUxcIik7dGhpcy5vbkNvbXBsZXRlKCksIHQodGhpcyk7XG4gICAgICB9IH0pO2guY3JlYXRlID0gZnVuY3Rpb24gKHQsIGUsIGksIG4pIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSBmb3IgKHZhciByID0gMDsgciA8IGUubGVuZ3RoOyByKyspIHtcbiAgICAgICAgdC5hZGRGaWxlKG5ldyBoKGVbcl0sIGksIHQucGF0aCwgbikpO1xuICAgICAgfSBlbHNlIHQuYWRkRmlsZShuZXcgaChlLCBpLCB0LnBhdGgsIG4pKTtyZXR1cm4gdDtcbiAgICB9LCB0LmV4cG9ydHMgPSBoO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMTIpLFxuICAgICAgICBzID0gaSgyNCksXG4gICAgICAgIGEgPSBuZXcgbih7IEV4dGVuZHM6IHMsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbikge1xuICAgICAgICB2YXIgciA9IHsgdHlwZTogXCJ0ZXh0XCIsIGV4dGVuc2lvbjogXCJ0eHRcIiwgcmVzcG9uc2VUeXBlOiBcInRleHRcIiwga2V5OiB0LCB1cmw6IGUsIHBhdGg6IGksIHhoclNldHRpbmdzOiBuIH07cy5jYWxsKHRoaXMsIHIpO1xuICAgICAgfSwgb25Qcm9jZXNzOiBmdW5jdGlvbiBvblByb2Nlc3ModCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gci5GSUxFX1BST0NFU1NJTkcsIHRoaXMuZGF0YSA9IHRoaXMueGhyTG9hZGVyLnJlc3BvbnNlVGV4dCwgdGhpcy5vbkNvbXBsZXRlKCksIHQodGhpcyk7XG4gICAgICB9IH0pO2EuY3JlYXRlID0gZnVuY3Rpb24gKHQsIGUsIGksIG4pIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSBmb3IgKHZhciByID0gMDsgciA8IGUubGVuZ3RoOyByKyspIHtcbiAgICAgICAgdC5hZGRGaWxlKG5ldyBhKGVbcl0sIGksIHQucGF0aCwgbikpO1xuICAgICAgfSBlbHNlIHQuYWRkRmlsZShuZXcgYShlLCBpLCB0LnBhdGgsIG4pKTtyZXR1cm4gdDtcbiAgICB9LCB0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0geyB0YXJnZXRzOiBudWxsLCBkZWxheTogMCwgZHVyYXRpb246IDFlMywgZWFzZTogXCJQb3dlcjBcIiwgZWFzZVBhcmFtczogbnVsbCwgaG9sZDogMCwgcmVwZWF0OiAwLCByZXBlYXREZWxheTogMCwgc3RhcnRBdDogbnVsbCwgeW95bzogITEsIGZsaXBYOiAhMSwgZmxpcFk6ICExIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kzMSkge1xuICAgICAgcmV0dXJuIHQgJiYgdC5oYXNPd25Qcm9wZXJ0eShlKSA/IHRbZV0gOiBfaTMxO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNzE1KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgJiYgbi5oYXNPd25Qcm9wZXJ0eSh0KSkge1xuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgIHZhciBpID0gZS5zbGljZSgwKTtyZXR1cm4gaS51bnNoaWZ0KDApLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlbMF0gPSBlLCBuW3RdLmFwcGx5KHRoaXMsIGkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1yZXR1cm4gblt0XTtcbiAgICAgIH1yZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ID8gdCA6IChBcnJheS5pc0FycmF5KHQpICYmIHQubGVuZ3RoLCBuLlBvd2VyMCk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTMyKSB7XG4gICAgICB2YXIgbjtpZiAodC5oYXNPd25Qcm9wZXJ0eShlKSkge1xuICAgICAgICBuID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdFtlXSA/IGZ1bmN0aW9uIChpLCBuLCByKSB7XG4gICAgICAgICAgcmV0dXJuIHRbZV0oaSwgbiwgcik7XG4gICAgICAgIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRbZV07XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgbiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgX2kzMiA/IF9pMzIgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfaTMyO1xuICAgICAgfTtyZXR1cm4gbjtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICB2YXIgZSA9IG4odCwgXCJ0YXJnZXRzXCIsIG51bGwpO3JldHVybiBudWxsID09PSBlID8gZSA6IChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUgJiYgKGUgPSBlLmNhbGwoKSksIEFycmF5LmlzQXJyYXkoZSkgfHwgKGUgPSBbZV0pLCBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxMyksXG4gICAgICAgIHMgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSB0LCB0aGlzLnRpbWVsaW5lID0gbnVsbCwgdGhpcy5kYXRhID0gZSwgdGhpcy50b3RhbERhdGEgPSBlLmxlbmd0aCwgdGhpcy50b3RhbFRhcmdldHMgPSAwLCB0aGlzLnVzZUZyYW1lcyA9ICExLCB0aGlzLnRpbWVTY2FsZSA9IDEsIHRoaXMubG9vcCA9IDAsIHRoaXMubG9vcERlbGF5ID0gMCwgdGhpcy5sb29wQ291bnRlciA9IDAsIHRoaXMuY29tcGxldGVEZWxheSA9IDAsIHRoaXMuY291bnRkb3duID0gMCwgdGhpcy5vZmZzZXQgPSAwLCB0aGlzLmNhbGN1bGF0ZWRPZmZzZXQgPSAwLCB0aGlzLnN0YXRlID0gci5QRU5ESU5HX0FERCwgdGhpcy5fcGF1c2VkU3RhdGUgPSByLlBFTkRJTkdfQURELCB0aGlzLnBhdXNlZCA9ICExLCB0aGlzLmVsYXBzZWQgPSAwLCB0aGlzLnRvdGFsRWxhcHNlZCA9IDAsIHRoaXMuZHVyYXRpb24gPSAwLCB0aGlzLnByb2dyZXNzID0gMCwgdGhpcy50b3RhbER1cmF0aW9uID0gMCwgdGhpcy50b3RhbFByb2dyZXNzID0gMCwgdGhpcy5jYWxsYmFja3MgPSB7IG9uQ29tcGxldGU6IG51bGwsIG9uTG9vcDogbnVsbCwgb25SZXBlYXQ6IG51bGwsIG9uU3RhcnQ6IG51bGwsIG9uVXBkYXRlOiBudWxsLCBvbllveW86IG51bGwgfSwgdGhpcy5jYWxsYmFja1Njb3BlO1xuICAgICAgfSwgc2V0VGltZVNjYWxlOiBmdW5jdGlvbiBzZXRUaW1lU2NhbGUodCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lU2NhbGUgPSB0LCB0aGlzO1xuICAgICAgfSwgZ2V0VGltZVNjYWxlOiBmdW5jdGlvbiBnZXRUaW1lU2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVTY2FsZTtcbiAgICAgIH0sIGlzUGxheWluZzogZnVuY3Rpb24gaXNQbGF5aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gci5BQ1RJVkU7XG4gICAgICB9LCBoYXNUYXJnZXQ6IGZ1bmN0aW9uIGhhc1RhcmdldCh0KSB7XG4gICAgICAgIGZvciAodmFyIGUgPSB0aGlzLmRhdGEsIGkgPSAwOyBpIDwgdGhpcy50b3RhbERhdGE7IGkrKykge1xuICAgICAgICAgIGlmIChlW2ldLnRhcmdldCA9PT0gdCkgcmV0dXJuICEwO1xuICAgICAgICB9cmV0dXJuICExO1xuICAgICAgfSwgY2FsY0R1cmF0aW9uOiBpKDcyMSksIGluaXQ6IGkoNzIyKSwgbG9hZFZhbHVlczogaSg3MjMpLCBuZXh0U3RhdGU6IGkoNzI0KSwgcGF1c2U6IGkoNzI1KSwgcGxheTogaSg3MjYpLCByZXNldFR3ZWVuRGF0YTogaSg3MjcpLCByZXN1bWU6IGkoNzI4KSwgc2VlazogaSg3MjkpLCBzZXRDYWxsYmFjazogaSg3MzApLCBzdG9wOiBpKDczMSksIHVwZGF0ZTogaSg3MzIpIH0pO3MuVFlQRVMgPSBbXCJvblN0YXJ0XCIsIFwib25VcGRhdGVcIiwgXCJvblJlcGVhdFwiLCBcIm9uTG9vcFwiLCBcIm9uQ29tcGxldGVcIiwgXCJvbllveW9cIl0sIHQuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiAhKHQud2lkdGggPD0gMCB8fCB0LmhlaWdodCA8PSAwIHx8IGUud2lkdGggPD0gMCB8fCBlLmhlaWdodCA8PSAwKSAmJiAhKHQucmlnaHQgPCBlLnggfHwgdC5ib3R0b20gPCBlLnkgfHwgdC54ID4gZS5yaWdodCB8fCB0LnkgPiBlLmJvdHRvbSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgzNiksXG4gICAgICAgIHIgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gaSAmJiAoaSA9IHIpLCBuKGUsIHQueDEsIHQueTEpKSByZXR1cm4gaS54ID0gdC54MSwgaS55ID0gdC55MSwgITA7aWYgKG4oZSwgdC54MiwgdC55MikpIHJldHVybiBpLnggPSB0LngyLCBpLnkgPSB0LnkyLCAhMDt2YXIgcyA9IHQueDIgLSB0LngxLFxuICAgICAgICAgIGEgPSB0LnkyIC0gdC55MSxcbiAgICAgICAgICBvID0gZS54IC0gdC54MSxcbiAgICAgICAgICBoID0gZS55IC0gdC55MSxcbiAgICAgICAgICB1ID0gcyAqIHMgKyBhICogYSxcbiAgICAgICAgICBjID0gcyxcbiAgICAgICAgICBsID0gYTtpZiAodSA+IDApIHtcbiAgICAgICAgdmFyIGYgPSAobyAqIHMgKyBoICogYSkgLyB1O2MgKj0gZiwgbCAqPSBmO1xuICAgICAgfXJldHVybiBpLnggPSB0LngxICsgYywgaS55ID0gdC55MSArIGwsIGMgKiBjICsgbCAqIGwgPD0gdSAmJiBjICogcyArIGwgKiBhID49IDAgJiYgbihlLCBpLngsIGkueSk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gKHQueCAtIGUueDEpICogKGUueTIgLSBlLnkxKSA9PSAoZS54MiAtIGUueDEpICogKHQueSAtIGUueTEpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IFtdKSwgZS5wdXNoKHsgeDogdC54LCB5OiB0LnkgfSksIGUucHVzaCh7IHg6IHQucmlnaHQsIHk6IHQueSB9KSwgZS5wdXNoKHsgeDogdC5yaWdodCwgeTogdC5ib3R0b20gfSksIGUucHVzaCh7IHg6IHQueCwgeTogdC5ib3R0b20gfSksIGU7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gW10pLCBlLnB1c2goeyB4OiB0LngxLCB5OiB0LnkxIH0pLCBlLnB1c2goeyB4OiB0LngyLCB5OiB0LnkyIH0pLCBlLnB1c2goeyB4OiB0LngzLCB5OiB0LnkzIH0pLCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbikge1xuICAgICAgICB0aGlzLngxID0gMCwgdGhpcy55MSA9IDAsIHRoaXMueDIgPSAwLCB0aGlzLnkyID0gMCwgdGhpcy5zZXRUbyh0LCBlLCBpLCBuKTtcbiAgICAgIH0sIHNldFRvOiBmdW5jdGlvbiBzZXRUbyh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSAwKSwgdm9pZCAwID09PSBlICYmIChlID0gMCksIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IG4gJiYgKG4gPSAwKSwgdGhpcy54MSA9IHQsIHRoaXMueTEgPSBlLCB0aGlzLngyID0gaSwgdGhpcy55MiA9IG4sIHRoaXM7XG4gICAgICB9LCBnZXRQb2ludEE6IGZ1bmN0aW9uIGdldFBvaW50QSgpIHtcbiAgICAgICAgcmV0dXJuIHsgeDE6IHRoaXMueDEsIHkxOiB0aGlzLnkxIH07XG4gICAgICB9LCBnZXRQb2ludEI6IGZ1bmN0aW9uIGdldFBvaW50QigpIHtcbiAgICAgICAgcmV0dXJuIHsgeDE6IHRoaXMueDIsIHkxOiB0aGlzLnkyIH07XG4gICAgICB9LCBsZWZ0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLngxLCB0aGlzLngyKTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMueDEgPD0gdGhpcy54MiA/IHRoaXMueDEgPSB0IDogdGhpcy54MiA9IHQ7XG4gICAgICAgIH0gfSwgcmlnaHQ6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMueDEsIHRoaXMueDIpO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy54MSA+IHRoaXMueDIgPyB0aGlzLngxID0gdCA6IHRoaXMueDIgPSB0O1xuICAgICAgICB9IH0sIHRvcDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy55MSwgdGhpcy55Mik7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnkxIDw9IHRoaXMueTIgPyB0aGlzLnkxID0gdCA6IHRoaXMueTIgPSB0O1xuICAgICAgICB9IH0sIGJvdHRvbTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy55MSwgdGhpcy55Mik7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnkxID4gdGhpcy55MiA/IHRoaXMueTEgPSB0IDogdGhpcy55MiA9IHQ7XG4gICAgICAgIH0gfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMCksXG4gICAgICAgIHIgPSBpKDUwKSxcbiAgICAgICAgcyA9IGkoNDMpLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0KSB7XG4gICAgICB2YXIgZSA9IHModCkgLSBuLlRBVTtyZXR1cm4gcihlLCAtTWF0aC5QSSwgTWF0aC5QSSk7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KHQueCAqIHQueCArIHQueSAqIHQueSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC54ICogdC54ICsgdC55ICogdC55O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kzMykge1xuICAgICAgcmV0dXJuIHQueCAqPSBlLCB0LnkgKj0gX2kzMywgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIwMiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIGlmICgwICE9PSB0LnggJiYgMCAhPT0gdC55KSB7XG4gICAgICAgIHZhciBlID0gbih0KTt0LnggLz0gZSwgdC55IC89IGU7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuYXJlYSA9IDAsIHRoaXMucG9pbnRzID0gW10sIHQgJiYgdGhpcy5zZXRUbyh0KTtcbiAgICAgIH0sIHNldFRvOiBmdW5jdGlvbiBzZXRUbyh0KSB7XG4gICAgICAgIGlmICh0aGlzLmFyZWEgPSAwLCB0aGlzLnBvaW50cyA9IFtdLCAhQXJyYXkuaXNBcnJheSh0KSkgcmV0dXJuIHRoaXM7Zm9yICh2YXIgZSwgaSA9IE51bWJlci5NQVhfVkFMVUUsIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICAgIGUgPSB7IHg6IDAsIHk6IDAgfSwgXCJudW1iZXJcIiA9PSB0eXBlb2YgdFtuXSA/IChlLnggPSB0W25dLCBlLnkgPSB0W24gKyAxXSwgbisrKSA6IEFycmF5LmlzQXJyYXkodm9pZCAwKSA/IChlLnggPSB0W25dWzBdLCBlLnkgPSB0W25dWzFdKSA6IChlLnggPSB0W25dLngsIGUueSA9IHRbbl0ueSksIHRoaXMucG9pbnRzLnB1c2goZSksIGUueSA8IGkgJiYgKGkgPSBlLnkpO1xuICAgICAgICB9cmV0dXJuIHRoaXMuY2FsY3VsYXRlQXJlYShpKSwgdGhpcztcbiAgICAgIH0sIGNhbGN1bGF0ZUFyZWE6IGZ1bmN0aW9uIGNhbGN1bGF0ZUFyZWEodCkge1xuICAgICAgICBpZiAodGhpcy5wb2ludHMubGVuZ3RoIDwgMykgcmV0dXJuIHRoaXMuYXJlYSA9IDAsIHRoaXMuYXJlYTtmb3IgKHZhciBlLCBpLCBuID0gMCwgciA9IDA7IHIgPCB0aGlzLnBvaW50cy5sZW5ndGggLSAxOyByKyspIHtcbiAgICAgICAgICBlID0gdGhpcy5wb2ludHNbcl0sIGkgPSB0aGlzLnBvaW50c1tyICsgMV0sIG4gKz0gKGkueCAtIGUueCkgKiAoZS55ICsgaS55KTtcbiAgICAgICAgfXJldHVybiBlID0gdGhpcy5wb2ludHNbMF0sIGkgPSB0aGlzLnBvaW50c1t0aGlzLnBvaW50cy5sZW5ndGggLSAxXSwgbiArPSAoZS54IC0gaS54KSAqIChpLnkgKyBlLnkpLCB0aGlzLmFyZWEgPSAuNSAqIC1uLCB0aGlzLmFyZWE7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMzQpIHtcbiAgICAgIGZvciAodmFyIG4gPSAhMSwgciA9IC0xLCBzID0gdC5wb2ludHMubGVuZ3RoIC0gMTsgKytyIDwgdC5wb2ludHMubGVuZ3RoOyBzID0gcikge1xuICAgICAgICB2YXIgYSA9IHQucG9pbnRzW3JdLngsXG4gICAgICAgICAgICBvID0gdC5wb2ludHNbcl0ueSxcbiAgICAgICAgICAgIGggPSB0LnBvaW50c1tzXS54LFxuICAgICAgICAgICAgdSA9IHQucG9pbnRzW3NdLnk7KG8gPD0gX2kzNCAmJiBfaTM0IDwgdSB8fCB1IDw9IF9pMzQgJiYgX2kzNCA8IG8pICYmIGUgPCAoaCAtIGEpICogKF9pMzQgLSBvKSAvICh1IC0gbykgKyBhICYmIChuID0gIW4pO1xuICAgICAgfXJldHVybiBuO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kzNSkge1xuICAgICAgcmV0dXJuIHQueCA9IGUgLSB0LndpZHRoIC8gMiwgdC55ID0gX2kzNSAtIHQuaGVpZ2h0IC8gMiwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSB7IHg6IDAsIHk6IDAgfSksIGUueCA9ICh0LngxICsgdC54MiArIHQueDMpIC8gMywgZS55ID0gKHQueTEgKyB0LnkyICsgdC55MykgLyAzLCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kzNikge1xuICAgICAgcmV0dXJuIHQueDEgKz0gZSwgdC55MSArPSBfaTM2LCB0LngyICs9IGUsIHQueTIgKz0gX2kzNiwgdC54MyArPSBlLCB0LnkzICs9IF9pMzYsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCwgZSwgaSwgbikge1xuICAgICAgdmFyIHIgPSB0IC0gaSxcbiAgICAgICAgICBzID0gZSAtIG4sXG4gICAgICAgICAgYSA9IHIgKiByICsgcyAqIHM7cmV0dXJuIE1hdGguc3FydChhKTtcbiAgICB9dmFyIG4gPSBmdW5jdGlvbiBuKHQsIGUpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHsgeDogMCwgeTogMCB9KTt2YXIgbiA9IHQueDEsXG4gICAgICAgICAgciA9IHQueTEsXG4gICAgICAgICAgcyA9IHQueDIsXG4gICAgICAgICAgYSA9IHQueTIsXG4gICAgICAgICAgbyA9IHQueDMsXG4gICAgICAgICAgaCA9IHQueTMsXG4gICAgICAgICAgdSA9IGkobywgaCwgcywgYSksXG4gICAgICAgICAgYyA9IGkobiwgciwgbywgaCksXG4gICAgICAgICAgbCA9IGkocywgYSwgbiwgciksXG4gICAgICAgICAgZiA9IHUgKyBjICsgbDtyZXR1cm4gZS54ID0gKG4gKiB1ICsgcyAqIGMgKyBvICogbCkgLyBmLCBlLnkgPSAociAqIHUgKyBhICogYyArIGggKiBsKSAvIGYsIGU7XG4gICAgfTt0LmV4cG9ydHMgPSBuO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4oMjU1LCB0ICsgZSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gMCA9PT0gZSA/IGUgOiBNYXRoLm1heCgwLCAyNTUgLSAoMjU1IC0gdCA8PCA4KSAvIGUpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIDI1NSA9PT0gZSA/IGUgOiBNYXRoLm1pbigyNTUsICh0IDw8IDgpIC8gKDI1NSAtIGUpKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBlID4gdCA/IHQgOiBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIDI1NSA9PT0gZSA/IGUgOiBNYXRoLm1pbigyNTUsIHQgKiB0IC8gKDI1NSAtIGUpKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBlIDwgMTI4ID8gMiAqIHQgKiBlIC8gMjU1IDogMjU1IC0gMiAqICgyNTUgLSB0KSAqICgyNTUgLSBlKSAvIDI1NTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIxMyksXG4gICAgICAgIHIgPSBpKDIxNCksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUpIHtcbiAgICAgIHJldHVybiBlIDwgMTI4ID8gbih0LCAyICogZSkgOiByKHQsIDIgKiAoZSAtIDEyOCkpO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIGUgPiB0ID8gZSA6IHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMjEpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICByZXR1cm4gbih0LCBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heCgwLCB0ICsgZSAtIDI1NSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMTIpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICByZXR1cm4gbih0LCBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gdC50b1N0cmluZygxNik7cmV0dXJuIDEgPT09IGUubGVuZ3RoID8gXCIwXCIgKyBlIDogZTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgKGZ1bmN0aW9uICh0KSB7XG4gICAgICB2YXIgZSA9IGZ1bmN0aW9uIGUodCwgX2UzLCBpKSB7XG4gICAgICAgIHJldHVybiBpIDwgMCAmJiAoaSArPSAxKSwgaSA+IDEgJiYgKGkgLT0gMSksIGkgPCAxIC8gNiA/IHQgKyA2ICogKF9lMyAtIHQpICogaSA6IGkgPCAuNSA/IF9lMyA6IGkgPCAyIC8gMyA/IHQgKyAoX2UzIC0gdCkgKiAoMiAvIDMgLSBpKSAqIDYgOiB0O1xuICAgICAgfTt0LmV4cG9ydCA9IGU7XG4gICAgfSkuY2FsbChlLCBpKDkzNCkodCkpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3MiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGkpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDEpLCB2b2lkIDAgPT09IGkgJiYgKGkgPSAxKTt2YXIgciA9IE1hdGguZmxvb3IoNiAqIHQpLFxuICAgICAgICAgIHMgPSA2ICogdCAtIHIsXG4gICAgICAgICAgYSA9IE1hdGguZmxvb3IoaSAqICgxIC0gZSkgKiAyNTUpLFxuICAgICAgICAgIG8gPSBNYXRoLmZsb29yKGkgKiAoMSAtIHMgKiBlKSAqIDI1NSksXG4gICAgICAgICAgaCA9IE1hdGguZmxvb3IoaSAqICgxIC0gKDEgLSBzKSAqIGUpICogMjU1KTtpID0gTWF0aC5mbG9vcihpICo9IDI1NSk7dmFyIHUgPSB7IHI6IGksIGc6IGksIGI6IGksIGNvbG9yOiAwIH0sXG4gICAgICAgICAgYyA9IHIgJSA2O3JldHVybiAwID09PSBjID8gKHUuZyA9IGgsIHUuYiA9IGEpIDogMSA9PT0gYyA/ICh1LnIgPSBvLCB1LmIgPSBhKSA6IDIgPT09IGMgPyAodS5yID0gYSwgdS5iID0gaCkgOiAzID09PSBjID8gKHUuciA9IGEsIHUuZyA9IG8pIDogNCA9PT0gYyA/ICh1LnIgPSBoLCB1LmcgPSBhKSA6IDUgPT09IGMgJiYgKHUuZyA9IGEsIHUuYiA9IG8pLCB1LmNvbG9yID0gbih1LnIsIHUuZywgdS5iKSwgdTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgZnVuY3Rpb24gaSh0LCBlLCBpKSB7XG4gICAgICB2YXIgbiA9IHRbZV07dFtlXSA9IHRbaV0sIHRbaV0gPSBuO1xuICAgIH1mdW5jdGlvbiBuKHQsIGUpIHtcbiAgICAgIHJldHVybiB0IDwgZSA/IC0xIDogdCA+IGUgPyAxIDogMDtcbiAgICB9dmFyIHIgPSBmdW5jdGlvbiByKHQsIGUsIHMsIGEsIG8pIHtcbiAgICAgIGZvciAocyA9IHMgfHwgMCwgYSA9IGEgfHwgdC5sZW5ndGggLSAxLCBvID0gbyB8fCBuOyBhID4gczspIHtcbiAgICAgICAgaWYgKGEgLSBzID4gNjAwKSB7XG4gICAgICAgICAgdmFyIGggPSBhIC0gcyArIDEsXG4gICAgICAgICAgICAgIHUgPSBlIC0gcyArIDEsXG4gICAgICAgICAgICAgIGMgPSBNYXRoLmxvZyhoKSxcbiAgICAgICAgICAgICAgbCA9IC41ICogTWF0aC5leHAoMiAqIGMgLyAzKSxcbiAgICAgICAgICAgICAgZiA9IC41ICogTWF0aC5zcXJ0KGMgKiBsICogKGggLSBsKSAvIGgpICogKHUgLSBoIC8gMiA8IDAgPyAtMSA6IDEpLFxuICAgICAgICAgICAgICBkID0gTWF0aC5tYXgocywgTWF0aC5mbG9vcihlIC0gdSAqIGwgLyBoICsgZikpLFxuICAgICAgICAgICAgICBwID0gTWF0aC5taW4oYSwgTWF0aC5mbG9vcihlICsgKGggLSB1KSAqIGwgLyBoICsgZikpO3IodCwgZSwgZCwgcCwgbyk7XG4gICAgICAgIH12YXIgdiA9IHRbZV0sXG4gICAgICAgICAgICBnID0gcyxcbiAgICAgICAgICAgIHggPSBhO2ZvciAoaSh0LCBzLCBlKSwgbyh0W2FdLCB2KSA+IDAgJiYgaSh0LCBzLCBhKTsgZyA8IHg7KSB7XG4gICAgICAgICAgZm9yIChpKHQsIGcsIHgpLCBnKyssIHgtLTsgbyh0W2ddLCB2KSA8IDA7KSB7XG4gICAgICAgICAgICBnKys7XG4gICAgICAgICAgfWZvciAoOyBvKHRbeF0sIHYpID4gMDspIHtcbiAgICAgICAgICAgIHgtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH0wID09PSBvKHRbc10sIHYpID8gaSh0LCBzLCB4KSA6ICh4KyssIGkodCwgeCwgYSkpLCB4IDw9IGUgJiYgKHMgPSB4ICsgMSksIGUgPD0geCAmJiAoYSA9IHggLSAxKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGlmICghKGUgPj0gdC5sZW5ndGgpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0Lmxlbmd0aCAtIDEsIG4gPSB0W2VdLCByID0gZTsgciA8IGk7IHIrKykge1xuICAgICAgICAgIHRbcl0gPSB0W3IgKyAxXTtcbiAgICAgICAgfXJldHVybiB0Lmxlbmd0aCA9IGksIG47XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIChmdW5jdGlvbiAoZSkge1xuICAgICAgaSgyMjkpO3ZhciBuID0gaSg0KSxcbiAgICAgICAgICByID0gaSg2MyksXG4gICAgICAgICAgcyA9IHsgQWN0aW9uczogaSgxMDMpLCBDcmVhdGU6IGkoMzE5KSwgRE9NOiBpKDMyNiksIEdhbWU6IGkoMzMzKSwgRXZlbnQ6IGkoMSksIEV2ZW50RGlzcGF0Y2hlcjogaSgyOSksIE1hdGg6IGkoNjkpLCBHZW9tOiBpKDc5NSksIEdyYXBoaWNzOiBpKDkxNCksIElucHV0OiBpKDk0MCksIEdhbWVPYmplY3RzOiBpKDk0NyksIFNjZW5lOiBpKDQ2KSwgTG9hZGVyOiB7IEltYWdlRmlsZTogaSg0MikgfSwgU291bmQ6IGkoOTQ4KSwgU3RydWN0czogaSg5NTEpLCBDbGFzczogaSgwKSwgVXRpbHM6IGkoOTUzKSB9O3MgPSByKCExLCBzLCBuKSwgdC5leHBvcnRzID0gcywgZS5QaGFzZXIgPSBzO1xuICAgIH0pLmNhbGwoZSwgaSgxMDEpKTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICBpKDIzMCksIGkoMjMxKSwgaSgyMzIpLCBpKDIzMyksIGkoMjM0KSwgaSgyMzUpLCBpKDIzNiksIGkoMjM3KSwgaSgyMzgpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoIHx8IChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgIGlmICh2b2lkIDAgPT09IHRoaXMgfHwgbnVsbCA9PT0gdGhpcykgdGhyb3cgbmV3IFR5cGVFcnJvcigpO3ZhciBlID0gT2JqZWN0KHRoaXMpLFxuICAgICAgICAgIGkgPSBlLmxlbmd0aCA+Pj4gMDtpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiB0KSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7Zm9yICh2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMCwgciA9IDA7IHIgPCBpOyByKyspIHtcbiAgICAgICAgciBpbiBlICYmIHQuY2FsbChuLCBlW3JdLCByLCBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICBBcnJheS5pc0FycmF5IHx8IChBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiBcIltvYmplY3QgQXJyYXldXCIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTtcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICAhZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgZnVuY3Rpb24gbih0KSB7XG4gICAgICAgIHQgJiYgKHQuc2V0VGFyZ2V0QXRUaW1lIHx8ICh0LnNldFRhcmdldEF0VGltZSA9IHQuc2V0VGFyZ2V0VmFsdWVBdFRpbWUpKTtcbiAgICAgIH13aW5kb3cuaGFzT3duUHJvcGVydHkoXCJ3ZWJraXRBdWRpb0NvbnRleHRcIikgJiYgIXdpbmRvdy5oYXNPd25Qcm9wZXJ0eShcIkF1ZGlvQ29udGV4dFwiKSAmJiAod2luZG93LkF1ZGlvQ29udGV4dCA9IHdlYmtpdEF1ZGlvQ29udGV4dCwgQXVkaW9Db250ZXh0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcImNyZWF0ZUdhaW5cIikgfHwgKEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlR2FpbiA9IEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlR2Fpbk5vZGUpLCBBdWRpb0NvbnRleHQucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwiY3JlYXRlRGVsYXlcIikgfHwgKEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRGVsYXkgPSBBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZURlbGF5Tm9kZSksIEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJjcmVhdGVTY3JpcHRQcm9jZXNzb3JcIikgfHwgKEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlU2NyaXB0UHJvY2Vzc29yID0gQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVKYXZhU2NyaXB0Tm9kZSksIEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJjcmVhdGVQZXJpb2RpY1dhdmVcIikgfHwgKEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlUGVyaW9kaWNXYXZlID0gQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVXYXZlVGFibGUpLCBBdWRpb0NvbnRleHQucHJvdG90eXBlLmludGVybmFsX2NyZWF0ZUdhaW4gPSBBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZUdhaW4sIEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlR2FpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmludGVybmFsX2NyZWF0ZUdhaW4oKTtyZXR1cm4gbih0LmdhaW4pLCB0O1xuICAgICAgfSwgQXVkaW9Db250ZXh0LnByb3RvdHlwZS5pbnRlcm5hbF9jcmVhdGVEZWxheSA9IEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRGVsYXksIEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRGVsYXkgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB2YXIgZSA9IHQgPyB0aGlzLmludGVybmFsX2NyZWF0ZURlbGF5KHQpIDogdGhpcy5pbnRlcm5hbF9jcmVhdGVEZWxheSgpO3JldHVybiBuKGUuZGVsYXlUaW1lKSwgZTtcbiAgICAgIH0sIEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuaW50ZXJuYWxfY3JlYXRlQnVmZmVyU291cmNlID0gQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVCdWZmZXJTb3VyY2UsIEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQnVmZmVyU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuaW50ZXJuYWxfY3JlYXRlQnVmZmVyU291cmNlKCk7cmV0dXJuIHQuc3RhcnQgPyAodC5pbnRlcm5hbF9zdGFydCA9IHQuc3RhcnQsIHQuc3RhcnQgPSBmdW5jdGlvbiAoZSwgaSwgbikge1xuICAgICAgICAgIHZvaWQgMCAhPT0gbiA/IHQuaW50ZXJuYWxfc3RhcnQoZSB8fCAwLCBpLCBuKSA6IHQuaW50ZXJuYWxfc3RhcnQoZSB8fCAwLCBpIHx8IDApO1xuICAgICAgICB9KSA6IHQuc3RhcnQgPSBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgICAgICAgIGUgfHwgaSA/IHRoaXMubm90ZUdyYWluT24odCB8fCAwLCBlLCBpKSA6IHRoaXMubm90ZU9uKHQgfHwgMCk7XG4gICAgICAgIH0sIHQuc3RvcCA/ICh0LmludGVybmFsX3N0b3AgPSB0LnN0b3AsIHQuc3RvcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdC5pbnRlcm5hbF9zdG9wKGUgfHwgMCk7XG4gICAgICAgIH0pIDogdC5zdG9wID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICB0aGlzLm5vdGVPZmYodCB8fCAwKTtcbiAgICAgICAgfSwgbih0LnBsYXliYWNrUmF0ZSksIHQ7XG4gICAgICB9LCBBdWRpb0NvbnRleHQucHJvdG90eXBlLmludGVybmFsX2NyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvciA9IEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRHluYW1pY3NDb21wcmVzc29yLCBBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmludGVybmFsX2NyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpO3JldHVybiBuKHQudGhyZXNob2xkKSwgbih0LmtuZWUpLCBuKHQucmF0aW8pLCBuKHQucmVkdWN0aW9uKSwgbih0LmF0dGFjayksIG4odC5yZWxlYXNlKSwgdDtcbiAgICAgIH0sIEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuaW50ZXJuYWxfY3JlYXRlQmlxdWFkRmlsdGVyID0gQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVCaXF1YWRGaWx0ZXIsIEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQmlxdWFkRmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuaW50ZXJuYWxfY3JlYXRlQmlxdWFkRmlsdGVyKCk7cmV0dXJuIG4odC5mcmVxdWVuY3kpLCBuKHQuZGV0dW5lKSwgbih0LlEpLCBuKHQuZ2FpbiksIHQ7XG4gICAgICB9LCBBdWRpb0NvbnRleHQucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwiY3JlYXRlT3NjaWxsYXRvclwiKSAmJiAoQXVkaW9Db250ZXh0LnByb3RvdHlwZS5pbnRlcm5hbF9jcmVhdGVPc2NpbGxhdG9yID0gQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVPc2NpbGxhdG9yLCBBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZU9zY2lsbGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5pbnRlcm5hbF9jcmVhdGVPc2NpbGxhdG9yKCk7cmV0dXJuIHQuc3RhcnQgPyAodC5pbnRlcm5hbF9zdGFydCA9IHQuc3RhcnQsIHQuc3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHQuaW50ZXJuYWxfc3RhcnQoZSB8fCAwKTtcbiAgICAgICAgfSkgOiB0LnN0YXJ0ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICB0aGlzLm5vdGVPbih0IHx8IDApO1xuICAgICAgICB9LCB0LnN0b3AgPyAodC5pbnRlcm5hbF9zdG9wID0gdC5zdG9wLCB0LnN0b3AgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHQuaW50ZXJuYWxfc3RvcChlIHx8IDApO1xuICAgICAgICB9KSA6IHQuc3RvcCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgdGhpcy5ub3RlT2ZmKHQgfHwgMCk7XG4gICAgICAgIH0sIHQuc2V0UGVyaW9kaWNXYXZlIHx8ICh0LnNldFBlcmlvZGljV2F2ZSA9IHQuc2V0V2F2ZVRhYmxlKSwgbih0LmZyZXF1ZW5jeSksIG4odC5kZXR1bmUpLCB0O1xuICAgICAgfSkpLCB3aW5kb3cuaGFzT3duUHJvcGVydHkoXCJ3ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0XCIpICYmICF3aW5kb3cuaGFzT3duUHJvcGVydHkoXCJPZmZsaW5lQXVkaW9Db250ZXh0XCIpICYmICh3aW5kb3cuT2ZmbGluZUF1ZGlvQ29udGV4dCA9IHdlYmtpdE9mZmxpbmVBdWRpb0NvbnRleHQpO1xuICAgIH0od2luZG93KTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB3aW5kb3cuY29uc29sZSB8fCAod2luZG93LmNvbnNvbGUgPSB7fSwgd2luZG93LmNvbnNvbGUubG9nID0gd2luZG93LmNvbnNvbGUuYXNzZXJ0ID0gZnVuY3Rpb24gKCkge30sIHdpbmRvdy5jb25zb2xlLndhcm4gPSB3aW5kb3cuY29uc29sZS5hc3NlcnQgPSBmdW5jdGlvbiAoKSB7fSk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7cmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGZ1bmN0aW9uIGkoKSB7XG4gICAgICAgICAgdmFyIHMgPSByLmNvbmNhdCh0LmNhbGwoYXJndW1lbnRzKSk7bi5hcHBseSh0aGlzIGluc3RhbmNlb2YgaSA/IHRoaXMgOiBlLCBzKTtcbiAgICAgICAgfXZhciBuID0gdGhpcyxcbiAgICAgICAgICAgIHIgPSB0LmNhbGwoYXJndW1lbnRzLCAxKTtpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiBuKSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7cmV0dXJuIGkucHJvdG90eXBlID0gZnVuY3Rpb24gdChlKSB7XG4gICAgICAgICAgaWYgKGUgJiYgKHQucHJvdG90eXBlID0gZSksICEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoKTtcbiAgICAgICAgfShuLnByb3RvdHlwZSksIGk7XG4gICAgICB9O1xuICAgIH0oKSk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgTWF0aC50cnVuYyB8fCAoTWF0aC50cnVuYyA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gdCA8IDAgPyBNYXRoLmNlaWwodCkgOiBNYXRoLmZsb29yKHQpO1xuICAgIH0pO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgICFmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoXCJwZXJmb3JtYW5jZVwiIGluIHdpbmRvdyA9PSAhMSAmJiAod2luZG93LnBlcmZvcm1hbmNlID0ge30pLCBEYXRlLm5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgfSwgXCJub3dcIiBpbiB3aW5kb3cucGVyZm9ybWFuY2UgPT0gITEpIHtcbiAgICAgICAgdmFyIHQgPSBEYXRlLm5vdygpO3BlcmZvcm1hbmNlLnRpbWluZyAmJiBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0ICYmICh0ID0gcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCksIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0O1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0oKTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICAoZnVuY3Rpb24gKHQpIHtcbiAgICAgIGlmIChEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lIHx8IChEYXRlLm5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgfSksICF0LnBlcmZvcm1hbmNlIHx8ICF0LnBlcmZvcm1hbmNlLm5vdykge1xuICAgICAgICB2YXIgZSA9IERhdGUubm93KCk7dC5wZXJmb3JtYW5jZSB8fCAodC5wZXJmb3JtYW5jZSA9IHt9KSwgdC5wZXJmb3JtYW5jZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBlO1xuICAgICAgICB9O1xuICAgICAgfWZvciAodmFyIGkgPSBEYXRlLm5vdygpLCBuID0gW1wibXNcIiwgXCJtb3pcIiwgXCJ3ZWJraXRcIiwgXCJvXCJdLCByID0gMDsgciA8IG4ubGVuZ3RoICYmICF0LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKytyKSB7XG4gICAgICAgIHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gdFtuW3JdICsgXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sIHQuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB0W25bcl0gKyBcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdIHx8IHRbbltyXSArIFwiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xuICAgICAgfXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8ICh0LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIHQpIHRocm93IG5ldyBUeXBlRXJyb3IodCArIFwiaXMgbm90IGEgZnVuY3Rpb25cIik7dmFyIGUgPSBEYXRlLm5vdygpLFxuICAgICAgICAgICAgbiA9IDE2ICsgaSAtIGU7cmV0dXJuIG4gPCAwICYmIChuID0gMCksIGkgPSBlLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpID0gRGF0ZS5ub3coKSwgdChwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0sIG4pO1xuICAgICAgfSksIHQuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgKHQuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICB9KTtcbiAgICB9KS5jYWxsKGUsIGkoMTAxKSk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2Ygd2luZG93LlVpbnQzMkFycmF5ICYmIFwib2JqZWN0XCIgIT0gX3R5cGVvZih3aW5kb3cuVWludDMyQXJyYXkpKSB7XG4gICAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBBcnJheSgpO3dpbmRvd1t0XSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIHQpIHtcbiAgICAgICAgICAgIEFycmF5LmNhbGwodGhpcywgdCksIHRoaXMubGVuZ3RoID0gdDtmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICAgICAgdGhpc1tlXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEFycmF5LmNhbGwodGhpcywgdC5sZW5ndGgpLCB0aGlzLmxlbmd0aCA9IHQubGVuZ3RoO2ZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5sZW5ndGg7IGUrKykge1xuICAgICAgICAgICAgICB0aGlzW2VdID0gdFtlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIHdpbmRvd1t0XS5wcm90b3R5cGUgPSBlLCB3aW5kb3dbdF0uY29uc3RydWN0b3IgPSB3aW5kb3dbdF07XG4gICAgICB9O2koXCJGbG9hdDMyQXJyYXlcIiksIGkoXCJVaW50MzJBcnJheVwiKSwgaShcIlVpbnQxNkFycmF5XCIpLCBpKFwiSW50MTZBcnJheVwiKSwgaShcIkFycmF5QnVmZmVyXCIpO1xuICAgIH1cbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRbaV0uYW5nbGUgKz0gZTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMzcpIHtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgciA9IHRbbl07ZS5jYWxsKF9pMzcsIHIpO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kzOCkge1xuICAgICAgZm9yICh2YXIgbiA9IF9pMzg7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciByID0gdFtuXSxcbiAgICAgICAgICAgIHMgPSAhMDtmb3IgKHZhciBhIGluIGUpIHtcbiAgICAgICAgICByW2FdICE9PSBlW2FdICYmIChzID0gITEpO1xuICAgICAgICB9aWYgKHMpIHJldHVybiByO1xuICAgICAgfXJldHVybiBudWxsO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTA0KSxcbiAgICAgICAgciA9IGkoMjQzKSxcbiAgICAgICAgcyA9IGkoNjQpLFxuICAgICAgICBhID0gaSgyKSxcbiAgICAgICAgbyA9IG5ldyBzKHsgc3lzOiB7IHNvcnRDaGlsZHJlbkZsYWc6ICExIH0gfSwgMCwgMCwgMSwgMSksXG4gICAgICAgIGggPSBmdW5jdGlvbiBoKHQsIGUpIHtcbiAgICAgIHZhciBpID0gYShlLCBcIndpZHRoXCIsIC0xKSxcbiAgICAgICAgICBzID0gYShlLCBcImhlaWdodFwiLCAtMSksXG4gICAgICAgICAgaCA9IGEoZSwgXCJjZWxsV2lkdGhcIiwgMSksXG4gICAgICAgICAgdSA9IGEoZSwgXCJjZWxsSGVpZ2h0XCIsIGgpLFxuICAgICAgICAgIGMgPSBhKGUsIFwicG9zaXRpb25cIiwgbi5UT1BfTEVGVCksXG4gICAgICAgICAgbCA9IGEoZSwgXCJ4XCIsIDApLFxuICAgICAgICAgIGYgPSBhKGUsIFwieVwiLCAwKSxcbiAgICAgICAgICBkID0gMCxcbiAgICAgICAgICBwID0gMCxcbiAgICAgICAgICB2ID0gaSAqIGgsXG4gICAgICAgICAgZyA9IHMgKiB1O28uc2V0UG9zaXRpb24obCwgZiksIG8uc2V0U2l6ZShoLCB1KTtmb3IgKHZhciB4ID0gMDsgeCA8IHQubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgaWYgKHIodFt4XSwgbywgYyksIC0xID09PSBpKSBwICs9IHUsIG8ueSArPSB1LCBwID09PSBnICYmIChwID0gMCwgby54ICs9IGgsIG8ueSA9IGYpO2Vsc2UgaWYgKC0xID09PSBzKSBkICs9IGgsIG8ueCArPSBoLCBkID09PSB2ICYmIChkID0gMCwgby54ID0gbCwgby55ICs9IHUpO2Vsc2UgaWYgKGQgKz0gaCwgby54ICs9IGgsIGQgPT09IHYgJiYgKGQgPSAwLCBwICs9IHUsIG8ueCA9IGwsIG8ueSArPSB1LCBwID09PSBnKSkgYnJlYWs7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBoO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMDQpLFxuICAgICAgICByID0gW107cltuLkJPVFRPTV9DRU5URVJdID0gaSgxMDUpLCByW24uQk9UVE9NX0xFRlRdID0gaSgxMDYpLCByW24uQk9UVE9NX1JJR0hUXSA9IGkoMTA3KSwgcltuLkNFTlRFUl0gPSBpKDEwOCksIHJbbi5MRUZUX0NFTlRFUl0gPSBpKDExMCksIHJbbi5SSUdIVF9DRU5URVJdID0gaSgxMTEpLCByW24uVE9QX0NFTlRFUl0gPSBpKDExMiksIHJbbi5UT1BfTEVGVF0gPSBpKDExMyksIHJbbi5UT1BfUklHSFRdID0gaSgxMTQpO3ZhciBzID0gZnVuY3Rpb24gcyh0LCBlLCBpLCBuLCBfcykge1xuICAgICAgcmV0dXJuIHJbaV0odCwgZSwgbiwgX3MpO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDkpLFxuICAgICAgICByID0geyBfYWxwaGE6IDEsIF9hbHBoYVRMOiAxLCBfYWxwaGFUUjogMSwgX2FscGhhQkw6IDEsIF9hbHBoYUJSOiAxLCBjbGVhckFscGhhOiBmdW5jdGlvbiBjbGVhckFscGhhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRBbHBoYSgxKTtcbiAgICAgIH0sIHNldEFscGhhOiBmdW5jdGlvbiBzZXRBbHBoYSh0LCBlLCBpLCByKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSAxKSwgdm9pZCAwID09PSBlID8gdGhpcy5hbHBoYSA9IHQgOiAodGhpcy5fYWxwaGFUTCA9IG4odCwgMCwgMSksIHRoaXMuX2FscGhhVFIgPSBuKGUsIDAsIDEpLCB0aGlzLl9hbHBoYUJMID0gbihpLCAwLCAxKSwgdGhpcy5fYWxwaGFCUiA9IG4ociwgMCwgMSkpLCB0aGlzO1xuICAgICAgfSwgYWxwaGE6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2FscGhhO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdmFyIGUgPSBuKHQsIDAsIDEpO3RoaXMuX2FscGhhID0gZSwgdGhpcy5fYWxwaGFUTCA9IGUsIHRoaXMuX2FscGhhVFIgPSBlLCB0aGlzLl9hbHBoYUJMID0gZSwgdGhpcy5fYWxwaGFCUiA9IGUsIDAgPT09IGUgPyB0aGlzLnJlbmRlckZsYWdzICY9IC0zIDogdGhpcy5yZW5kZXJGbGFncyB8PSAyO1xuICAgICAgICB9IH0sIGFscGhhVG9wTGVmdDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYWxwaGFUTDtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHZhciBlID0gbih0LCAwLCAxKTt0aGlzLl9hbHBoYVRMID0gZSwgMCAhPT0gZSAmJiAodGhpcy5yZW5kZXJGbGFncyB8PSAyKTtcbiAgICAgICAgfSB9LCBhbHBoYVRvcFJpZ2h0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9hbHBoYVRSO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdmFyIGUgPSBuKHQsIDAsIDEpO3RoaXMuX2FscGhhVFIgPSBlLCAwICE9PSBlICYmICh0aGlzLnJlbmRlckZsYWdzIHw9IDIpO1xuICAgICAgICB9IH0sIGFscGhhQm90dG9tTGVmdDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYWxwaGFCTDtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHZhciBlID0gbih0LCAwLCAxKTt0aGlzLl9hbHBoYUJMID0gZSwgMCAhPT0gZSAmJiAodGhpcy5yZW5kZXJGbGFncyB8PSAyKTtcbiAgICAgICAgfSB9LCBhbHBoYUJvdHRvbVJpZ2h0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9hbHBoYUJSO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdmFyIGUgPSBuKHQsIDAsIDEpO3RoaXMuX2FscGhhQlIgPSBlLCAwICE9PSBlICYmICh0aGlzLnJlbmRlckZsYWdzIHw9IDIpO1xuICAgICAgICB9IH0gfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMjQ2KSxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdCwgdGhpcy5hbmltYXRpb25NYW5hZ2VyID0gdC5zY2VuZS5zeXMuYW5pbXMsIHRoaXMuYW5pbWF0aW9uTWFuYWdlci5ldmVudHMub25jZShcIlJFTU9WRV9BTklNQVRJT05fRVZFTlRcIiwgdGhpcy5yZW1vdmUuYmluZCh0aGlzKSksIHRoaXMuaXNQbGF5aW5nID0gITEsIHRoaXMuY3VycmVudEFuaW0gPSBudWxsLCB0aGlzLmN1cnJlbnRGcmFtZSA9IG51bGwsIHRoaXMuX3RpbWVTY2FsZSA9IDEsIHRoaXMuZnJhbWVSYXRlID0gMCwgdGhpcy5kdXJhdGlvbiA9IDAsIHRoaXMubXNQZXJGcmFtZSA9IDAsIHRoaXMuc2tpcE1pc3NlZEZyYW1lcyA9ICEwLCB0aGlzLl9kZWxheSA9IDAsIHRoaXMuX3JlcGVhdCA9IDAsIHRoaXMuX3JlcGVhdERlbGF5ID0gMCwgdGhpcy5feW95byA9ICExLCB0aGlzLmZvcndhcmQgPSAhMCwgdGhpcy5hY2N1bXVsYXRvciA9IDAsIHRoaXMubmV4dFRpY2sgPSAwLCB0aGlzLnJlcGVhdENvdW50ZXIgPSAwLCB0aGlzLnBlbmRpbmdSZXBlYXQgPSAhMSwgdGhpcy5fcGF1c2VkID0gITEsIHRoaXMuX3dhc1BsYXlpbmcgPSAhMSwgdGhpcy5fY2FsbGJhY2tBcmdzID0gW3QsIG51bGxdLCB0aGlzLl91cGRhdGVQYXJhbXMgPSBbXTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fSwgZGVsYXk6IHIuRGVsYXksIGRlbGF5ZWRQbGF5OiByLkRlbGF5ZWRQbGF5LCBnZXRDdXJyZW50S2V5OiByLkdldEN1cnJlbnRLZXksIGxvYWQ6IHIuTG9hZCwgcGF1c2U6IHIuUGF1c2UsIHBhdXNlZDogci5QYXVzZWQsIHBsYXk6IHIuUGxheSwgcHJvZ3Jlc3M6IHIuUHJvZ3Jlc3MsIHJlbW92ZTogci5SZW1vdmUsIHJlcGVhdDogci5SZXBlYXQsIHJlcGVhdERlbGF5OiByLlJlcGVhdERlbGF5LCByZXN0YXJ0OiByLlJlc3RhcnQsIHJlc3VtZTogci5SZXN1bWUsIHN0b3A6IHIuU3RvcCwgdGltZVNjYWxlOiByLlRpbWVTY2FsZSwgdG90YWxGcmFtZXM6IHIuVG90YWxGcmFtZXMsIHRvdGFsUHJvZ3Jlc3M6IHIuVG90YWxQcm9ncmVzcywgdXBkYXRlOiByLlVwZGF0ZSwgdXBkYXRlRnJhbWU6IHIuVXBkYXRlRnJhbWUsIHlveW86IHIuWW95byB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgRGVsYXk6IGkoMjQ3KSwgRGVsYXllZFBsYXk6IGkoMjQ4KSwgR2V0Q3VycmVudEtleTogaSgyNDkpLCBMb2FkOiBpKDI1MCksIFBhdXNlOiBpKDI1MSksIFBhdXNlZDogaSgyNTIpLCBQbGF5OiBpKDI1MyksIFByb2dyZXNzOiBpKDI1NCksIFJlbW92ZTogaSgyNTUpLCBSZXBlYXQ6IGkoMjU2KSwgUmVwZWF0RGVsYXk6IGkoMjU3KSwgUmVzdGFydDogaSgyNTgpLCBSZXN1bWU6IGkoMjU5KSwgU3RvcDogaSgyNjApLCBUaW1lU2NhbGU6IGkoMjYxKSwgVG90YWxGcmFtZXM6IGkoMjYyKSwgVG90YWxQcm9ncmVzczogaSgyNjMpLCBVcGRhdGU6IGkoMjY0KSwgVXBkYXRlRnJhbWU6IGkoMjY1KSwgWW95bzogaSgyNjYpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgPyB0aGlzLl9kZWxheSA6ICh0aGlzLl9kZWxheSA9IHQsIHRoaXMpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kzOSkge1xuICAgICAgcmV0dXJuIHRoaXMucGxheShlLCBfaTM5KSwgdGhpcy5uZXh0VGljayArPSAxZTMgKiB0LCB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50QW5pbSkgcmV0dXJuIHRoaXMuY3VycmVudEFuaW0ua2V5O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB0aGlzLmlzUGxheWluZyAmJiB0aGlzLnN0b3AoKSwgdGhpcy5hbmltYXRpb25NYW5hZ2VyLmxvYWQodGhpcywgdCwgZSksIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGF1c2VkIHx8ICh0aGlzLl9wYXVzZWQgPSAhMCwgdGhpcy5fd2FzUGxheWluZyA9IHRoaXMuaXNQbGF5aW5nLCB0aGlzLmlzUGxheWluZyA9ICExKSwgdm9pZCAwICE9PSB0ICYmIHRoaXMudXBkYXRlRnJhbWUodCksIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSB0ID8gdCA/IHRoaXMucGF1c2UoKSA6IHRoaXMucmVzdW1lKCkgOiB0aGlzLl9wYXVzZWQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTQwKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBlICYmIChlID0gITEpLCB2b2lkIDAgPT09IF9pNDAgJiYgKF9pNDAgPSAwKSwgZSAmJiB0aGlzLmlzUGxheWluZyAmJiB0aGlzLmN1cnJlbnRBbmltLmtleSA9PT0gdCkgcmV0dXJuIHRoaXM7dGhpcy5sb2FkKHQsIF9pNDApO3ZhciBuID0gdGhpcy5jdXJyZW50QW5pbTtyZXR1cm4gdGhpcy5yZXBlYXRDb3VudGVyID0gLTEgPT09IHRoaXMuX3JlcGVhdCA/IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIDogdGhpcy5fcmVwZWF0LCBuLmdldEZpcnN0VGljayh0aGlzKSwgdGhpcy5mb3J3YXJkID0gITAsIHRoaXMuaXNQbGF5aW5nID0gITAsIHRoaXMucGVuZGluZ1JlcGVhdCA9ICExLCBuLnNob3dPblN0YXJ0ICYmICh0aGlzLnBhcmVudC52aXNpYmxlID0gITApLCBuLm9uU3RhcnQgJiYgbi5vblN0YXJ0LmFwcGx5KG4uY2FsbGJhY2tTY29wZSwgdGhpcy5fY2FsbGJhY2tBcmdzLmNvbmNhdChuLm9uU3RhcnRQYXJhbXMpKSwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmN1cnJlbnRGcmFtZS5wcm9ncmVzcztyZXR1cm4gdGhpcy5mb3J3YXJkIHx8IChlID0gMSAtIGUpLCBlO1xuICAgICAgfXJldHVybiB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gdCAmJiAodCA9IHRoaXMuY3VycmVudEFuaW0pLCB0aGlzLmlzUGxheWluZyAmJiB0LmtleSA9PT0gdGhpcy5jdXJyZW50QW5pbS5rZXkpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7dmFyIGUgPSB0aGlzLnBhcmVudCxcbiAgICAgICAgICAgIGkgPSB0aGlzLmN1cnJlbnRBbmltLmZyYW1lc1swXTt0aGlzLmN1cnJlbnRGcmFtZSA9IGksIGUudGV4dHVyZSA9IGkuZnJhbWUudGV4dHVyZSwgZS5mcmFtZSA9IGkuZnJhbWU7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSB0ID8gdGhpcy5fcmVwZWF0IDogKHRoaXMuX3JlcGVhdCA9IHQsIHRoaXMucmVwZWF0Q291bnRlciA9IDAsIHRoaXMpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCA/IHRoaXMuX3JlcGVhdERlbGF5IDogKHRoaXMuX3JlcGVhdERlbGF5ID0gdCwgdGhpcyk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gITEpLCB0aGlzLmN1cnJlbnRBbmltLmdldEZpcnN0VGljayh0aGlzLCB0KSwgdGhpcy5mb3J3YXJkID0gITAsIHRoaXMuaXNQbGF5aW5nID0gITAsIHRoaXMucGVuZGluZ1JlcGVhdCA9ICExLCB0aGlzLnVwZGF0ZUZyYW1lKHRoaXMuY3VycmVudEFuaW0uZnJhbWVzWzBdKSwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wYXVzZWQgJiYgKHRoaXMuX3BhdXNlZCA9ICExLCB0aGlzLmlzUGxheWluZyA9IHRoaXMuX3dhc1BsYXlpbmcpLCB2b2lkIDAgIT09IHQgJiYgdGhpcy51cGRhdGVGcmFtZSh0KSwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9ICExKSwgdGhpcy5pc1BsYXlpbmcgPSAhMTt2YXIgZSA9IHRoaXMuY3VycmVudEFuaW07cmV0dXJuIHQgJiYgZS5vbkNvbXBsZXRlICYmIGUub25Db21wbGV0ZS5hcHBseShlLmNhbGxiYWNrU2NvcGUsIHRoaXMuX2NhbGxiYWNrQXJncy5jb25jYXQoZS5vbkNvbXBsZXRlUGFyYW1zKSksIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSB0ID8gdGhpcy5fdGltZVNjYWxlIDogKHRoaXMuX3RpbWVTY2FsZSA9IHQsIHRoaXMpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50QW5pbS5mcmFtZXMubGVuZ3RoO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7fTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICB0aGlzLmlzUGxheWluZyAmJiAhdGhpcy5jdXJyZW50QW5pbS5wYXVzZWQgJiYgKHRoaXMuYWNjdW11bGF0b3IgKz0gZSAqIHRoaXMuX3RpbWVTY2FsZSwgdGhpcy5hY2N1bXVsYXRvciA+PSB0aGlzLm5leHRUaWNrICYmIHRoaXMuY3VycmVudEFuaW0uc2V0RnJhbWUodGhpcykpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB0aGlzLnBhcmVudDtpZiAodGhpcy5jdXJyZW50RnJhbWUgPSB0LCBlLnRleHR1cmUgPSB0LmZyYW1lLnRleHR1cmUsIGUuZnJhbWUgPSB0LmZyYW1lLCB0aGlzLmlzUGxheWluZykge1xuICAgICAgICB0LnNldEFscGhhICYmIChlLmFscGhhID0gdC5hbHBoYSk7dmFyIGkgPSB0aGlzLmN1cnJlbnRBbmltO2kub25VcGRhdGUgJiYgaS5vblVwZGF0ZS5hcHBseShpLmNhbGxiYWNrU2NvcGUsIHRoaXMuX3VwZGF0ZVBhcmFtcyksIHQub25VcGRhdGUgJiYgdC5vblVwZGF0ZShlLCB0KTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgPyB0aGlzLl95b3lvIDogKHRoaXMuX3lveW8gPSB0LCB0aGlzKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDMxKSxcbiAgICAgICAgciA9IHsgX2JsZW5kTW9kZTogbi5OT1JNQUwsIGJsZW5kTW9kZTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdCA+PSAwICYmICh0aGlzLl9ibGVuZE1vZGUgPSB0KTtcbiAgICAgICAgfSB9LCBzZXRCbGVuZE1vZGU6IGZ1bmN0aW9uIHNldEJsZW5kTW9kZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsZW5kTW9kZSA9IHQsIHRoaXM7XG4gICAgICB9IH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCwgZGlzcGxheVdpZHRoOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlWCAqIHRoaXMud2lkdGg7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnNjYWxlWCA9IHQgLyB0aGlzLndpZHRoO1xuICAgICAgICB9IH0sIGRpc3BsYXlIZWlnaHQ6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVZICogdGhpcy5oZWlnaHQ7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLnNjYWxlWSA9IHQgLyB0aGlzLmhlaWdodDtcbiAgICAgICAgfSB9IH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgZmxpcFg6ICExLCBmbGlwWTogITEsIHRvZ2dsZUZsaXBYOiBmdW5jdGlvbiB0b2dnbGVGbGlwWCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxpcFggPSAhdGhpcy5mbGlwWCwgdGhpcztcbiAgICAgIH0sIHRvZ2dsZUZsaXBZOiBmdW5jdGlvbiB0b2dnbGVGbGlwWSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxpcFkgPSAhdGhpcy5mbGlwWSwgdGhpcztcbiAgICAgIH0sIHNldEZsaXBYOiBmdW5jdGlvbiBzZXRGbGlwWCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsaXBYID0gdCwgdGhpcztcbiAgICAgIH0sIHNldEZsaXBZOiBmdW5jdGlvbiBzZXRGbGlwWSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsaXBZID0gdCwgdGhpcztcbiAgICAgIH0sIHNldEZsaXA6IGZ1bmN0aW9uIHNldEZsaXAodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGlwWCA9IHQsIHRoaXMuZmxpcFkgPSBlLCB0aGlzO1xuICAgICAgfSwgcmVzZXRGbGlwOiBmdW5jdGlvbiByZXNldEZsaXAoKSB7XG4gICAgICAgIHRoaXMuZmxpcFggPSAhMSwgdGhpcy5mbGlwWSA9ICExO1xuICAgICAgfSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IGdldEJvdW5kczogZnVuY3Rpb24gZ2V0Qm91bmRzKHQpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO3ZhciBlID0gdGhpcy54LFxuICAgICAgICAgICAgaSA9IHRoaXMueSxcbiAgICAgICAgICAgIG4gPSB0aGlzLmRpc3BsYXlXaWR0aCxcbiAgICAgICAgICAgIHIgPSB0aGlzLmRpc3BsYXlIZWlnaHQsXG4gICAgICAgICAgICBzID0gdGhpcy5yb3RhdGlvbixcbiAgICAgICAgICAgIGEgPSBuICogTWF0aC5jb3MocyksXG4gICAgICAgICAgICBvID0gciAqIE1hdGguY29zKHMpLFxuICAgICAgICAgICAgaCA9IG4gKiBNYXRoLnNpbihzKSxcbiAgICAgICAgICAgIHUgPSByICogTWF0aC5zaW4ocyksXG4gICAgICAgICAgICBjID0gZSxcbiAgICAgICAgICAgIGwgPSBlLFxuICAgICAgICAgICAgZiA9IGksXG4gICAgICAgICAgICBkID0gaTtyZXR1cm4gcyA+IDAgPyBzIDwgMS41NzA3OTYzMjY3OTQ4OTY2ID8gKGQgPSBpICsgbyArIGgsIGMgPSBlIC0gdSwgbCA9IGUgKyBhKSA6IChmID0gaSArIG8sIGQgPSBpICsgaCwgYyA9IGUgLSB1ICsgYSkgOiBzID4gLTEuNTcwNzk2MzI2Nzk0ODk2NiA/IChmID0gaSArIGgsIGQgPSBpICsgbywgbCA9IGUgKyBhIC0gdSkgOiAoZiA9IGkgKyBoICsgbywgYyA9IGUgKyBhLCBsID0gZSAtIHUpLCB0LnggPSBjLCB0LnkgPSBmLCB0LndpZHRoID0gbCAtIGMsIHQuaGVpZ2h0ID0gZCAtIGYsIHQ7XG4gICAgICB9IH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgb3JpZ2luWDogLjUsIG9yaWdpblk6IC41LCBkaXNwbGF5T3JpZ2luWDogMCwgZGlzcGxheU9yaWdpblk6IDAsIHNldE9yaWdpbjogZnVuY3Rpb24gc2V0T3JpZ2luKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IC41KSwgdm9pZCAwID09PSBlICYmIChlID0gdCksIHRoaXMub3JpZ2luWCA9IHQsIHRoaXMub3JpZ2luWSA9IGUsIHRoaXMudXBkYXRlT3JpZ2luKCk7XG4gICAgICB9LCBzZXREaXNwbGF5T3JpZ2luOiBmdW5jdGlvbiBzZXREaXNwbGF5T3JpZ2luKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB2b2lkIDAgPT09IGUgJiYgKGUgPSB0KSwgdGhpcy5kaXNwbGF5T3JpZ2luWCA9IHQsIHRoaXMuZGlzcGxheU9yaWdpblkgPSBlLCB0aGlzLm9yaWdpblggPSB0aGlzLndpZHRoIC8gdCwgdGhpcy5vcmlnaW5ZID0gdGhpcy5oZWlnaHQgLyBlLCB0aGlzO1xuICAgICAgfSwgdXBkYXRlT3JpZ2luOiBmdW5jdGlvbiB1cGRhdGVPcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPcmlnaW5YID0gTWF0aC5yb3VuZCh0aGlzLm9yaWdpblggKiB0aGlzLndpZHRoKSwgdGhpcy5kaXNwbGF5T3JpZ2luWSA9IE1hdGgucm91bmQodGhpcy5vcmlnaW5ZICogdGhpcy5oZWlnaHQpLCB0aGlzO1xuICAgICAgfSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IHJlbmRlclRhcmdldDogbnVsbCB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDI2KSxcbiAgICAgICAgciA9IHsgX3NjYWxlTW9kZTogbi5ERUZBVUxULCBzY2FsZU1vZGU6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlTW9kZTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHQgIT09IG4uTElORUFSICYmIHQgIT09IG4uTkVBUkVTVCB8fCAodGhpcy5fc2NhbGVNb2RlID0gdCk7XG4gICAgICAgIH0gfSwgc2V0U2NhbGVNb2RlOiBmdW5jdGlvbiBzZXRTY2FsZU1vZGUodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZU1vZGUgPSB0LCB0aGlzO1xuICAgICAgfSB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IHNjcm9sbEZhY3Rvclg6IDEsIHNjcm9sbEZhY3Rvclk6IDEsIHNldFNjcm9sbEZhY3RvcjogZnVuY3Rpb24gc2V0U2Nyb2xsRmFjdG9yKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHQpLCB0aGlzLnNjcm9sbEZhY3RvclggPSB0LCB0aGlzLnNjcm9sbEZhY3RvclkgPSBlLCB0aGlzO1xuICAgICAgfSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIGRpc3BsYXlXaWR0aDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZVggKiB0aGlzLmZyYW1lLnJlYWxXaWR0aDtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuc2NhbGVYID0gdCAvIHRoaXMuZnJhbWUucmVhbFdpZHRoO1xuICAgICAgICB9IH0sIGRpc3BsYXlIZWlnaHQ6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVZICogdGhpcy5mcmFtZS5yZWFsSGVpZ2h0O1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy5zY2FsZVkgPSB0IC8gdGhpcy5mcmFtZS5yZWFsSGVpZ2h0O1xuICAgICAgICB9IH0sIHNldFNpemVUb0ZyYW1lOiBmdW5jdGlvbiBzZXRTaXplVG9GcmFtZSh0KSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSB0aGlzLmZyYW1lKSwgdGhpcy53aWR0aCA9IHQucmVhbFdpZHRoLCB0aGlzLmhlaWdodCA9IHQucmVhbEhlaWdodCwgdGhpcztcbiAgICAgIH0sIHNldFNpemU6IGZ1bmN0aW9uIHNldFNpemUodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9IHQsIHRoaXMuaGVpZ2h0ID0gZSwgdGhpcztcbiAgICAgIH0sIHNldERpc3BsYXlTaXplOiBmdW5jdGlvbiBzZXREaXNwbGF5U2l6ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlXaWR0aCA9IHQsIHRoaXMuZGlzcGxheUhlaWdodCA9IGUsIHRoaXM7XG4gICAgICB9IH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgdGV4dHVyZTogbnVsbCwgZnJhbWU6IG51bGwsIHNldFRleHR1cmU6IGZ1bmN0aW9uIHNldFRleHR1cmUodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlID0gdGhpcy5zY2VuZS5zeXMudGV4dHVyZXMuZ2V0KHQpLCB0aGlzLnNldEZyYW1lKGUpO1xuICAgICAgfSwgc2V0RnJhbWU6IGZ1bmN0aW9uIHNldEZyYW1lKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWUgPSB0aGlzLnRleHR1cmUuZ2V0KHQpLCB0aGlzLmZyYW1lLmN1dFdpZHRoICYmIHRoaXMuZnJhbWUuY3V0SGVpZ2h0ID8gdGhpcy5yZW5kZXJGbGFncyB8PSA4IDogdGhpcy5yZW5kZXJGbGFncyAmPSAtOSwgdGhpcztcbiAgICAgIH0gfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gKHQgPj4gMTYpICsgKDY1MjgwICYgdCkgKyAoKDI1NSAmIHQpIDw8IDE2KTtcbiAgICB9LFxuICAgICAgICBuID0geyBfdGludFRMOiAxNjc3NzIxNSwgX3RpbnRUUjogMTY3NzcyMTUsIF90aW50Qkw6IDE2Nzc3MjE1LCBfdGludEJSOiAxNjc3NzIxNSwgY2xlYXJUaW50OiBmdW5jdGlvbiBjbGVhclRpbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFRpbnQoMTY3NzcyMTUpLCB0aGlzO1xuICAgICAgfSwgc2V0VGludDogZnVuY3Rpb24gc2V0VGludCh0LCBlLCBuLCByKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSAxNjc3NzIxNSksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHQsIG4gPSB0LCByID0gdCksIHRoaXMuX3RpbnRUTCA9IGkodCksIHRoaXMuX3RpbnRUUiA9IGkoZSksIHRoaXMuX3RpbnRCTCA9IGkobiksIHRoaXMuX3RpbnRCUiA9IGkociksIHRoaXM7XG4gICAgICB9LCB0aW50VG9wTGVmdDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fdGludFRMO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy5fdGludFRMID0gaSh0KTtcbiAgICAgICAgfSB9LCB0aW50VG9wUmlnaHQ6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnRUUjtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuX3RpbnRUUiA9IGkodCk7XG4gICAgICAgIH0gfSwgdGludEJvdHRvbUxlZnQ6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnRCTDtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuX3RpbnRCTCA9IGkodCk7XG4gICAgICAgIH0gfSwgdGludEJvdHRvbVJpZ2h0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl90aW50QlI7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLl90aW50QlIgPSBpKHQpO1xuICAgICAgICB9IH0sIHRpbnQ6IHsgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuc2V0VGludCh0LCB0LCB0LCB0KTtcbiAgICAgICAgfSB9IH07dC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB7IG5hbWU6IHQubmFtZSwgdHlwZTogdC50eXBlLCB4OiB0LngsIHk6IHQueSwgejogdC56LCBzY2FsZTogeyB4OiB0LnNjYWxlWCwgeTogdC5zY2FsZVkgfSwgb3JpZ2luOiB7IHg6IHQub3JpZ2luWCwgeTogdC5vcmlnaW5ZIH0sIGZsaXBYOiB0LmZsaXBYLCBmbGlwWTogdC5mbGlwWSwgcm90YXRpb246IHQucm90YXRpb24sIGFscGhhOiB0LmFscGhhLCB2aXNpYmxlOiB0LnZpc2libGUsIHNjYWxlTW9kZTogdC5zY2FsZU1vZGUsIGJsZW5kTW9kZTogdC5ibGVuZE1vZGUsIHRleHR1cmVLZXk6IFwiXCIsIGZyYW1lS2V5OiBcIlwiLCBkYXRhOiB7fSB9O3JldHVybiB0LnRleHR1cmUgJiYgKGUudGV4dHVyZUtleSA9IHQudGV4dHVyZS5rZXksIGUuZnJhbWVLZXkgPSB0LmZyYW1lLm5hbWUpLCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTApLFxuICAgICAgICByID0gaSgxMTUpLFxuICAgICAgICBzID0gaSgxMTYpLFxuICAgICAgICBhID0geyBfc2NhbGVYOiAxLCBfc2NhbGVZOiAxLCBfcm90YXRpb246IDAsIF96OiAwLCB4OiAwLCB5OiAwLCB6OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl96O1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy5zY2VuZS5zeXMuc29ydENoaWxkcmVuRmxhZyA9ICEwLCB0aGlzLl96ID0gdDtcbiAgICAgICAgfSB9LCBzY2FsZVg6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlWDtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuX3NjYWxlWCA9IHQsIDAgPT09IHRoaXMuX3NjYWxlWCA/IHRoaXMucmVuZGVyRmxhZ3MgJj0gLTUgOiB0aGlzLnJlbmRlckZsYWdzIHw9IDQ7XG4gICAgICAgIH0gfSwgc2NhbGVZOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zY2FsZVk7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLl9zY2FsZVkgPSB0LCAwID09PSB0aGlzLl9zY2FsZVkgPyB0aGlzLnJlbmRlckZsYWdzICY9IC01IDogdGhpcy5yZW5kZXJGbGFncyB8PSA0O1xuICAgICAgICB9IH0sIGFuZ2xlOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBzKHRoaXMuX3JvdGF0aW9uICogbi5SQURfVE9fREVHKTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMucm90YXRpb24gPSBzKHQpICogbi5ERUdfVE9fUkFEO1xuICAgICAgICB9IH0sIHJvdGF0aW9uOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcih0KTtcbiAgICAgICAgfSB9LCBzZXRQb3NpdGlvbjogZnVuY3Rpb24gc2V0UG9zaXRpb24odCwgZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHQpLCB0aGlzLnggPSB0LCB0aGlzLnkgPSBlLCB0aGlzO1xuICAgICAgfSwgc2V0Um90YXRpb246IGZ1bmN0aW9uIHNldFJvdGF0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB0aGlzLnJvdGF0aW9uID0gdCwgdGhpcztcbiAgICAgIH0sIHNldEFuZ2xlOiBmdW5jdGlvbiBzZXRBbmdsZSh0KSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSAwKSwgdGhpcy5hbmdsZSA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRTY2FsZTogZnVuY3Rpb24gc2V0U2NhbGUodCwgZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gMSksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHQpLCB0aGlzLnNjYWxlWCA9IHQsIHRoaXMuc2NhbGVZID0gZSwgdGhpcztcbiAgICAgIH0sIHNldFo6IGZ1bmN0aW9uIHNldFoodCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHRoaXMueiA9IHQsIHRoaXM7XG4gICAgICB9IH07dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgX3Zpc2libGU6ICEwLCB2aXNpYmxlOiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl92aXNpYmxlO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdCA/ICh0aGlzLl92aXNpYmxlID0gITAsIHRoaXMucmVuZGVyRmxhZ3MgfD0gMSkgOiAodGhpcy5fdmlzaWJsZSA9ICExLCB0aGlzLnJlbmRlckZsYWdzICY9IC0yKTtcbiAgICAgICAgfSB9LCBzZXRWaXNpYmxlOiBmdW5jdGlvbiBzZXRWaXNpYmxlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaWJsZSA9IHQsIHRoaXM7XG4gICAgICB9IH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRbaV0uYWxwaGEgKz0gZTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0W2ldLnggKz0gZTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNDEpIHtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB0W25dLnggKz0gZSwgdFtuXS55ICs9IF9pNDE7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdFtpXS55ICs9IGU7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTQyLCBuKSB7XG4gICAgICB2b2lkIDAgPT09IF9pNDIgJiYgKF9pNDIgPSAwKSwgdm9pZCAwID09PSBuICYmIChuID0gNi4yOCk7Zm9yICh2YXIgciA9IF9pNDIsIHMgPSAobiAtIF9pNDIpIC8gdC5sZW5ndGgsIGEgPSAwOyBhIDwgdC5sZW5ndGg7IGErKykge1xuICAgICAgICB0W2FdLnggPSBlLnggKyBlLnJhZGl1cyAqIE1hdGguY29zKHIpLCB0W2FdLnkgPSBlLnkgKyBlLnJhZGl1cyAqIE1hdGguc2luKHIpLCByICs9IHM7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTQzLCBuKSB7XG4gICAgICB2b2lkIDAgPT09IF9pNDMgJiYgKF9pNDMgPSAwKSwgdm9pZCAwID09PSBuICYmIChuID0gNi4yOCk7Zm9yICh2YXIgciA9IF9pNDMsIHMgPSAobiAtIF9pNDMpIC8gdC5sZW5ndGgsIGEgPSBlLndpZHRoIC8gMiwgbyA9IGUuaGVpZ2h0IC8gMiwgaCA9IDA7IGggPCB0Lmxlbmd0aDsgaCsrKSB7XG4gICAgICAgIHRbaF0ueCA9IGUueCArIGEgKiBNYXRoLmNvcyhyKSwgdFtoXS55ID0gZS55ICsgbyAqIE1hdGguc2luKHIpLCByICs9IHM7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg2NSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSBuKGUpLCByID0gaS5sZW5ndGggLyB0Lmxlbmd0aCwgcyA9IDAsIGEgPSAwOyBhIDwgdC5sZW5ndGg7IGErKykge1xuICAgICAgICB2YXIgbyA9IHRbYV0sXG4gICAgICAgICAgICBoID0gaVtNYXRoLmZsb29yKHMpXTtvLnggPSBoWzBdLCBvLnkgPSBoWzFdLCBzICs9IHI7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMTcpLFxuICAgICAgICByID0gaSgxMTkpLFxuICAgICAgICBzID0gaSgxMjApLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0LCBlLCBpKSB7XG4gICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKTt2YXIgYSA9IG4oZSwgITEsIHQubGVuZ3RoKTtpID4gMCA/IHIoYSwgaSkgOiBpIDwgMCAmJiBzKGEsIE1hdGguYWJzKGkpKTtmb3IgKHZhciBvID0gMDsgbyA8IHQubGVuZ3RoOyBvKyspIHtcbiAgICAgICAgdFtvXS54ID0gYVtvXS54LCB0W29dLnkgPSBhW29dLnk7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg2NSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGkpIHtcbiAgICAgIHZhciByID0gbih7IHgxOiBlLngxLCB5MTogZS55MSwgeDI6IGUueDIsIHkyOiBlLnkyIH0sIGkpLFxuICAgICAgICAgIHMgPSBuKHsgeDE6IGUueDIsIHkxOiBlLnkyLCB4MjogZS54MywgeTI6IGUueTMgfSwgaSksXG4gICAgICAgICAgYSA9IG4oeyB4MTogZS54MywgeTE6IGUueTMsIHgyOiBlLngxLCB5MjogZS55MSB9LCBpKTtyLnBvcCgpLCBzLnBvcCgpLCBhLnBvcCgpLCByID0gci5jb25jYXQocywgYSk7Zm9yICh2YXIgbyA9IHIubGVuZ3RoIC8gdC5sZW5ndGgsIGggPSAwLCB1ID0gMDsgdSA8IHQubGVuZ3RoOyB1KyspIHtcbiAgICAgICAgdmFyIGMgPSB0W3VdLFxuICAgICAgICAgICAgbCA9IHJbTWF0aC5mbG9vcihoKV07Yy54ID0gbFswXSwgYy55ID0gbFsxXSwgaCArPSBvO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k0NCkge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHRbbl0uYW5pbXMucGxheShlLCBfaTQ0KTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEyMSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBuKGUsIHRbaV0pO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTIyKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG4oZSwgdFtpXSk7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMjMpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbihlLCB0W2ldKTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEyNCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBuKGUsIHRbaV0pO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTI1KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG4oZSwgdFtpXSk7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTQ1KSB7XG4gICAgICB2b2lkIDAgPT09IF9pNDUgJiYgKF9pNDUgPSAwKTtmb3IgKHZhciBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdFtuXS5yb3RhdGlvbiArPSBlICsgbiAqIF9pNDU7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg2NiksXG4gICAgICAgIHIgPSBpKDUxKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSkge1xuICAgICAgZm9yICh2YXIgcyA9IGUueCwgYSA9IGUueSwgbyA9IDA7IG8gPCB0Lmxlbmd0aDsgbysrKSB7XG4gICAgICAgIHZhciBoID0gdFtvXTtuKGgsIHMsIGEsIGksIE1hdGgubWF4KDEsIHIoaC54LCBoLnksIHMsIGEpKSk7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg2NiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMikge1xuICAgICAgZm9yICh2YXIgcyA9IGUueCwgYSA9IGUueSwgbyA9IDA7IG8gPCB0Lmxlbmd0aDsgbysrKSB7XG4gICAgICAgIG4odFtvXSwgcywgYSwgaSwgX3IyKTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0W2ldLnNjYWxlWCArPSBlO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k0Nikge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHRbbl0uc2NhbGVYICs9IGUsIHRbbl0uc2NhbGVZICs9IF9pNDY7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdFtpXS5zY2FsZVkgKz0gZTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNDcpIHtcbiAgICAgIHZvaWQgMCA9PT0gX2k0NyAmJiAoX2k0NyA9IDApO2ZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB0W25dLmFscGhhID0gZSArIG4gKiBfaTQ3O1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k0OCkge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHRbbl0uc2V0SGl0QXJlYShlLCBfaTQ4KTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNDkpIHtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB0W25dLnNldE9yaWdpbihlLCBfaTQ5KTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNTApIHtcbiAgICAgIHZvaWQgMCA9PT0gX2k1MCAmJiAoX2k1MCA9IDApO2ZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB0W25dLnJvdGF0aW9uID0gZSArIG4gKiBfaTUwO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k1MSwgbiwgcikge1xuICAgICAgdm9pZCAwID09PSBuICYmIChuID0gMCksIHZvaWQgMCA9PT0gciAmJiAociA9IDApO2ZvciAodmFyIHMgPSAwOyBzIDwgdC5sZW5ndGg7IHMrKykge1xuICAgICAgICB0W3NdLnNldFNjYWxlKGUgKyBzICogbiwgX2k1MSArIHMgKiByKTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNTIpIHtcbiAgICAgIHZvaWQgMCA9PT0gX2k1MiAmJiAoX2k1MiA9IDApO2ZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB0W25dLnNjYWxlWCA9IGUgKyBuICogX2k1MjtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNTMpIHtcbiAgICAgIHZvaWQgMCA9PT0gX2k1MyAmJiAoX2k1MyA9IDApO2ZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB0W25dLnNjYWxlWSA9IGUgKyBuICogX2k1MztcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0W2ldLnZpc2libGUgPSBlO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k1NCkge1xuICAgICAgdm9pZCAwID09PSBfaTU0ICYmIChfaTU0ID0gMCk7Zm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHRbbl0ueCA9IGUgKyBuICogX2k1NDtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNTUsIG4sIHIpIHtcbiAgICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9IDApLCB2b2lkIDAgPT09IHIgJiYgKHIgPSAwKTtmb3IgKHZhciBzID0gMDsgcyA8IHQubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgdFtzXS54ID0gZSArIHMgKiBuLCB0W3NdLnkgPSBfaTU1ICsgcyAqIHI7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTU2KSB7XG4gICAgICB2b2lkIDAgPT09IF9pNTYgJiYgKF9pNTYgPSAwKTtmb3IgKHZhciBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdFtuXS55ID0gZSArIG4gKiBfaTU2O1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k1Nykge1xuICAgICAgdm9pZCAwID09PSBfaTU3ICYmIChfaTU3ID0gMCk7Zm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHRbbl0ueiA9IGUgKyBuICogX2k1NztcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNTgsIG4sIHIpIHtcbiAgICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9IDApLCB2b2lkIDAgPT09IHIgJiYgKHIgPSB7IHg6IDAsIHk6IDAgfSk7dmFyIHMsIGE7aWYgKHQubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgbywgaCwgdSwgYztpZiAoMCA9PT0gbikge1xuICAgICAgICAgIHZhciBsID0gdC5sZW5ndGggLSAxO2ZvciAocyA9IHRbbF0ueCwgYSA9IHRbbF0ueSwgbyA9IGwgLSAxOyBvID49IDA7IG8tLSkge1xuICAgICAgICAgICAgYyA9IHRbb10sIGggPSBjLngsIHUgPSBjLnksIGMueCA9IHMsIGMueSA9IGEsIHMgPSBoLCBhID0gdTtcbiAgICAgICAgICB9dFtsXS54ID0gZSwgdFtsXS55ID0gX2k1ODtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKHMgPSB0WzBdLngsIGEgPSB0WzBdLnksIG8gPSAxOyBvIDwgdC5sZW5ndGg7IG8rKykge1xuICAgICAgICAgICAgYyA9IHRbb10sIGggPSBjLngsIHUgPSBjLnksIGMueCA9IHMsIGMueSA9IGEsIHMgPSBoLCBhID0gdTtcbiAgICAgICAgICB9dFswXS54ID0gZSwgdFswXS55ID0gX2k1ODtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHMgPSB0WzBdLngsIGEgPSB0WzBdLnksIHRbMF0ueCA9IGUsIHRbMF0ueSA9IF9pNTg7cmV0dXJuIHIueCA9IHMsIHIueSA9IGEsIHI7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMjYpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpLCBfcjMsIHMpIHtcbiAgICAgIHZvaWQgMCA9PT0gcyAmJiAocyA9ICExKTt2YXIgYSxcbiAgICAgICAgICBvID0gTWF0aC5hYnMoX3IzIC0gaSkgLyB0Lmxlbmd0aDtpZiAocykgZm9yIChhID0gMDsgYSA8IHQubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgdFthXVtlXSArPSBuKGEgKiBvLCBpLCBfcjMpO1xuICAgICAgfSBlbHNlIGZvciAoYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIHRbYV1bZV0gPSBuKGEgKiBvLCBpLCBfcjMpO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTI3KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3I0LCBzKSB7XG4gICAgICB2b2lkIDAgPT09IHMgJiYgKHMgPSAhMSk7dmFyIGEsXG4gICAgICAgICAgbyA9IE1hdGguYWJzKF9yNCAtIGkpIC8gdC5sZW5ndGg7aWYgKHMpIGZvciAoYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIHRbYV1bZV0gKz0gbihhICogbywgaSwgX3I0KTtcbiAgICAgIH0gZWxzZSBmb3IgKGEgPSAwOyBhIDwgdC5sZW5ndGg7IGErKykge1xuICAgICAgICB0W2FdW2VdID0gbihhICogbywgaSwgX3I0KTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNTksIG4sIHIpIHtcbiAgICAgIHZvaWQgMCA9PT0gciAmJiAociA9ICExKTt2YXIgcyxcbiAgICAgICAgICBhID0gTWF0aC5hYnMobiAtIF9pNTkpIC8gdC5sZW5ndGg7aWYgKHIpIGZvciAocyA9IDA7IHMgPCB0Lmxlbmd0aDsgcysrKSB7XG4gICAgICAgIHRbc11bZV0gKz0gcyAqIGE7XG4gICAgICB9IGVsc2UgZm9yIChzID0gMDsgcyA8IHQubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgdFtzXVtlXSA9IHMgKiBhO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgIHRbZV0udmlzaWJsZSA9ICF0W2VdLnZpc2libGU7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgR2VuZXJhdGVUZXh0dXJlOiBpKDEyOCksIEdyaWQ6IGkoMzIwKSwgUGFsZXR0ZXM6IGkoMzIxKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge30sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBBUk5FMTY6IGkoMTI5KSwgQzY0OiBpKDMyMiksIENHQTogaSgzMjMpLCBKTVA6IGkoMzI0KSwgTVNYOiBpKDMyNSkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB0LmV4cG9ydHMgPSB7IDA6IFwiIzAwMFwiLCAxOiBcIiNmZmZcIiwgMjogXCIjOGI0MTMxXCIsIDM6IFwiIzdiYmRjNVwiLCA0OiBcIiM4YjQxYWNcIiwgNTogXCIjNmFhYzQxXCIsIDY6IFwiIzM5MzFhNFwiLCA3OiBcIiNkNWRlNzNcIiwgODogXCIjOTQ1YTIwXCIsIDk6IFwiIzVhNDEwMFwiLCBBOiBcIiNiZDczNmFcIiwgQjogXCIjNTI1MjUyXCIsIEM6IFwiIzgzODM4M1wiLCBEOiBcIiNhY2VlOGJcIiwgRTogXCIjN2I3M2RlXCIsIEY6IFwiI2FjYWNhY1wiIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdC5leHBvcnRzID0geyAwOiBcIiMwMDBcIiwgMTogXCIjMjIzNGQxXCIsIDI6IFwiIzBjN2U0NVwiLCAzOiBcIiM0NGFhY2NcIiwgNDogXCIjOGEzNjIyXCIsIDU6IFwiIzVjMmU3OFwiLCA2OiBcIiNhYTVjM2RcIiwgNzogXCIjYjViNWI1XCIsIDg6IFwiIzVlNjA2ZVwiLCA5OiBcIiM0YzgxZmJcIiwgQTogXCIjNmNkOTQ3XCIsIEI6IFwiIzdiZTJmOVwiLCBDOiBcIiNlYjhhNjBcIiwgRDogXCIjZTIzZDY5XCIsIEU6IFwiI2ZmZDkzZlwiLCBGOiBcIiNmZmZcIiB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHQuZXhwb3J0cyA9IHsgMDogXCIjMDAwXCIsIDE6IFwiIzE5MTAyOFwiLCAyOiBcIiM0NmFmNDVcIiwgMzogXCIjYTFkNjg1XCIsIDQ6IFwiIzQ1M2U3OFwiLCA1OiBcIiM3NjY0ZmVcIiwgNjogXCIjODMzMTI5XCIsIDc6IFwiIzllYzJlOFwiLCA4OiBcIiNkYzUzNGJcIiwgOTogXCIjZTE4ZDc5XCIsIEE6IFwiI2Q2Yjk3YlwiLCBCOiBcIiNlOWQ4YTFcIiwgQzogXCIjMjE2YzRiXCIsIEQ6IFwiI2QzNjVjOFwiLCBFOiBcIiNhZmFhYjlcIiwgRjogXCIjZjVmNGViXCIgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB0LmV4cG9ydHMgPSB7IDA6IFwiIzAwMFwiLCAxOiBcIiMxOTEwMjhcIiwgMjogXCIjNDZhZjQ1XCIsIDM6IFwiI2ExZDY4NVwiLCA0OiBcIiM0NTNlNzhcIiwgNTogXCIjNzY2NGZlXCIsIDY6IFwiIzgzMzEyOVwiLCA3OiBcIiM5ZWMyZThcIiwgODogXCIjZGM1MzRiXCIsIDk6IFwiI2UxOGQ3OVwiLCBBOiBcIiNkNmI5N2JcIiwgQjogXCIjZTlkOGExXCIsIEM6IFwiIzIxNmM0YlwiLCBEOiBcIiNkMzY1YzhcIiwgRTogXCIjYWZhYWI5XCIsIEY6IFwiI2ZmZlwiIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBBZGRFdmVudExpc3RlbmVyOiBpKDMyNyksIEFkZFRvRE9NOiBpKDEzMCksIENhbnZhc0ludGVycG9sYXRpb246IGkoNjgpLCBDYW52YXNQb29sOiBpKDExKSwgRE9NQ29udGVudExvYWRlZDogaSgxMzEpLCBQYXJzZVhNTDogaSgxMzIpLCBSZW1vdmVFdmVudExpc3RlbmVyOiBpKDMyOSksIFJlbW92ZUZyb21ET006IGkoMzMwKSwgUmVxdWVzdEFuaW1hdGlvbkZyYW1lOiBpKDEzMyksIFNtb290aGluZzogaSg2NyksIFRvdWNoQWN0aW9uOiBpKDMzMSksIFVzZXJTZWxlY3Q6IGkoMzMyKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTYwLCBuKSB7XG4gICAgICB2b2lkIDAgPT09IG4gJiYgKG4gPSAhMSksIHQuYWRkRXZlbnRMaXN0ZW5lcihlLCBfaTYwLCBuKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgZnVuY3Rpb24gaSgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIik7XG4gICAgfWZ1bmN0aW9uIG4oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIik7XG4gICAgfWZ1bmN0aW9uIHIodCkge1xuICAgICAgaWYgKGMgPT09IHNldFRpbWVvdXQpIHJldHVybiBzZXRUaW1lb3V0KHQsIDApO2lmICgoYyA9PT0gaSB8fCAhYykgJiYgc2V0VGltZW91dCkgcmV0dXJuIGMgPSBzZXRUaW1lb3V0LCBzZXRUaW1lb3V0KHQsIDApO3RyeSB7XG4gICAgICAgIHJldHVybiBjKHQsIDApO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBjLmNhbGwobnVsbCwgdCwgMCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gYy5jYWxsKHRoaXMsIHQsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfWZ1bmN0aW9uIHModCkge1xuICAgICAgaWYgKGwgPT09IGNsZWFyVGltZW91dCkgcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZiAoKGwgPT09IG4gfHwgIWwpICYmIGNsZWFyVGltZW91dCkgcmV0dXJuIGwgPSBjbGVhclRpbWVvdXQsIGNsZWFyVGltZW91dCh0KTt0cnkge1xuICAgICAgICByZXR1cm4gbCh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbC5jYWxsKG51bGwsIHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGwuY2FsbCh0aGlzLCB0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1mdW5jdGlvbiBhKCkge1xuICAgICAgdiAmJiBkICYmICh2ID0gITEsIGQubGVuZ3RoID8gcCA9IGQuY29uY2F0KHApIDogZyA9IC0xLCBwLmxlbmd0aCAmJiBvKCkpO1xuICAgIH1mdW5jdGlvbiBvKCkge1xuICAgICAgaWYgKCF2KSB7XG4gICAgICAgIHZhciB0ID0gcihhKTt2ID0gITA7Zm9yICh2YXIgZSA9IHAubGVuZ3RoOyBlOykge1xuICAgICAgICAgIGZvciAoZCA9IHAsIHAgPSBbXTsgKytnIDwgZTspIHtcbiAgICAgICAgICAgIGQgJiYgZFtnXS5ydW4oKTtcbiAgICAgICAgICB9ZyA9IC0xLCBlID0gcC5sZW5ndGg7XG4gICAgICAgIH1kID0gbnVsbCwgdiA9ICExLCBzKHQpO1xuICAgICAgfVxuICAgIH1mdW5jdGlvbiBoKHQsIGUpIHtcbiAgICAgIHRoaXMuZnVuID0gdCwgdGhpcy5hcnJheSA9IGU7XG4gICAgfWZ1bmN0aW9uIHUoKSB7fXZhciBjLFxuICAgICAgICBsLFxuICAgICAgICBmID0gdC5leHBvcnRzID0ge307IWZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGMgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHNldFRpbWVvdXQgPyBzZXRUaW1lb3V0IDogaTtcbiAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgYyA9IGk7XG4gICAgICB9dHJ5IHtcbiAgICAgICAgbCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY2xlYXJUaW1lb3V0ID8gY2xlYXJUaW1lb3V0IDogbjtcbiAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgbCA9IG47XG4gICAgICB9XG4gICAgfSgpO3ZhciBkLFxuICAgICAgICBwID0gW10sXG4gICAgICAgIHYgPSAhMSxcbiAgICAgICAgZyA9IC0xO2YubmV4dFRpY2sgPSBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIGUgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO2lmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZVtpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICB9cC5wdXNoKG5ldyBoKHQsIGUpKSwgMSAhPT0gcC5sZW5ndGggfHwgdiB8fCByKG8pO1xuICAgIH0sIGgucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuICAgIH0sIGYudGl0bGUgPSBcImJyb3dzZXJcIiwgZi5icm93c2VyID0gITAsIGYuZW52ID0ge30sIGYuYXJndiA9IFtdLCBmLnZlcnNpb24gPSBcIlwiLCBmLnZlcnNpb25zID0ge30sIGYub24gPSB1LCBmLmFkZExpc3RlbmVyID0gdSwgZi5vbmNlID0gdSwgZi5vZmYgPSB1LCBmLnJlbW92ZUxpc3RlbmVyID0gdSwgZi5yZW1vdmVBbGxMaXN0ZW5lcnMgPSB1LCBmLmVtaXQgPSB1LCBmLnByZXBlbmRMaXN0ZW5lciA9IHUsIGYucHJlcGVuZE9uY2VMaXN0ZW5lciA9IHUsIGYubGlzdGVuZXJzID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9LCBmLmJpbmRpbmcgPSBmdW5jdGlvbiAodCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfSwgZi5jd2QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gXCIvXCI7XG4gICAgfSwgZi5jaGRpciA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfSwgZi51bWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNjEpIHtcbiAgICAgIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBfaTYxKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHQucGFyZW50Tm9kZSAmJiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gXCJub25lXCIpLCB0LnN0eWxlLm1zVG91Y2hBY3Rpb24gPSBlLCB0LnN0eWxlW1wibXMtdG91Y2gtYWN0aW9uXCJdID0gZSwgdC5zdHlsZVtcInRvdWNoLWFjdGlvblwiXSA9IGUsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gXCJub25lXCIpLCBbXCItd2Via2l0LVwiLCBcIi1raHRtbC1cIiwgXCItbW96LVwiLCBcIi1tcy1cIiwgXCJcIl0uZm9yRWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICB0LnN0eWxlW2kgKyBcInVzZXItc2VsZWN0XCJdID0gZTtcbiAgICAgIH0pLCB0LnN0eWxlW1wiLXdlYmtpdC10b3VjaC1jYWxsb3V0XCJdID0gZSwgdC5zdHlsZVtcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiXSA9IFwicmdiYSgwLCAwLCAwLCAwKVwiLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDMzNCksXG4gICAgICAgIHMgPSBpKDM4MSksXG4gICAgICAgIGEgPSBpKDM4MyksXG4gICAgICAgIG8gPSBpKDI1KSxcbiAgICAgICAgaCA9IGkoMTMwKSxcbiAgICAgICAgdSA9IGkoMTMxKSxcbiAgICAgICAgYyA9IGkoMjkpLFxuICAgICAgICBsID0gaSgzOTApLFxuICAgICAgICBmID0gaSgzOTEpLFxuICAgICAgICBkID0gaSg0MjgpLFxuICAgICAgICBwID0gaSgxNjgpLFxuICAgICAgICB2ID0gaSg0NTgpLFxuICAgICAgICBnID0gaSg0NjMpLFxuICAgICAgICB4ID0gaSg0ODEpLFxuICAgICAgICBtID0gaSg3ODApLFxuICAgICAgICB5ID0gaSg3OTQpLFxuICAgICAgICB3ID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBuZXcgcih0KSwgdGhpcy5yZW5kZXJlciA9IG51bGwsIHRoaXMuY2FudmFzID0gbnVsbCwgdGhpcy5jb250ZXh0ID0gbnVsbCwgdGhpcy5pc0Jvb3RlZCA9ICExLCB0aGlzLmlzUnVubmluZyA9ICExLCB0aGlzLmV2ZW50cyA9IG5ldyBjKCksIHRoaXMuYW5pbXMgPSBuZXcgZih0aGlzKSwgdGhpcy50ZXh0dXJlcyA9IG5ldyBtKHRoaXMpLCB0aGlzLmNhY2hlID0gbmV3IHYodGhpcyksIHRoaXMucmVnaXN0cnkgPSBuZXcgcCh0aGlzKSwgdGhpcy5pbnB1dCA9IG5ldyBnKHRoaXMsIHRoaXMuY29uZmlnKSwgdGhpcy5zY2VuZSA9IG5ldyB4KHRoaXMsIHRoaXMuY29uZmlnLnNjZW5lQ29uZmlnKSwgdGhpcy5kZXZpY2UgPSBhLCB0aGlzLmxvb3AgPSBuZXcgeSh0aGlzLCB0aGlzLmNvbmZpZy5mcHMpLCB0aGlzLm9uU3RlcENhbGxiYWNrID0gbywgdSh0aGlzLmJvb3QuYmluZCh0aGlzKSksIHdpbmRvdy5nYW1lID0gdGhpcztcbiAgICAgIH0sIGJvb3Q6IGZ1bmN0aW9uIGJvb3QoKSB7XG4gICAgICAgIHRoaXMuaXNCb290ZWQgPSAhMCwgdGhpcy5jb25maWcucHJlQm9vdCgpLCBzKHRoaXMpLCBkKHRoaXMpLCBoKHRoaXMuY2FudmFzLCB0aGlzLmNvbmZpZy5wYXJlbnQpLCB0aGlzLmFuaW1zLmJvb3QodGhpcy50ZXh0dXJlcyksIHRoaXMuc2NlbmUuYm9vdCgpLCB0aGlzLmlucHV0LmJvb3QoKSwgdGhpcy5pc1J1bm5pbmcgPSAhMCwgdGhpcy5jb25maWcucG9zdEJvb3QoKSwgdGhpcy5sb29wLnN0YXJ0KHRoaXMuc3RlcC5iaW5kKHRoaXMpKSwgbCh0aGlzLmV2ZW50cyksIHRoaXMuZXZlbnRzLm9uKFwiSElEREVOXCIsIHRoaXMub25IaWRkZW4uYmluZCh0aGlzKSksIHRoaXMuZXZlbnRzLm9uKFwiVklTSUJMRVwiLCB0aGlzLm9uVmlzaWJsZS5iaW5kKHRoaXMpKSwgdGhpcy5ldmVudHMub24oXCJPTl9CTFVSXCIsIHRoaXMub25CbHVyLmJpbmQodGhpcykpLCB0aGlzLmV2ZW50cy5vbihcIk9OX0ZPQ1VTXCIsIHRoaXMub25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgIH0sIHN0ZXA6IGZ1bmN0aW9uIHN0ZXAodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuc2NlbmUuYWN0aXZlLFxuICAgICAgICAgICAgbiA9IHRoaXMucmVuZGVyZXI7dGhpcy5pbnB1dC51cGRhdGUodCwgZSksIHRoaXMub25TdGVwQ2FsbGJhY2soKTtmb3IgKHZhciByID0gMDsgciA8IGkubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICBpW3JdLnNjZW5lLnN5cy5zdGVwKHQsIGUpO1xuICAgICAgICB9Zm9yIChuLnByZVJlbmRlcigpLCByID0gMDsgciA8IGkubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICBpW3JdLnNjZW5lLnN5cy5yZW5kZXIoMCwgbik7XG4gICAgICAgIH1uLnBvc3RSZW5kZXIoKTtcbiAgICAgIH0sIG9uSGlkZGVuOiBmdW5jdGlvbiBvbkhpZGRlbigpIHtcbiAgICAgICAgdGhpcy5sb29wLnBhdXNlKCk7XG4gICAgICB9LCBvblZpc2libGU6IGZ1bmN0aW9uIG9uVmlzaWJsZSgpIHtcbiAgICAgICAgdGhpcy5sb29wLnJlc3VtZSgpO1xuICAgICAgfSwgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICAgIHRoaXMubG9vcC5ibHVyKCk7XG4gICAgICB9LCBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgICAgICB0aGlzLmxvb3AuZm9jdXMoKTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gdztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDQpLFxuICAgICAgICBzID0gaSgyKSxcbiAgICAgICAgYSA9IGkoNjkpLFxuICAgICAgICBvID0gaSgyNSksXG4gICAgICAgIGggPSBpKDUyKSxcbiAgICAgICAgdSA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IHt9KTt2YXIgZSA9IFtcIiNmZjAwMDBcIiwgXCIjZmZmZjAwXCIsIFwiIzAwZmYwMFwiLCBcIiMwMGZmZmZcIiwgXCIjMDAwMDAwXCJdO3RoaXMud2lkdGggPSBzKHQsIFwid2lkdGhcIiwgMTAyNCksIHRoaXMuaGVpZ2h0ID0gcyh0LCBcImhlaWdodFwiLCA3NjgpLCB0aGlzLnpvb20gPSBzKHQsIFwiem9vbVwiLCAxKSwgdGhpcy5yZXNvbHV0aW9uID0gcyh0LCBcInJlc29sdXRpb25cIiwgMSksIHRoaXMucmVuZGVyVHlwZSA9IHModCwgXCJ0eXBlXCIsIHIuQVVUTyksIHRoaXMucGFyZW50ID0gcyh0LCBcInBhcmVudFwiLCBudWxsKSwgdGhpcy5jYW52YXMgPSBzKHQsIFwiY2FudmFzXCIsIG51bGwpLCB0aGlzLmNhbnZhc1N0eWxlID0gcyh0LCBcImNhbnZhc1N0eWxlXCIsIG51bGwpLCB0aGlzLnNjZW5lQ29uZmlnID0gcyh0LCBcInNjZW5lXCIsIG51bGwpLCB0aGlzLnNlZWQgPSBzKHQsIFwic2VlZFwiLCBbKERhdGUubm93KCkgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpXSksIGEuUk5ELmluaXQodGhpcy5zZWVkKSwgdGhpcy5nYW1lVGl0bGUgPSBzKHQsIFwidGl0bGVcIiwgXCJcIiksIHRoaXMuZ2FtZVVSTCA9IHModCwgXCJ1cmxcIiwgXCJodHRwOi8vcGhhc2VyLmlvXCIpLCB0aGlzLmdhbWVWZXJzaW9uID0gcyh0LCBcInZlcnNpb25cIiwgXCJcIiksIHRoaXMuaW5wdXRLZXlib2FyZCA9IHModCwgXCJpbnB1dC5rZXlib2FyZFwiLCAhMCksIHRoaXMuaW5wdXRLZXlib2FyZEV2ZW50VGFyZ2V0ID0gcyh0LCBcImlucHV0LmtleWJvYXJkLnRhcmdldFwiLCB3aW5kb3cpLCB0aGlzLmlucHV0TW91c2UgPSBzKHQsIFwiaW5wdXQubW91c2VcIiwgITApLCB0aGlzLmlucHV0TW91c2VFdmVudFRhcmdldCA9IHModCwgXCJpbnB1dC5tb3VzZS50YXJnZXRcIiwgbnVsbCksIHRoaXMuaW5wdXRUb3VjaCA9IHModCwgXCJpbnB1dC50b3VjaFwiLCAhMCksIHRoaXMuaW5wdXRUb3VjaEV2ZW50VGFyZ2V0ID0gcyh0LCBcImlucHV0LnRvdWNoLnRhcmdldFwiLCBudWxsKSwgdGhpcy5kaXNhYmxlQ29udGV4dE1lbnUgPSBzKHQsIFwiZGlzYWJsZUNvbnRleHRNZW51XCIsICExKSwgdGhpcy5oaWRlQmFubmVyID0gITEgPT09IHModCwgXCJiYW5uZXJcIiwgbnVsbCksIHRoaXMuaGlkZVBoYXNlciA9IHModCwgXCJiYW5uZXIuaGlkZVBoYXNlclwiLCAhMSksIHRoaXMuYmFubmVyVGV4dENvbG9yID0gcyh0LCBcImJhbm5lci50ZXh0XCIsIFwiI2ZmZmZmZlwiKSwgdGhpcy5iYW5uZXJCYWNrZ3JvdW5kQ29sb3IgPSBzKHQsIFwiYmFubmVyLmJhY2tncm91bmRcIiwgZSksIHRoaXMuZnBzID0gcyh0LCBcImZwc1wiLCBudWxsKSwgdGhpcy5waXhlbEFydCA9IHModCwgXCJwaXhlbEFydFwiLCAhMSksIHRoaXMudHJhbnNwYXJlbnQgPSBzKHQsIFwidHJhbnNwYXJlbnRcIiwgITEpLCB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gcyh0LCBcImNsZWFyQmVmb3JlUmVuZGVyXCIsICEwKSwgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBoKHModCwgXCJiYWNrZ3JvdW5kQ29sb3JcIiwgMCkpLCB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IGgocyh0LCBcInByZXNlcnZlRHJhd2luZ0J1ZmZlclwiLCAhMSkpLCB0aGlzLnByZUJvb3QgPSBzKHQsIFwiY2FsbGJhY2tzLnByZUJvb3RcIiwgbyksIHRoaXMucG9zdEJvb3QgPSBzKHQsIFwiY2FsbGJhY2tzLnBvc3RCb290XCIsIG8pLCB0aGlzLnVzZVRpY2tlciA9IHModCwgXCJ1c2VUaWNrZXJcIiwgITEpLCB0aGlzLnBoeXNpY3MgPSBzKHQsIFwicGh5c2ljc1wiLCB7fSksIHRoaXMuZGVmYXVsdFBoeXNpY3NTeXN0ZW0gPSBzKHRoaXMucGh5c2ljcywgXCJkZWZhdWx0XCIsICExKTt2YXIgaSA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnXCI7dGhpcy5kZWZhdWx0SW1hZ2UgPSBzKHQsIFwiaW1hZ2VzLmRlZmF1bHRcIiwgaSArIFwiQVFNQUFBQkp0T2kzQUFBQUExQk1WRVgvLy8rbnhCdklBQUFBQVhSU1RsTUFRT2JZWmdBQUFCVkpSRUZVZUY3TndJRUFBQUFBZ0tEOXFkZW9jQU1Bb0FBQm0zRGtjQUFBQUFCSlJVNUVya0pnZ2c9PVwiKSwgdGhpcy5taXNzaW5nSW1hZ2UgPSBzKHQsIFwiaW1hZ2VzLm1pc3NpbmdcIiwgaSArIFwiQ0FJQUFBRDhHTzJqQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFKOUpSRUZVZU5xMDFzc093eUFNUkZHNDZ2Ly9NdDFFU21naCtERm1FMkdQT0JBUktiMk5Wam8rMTdQWExEOGExK3BsNStBK3dTZ0Z5Z3ltV1lIQmIwRnRzS2hKRGRabG5jRzJJeko0YXlvTUR2MjB3VG1TTXpDbEVnYldZTlRBa1EwWitPSitBL2VXbkFhUjkrb3hDRjRPczBIOGh0c01VcCtwd2NnQkJpTU5uQXdGOEdxSWdMMmhBemFHRkZnWmF1RFBLQUJtb3daNEdMMzY5LzByd0FDcDJ5QS90dG12c1FBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHU7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5jID0gMSwgdGhpcy5zMCA9IDAsIHRoaXMuczEgPSAwLCB0aGlzLnMyID0gMCwgdGhpcy5zaWduID0gWy0xLCAxXSwgdCAmJiB0aGlzLmluaXQodCk7XG4gICAgICB9LCBybmQ6IGZ1bmN0aW9uIHJuZCgpIHtcbiAgICAgICAgdmFyIHQgPSAyMDkxNjM5ICogdGhpcy5zMCArIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTAgKiB0aGlzLmM7cmV0dXJuIHRoaXMuYyA9IDAgfCB0LCB0aGlzLnMwID0gdGhpcy5zMSwgdGhpcy5zMSA9IHRoaXMuczIsIHRoaXMuczIgPSB0IC0gdGhpcy5jLCB0aGlzLnMyO1xuICAgICAgfSwgaGFzaDogZnVuY3Rpb24gaGFzaCh0KSB7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAgaSA9IDQwMjI4NzExOTc7dCA9IHQudG9TdHJpbmcoKTtmb3IgKHZhciBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICBpICs9IHQuY2hhckNvZGVBdChuKSwgZSA9IC4wMjUxOTYwMzI4MjQxNjkzOCAqIGksIGkgPSBlID4+PiAwLCBlIC09IGksIGUgKj0gaSwgaSA9IGUgPj4+IDAsIGUgLT0gaSwgaSArPSA0Mjk0OTY3Mjk2ICogZTtcbiAgICAgICAgfXJldHVybiAyLjMyODMwNjQzNjUzODY5NjNlLTEwICogKGkgPj4+IDApO1xuICAgICAgfSwgaW5pdDogZnVuY3Rpb24gaW5pdCh0KSB7XG4gICAgICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgPyB0aGlzLnN0YXRlKHQpIDogdGhpcy5zb3codCk7XG4gICAgICB9LCBzb3c6IGZ1bmN0aW9uIHNvdyh0KSB7XG4gICAgICAgIGlmICh0aGlzLnMwID0gdGhpcy5oYXNoKFwiIFwiKSwgdGhpcy5zMSA9IHRoaXMuaGFzaCh0aGlzLnMwKSwgdGhpcy5zMiA9IHRoaXMuaGFzaCh0aGlzLnMxKSwgdGhpcy5jID0gMSwgdCkgZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aCAmJiBudWxsICE9IHRbZV07IGUrKykge1xuICAgICAgICAgIHZhciBpID0gdFtlXTt0aGlzLnMwIC09IHRoaXMuaGFzaChpKSwgdGhpcy5zMCArPSB+fih0aGlzLnMwIDwgMCksIHRoaXMuczEgLT0gdGhpcy5oYXNoKGkpLCB0aGlzLnMxICs9IH5+KHRoaXMuczEgPCAwKSwgdGhpcy5zMiAtPSB0aGlzLmhhc2goaSksIHRoaXMuczIgKz0gfn4odGhpcy5zMiA8IDApO1xuICAgICAgICB9XG4gICAgICB9LCBpbnRlZ2VyOiBmdW5jdGlvbiBpbnRlZ2VyKCkge1xuICAgICAgICByZXR1cm4gNDI5NDk2NzI5NiAqIHRoaXMucm5kKCk7XG4gICAgICB9LCBmcmFjOiBmdW5jdGlvbiBmcmFjKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ybmQoKSArIDEuMTEwMjIzMDI0NjI1MTU2NWUtMTYgKiAoMjA5NzE1MiAqIHRoaXMucm5kKCkgfCAwKTtcbiAgICAgIH0sIHJlYWw6IGZ1bmN0aW9uIHJlYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVnZXIoKSArIHRoaXMuZnJhYygpO1xuICAgICAgfSwgaW50ZWdlckluUmFuZ2U6IGZ1bmN0aW9uIGludGVnZXJJblJhbmdlKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5yZWFsSW5SYW5nZSgwLCBlIC0gdCArIDEpICsgdCk7XG4gICAgICB9LCBiZXR3ZWVuOiBmdW5jdGlvbiBiZXR3ZWVuKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZWdlckluUmFuZ2UodCwgZSk7XG4gICAgICB9LCByZWFsSW5SYW5nZTogZnVuY3Rpb24gcmVhbEluUmFuZ2UodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFjKCkgKiAoZSAtIHQpICsgdDtcbiAgICAgIH0sIG5vcm1hbDogZnVuY3Rpb24gbm9ybWFsKCkge1xuICAgICAgICByZXR1cm4gMSAtIDIgKiB0aGlzLmZyYWMoKTtcbiAgICAgIH0sIHV1aWQ6IGZ1bmN0aW9uIHV1aWQoKSB7XG4gICAgICAgIHZhciB0ID0gXCJcIixcbiAgICAgICAgICAgIGUgPSBcIlwiO2ZvciAoZSA9IHQgPSBcIlwiOyB0KysgPCAzNjsgZSArPSB+dCAlIDUgfCAzICogdCAmIDQgPyAoMTUgXiB0ID8gOCBeIHRoaXMuZnJhYygpICogKDIwIF4gdCA/IDE2IDogNCkgOiA0KS50b1N0cmluZygxNikgOiBcIi1cIikge31yZXR1cm4gZTtcbiAgICAgIH0sIHBpY2s6IGZ1bmN0aW9uIHBpY2sodCkge1xuICAgICAgICByZXR1cm4gdFt0aGlzLmludGVnZXJJblJhbmdlKDAsIHQubGVuZ3RoIC0gMSldO1xuICAgICAgfSwgc2lnbjogZnVuY3Rpb24gc2lnbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGljayh0aGlzLnNpZ24pO1xuICAgICAgfSwgd2VpZ2h0ZWRQaWNrOiBmdW5jdGlvbiB3ZWlnaHRlZFBpY2sodCkge1xuICAgICAgICByZXR1cm4gdFt+fihNYXRoLnBvdyh0aGlzLmZyYWMoKSwgMikgKiAodC5sZW5ndGggLSAxKSArIC41KV07XG4gICAgICB9LCB0aW1lc3RhbXA6IGZ1bmN0aW9uIHRpbWVzdGFtcCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWxJblJhbmdlKHQgfHwgOTQ2Njg0OGU1LCBlIHx8IDE1Nzc4NjJlNik7XG4gICAgICB9LCBhbmdsZTogZnVuY3Rpb24gYW5nbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVnZXJJblJhbmdlKC0xODAsIDE4MCk7XG4gICAgICB9LCByb3RhdGlvbjogZnVuY3Rpb24gcm90YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWxJblJhbmdlKC0zLjE0MTU5MjY1MzU4OTc5MywgMy4xNDE1OTI2NTM1ODk3OTMpO1xuICAgICAgfSwgc3RhdGU6IGZ1bmN0aW9uIHN0YXRlKHQpIHtcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgJiYgdC5tYXRjaCgvXiFybmQvKSAmJiAodCA9IHQuc3BsaXQoXCIsXCIpLCB0aGlzLmMgPSBwYXJzZUZsb2F0KHRbMV0pLCB0aGlzLnMwID0gcGFyc2VGbG9hdCh0WzJdKSwgdGhpcy5zMSA9IHBhcnNlRmxvYXQodFszXSksIHRoaXMuczIgPSBwYXJzZUZsb2F0KHRbNF0pKSwgW1wiIXJuZFwiLCB0aGlzLmMsIHRoaXMuczAsIHRoaXMuczEsIHRoaXMuczJdLmpvaW4oXCIsXCIpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQmV0d2VlbjogaSgzMzcpLCBCZXR3ZWVuWTogaSgzMzgpLCBCZXR3ZWVuUG9pbnRzOiBpKDMzOSksIEJldHdlZW5Qb2ludHNZOiBpKDM0MCksIFJldmVyc2U6IGkoMzQxKSwgUm90YXRlVG86IGkoMzQyKSwgU2hvcnRlc3RCZXR3ZWVuOiBpKDM0MyksIE5vcm1hbGl6ZTogaSgxMzQpLCBXcmFwOiBpKDExNSksIFdyYXBEZWdyZWVzOiBpKDExNikgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k2Miwgbikge1xuICAgICAgcmV0dXJuIE1hdGguYXRhbjIobiAtIGUsIF9pNjIgLSB0KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNjMsIG4pIHtcbiAgICAgIHJldHVybiBNYXRoLmF0YW4yKF9pNjMgLSB0LCBuIC0gZSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gTWF0aC5hdGFuMihlLnkgLSB0LnksIGUueCAtIHQueCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gTWF0aC5hdGFuMihlLnggLSB0LngsIGUueSAtIHQueSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMzQpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICByZXR1cm4gbih0ICsgTWF0aC5QSSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGkpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSAuMDUpLCB0ID09PSBlID8gdCA6IChNYXRoLmFicyhlIC0gdCkgPD0gaSB8fCBNYXRoLmFicyhlIC0gdCkgPj0gbi5QSTIgLSBpID8gdCA9IGUgOiAoTWF0aC5hYnMoZSAtIHQpID4gTWF0aC5QSSAmJiAoZSA8IHQgPyBlICs9IG4uUEkyIDogZSAtPSBuLlBJMiksIGUgPiB0ID8gdCArPSBpIDogZSA8IHQgJiYgKHQgLT0gaSkpLCB0KTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHZhciBpID0gZSAtIHQ7cmV0dXJuIDAgPT09IGkgPyAwIDogaSAtIDM2MCAqIE1hdGguZmxvb3IoKGkgLSAtMTgwKSAvIDM2MCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQmV0d2VlbjogaSg1MSksIFBvd2VyOiBpKDM0NSksIFNxdWFyZWQ6IGkoMzQ2KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTY0LCBuLCByKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSByICYmIChyID0gMiksIE1hdGguc3FydChNYXRoLnBvdyhfaTY0IC0gdCwgcikgKyBNYXRoLnBvdyhuIC0gZSwgcikpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k2NSwgbikge1xuICAgICAgdmFyIHIgPSB0IC0gX2k2NSxcbiAgICAgICAgICBzID0gZSAtIG47cmV0dXJuIHIgKiByICsgcyAqIHM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQmFjazogaSgxMzUpLCBCb3VuY2U6IGkoMTM2KSwgQ2lyY3VsYXI6IGkoMTM3KSwgQ3ViaWM6IGkoMTM4KSwgRWxhc3RpYzogaSgxMzkpLCBFeHBvOiBpKDE0MCksIExpbmVhcjogaSgxNDEpLCBRdWFkcmF0aWM6IGkoMTQyKSwgUXVhcnRpYzogaSgxNDMpLCBRdWludGljOiBpKDE0NCksIFNpbmU6IGkoMTQ1KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQ2VpbDogaSgzNDkpLCBFcXVhbDogaSgzNTApLCBGbG9vcjogaSgzNTEpLCBHcmVhdGVyVGhhbjogaSgzNTIpLCBMZXNzVGhhbjogaSgzNTMpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSAxZS00KSwgTWF0aC5jZWlsKHQgLSBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNjYpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IF9pNjYgJiYgKF9pNjYgPSAxZS00KSwgTWF0aC5hYnModCAtIGUpIDwgX2k2NjtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNjcpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IF9pNjcgJiYgKF9pNjcgPSAxZS00KSwgTWF0aC5mbG9vcih2YWx1ZSArIF9pNjcpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k2OCkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gX2k2OCAmJiAoX2k2OCA9IDFlLTQpLCB0ID4gZSAtIF9pNjg7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTY5KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBfaTY5ICYmIChfaTY5ID0gMWUtNCksIHQgPCBlICsgX2k2OTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBCZXppZXI6IGkoMzU1KSwgQ2F0bXVsbFJvbTogaSgzNTYpLCBMaW5lYXI6IGkoMTQ5KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNDYpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgciA9IHQubGVuZ3RoIC0gMSwgcyA9IDA7IHMgPD0gcjsgcysrKSB7XG4gICAgICAgIGkgKz0gTWF0aC5wb3coMSAtIGUsIHIgLSBzKSAqIE1hdGgucG93KGUsIHMpICogdFtzXSAqIG4ociwgcyk7XG4gICAgICB9cmV0dXJuIGk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNDgpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2YXIgaSA9IHQubGVuZ3RoIC0gMSxcbiAgICAgICAgICByID0gaSAqIGUsXG4gICAgICAgICAgcyA9IE1hdGguZmxvb3Iocik7cmV0dXJuIHRbMF0gPT09IHRbaV0gPyAoZSA8IDAgJiYgKHMgPSBNYXRoLmZsb29yKHIgPSBpICogKDEgKyBlKSkpLCBuKHRbKHMgLSAxICsgaSkgJSBpXSwgdFtzXSwgdFsocyArIDEpICUgaV0sIHRbKHMgKyAyKSAlIGldLCByIC0gcykpIDogZSA8IDAgPyB0WzBdIC0gKG4odFswXSwgdFswXSwgdFsxXSwgdFsxXSwgLXIpIC0gdFswXSkgOiBlID4gMSA/IHRbaV0gLSAobih0W2ldLCB0W2ldLCB0W2kgLSAxXSwgdFtpIC0gMV0sIHIgLSBpKSAtIHRbaV0pIDogbih0W3MgPyBzIC0gMSA6IDBdLCB0W3NdLCB0W2kgPCBzICsgMSA/IGkgOiBzICsgMV0sIHRbaSA8IHMgKyAyID8gaSA6IHMgKyAyXSwgciAtIHMpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IEdldE5leHQ6IGkoMTUxKSwgSXNTaXplOiBpKDcwKSwgSXNWYWx1ZTogaSgzNTgpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0ID4gMCAmJiAwID09ICh0ICYgdCAtIDEpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IENlaWw6IGkoMzYwKSwgRmxvb3I6IGkoMzYxKSwgVG86IGkoMzYyKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTcwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBfaTcwICYmIChfaTcwID0gMCksIDAgPT09IGUgPyB0IDogKHQgLT0gX2k3MCwgdCA9IGUgKiBNYXRoLmNlaWwodCAvIGUpLCBfaTcwICsgdCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTcxKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBfaTcxICYmIChfaTcxID0gMCksIDAgPT09IGUgPyB0IDogKHQgLT0gX2k3MSwgdCA9IGUgKiBNYXRoLmZsb29yKHQgLyBlKSwgX2k3MSArIHQpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k3Mikge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gX2k3MiAmJiAoX2k3MiA9IDApLCAwID09PSBlID8gdCA6ICh0IC09IF9pNzIsIHQgPSBlICogTWF0aC5yb3VuZCh0IC8gZSksIF9pNzIgKyB0KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIGZvciAodmFyIGUgPSAwLCBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZSArPSArdFtpXTtcbiAgICAgIH1yZXR1cm4gZSAvIHQubGVuZ3RoO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k3Mykge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gMCksIHZvaWQgMCA9PT0gX2k3MyAmJiAoX2k3MyA9IDEwKTt2YXIgbiA9IE1hdGgucG93KF9pNzMsIC1lKTtyZXR1cm4gTWF0aC5jZWlsKHQgKiBuKSAvIG47XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiB0ICogbi5ERUdfVE9fUkFEO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKHQgLSBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKGUgLSB0KSArIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTc0KSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAwKSwgdm9pZCAwID09PSBfaTc0ICYmIChfaTc0ID0gMTApO3ZhciBuID0gTWF0aC5wb3coX2k3NCwgLWUpO3JldHVybiBNYXRoLmZsb29yKHQgKiBuKSAvIG47XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdCAvIGUgLyAxZTM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdCA9PSBwYXJzZUZsb2F0KHQpID8gISh0ICUgMikgOiB2b2lkIDA7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdCA9PT0gcGFyc2VGbG9hdCh0KSA/ICEodCAlIDIpIDogdm9pZCAwO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k3NSkge1xuICAgICAgcmV0dXJuIE1hdGgubWluKHQgKyBlLCBfaTc1KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNzYpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heCh0IC0gZSwgX2k3Nik7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTc3KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBfaTc3ICYmIChfaTc3ID0gMCksIHQgPiBlIHx8IF9pNzcgPiBlID8gMSA6IHQgPCBfaTc3IHx8IF9pNzcgPiB0ID8gMCA6ICh0IC0gX2k3NykgLyBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTApLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICByZXR1cm4gdCAqIG4uUkFEX1RPX0RFRztcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHZhciBpID0gdC54LFxuICAgICAgICAgIG4gPSB0Lnk7cmV0dXJuIHQueCA9IGkgKiBNYXRoLmNvcyhlKSAtIG4gKiBNYXRoLnNpbihlKSwgdC55ID0gaSAqIE1hdGguc2luKGUpICsgbiAqIE1hdGguY29zKGUpLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k3OCwgbikge1xuICAgICAgdmFyIHIgPSBNYXRoLmNvcyhuKSxcbiAgICAgICAgICBzID0gTWF0aC5zaW4obiksXG4gICAgICAgICAgYSA9IHQueCAtIGUsXG4gICAgICAgICAgbyA9IHQueSAtIF9pNzg7cmV0dXJuIHQueCA9IGEgKiByIC0gbyAqIHMgKyBlLCB0LnkgPSBhICogcyArIG8gKiByICsgX2k3OCwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pNzkpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IF9pNzkgJiYgKF9pNzkgPSAxMCk7dmFyIG4gPSBNYXRoLnBvdyhfaTc5LCAtZSk7cmV0dXJuIE1hdGgucm91bmQodCAqIG4pIC8gbjtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pODAsIG4pIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDEpLCB2b2lkIDAgPT09IF9pODAgJiYgKF9pODAgPSAxKSwgdm9pZCAwID09PSBuICYmIChuID0gMSksIG4gKj0gTWF0aC5QSSAvIHQ7Zm9yICh2YXIgciA9IFtdLCBzID0gW10sIGEgPSAwOyBhIDwgdDsgYSsrKSB7XG4gICAgICAgIF9pODAgLT0gZSAqIG4sIGUgKz0gX2k4MCAqIG4sIHJbYV0gPSBfaTgwLCBzW2FdID0gZTtcbiAgICAgIH1yZXR1cm4geyBzaW46IHMsIGNvczogciwgbGVuZ3RoOiB0IH07XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTgxKSB7XG4gICAgICByZXR1cm4gTWF0aC5hYnModCAtIGUpIDw9IF9pODE7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0KSxcbiAgICAgICAgciA9IGkoMzgyKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCkge1xuICAgICAgdmFyIGUgPSB0LmNvbmZpZztpZiAoIWUuaGlkZUJhbm5lcikge1xuICAgICAgICB2YXIgaSA9IGUucmVuZGVyVHlwZSA9PT0gbi5DQU5WQVMgPyBcIkNhbnZhc1wiIDogXCJXZWJHTFwiLFxuICAgICAgICAgICAgcyA9IFwiXCIsXG4gICAgICAgICAgICBhID0gW3NdO2lmIChBcnJheS5pc0FycmF5KGUuYmFubmVyQmFja2dyb3VuZENvbG9yKSkge1xuICAgICAgICAgIHZhciBvO2UuYmFubmVyQmFja2dyb3VuZENvbG9yLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHMgPSBzLmNvbmNhdChcIiVjIFwiKSwgYS5wdXNoKFwiYmFja2dyb3VuZDogXCIgKyB0KSwgbyA9IHQ7XG4gICAgICAgICAgfSksIGFbYS5sZW5ndGggLSAxXSA9IFwiY29sb3I6IFwiICsgZS5iYW5uZXJUZXh0Q29sb3IgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBvO1xuICAgICAgICB9IGVsc2UgcyA9IHMuY29uY2F0KFwiJWMgXCIpLCBhLnB1c2goXCJjb2xvcjogXCIgKyBlLmJhbm5lclRleHRDb2xvciArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIGUuYmFubmVyQmFja2dyb3VuZENvbG9yKTthLnB1c2goXCJiYWNrZ3JvdW5kOiAjZmZmXCIpLCBlLmdhbWVUaXRsZSAmJiAocyA9IHMuY29uY2F0KGUuZ2FtZVRpdGxlKSwgZS5nYW1lVmVyc2lvbiAmJiAocyA9IHMuY29uY2F0KFwiIHZcIiArIGUuZ2FtZVZlcnNpb24pKSwgZS5oaWRlUGhhc2VyIHx8IChzID0gcy5jb25jYXQoXCIgLyBcIikpKSwgZS5oaWRlUGhhc2VyIHx8IChzID0gcy5jb25jYXQoXCJQaGFzZXIgdlwiICsgbi5WRVJTSU9OICsgXCIgKFwiICsgaSArIFwiKVwiKSksIHMgPSBzLmNvbmNhdChcIiAlYyBcIiArIGUuZ2FtZVVSTCksIGFbMF0gPSBzLCBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhKSwgY29uc29sZS5sb2coci5idWlsZCk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0geyBidWlsZDogXCI1NjU0ZTZjMC04ZjgwLTExZTctYTJhNi0zNWJhZjBjNjcwOWRcIiB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQ0KSxcbiAgICAgICAgciA9IGkoNTMpLFxuICAgICAgICBzID0gaSgxNTgpLFxuICAgICAgICBhID0gaSgzODQpLFxuICAgICAgICBvID0gaSgzODUpLFxuICAgICAgICBoID0gaSgzODYpLFxuICAgICAgICB1ID0gaSgzODcpLFxuICAgICAgICBjID0gaSgxNTkpO3QuZXhwb3J0cyA9IHsgT1M6IG4sIEJyb3dzZXI6IHIsIEZlYXR1cmVzOiBzLCBJbnB1dDogYSwgQXVkaW86IG8sIFZpZGVvOiBoLCBGdWxsc2NyZWVuOiB1LCBDYW52YXNGZWF0dXJlczogYyB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0NCksXG4gICAgICAgIHIgPSBpKDUzKSxcbiAgICAgICAgcyA9IHsgdG91Y2g6ICExLCBtc3BvaW50ZXI6ICExLCB3aGVlbEV2ZW50OiBudWxsIH07dC5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChcIm9udG91Y2hzdGFydFwiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzICYmIHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPj0gMSkgJiYgKHMudG91Y2ggPSAhMCksICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgfHwgd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCkgJiYgKHMubXNwb2ludGVyID0gITApLCBuLmNvY29vbkpTIHx8IChcIm9ud2hlZWxcIiBpbiB3aW5kb3cgfHwgci5pZSAmJiBcIldoZWVsRXZlbnRcIiBpbiB3aW5kb3cgPyBzLndoZWVsRXZlbnQgPSBcIndoZWVsXCIgOiBcIm9ubW91c2V3aGVlbFwiIGluIHdpbmRvdyA/IHMud2hlZWxFdmVudCA9IFwibW91c2V3aGVlbFwiIDogci5maXJlZm94ICYmIFwiTW91c2VTY3JvbGxFdmVudFwiIGluIHdpbmRvdyAmJiAocy53aGVlbEV2ZW50ID0gXCJET01Nb3VzZVNjcm9sbFwiKSksIHM7XG4gICAgfSgpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg1MyksXG4gICAgICAgIHIgPSB7IGF1ZGlvRGF0YTogITEsIHdlYkF1ZGlvOiAhMSwgb2dnOiAhMSwgb3B1czogITEsIG1wMzogITEsIHdhdjogITEsIG00YTogITEsIHdlYm06ICExLCBkb2xieTogITEgfTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByLmF1ZGlvRGF0YSA9ICEhd2luZG93LkF1ZGlvLCByLndlYkF1ZGlvID0gISghd2luZG93LkF1ZGlvQ29udGV4dCAmJiAhd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCk7dmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIiksXG4gICAgICAgICAgZSA9ICEhdC5jYW5QbGF5VHlwZTt0cnkge1xuICAgICAgICBpZiAoZSAmJiAodC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCBcIlwiKSAmJiAoci5vZ2cgPSAhMCksICh0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLCBcIlwiKSB8fCB0LmNhblBsYXlUeXBlKFwiYXVkaW8vb3B1cztcIikucmVwbGFjZSgvXm5vJC8sIFwiXCIpKSAmJiAoci5vcHVzID0gITApLCB0LmNhblBsYXlUeXBlKFwiYXVkaW8vbXBlZztcIikucmVwbGFjZSgvXm5vJC8sIFwiXCIpICYmIChyLm1wMyA9ICEwKSwgdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9XCIxXCInKS5yZXBsYWNlKC9ebm8kLywgXCJcIikgJiYgKHIud2F2ID0gITApLCAodC5jYW5QbGF5VHlwZShcImF1ZGlvL3gtbTRhO1wiKSB8fCB0LmNhblBsYXlUeXBlKFwiYXVkaW8vYWFjO1wiKS5yZXBsYWNlKC9ebm8kLywgXCJcIikpICYmIChyLm00YSA9ICEwKSwgdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgXCJcIikgJiYgKHIud2VibSA9ICEwKSwgXCJcIiAhPT0gdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0O2NvZGVjcz1cImVjLTNcIicpKSkgaWYgKG4uZWRnZSkgci5kb2xieSA9ICEwO2Vsc2UgaWYgKG4uc2FmYXJpICYmIG4uc2FmYXJpVmVyc2lvbiA+PSA5ICYmIC9NYWMgT1MgWCAoXFxkKylfKFxcZCspLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgdmFyIGkgPSBwYXJzZUludChSZWdFeHAuJDEsIDEwKSxcbiAgICAgICAgICAgICAgcyA9IHBhcnNlSW50KFJlZ0V4cC4kMiwgMTApOygxMCA9PT0gaSAmJiBzID49IDExIHx8IGkgPiAxMCkgJiYgKHIuZG9sYnkgPSAhMCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKHQpIHt9cmV0dXJuIHI7XG4gICAgfSgpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0geyBvZ2dWaWRlbzogITEsIGgyNjRWaWRlbzogITEsIG1wNFZpZGVvOiAhMSwgd2VibVZpZGVvOiAhMSwgdnA5VmlkZW86ICExLCBobHNWaWRlbzogITEgfTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxcbiAgICAgICAgICBlID0gISF0LmNhblBsYXlUeXBlO3RyeSB7XG4gICAgICAgIGUgJiYgKHQuY2FuUGxheVR5cGUoJ3ZpZGVvL29nZzsgY29kZWNzPVwidGhlb3JhXCInKS5yZXBsYWNlKC9ebm8kLywgXCJcIikgJiYgKGkub2dnVmlkZW8gPSAhMCksIHQuY2FuUGxheVR5cGUoJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MkUwMUVcIicpLnJlcGxhY2UoL15ubyQvLCBcIlwiKSAmJiAoaS5oMjY0VmlkZW8gPSAhMCwgaS5tcDRWaWRlbyA9ICEwKSwgdC5jYW5QbGF5VHlwZSgndmlkZW8vd2VibTsgY29kZWNzPVwidnA4LCB2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCBcIlwiKSAmJiAoaS53ZWJtVmlkZW8gPSAhMCksIHQuY2FuUGxheVR5cGUoJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOVwiJykucmVwbGFjZSgvXm5vJC8sIFwiXCIpICYmIChpLnZwOVZpZGVvID0gITApLCB0LmNhblBsYXlUeXBlKCdhcHBsaWNhdGlvbi94LW1wZWdVUkw7IGNvZGVjcz1cImF2YzEuNDJFMDFFXCInKS5yZXBsYWNlKC9ebm8kLywgXCJcIikgJiYgKGkuaGxzVmlkZW8gPSAhMCkpO1xuICAgICAgfSBjYXRjaCAodCkge31yZXR1cm4gaTtcbiAgICB9KCk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IGF2YWlsYWJsZTogITEsIHJlcXVlc3Q6IFwiXCIsIGNhbmNlbDogXCJcIiwga2V5Ym9hcmQ6ICExIH07dC5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHQsXG4gICAgICAgICAgZSA9IFtcInJlcXVlc3RGdWxsc2NyZWVuXCIsIFwicmVxdWVzdEZ1bGxTY3JlZW5cIiwgXCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiLCBcIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuXCIsIFwibXNSZXF1ZXN0RnVsbHNjcmVlblwiLCBcIm1zUmVxdWVzdEZ1bGxTY3JlZW5cIiwgXCJtb3pSZXF1ZXN0RnVsbFNjcmVlblwiLCBcIm1velJlcXVlc3RGdWxsc2NyZWVuXCJdLFxuICAgICAgICAgIG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2ZvciAodCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgIGlmIChuW2VbdF1dKSB7XG4gICAgICAgICAgaS5hdmFpbGFibGUgPSAhMCwgaS5yZXF1ZXN0ID0gZVt0XTticmVhaztcbiAgICAgICAgfVxuICAgICAgfXZhciByID0gW1wiY2FuY2VsRnVsbFNjcmVlblwiLCBcImV4aXRGdWxsc2NyZWVuXCIsIFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLCBcIndlYmtpdEV4aXRGdWxsc2NyZWVuXCIsIFwibXNDYW5jZWxGdWxsU2NyZWVuXCIsIFwibXNFeGl0RnVsbHNjcmVlblwiLCBcIm1vekNhbmNlbEZ1bGxTY3JlZW5cIiwgXCJtb3pFeGl0RnVsbHNjcmVlblwiXTtpZiAoaS5hdmFpbGFibGUpIGZvciAodCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgIGlmIChkb2N1bWVudFtyW3RdXSkge1xuICAgICAgICAgIGkuY2FuY2VsID0gclt0XTticmVhaztcbiAgICAgICAgfVxuICAgICAgfXJldHVybiB3aW5kb3cuRWxlbWVudCAmJiBFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUICYmIChpLmtleWJvYXJkID0gITApLCBpO1xuICAgIH0oKTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDE2MCksXG4gICAgICAgIHMgPSBpKDM4OSksXG4gICAgICAgIGEgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSB0LCB0aGlzLnR5cGUgPSBlLCB0aGlzLnN0YXRlID0gci5ESVNQQVRDSEVSX0lETEUsIHRoaXMuYWN0aXZlID0gW107XG4gICAgICB9LCB0b3RhbDogZnVuY3Rpb24gdG90YWwoKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSAwLCBlID0gMDsgZSA8IHRoaXMuYWN0aXZlLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgdGhpcy5hY3RpdmVbZV0uc3RhdGUgIT09IHIuTElTVEVORVJfUkVNT1ZJTkcgJiYgdCsrO1xuICAgICAgICB9cmV0dXJuIHQ7XG4gICAgICB9LCBnZXQ6IGZ1bmN0aW9uIGdldCh0KSB7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5hY3RpdmUubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5hY3RpdmVbZV0uY2FsbGJhY2sgPT09IHQpIHJldHVybiB0aGlzLmFjdGl2ZVtlXTtcbiAgICAgICAgfVxuICAgICAgfSwgZ2V0SW5kZXg6IGZ1bmN0aW9uIGdldEluZGV4KHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0aGlzLmFjdGl2ZS5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVtlXS5jYWxsYmFjayA9PT0gdCkgcmV0dXJuIGU7XG4gICAgICAgIH1yZXR1cm4gbnVsbDtcbiAgICAgIH0sIGhhczogZnVuY3Rpb24gaGFzKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHQpO1xuICAgICAgfSwgYWRkOiBmdW5jdGlvbiBhZGQodCwgZSwgaSkge1xuICAgICAgICB2YXIgbiA9IHRoaXMuZ2V0KHQpO24gfHwgKG4gPSBzKHRoaXMudHlwZSwgdCwgZSwgaSksIHRoaXMuc3RhdGUgPT09IHIuRElTUEFUQ0hFUl9JRExFID8gKG4uc3RhdGUgPSByLkxJU1RFTkVSX0FDVElWRSwgdGhpcy5hY3RpdmUucHVzaChuKSwgdGhpcy5hY3RpdmUuc29ydCh0aGlzLnNvcnRIYW5kbGVyKSkgOiB0aGlzLnN0YXRlID09PSByLkRJU1BBVENIRVJfRElTUEFUQ0hJTkcgJiYgdGhpcy5hY3RpdmUucHVzaChuKSk7XG4gICAgICB9LCBzb3J0SGFuZGxlcjogZnVuY3Rpb24gc29ydEhhbmRsZXIodCwgZSkge1xuICAgICAgICByZXR1cm4gZS5wcmlvcml0eSA8IHQucHJpb3JpdHkgPyAtMSA6IGUucHJpb3JpdHkgPiB0LnByaW9yaXR5ID8gMSA6IDA7XG4gICAgICB9LCByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSh0KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSByLkRJU1BBVENIRVJfSURMRSkge1xuICAgICAgICAgIHZhciBlID0gdGhpcy5nZXRJbmRleCh0KTtudWxsICE9PSBlICYmIHRoaXMuYWN0aXZlLnNwbGljZShlLCAxKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSByLkRJU1BBVENIRVJfRElTUEFUQ0hJTkcpIHtcbiAgICAgICAgICB2YXIgaSA9IHRoaXMuZ2V0KHQpO2kgJiYgKGkuc3RhdGUgPSByLkxJU1RFTkVSX1JFTU9WSU5HKTtcbiAgICAgICAgfVxuICAgICAgfSwgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKHQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHIuRElTUEFUQ0hFUl9JRExFKSB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogRmFpbGVkIHRvIGV4ZWN1dGUgJ0V2ZW50RGlzcGF0Y2hlci5kaXNwYXRjaCcgb24gJ1wiICsgdGhpcy50eXBlICsgXCInOiBUaGUgZXZlbnQgaXMgYWxyZWFkeSBiZWluZyBkaXNwYXRjaGVkLlwiKTtpZiAoMCAhPT0gdGhpcy5hY3RpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IHIuRElTUEFUQ0hFUl9ESVNQQVRDSElORztmb3IgKHZhciBlLCBpID0gMDsgaSA8IHRoaXMuYWN0aXZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZSA9IHRoaXMuYWN0aXZlW2ldLCBlLnN0YXRlID09PSByLkxJU1RFTkVSX0FDVElWRSkge1xuICAgICAgICAgICAgICBpZiAoZS5jYWxsYmFjay5jYWxsKHRoaXMuZGlzcGF0Y2hlciwgdCksIHRoaXMuc3RhdGUgIT09IHIuRElTUEFUQ0hFUl9ESVNQQVRDSElORykgYnJlYWs7aWYgKGUub25jZSAmJiAoZS5zdGF0ZSA9IHIuTElTVEVORVJfUkVNT1ZJTkcpLCAhdC5fcHJvcGFnYXRlKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9dGhpcy5zdGF0ZSA9PT0gci5ESVNQQVRDSEVSX1JFTU9WSU5HID8gKHRoaXMucmVtb3ZlQWxsKCksIHRoaXMudGlkeSgpKSA6IHRoaXMuc3RhdGUgPT09IHIuRElTUEFUQ0hFUl9ERVNUUk9ZRUQgPyB0aGlzLmRpc3BhdGNoZXIuZGVsZXRlKHRoaXMudHlwZSkgOiAodGhpcy50aWR5KCksIHRoaXMuc3RhdGUgPSByLkRJU1BBVENIRVJfSURMRSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlbW92ZUFsbDogZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gci5ESVNQQVRDSEVSX0lETEUpIHRoaXMuYWN0aXZlLmxlbmd0aCA9IDA7ZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIgdCA9IHRoaXMuYWN0aXZlLmxlbmd0aCAtIDE7IHQgPj0gMDsgdC0tKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVt0XS5zdGF0ZSAhPT0gci5MSVNURU5FUl9QRU5ESU5HICYmIHRoaXMuYWN0aXZlLnBvcCgpO1xuICAgICAgICAgIH10aGlzLnN0YXRlID0gci5ESVNQQVRDSEVSX0lETEU7XG4gICAgICAgIH1cbiAgICAgIH0sIHRpZHk6IGZ1bmN0aW9uIHRpZHkoKSB7XG4gICAgICAgIGlmICgwICE9PSB0aGlzLmFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdCA9IDAsXG4gICAgICAgICAgICAgIGUgPSB0aGlzLmFjdGl2ZS5sZW5ndGggLSAxO2RvIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlW2VdLnN0YXRlID09PSByLkxJU1RFTkVSX1JFTU9WSU5HID8gdGhpcy5hY3RpdmUuc3BsaWNlKGUsIDEpIDogdGhpcy5hY3RpdmVbZV0uc3RhdGUgPT09IHIuTElTVEVORVJfUEVORElORyAmJiAodGhpcy5hY3RpdmVbZV0uc3RhdGUsIHIuTElTVEVORVJfQUNUSVZFLCB0KyspLCBlLS07XG4gICAgICAgICAgfSB3aGlsZSAoZSA+PSAwKTt0ID4gMCAmJiB0aGlzLmFjdGl2ZS5zb3J0KHRoaXMuc29ydEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmFjdGl2ZS5sZW5ndGggPSAwLCB0aGlzLmRpc3BhdGNoZXIgPSB2b2lkIDAsIHRoaXMudHlwZSA9IFwiXCIsIHRoaXMuc3RhdGUgPSByLkRJU1BBVENIRVJfREVTVFJPWUVEO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNjApLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpLCBfcjUpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IHQsIGNhbGxiYWNrOiBlLCBwcmlvcml0eTogaSwgb25jZTogX3I1LCBzdGF0ZTogbi5MSVNURU5FUl9QRU5ESU5HIH07XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgdmFyIGU7aWYgKHZvaWQgMCAhPT0gZG9jdW1lbnQuaGlkZGVuKSBlID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7ZWxzZSB7XG4gICAgICAgIFtcIndlYmtpdFwiLCBcIm1velwiLCBcIm1zXCJdLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICB2b2lkIDAgIT09IGRvY3VtZW50W3QgKyBcIkhpZGRlblwiXSAmJiAoZG9jdW1lbnQuaGlkZGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50W3QgKyBcIkhpZGRlblwiXTtcbiAgICAgICAgICB9LCBlID0gdCArIFwidmlzaWJpbGl0eWNoYW5nZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9dmFyIGkgPSBmdW5jdGlvbiBpKGUpIHtcbiAgICAgICAgZG9jdW1lbnQuaGlkZGVuIHx8IFwicGF1c2VcIiA9PT0gZS50eXBlID8gdC5kaXNwYXRjaChuZXcgbihcIkhJRERFTlwiKSkgOiB0LmRpc3BhdGNoKG5ldyBuKFwiVklTSUJMRVwiKSk7XG4gICAgICB9O2UgPyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGUsIGksICExKSA6IGNvbnNvbGUubG9nKFwiRmFsbGJhY2sgVE9ET1wiKSwgd2luZG93Lm9uYmx1ciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdC5kaXNwYXRjaChuZXcgbihcIk9OX0JMVVJcIikpO1xuICAgICAgfSwgd2luZG93Lm9uZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHQuZGlzcGF0Y2gobmV3IG4oXCJPTl9GT0NVU1wiKSk7XG4gICAgICB9O1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDM5MiksXG4gICAgICAgIHMgPSBpKDI5KSxcbiAgICAgICAgYSA9IGkoMTYzKSxcbiAgICAgICAgbyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IHQsIHRoaXMudGV4dHVyZU1hbmFnZXIgPSBudWxsLCB0aGlzLmV2ZW50cyA9IG5ldyBzKCksIHRoaXMuZ2xvYmFsVGltZVNjYWxlID0gMSwgdGhpcy5hbmltcyA9IG5ldyBhKCksIHRoaXMucGF1c2VkID0gITE7XG4gICAgICB9LCBib290OiBmdW5jdGlvbiBib290KHQpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlciA9IHQ7XG4gICAgICB9LCBhZGQ6IHIuQWRkQW5pbWF0aW9uLCBjcmVhdGU6IHIuQ3JlYXRlRnJhbWVBbmltYXRpb24sIGZyb21KU09OOiByLkZyb21KU09OLCBnZW5lcmF0ZUZyYW1lTmFtZXM6IHIuR2VuZXJhdGVGcmFtZU5hbWVzLCBnZW5lcmF0ZUZyYW1lTnVtYmVyczogci5HZW5lcmF0ZUZyYW1lTnVtYmVycywgZ2V0OiByLkdldEFuaW1hdGlvbiwgbG9hZDogci5Mb2FkQW5pbWF0aW9uVG9HYW1lT2JqZWN0LCBwbGF5OiByLlBsYXlBbmltYXRpb24sIHBhdXNlQWxsOiByLlBhdXNlQWxsLCByZW1vdmU6IHIuUmVtb3ZlQW5pbWF0aW9uLCByZXN1bWVBbGw6IHIuUmVzdW1lQWxsLCBzdGFnZ2VyUGxheTogci5TdGFnZ2VyUGxheUFuaW1hdGlvbiwgdG9KU09OOiByLlRvSlNPTiwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHt9IH0pO3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBBZGRBbmltYXRpb246IGkoMzkzKSwgQ3JlYXRlRnJhbWVBbmltYXRpb246IGkoMzk4KSwgRnJvbUpTT046IGkoNDE3KSwgR2VuZXJhdGVGcmFtZU5hbWVzOiBpKDQxOCksIEdlbmVyYXRlRnJhbWVOdW1iZXJzOiBpKDQxOSksIEdldEFuaW1hdGlvbjogaSg0MjApLCBMb2FkQW5pbWF0aW9uVG9HYW1lT2JqZWN0OiBpKDQyMSksIFBsYXlBbmltYXRpb246IGkoNDIyKSwgUGF1c2VBbGw6IGkoNDIzKSwgUmVzdW1lQWxsOiBpKDQyNCksIFJlbW92ZUFuaW1hdGlvbjogaSg0MjUpLCBTdGFnZ2VyUGxheUFuaW1hdGlvbjogaSg0MjYpLCBUb0pTT046IGkoNDI3KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0NSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFuaW1zLmhhcyh0KSA/IHZvaWQgY29uc29sZS5lcnJvcihcIkFuaW1hdGlvbiB3aXRoIGtleVwiLCB0LCBcImFscmVhZHkgZXhpc3RzXCIpIDogKGUua2V5ID0gdCwgdGhpcy5hbmltcy5zZXQodCwgZSksIHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBuLkFERF9BTklNQVRJT05fRVZFTlQodCwgZSkpLCB0aGlzKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIkFERF9BTklNQVRJT05fRVZFTlRcIiksIHRoaXMua2V5ID0gdCwgdGhpcy5hbmltYXRpb24gPSBlO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIlBBVVNFX0FMTF9BTklNQVRJT05fRVZFTlRcIik7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIlJFTU9WRV9BTklNQVRJT05fRVZFTlRcIiksIHRoaXMua2V5ID0gdCwgdGhpcy5hbmltYXRpb24gPSBlO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIlJFU1VNRV9BTExfQU5JTUFUSU9OX0VWRU5UXCIpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0NSksXG4gICAgICAgIHIgPSBpKDM5OSksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQpIHtcbiAgICAgIHZhciBlID0gdC5rZXk7aWYgKCFlIHx8IHRoaXMuYW5pbXMuaGFzKGUpKSByZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJJbnZhbGlkIEFuaW1hdGlvbiBLZXksIG9yIEtleSBhbHJlYWR5IGluIHVzZTogXCIgKyBlKTt2YXIgaSA9IG5ldyByKHRoaXMsIGUsIHQpO3JldHVybiB0aGlzLmFuaW1zLnNldChlLCBpKSwgdGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IG4uQUREX0FOSU1BVElPTl9FVkVOVChlLCBpKSksIGk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMiksXG4gICAgICAgIHMgPSBpKDE2MSksXG4gICAgICAgIGEgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSkge1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSB0LCB0aGlzLmtleSA9IGUsIHRoaXMudHlwZSA9IFwiZnJhbWVcIiwgdGhpcy5mcmFtZXMgPSBzKHQudGV4dHVyZU1hbmFnZXIsIHIoaSwgXCJmcmFtZXNcIiwgW10pKSwgdGhpcy5mcmFtZVJhdGUgPSByKGksIFwiZnJhbWVSYXRlXCIsIG51bGwpLCB0aGlzLmR1cmF0aW9uID0gcihpLCBcImR1cmF0aW9uXCIsIG51bGwpLCBudWxsID09PSB0aGlzLmR1cmF0aW9uICYmIG51bGwgPT09IHRoaXMuZnJhbWVSYXRlID8gKHRoaXMuZnJhbWVSYXRlID0gMjQsIHRoaXMuZHVyYXRpb24gPSB0aGlzLmZyYW1lUmF0ZSAvIHRoaXMuZnJhbWVzLmxlbmd0aCkgOiB0aGlzLmR1cmF0aW9uICYmIG51bGwgPT09IHRoaXMuZnJhbWVSYXRlID8gdGhpcy5mcmFtZVJhdGUgPSB0aGlzLmZyYW1lcy5sZW5ndGggLyB0aGlzLmR1cmF0aW9uIDogdGhpcy5kdXJhdGlvbiA9IHRoaXMuZnJhbWVzLmxlbmd0aCAvIHRoaXMuZnJhbWVSYXRlLCB0aGlzLm1zUGVyRnJhbWUgPSAxZTMgLyB0aGlzLmZyYW1lUmF0ZSwgdGhpcy5za2lwTWlzc2VkRnJhbWVzID0gcihpLCBcInNraXBNaXNzZWRGcmFtZXNcIiwgITApLCB0aGlzLmRlbGF5ID0gcihpLCBcImRlbGF5XCIsIDApLCB0aGlzLnJlcGVhdCA9IHIoaSwgXCJyZXBlYXRcIiwgMCksIHRoaXMucmVwZWF0RGVsYXkgPSByKGksIFwicmVwZWF0RGVsYXlcIiwgMCksIHRoaXMueW95byA9IHIoaSwgXCJ5b3lvXCIsICExKSwgdGhpcy5zaG93T25TdGFydCA9IHIoaSwgXCJzaG93T25TdGFydFwiLCAhMSksIHRoaXMuaGlkZU9uQ29tcGxldGUgPSByKGksIFwiaGlkZU9uQ29tcGxldGVcIiwgITEpLCB0aGlzLmNhbGxiYWNrU2NvcGUgPSByKGksIFwiY2FsbGJhY2tTY29wZVwiLCB0aGlzKSwgdGhpcy5vblN0YXJ0ID0gcihpLCBcIm9uU3RhcnRcIiwgITEpLCB0aGlzLm9uU3RhcnRQYXJhbXMgPSByKGksIFwib25TdGFydFBhcmFtc1wiLCBbXSksIHRoaXMub25SZXBlYXQgPSByKGksIFwib25SZXBlYXRcIiwgITEpLCB0aGlzLm9uUmVwZWF0UGFyYW1zID0gcihpLCBcIm9uUmVwZWF0UGFyYW1zXCIsIFtdKSwgdGhpcy5vblVwZGF0ZSA9IHIoaSwgXCJvblVwZGF0ZVwiLCAhMSksIHRoaXMub25VcGRhdGVQYXJhbXMgPSByKGksIFwib25VcGRhdGVQYXJhbXNcIiwgW10pLCB0aGlzLm9uQ29tcGxldGUgPSByKGksIFwib25Db21wbGV0ZVwiLCAhMSksIHRoaXMub25Db21wbGV0ZVBhcmFtcyA9IHIoaSwgXCJvbkNvbXBsZXRlUGFyYW1zXCIsIFtdKSwgdGhpcy5wYXVzZWQgPSAhMSwgdGhpcy5tYW5hZ2VyLmV2ZW50cy5vbihcIlBBVVNFX0FMTF9BTklNQVRJT05fRVZFTlRcIiwgdGhpcy5wYXVzZS5iaW5kKHRoaXMpKSwgdGhpcy5tYW5hZ2VyLmV2ZW50cy5vbihcIlJFU1VNRV9BTExfQU5JTUFUSU9OX0VWRU5UXCIsIHRoaXMucmVzdW1lLmJpbmQodGhpcykpO1xuICAgICAgfSwgYWRkRnJhbWU6IGkoNDAxKSwgYWRkRnJhbWVBdDogaSg0MDIpLCBjaGVja0ZyYW1lOiBpKDQwMyksIGNvbXBsZXRlQW5pbWF0aW9uOiBpKDQwNCksIGdldEZpcnN0VGljazogaSg0MDUpLCBnZXRGcmFtZUF0OiBpKDQwNiksIGdldE5leHRUaWNrOiBpKDQwNyksIGxvYWQ6IGkoNDA4KSwgbmV4dEZyYW1lOiBpKDQwOSksIHByZXZpb3VzRnJhbWU6IGkoNDEwKSwgcmVtb3ZlRnJhbWU6IGkoNDExKSwgcmVtb3ZlRnJhbWVBdDogaSg0MTIpLCByZXBlYXRBbmltYXRpb246IGkoNDEzKSwgc2V0RnJhbWU6IGkoNDE0KSwgdG9KU09OOiBpKDQxNSksIHVwZGF0ZUZyYW1lU2VxdWVuY2U6IGkoNDE2KSwgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICB0aGlzLnBhdXNlZCA9ICEwO1xuICAgICAgfSwgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICAgIHRoaXMucGF1c2VkID0gITE7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge30gfSk7dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k4Miwgbikge1xuICAgICAgdGhpcy50ZXh0dXJlS2V5ID0gdCwgdGhpcy50ZXh0dXJlRnJhbWUgPSBlLCB0aGlzLmluZGV4ID0gX2k4MiwgdGhpcy5mcmFtZSA9IG4sIHRoaXMuaXNGaXJzdCA9ICExLCB0aGlzLmlzTGFzdCA9ICExLCB0aGlzLnByZXZGcmFtZSA9IG51bGwsIHRoaXMubmV4dEZyYW1lID0gbnVsbCwgdGhpcy5kdXJhdGlvbiA9IDAsIHRoaXMucHJvZ3Jlc3MgPSAwLCB0aGlzLm9uVXBkYXRlID0gbnVsbCwgdGhpcy5zZXRWaXNpYmxlID0gITEsIHRoaXMudmlzaWJsZSA9ICExO1xuICAgIH07aS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBpLCBpLnByb3RvdHlwZSA9IHsgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7IGtleTogdGhpcy50ZXh0dXJlS2V5LCBmcmFtZTogdGhpcy50ZXh0dXJlRnJhbWUsIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLCB2aXNpYmxlOiB0aGlzLnZpc2libGUgfTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZnJhbWUgPSB2b2lkIDAsIHRoaXMub25VcGRhdGUgPSB2b2lkIDA7XG4gICAgICB9IH0sIHQuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFkZEZyYW1lQXQodGhpcy5mcmFtZXMubGVuZ3RoLCB0KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE2MSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApO3ZhciBpID0gbih0aGlzLm1hbmFnZXIudGV4dHVyZU1hbmFnZXIsIGUpO2lmIChpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKDAgPT09IHQpIHRoaXMuZnJhbWVzID0gaS5jb25jYXQodGhpcy5mcmFtZXMpO2Vsc2UgaWYgKHQgPT09IHRoaXMuZnJhbWVzLmxlbmd0aCkgdGhpcy5mcmFtZXMgPSB0aGlzLmZyYW1lcy5jb25jYXQoaSk7ZWxzZSB7XG4gICAgICAgICAgdmFyIHIgPSB0aGlzLmZyYW1lcy5zbGljZSgwLCB0KSxcbiAgICAgICAgICAgICAgcyA9IHRoaXMuZnJhbWVzLnNsaWNlKHQpO3RoaXMuZnJhbWVzID0gci5jb25jYXQoaSwgcyk7XG4gICAgICAgIH10aGlzLnVwZGF0ZUZyYW1lU2VxdWVuY2UoKTtcbiAgICAgIH1yZXR1cm4gdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0IDwgdGhpcy5mcmFtZXMubGVuZ3RoO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdGhpcy5oaWRlT25Db21wbGV0ZSAmJiAodC5wYXJlbnQudmlzaWJsZSA9ICExKSwgdC5zdG9wKCEwKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9ICEwKSwgdC5hY2N1bXVsYXRvciA9IDAsIHQubmV4dFRpY2sgPSB0Lm1zUGVyRnJhbWUgKyB0LmN1cnJlbnRGcmFtZS5kdXJhdGlvbiwgZSAmJiAodC5uZXh0VGljayArPSAxZTMgKiB0Ll9kZWxheSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5mcmFtZXNbdF07XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB0LmFjY3VtdWxhdG9yIC09IHQubmV4dFRpY2ssIHQubmV4dFRpY2sgPSB0Lm1zUGVyRnJhbWUgKyB0LmN1cnJlbnRGcmFtZS5kdXJhdGlvbjtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGUgPj0gdGhpcy5mcmFtZXMubGVuZ3RoICYmIChlID0gMCksIHQuY3VycmVudEFuaW0gIT09IHRoaXMgJiYgKHQuY3VycmVudEFuaW0gPSB0aGlzLCB0Ll90aW1lU2NhbGUgPSAxLCB0LmZyYW1lUmF0ZSA9IHRoaXMuZnJhbWVSYXRlLCB0LmR1cmF0aW9uID0gdGhpcy5kdXJhdGlvbiwgdC5tc1BlckZyYW1lID0gdGhpcy5tc1BlckZyYW1lLCB0LnNraXBNaXNzZWRGcmFtZXMgPSB0aGlzLnNraXBNaXNzZWRGcmFtZXMsIHQuX2RlbGF5ID0gdGhpcy5kZWxheSwgdC5fcmVwZWF0ID0gdGhpcy5yZXBlYXQsIHQuX3JlcGVhdERlbGF5ID0gdGhpcy5yZXBlYXREZWxheSwgdC5feW95byA9IHRoaXMueW95bywgdC5fY2FsbGJhY2tBcmdzWzFdID0gdGhpcywgdC5fdXBkYXRlUGFyYW1zID0gdC5fY2FsbGJhY2tBcmdzLmNvbmNhdCh0aGlzLm9uVXBkYXRlUGFyYW1zKSksIHQudXBkYXRlRnJhbWUodGhpcy5mcmFtZXNbZV0pO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB0LmN1cnJlbnRGcmFtZTtlLmlzTGFzdCA/IHRoaXMueW95byA/ICh0LmZvcndhcmQgPSAhMSwgdC51cGRhdGVGcmFtZShlLnByZXZGcmFtZSksIHRoaXMuZ2V0TmV4dFRpY2sodCkpIDogdC5yZXBlYXRDb3VudGVyID4gMCA/IHRoaXMucmVwZWF0QW5pbWF0aW9uKHQpIDogdGhpcy5jb21wbGV0ZUFuaW1hdGlvbih0KSA6ICh0LnVwZGF0ZUZyYW1lKGUubmV4dEZyYW1lKSwgdGhpcy5nZXROZXh0VGljayh0KSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IHQuY3VycmVudEZyYW1lO2UuaXNGaXJzdCA/IHQucmVwZWF0Q291bnRlciA+IDAgPyB0aGlzLnJlcGVhdEFuaW1hdGlvbih0KSA6IHRoaXMuY29tcGxldGVBbmltYXRpb24odCkgOiAodC51cGRhdGVGcmFtZShlLnByZXZGcmFtZSksIHRoaXMuZ2V0TmV4dFRpY2sodCkpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB0aGlzLmZyYW1lcy5pbmRleE9mKHQpO3JldHVybiAtMSAhPT0gZSAmJiB0aGlzLnJlbW92ZUZyYW1lQXQoZSksIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5mcmFtZXMuc3BsaWNlKHQsIDEpLCB0aGlzLnVwZGF0ZUZyYW1lU2VxdWVuY2UoKSwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHQuX3JlcGVhdERlbGF5ID4gMCAmJiAhMSA9PT0gdC5wZW5kaW5nUmVwZWF0ID8gKHQucGVuZGluZ1JlcGVhdCA9ICEwLCB0LmFjY3VtdWxhdG9yIC09IHQubmV4dFRpY2ssIHQubmV4dFRpY2sgKz0gMWUzICogdC5fcmVwZWF0RGVsYXkpIDogKHQucmVwZWF0Q291bnRlci0tLCB0LmZvcndhcmQgPSAhMCwgdC51cGRhdGVGcmFtZSh0LmN1cnJlbnRGcmFtZS5uZXh0RnJhbWUpLCB0aGlzLmdldE5leHRUaWNrKHQpLCB0LnBlbmRpbmdSZXBlYXQgPSAhMSwgdGhpcy5vblJlcGVhdCAmJiB0aGlzLm9uUmVwZWF0LmFwcGx5KHRoaXMuY2FsbGJhY2tTY29wZSwgdC5fY2FsbGJhY2tBcmdzLmNvbmNhdCh0aGlzLm9uUmVwZWF0UGFyYW1zKSkpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdC5mb3J3YXJkID8gdGhpcy5uZXh0RnJhbWUodCkgOiB0aGlzLnByZXZpb3VzRnJhbWUodCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIHZhciB0ID0geyBrZXk6IHRoaXMua2V5LCB0eXBlOiB0aGlzLnR5cGUsIGZyYW1lczogW10sIGZyYW1lUmF0ZTogdGhpcy5mcmFtZVJhdGUsIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLCBza2lwTWlzc2VkRnJhbWVzOiB0aGlzLnNraXBNaXNzZWRGcmFtZXMsIGRlbGF5OiB0aGlzLmRlbGF5LCByZXBlYXQ6IHRoaXMucmVwZWF0LCByZXBlYXREZWxheTogdGhpcy5yZXBlYXREZWxheSwgeW95bzogdGhpcy55b3lvLCBzaG93T25TdGFydDogdGhpcy5zaG93T25TdGFydCwgaGlkZU9uQ29tcGxldGU6IHRoaXMuaGlkZU9uQ29tcGxldGUgfTtyZXR1cm4gdGhpcy5mcmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICB0LmZyYW1lcy5wdXNoKGUudG9KU09OKCkpO1xuICAgICAgfSksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIGZvciAodmFyIHQgPSB0aGlzLmZyYW1lcy5sZW5ndGgsIGUgPSAxIC8gKHQgLSAxKSwgaSA9IDA7IGkgPCB0OyBpKyspIHtcbiAgICAgICAgdmFyIG4gPSB0aGlzLmZyYW1lc1tpXTtuLmluZGV4ID0gaSArIDEsIG4uaXNGaXJzdCA9ICExLCBuLmlzTGFzdCA9ICExLCBuLnByb2dyZXNzID0gaSAqIGUsIDAgPT09IGkgPyAobi5pc0ZpcnN0ID0gITAsIG4uaXNMYXN0ID0gMSA9PT0gdCwgbi5wcmV2RnJhbWUgPSB0aGlzLmZyYW1lc1t0IC0gMV0sIG4ubmV4dEZyYW1lID0gdGhpcy5mcmFtZXNbaSArIDFdKSA6IGkgPT09IHQgLSAxID8gKG4uaXNMYXN0ID0gITAsIG4ucHJldkZyYW1lID0gdGhpcy5mcmFtZXNbdCAtIDJdLCBuLm5leHRGcmFtZSA9IHRoaXMuZnJhbWVzWzBdKSA6IHQgPiAxICYmIChuLnByZXZGcmFtZSA9IHRoaXMuZnJhbWVzW2kgLSAxXSwgbi5uZXh0RnJhbWUgPSB0aGlzLmZyYW1lc1tpICsgMV0pO1xuICAgICAgfXJldHVybiB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gITEpLCBlICYmIHRoaXMuYW5pbXMuY2xlYXIoKSwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCAmJiAodCA9IEpTT04ucGFyc2UodCkpO3ZhciBpID0gW107aWYgKHQuaGFzT3duUHJvcGVydHkoXCJhbmltc1wiKSAmJiBBcnJheS5pc0FycmF5KHQuYW5pbXMpKSB7XG4gICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5hbmltcy5sZW5ndGg7IG4rKykge1xuICAgICAgICAgIGkucHVzaCh0aGlzLmNyZWF0ZSh0LmFuaW1zW25dKSk7XG4gICAgICAgIH10Lmhhc093blByb3BlcnR5KFwiZ2xvYmFsVGltZVNjYWxlXCIpICYmICh0aGlzLmdsb2JhbFRpbWVTY2FsZSA9IHQuZ2xvYmFsVGltZVNjYWxlKTtcbiAgICAgIH0gZWxzZSB0Lmhhc093blByb3BlcnR5KFwia2V5XCIpICYmIFwiZnJhbWVcIiA9PT0gdC50eXBlICYmIGkucHVzaCh0aGlzLmNyZWF0ZSh0KSk7cmV0dXJuIGk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyKSxcbiAgICAgICAgciA9IGkoMTYyKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgdmFyIGkgPSBuKGUsIFwicHJlZml4XCIsIFwiXCIpLFxuICAgICAgICAgIHMgPSBuKGUsIFwic3RhcnRcIiwgMCksXG4gICAgICAgICAgYSA9IG4oZSwgXCJlbmRcIiwgMCksXG4gICAgICAgICAgbyA9IG4oZSwgXCJzdWZmaXhcIiwgXCJcIiksXG4gICAgICAgICAgaCA9IG4oZSwgXCJ6ZXJvUGFkXCIsIDApLFxuICAgICAgICAgIHUgPSBuKGUsIFwib3V0cHV0QXJyYXlcIiwgW10pLFxuICAgICAgICAgIGMgPSBuKGUsIFwiZnJhbWVzXCIsICExKSxcbiAgICAgICAgICBsID0gdGhpcy50ZXh0dXJlTWFuYWdlci5nZXQodCk7aWYgKCFsKSByZXR1cm4gdTt2YXIgZiA9IHMgPCBhID8gMSA6IC0xO2EgKz0gZjt2YXIgZCwgcDtpZiAoQXJyYXkuaXNBcnJheShjKSkgZm9yIChkID0gMDsgZCA8IGMubGVuZ3RoOyBkKyspIHtcbiAgICAgICAgcCA9IGkgKyByKGNbZF0sIGgsIFwiMFwiLCAxKSArIG8sIGwuaGFzKHApICYmIHUucHVzaCh7IGtleTogdCwgZnJhbWU6IHAgfSk7XG4gICAgICB9IGVsc2UgZm9yIChkID0gczsgZCAhPT0gYTsgZCArPSBmKSB7XG4gICAgICAgIHAgPSBpICsgcihkLCBoLCBcIjBcIiwgMSkgKyBvLCBsLmhhcyhwKSAmJiB1LnB1c2goeyBrZXk6IHQsIGZyYW1lOiBwIH0pO1xuICAgICAgfXJldHVybiB1O1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHZhciBpID0gbihlLCBcInN0YXJ0XCIsIDApLFxuICAgICAgICAgIHIgPSBuKGUsIFwiZW5kXCIsIC0xKSxcbiAgICAgICAgICBzID0gbihlLCBcImZpcnN0XCIsICExKSxcbiAgICAgICAgICBhID0gbihlLCBcIm91dHB1dEFycmF5XCIsIFtdKSxcbiAgICAgICAgICBvID0gbihlLCBcImZyYW1lc1wiLCAhMSksXG4gICAgICAgICAgaCA9IHRoaXMudGV4dHVyZU1hbmFnZXIuZ2V0KHQpO2lmICghaCkgcmV0dXJuIGE7cyAmJiBoLmhhcyhzKSAmJiBhLnB1c2goeyBrZXk6IHQsIGZyYW1lOiBzIH0pO3ZhciB1O2lmIChBcnJheS5pc0FycmF5KG8pKSBmb3IgKHUgPSAwOyB1IDwgby5sZW5ndGg7IHUrKykge1xuICAgICAgICBoLmhhcyhvW3VdKSAmJiBhLnB1c2goeyBrZXk6IHQsIGZyYW1lOiBvW3VdIH0pO1xuICAgICAgfSBlbHNlIGZvciAoLTEgPT09IHIgJiYgKHIgPSBoLmZyYW1lVG90YWwpLCB1ID0gaTsgdSA8PSByOyB1KyspIHtcbiAgICAgICAgaC5oYXModSkgJiYgYS5wdXNoKHsga2V5OiB0LCBmcmFtZTogdSB9KTtcbiAgICAgIH1yZXR1cm4gYTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFuaW1zLmdldCh0KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pODMpIHtcbiAgICAgIHZhciBuID0gdGhpcy5nZXQoZSk7cmV0dXJuIG4gJiYgbi5sb2FkKHQsIF9pODMpLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkgfHwgKGUgPSBbZV0pLCB0aGlzLmdldCh0KSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBlW2ldLmFuaW1zLnBsYXkodCk7XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQ1KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXVzZWQgfHwgKHRoaXMucGF1c2VkID0gITAsIHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBuLlBBVVNFX0FMTF9BTklNQVRJT05fRVZFTlQoKSkpLCB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDUpLFxuICAgICAgICByID0gZnVuY3Rpb24gcigpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhdXNlZCAmJiAodGhpcy5wYXVzZWQgPSAhMSwgdGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IG4uUkVTVU1FX0FMTF9BTklNQVRJT05fRVZFTlQoKSkpLCB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDUpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICB2YXIgZSA9IHRoaXMuZ2V0KHQpO3JldHVybiBlICYmICh0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgbi5SRU1PVkVfQU5JTUFUSU9OX0VWRU5UKHQsIGUpKSwgdGhpcy5hbmltcy5kZWxldGUodCkpLCBlO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k4NCkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gX2k4NCAmJiAoX2k4NCA9IDApLCBBcnJheS5pc0FycmF5KGUpIHx8IChlID0gW2VdKSwgdGhpcy5nZXQodCkpIHtcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgZVtuXS5hbmltcy5kZWxheWVkUGxheShfaTg0ICogbiwgdCk7XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIGlmICh2b2lkIDAgIT09IHQgJiYgXCJcIiAhPT0gdCkgcmV0dXJuIHRoaXMuYW5pbXMuZ2V0KHQpLnRvSlNPTigpO3ZhciBlID0geyBhbmltczogW10sIGdsb2JhbFRpbWVTY2FsZTogdGhpcy5nbG9iYWxUaW1lU2NhbGUgfTtyZXR1cm4gdGhpcy5hbmltcy5lYWNoKGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgICAgIGUuYW5pbXMucHVzaChpLnRvSlNPTigpKTtcbiAgICAgIH0pLCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNCksXG4gICAgICAgIHIgPSBpKDExKSxcbiAgICAgICAgcyA9IGkoMTU4KSxcbiAgICAgICAgYSA9IGkoNDI5KSxcbiAgICAgICAgbyA9IGkoNDM0KSxcbiAgICAgICAgaCA9IGkoNjgpLFxuICAgICAgICB1ID0gZnVuY3Rpb24gdSh0KSB7XG4gICAgICB2YXIgZSA9IHQuY29uZmlnO2lmIChlLnJlbmRlclR5cGUgPT09IG4uQ0FOVkFTIHx8IGUucmVuZGVyVHlwZSAhPT0gbi5DQU5WQVMgJiYgIXMud2ViR0wpIHtcbiAgICAgICAgaWYgKCFzLmNhbnZhcykgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBDYW52YXMgb3IgV2ViR0wgY29udGV4dCwgYWJvcnRpbmcuXCIpO2UucmVuZGVyVHlwZSA9IG4uQ0FOVkFTO1xuICAgICAgfSBlbHNlIGUucmVuZGVyVHlwZSA9IG4uV0VCR0w7ZS5waXhlbEFydCAmJiByLmRpc2FibGVTbW9vdGhpbmcoKSwgZS5jYW52YXMgPyB0LmNhbnZhcyA9IGUuY2FudmFzIDogdC5jYW52YXMgPSByLmNyZWF0ZSh0LCBlLndpZHRoLCBlLmhlaWdodCwgZS5yZW5kZXJUeXBlKSwgZS5jYW52YXNTdHlsZSAmJiAodC5jYW52YXMuc3R5bGUgPSBlLmNhbnZhc1N0eWxlKSwgZS5waXhlbEFydCAmJiBoLnNldENyaXNwKHQuY2FudmFzKSwgMSAhPT0gZS56b29tICYmICh0LmNhbnZhcy5zdHlsZS53aWR0aCA9IChlLndpZHRoICogZS56b29tKS50b1N0cmluZygpICsgXCJweFwiLCB0LmNhbnZhcy5zdHlsZS5oZWlnaHQgPSAoZS5oZWlnaHQgKiBlLnpvb20pLnRvU3RyaW5nKCkgKyBcInB4XCIpLCBlLnJlbmRlclR5cGUgPT09IG4uV0VCR0wgPyAodC5yZW5kZXJlciA9IG5ldyBvKHQpLCB0LmNvbnRleHQgPSBudWxsKSA6ICh0LnJlbmRlcmVyID0gbmV3IGEodCksIHQuY29udGV4dCA9IHQucmVuZGVyZXIuZ2FtZUNvbnRleHQsIHQuY2FudmFzLmlkID0gXCJnYW1lXCIpO1xuICAgIH07dC5leHBvcnRzID0gdTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDMwKSxcbiAgICAgICAgciA9IGkoNDMxKSxcbiAgICAgICAgcyA9IGkoMCksXG4gICAgICAgIGEgPSBpKDQpLFxuICAgICAgICBvID0gaSg0MzIpLFxuICAgICAgICBoID0gaSg0MzMpLFxuICAgICAgICB1ID0gaSgxNjQpLFxuICAgICAgICBjID0gaSgyNiksXG4gICAgICAgIGwgPSBpKDY3KSxcbiAgICAgICAgZiA9IG5ldyBzKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IHQsIHRoaXMudHlwZSA9IGEuQ0FOVkFTLCB0aGlzLmRyYXdDb3VudCA9IDAsIHRoaXMud2lkdGggPSB0LmNvbmZpZy53aWR0aCAqIHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ID0gdC5jb25maWcuaGVpZ2h0ICogdC5jb25maWcucmVzb2x1dGlvbiwgdGhpcy5yZXNvbHV0aW9uID0gdC5jb25maWcucmVzb2x1dGlvbiwgdGhpcy5zY2FsZU1vZGUgPSB0LmNvbmZpZy5waXhlbEFydCA/IGMuTkVBUkVTVCA6IGMuTElORUFSLCB0aGlzLmdhbWVDYW52YXMgPSB0LmNhbnZhcywgdGhpcy5nYW1lQ29udGV4dCA9IHUodGhpcy5nYW1lQ2FudmFzKSwgdGhpcy5nYW1lQ29uZmlnID0gdC5jb25maWcsIHRoaXMuY3VycmVudENvbnRleHQgPSB0aGlzLmdhbWVDb250ZXh0LCB0aGlzLmRyYXdJbWFnZSA9IG8sIHRoaXMuYmxpdEltYWdlID0gbiwgdGhpcy5ibGVuZE1vZGVzID0gaCgpLCB0aGlzLmN1cnJlbnRBbHBoYSA9IDEsIHRoaXMuY3VycmVudEJsZW5kTW9kZSA9IDAsIHRoaXMuY3VycmVudFNjYWxlTW9kZSA9IDAsIHRoaXMuaW5pdCgpO1xuICAgICAgfSwgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgfSwgcmVzaXplOiBmdW5jdGlvbiByZXNpemUodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLndpZHRoID0gdCAqIGksIHRoaXMuaGVpZ2h0ID0gZSAqIGksIHRoaXMuZ2FtZUNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGgsIHRoaXMuZ2FtZUNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodCwgdGhpcy5hdXRvUmVzaXplICYmICh0aGlzLmdhbWVDYW52YXMuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoIC8gaSArIFwicHhcIiwgdGhpcy5nYW1lQ2FudmFzLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0IC8gaSArIFwicHhcIiksIHRoaXMuc2NhbGVNb2RlID09PSBjLk5FQVJFU1QgJiYgbC5kaXNhYmxlKHRoaXMuZ2FtZUNvbnRleHQpO1xuICAgICAgfSwgcmVzZXRUcmFuc2Zvcm06IGZ1bmN0aW9uIHJlc2V0VHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRDb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgIH0sIHNldEJsZW5kTW9kZTogZnVuY3Rpb24gc2V0QmxlbmRNb2RlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEJsZW5kTW9kZSAhPT0gdCAmJiAodGhpcy5jdXJyZW50Q29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0LCB0aGlzLmN1cnJlbnRCbGVuZE1vZGUgPSB0KSwgdGhpcy5jdXJyZW50QmxlbmRNb2RlO1xuICAgICAgfSwgc2V0QWxwaGE6IGZ1bmN0aW9uIHNldEFscGhhKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEFscGhhICE9PSB0ICYmICh0aGlzLmN1cnJlbnRDb250ZXh0Lmdsb2JhbEFscGhhID0gdCwgdGhpcy5jdXJyZW50QWxwaGEgPSB0KSwgdGhpcy5jdXJyZW50QWxwaGE7XG4gICAgICB9LCBwcmVSZW5kZXI6IGZ1bmN0aW9uIHByZVJlbmRlcigpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmdhbWVDb250ZXh0LFxuICAgICAgICAgICAgZSA9IHRoaXMuZ2FtZUNvbmZpZyxcbiAgICAgICAgICAgIGkgPSB0aGlzLndpZHRoLFxuICAgICAgICAgICAgbiA9IHRoaXMuaGVpZ2h0O2UuY2xlYXJCZWZvcmVSZW5kZXIgJiYgdC5jbGVhclJlY3QoMCwgMCwgaSwgbiksIGUudHJhbnNwYXJlbnQgfHwgKHQuZmlsbFN0eWxlID0gZS5iYWNrZ3JvdW5kQ29sb3IucmdiYSwgdC5maWxsUmVjdCgwLCAwLCBpLCBuKSksIHRoaXMuZHJhd0NvdW50ID0gMDtcbiAgICAgIH0sIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSB0LnN5cy5jb250ZXh0LFxuICAgICAgICAgICAgcyA9ICh0LnN5cy5zZXR0aW5ncywgMCAhPT0gbi54IHx8IDAgIT09IG4ueSB8fCBuLndpZHRoICE9PSByLmNhbnZhcy53aWR0aCB8fCBuLmhlaWdodCAhPT0gci5jYW52YXMuaGVpZ2h0KSxcbiAgICAgICAgICAgIGEgPSBlLmxpc3Q7dGhpcy5jdXJyZW50Q29udGV4dCA9IHIsIG4udHJhbnNwYXJlbnQgfHwgKHIuZmlsbFN0eWxlID0gbi5iYWNrZ3JvdW5kQ29sb3IucmdiYSwgci5maWxsUmVjdCgwLCAwLCBuLndpZHRoLCBuLmhlaWdodCkpLCAxICE9PSB0aGlzLmN1cnJlbnRBbHBoYSAmJiAoci5nbG9iYWxBbHBoYSA9IDEsIHRoaXMuY3VycmVudEFscGhhID0gMSksIDAgIT09IHRoaXMuY3VycmVudEJsZW5kTW9kZSAmJiAoci5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCIsIHRoaXMuY3VycmVudEJsZW5kTW9kZSA9IDApLCB0aGlzLmN1cnJlbnRTY2FsZU1vZGUgPSAwLCB0aGlzLmRyYXdDb3VudCArPSBhLmxlbmd0aCwgcyAmJiAoci5zYXZlKCksIHIuYmVnaW5QYXRoKCksIHIucmVjdChuLngsIG4ueSwgbi53aWR0aCwgbi5oZWlnaHQpLCByLmNsaXAoKSwgci5jbG9zZVBhdGgoKSk7dmFyIG8gPSBuLm1hdHJpeC5tYXRyaXg7ci5zZXRUcmFuc2Zvcm0ob1swXSwgb1sxXSwgb1syXSwgb1szXSwgb1s0XSwgb1s1XSk7Zm9yICh2YXIgaCA9IDA7IGggPCBhLmxlbmd0aDsgaCsrKSB7XG4gICAgICAgICAgdmFyIHUgPSBhW2hdO3UucmVuZGVyQ2FudmFzKHRoaXMsIHUsIGksIG4pO1xuICAgICAgICB9dC5yZW5kZXIuY2FsbCh0LCByLCBpKSwgci5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCksIChuLl9mYWRlQWxwaGEgPiAwIHx8IG4uX2ZsYXNoQWxwaGEgPiAwKSAmJiAoci5maWxsU3R5bGUgPSBcInJnYihcIiArIDI1NSAqIG4uX2ZhZGVSZWQgKyBcIixcIiArIDI1NSAqIG4uX2ZhZGVHcmVlbiArIFwiLFwiICsgMjU1ICogbi5fZmFkZUJsdWUgKyBcIilcIiwgci5nbG9iYWxBbHBoYSA9IG4uX2ZhZGVBbHBoYSwgci5maWxsUmVjdChuLngsIG4ueSwgbi53aWR0aCwgbi5oZWlnaHQpLCByLmZpbGxTdHlsZSA9IFwicmdiKFwiICsgMjU1ICogbi5fZmxhc2hSZWQgKyBcIixcIiArIDI1NSAqIG4uX2ZsYXNoR3JlZW4gKyBcIixcIiArIDI1NSAqIG4uX2ZsYXNoQmx1ZSArIFwiKVwiLCByLmdsb2JhbEFscGhhID0gbi5fZmxhc2hBbHBoYSwgci5maWxsUmVjdChuLngsIG4ueSwgbi53aWR0aCwgbi5oZWlnaHQpLCByLmdsb2JhbEFscGhhID0gMSksIHMgJiYgci5yZXN0b3JlKCk7XG4gICAgICB9LCBwb3N0UmVuZGVyOiBmdW5jdGlvbiBwb3N0UmVuZGVyKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuZ2FtZUNvbnRleHQ7dC5nbG9iYWxBbHBoYSA9IDEsIHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiLCB0aGlzLmN1cnJlbnRBbHBoYSA9IDEsIHRoaXMuY3VycmVudEJsZW5kTW9kZSA9IDAsIHRoaXMuc25hcHNob3RDYWxsYmFjayAmJiAodGhpcy5zbmFwc2hvdENhbGxiYWNrKHIodGhpcy5nYW1lQ2FudmFzKSksIHRoaXMuc25hcHNob3RDYWxsYmFjayA9IG51bGwpO1xuICAgICAgfSwgc25hcHNob3Q6IGZ1bmN0aW9uIHNuYXBzaG90KHQpIHtcbiAgICAgICAgdGhpcy5zbmFwc2hvdENhbGxiYWNrID0gdDtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZ2FtZUNhbnZhcyA9IG51bGwsIHRoaXMuZ2FtZUNvbnRleHQgPSBudWxsO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBmO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTg1LCBuKSB7XG4gICAgICB2YXIgciA9IHRoaXMuY3VycmVudENvbnRleHQsXG4gICAgICAgICAgcyA9IF9pODUuY2FudmFzRGF0YTtyLmRyYXdJbWFnZShfaTg1LnNvdXJjZS5pbWFnZSwgcy5zeCwgcy5zeSwgcy5zV2lkdGgsIHMuc0hlaWdodCwgdCAtIG4uc2Nyb2xsWCwgZSAtIG4uc2Nyb2xsWSwgcy5kV2lkdGgsIHMuZEhlaWdodCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IHQudG9EYXRhVVJMKCksXG4gICAgICAgICAgaSA9IG5ldyBJbWFnZSgpO3JldHVybiBpLnNyYyA9IGUsIGk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IHRoaXMuY3VycmVudENvbnRleHQsXG4gICAgICAgICAgbiA9IHQuZnJhbWUsXG4gICAgICAgICAgciA9IG4uY2FudmFzRGF0YTt0aGlzLmN1cnJlbnRCbGVuZE1vZGUgIT09IHQuYmxlbmRNb2RlICYmICh0aGlzLmN1cnJlbnRCbGVuZE1vZGUgPSB0LmJsZW5kTW9kZSwgaS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLmJsZW5kTW9kZXNbdC5ibGVuZE1vZGVdKSwgdGhpcy5jdXJyZW50QWxwaGEgIT09IHQuYWxwaGEgJiYgKHRoaXMuY3VycmVudEFscGhhID0gdC5hbHBoYSwgaS5nbG9iYWxBbHBoYSA9IHQuYWxwaGEpLCB0aGlzLmN1cnJlbnRTY2FsZU1vZGUgIT09IHQuc2NhbGVNb2RlICYmICh0aGlzLmN1cnJlbnRTY2FsZU1vZGUgPSB0LnNjYWxlTW9kZSk7dmFyIHMgPSBuLngsXG4gICAgICAgICAgYSA9IG4ueSxcbiAgICAgICAgICBvID0gMSxcbiAgICAgICAgICBoID0gMTt0LmZsaXBYID8gKG8gPSAtMSwgcyAtPSByLmRXaWR0aCAtIHQuZGlzcGxheU9yaWdpblgpIDogcyAtPSB0LmRpc3BsYXlPcmlnaW5YLCB0LmZsaXBZID8gKGggPSAtMSwgYSAtPSByLmRIZWlnaHQgLSB0LmRpc3BsYXlPcmlnaW5ZKSA6IGEgLT0gdC5kaXNwbGF5T3JpZ2luWSwgaS5zYXZlKCksIGkudHJhbnNsYXRlKHQueCAtIGUuc2Nyb2xsWCAqIHQuc2Nyb2xsRmFjdG9yWCwgdC55IC0gZS5zY3JvbGxZICogdC5zY3JvbGxGYWN0b3JZKSwgaS5yb3RhdGUodC5yb3RhdGlvbiksIGkuc2NhbGUodC5zY2FsZVgsIHQuc2NhbGVZKSwgaS5zY2FsZShvLCBoKSwgaS5kcmF3SW1hZ2Uobi5zb3VyY2UuaW1hZ2UsIHIuc3gsIHIuc3ksIHIuc1dpZHRoLCByLnNIZWlnaHQsIHMsIGEsIHIuZFdpZHRoLCByLmRIZWlnaHQpLCBpLnJlc3RvcmUoKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDMxKSxcbiAgICAgICAgciA9IGkoMTU5KSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHMoKSB7XG4gICAgICB2YXIgdCA9IFtdLFxuICAgICAgICAgIGUgPSByLnN1cHBvcnROZXdCbGVuZE1vZGVzO3JldHVybiB0W24uTk9STUFMXSA9IFwic291cmNlLW92ZXJcIiwgdFtuLkFERF0gPSBcImxpZ2h0ZXJcIiwgdFtuLk1VTFRJUExZXSA9IGUgPyBcIm11bHRpcGx5XCIgOiBcInNvdXJjZS1vdmVyXCIsIHRbbi5TQ1JFRU5dID0gZSA/IFwic2NyZWVuXCIgOiBcInNvdXJjZS1vdmVyXCIsIHRbbi5PVkVSTEFZXSA9IGUgPyBcIm92ZXJsYXlcIiA6IFwic291cmNlLW92ZXJcIiwgdFtuLkRBUktFTl0gPSBlID8gXCJkYXJrZW5cIiA6IFwic291cmNlLW92ZXJcIiwgdFtuLkxJR0hURU5dID0gZSA/IFwibGlnaHRlblwiIDogXCJzb3VyY2Utb3ZlclwiLCB0W24uQ09MT1JfRE9ER0VdID0gZSA/IFwiY29sb3ItZG9kZ2VcIiA6IFwic291cmNlLW92ZXJcIiwgdFtuLkNPTE9SX0JVUk5dID0gZSA/IFwiY29sb3ItYnVyblwiIDogXCJzb3VyY2Utb3ZlclwiLCB0W24uSEFSRF9MSUdIVF0gPSBlID8gXCJoYXJkLWxpZ2h0XCIgOiBcInNvdXJjZS1vdmVyXCIsIHRbbi5TT0ZUX0xJR0hUXSA9IGUgPyBcInNvZnQtbGlnaHRcIiA6IFwic291cmNlLW92ZXJcIiwgdFtuLkRJRkZFUkVOQ0VdID0gZSA/IFwiZGlmZmVyZW5jZVwiIDogXCJzb3VyY2Utb3ZlclwiLCB0W24uRVhDTFVTSU9OXSA9IGUgPyBcImV4Y2x1c2lvblwiIDogXCJzb3VyY2Utb3ZlclwiLCB0W24uSFVFXSA9IGUgPyBcImh1ZVwiIDogXCJzb3VyY2Utb3ZlclwiLCB0W24uU0FUVVJBVElPTl0gPSBlID8gXCJzYXR1cmF0aW9uXCIgOiBcInNvdXJjZS1vdmVyXCIsIHRbbi5DT0xPUl0gPSBlID8gXCJjb2xvclwiIDogXCJzb3VyY2Utb3ZlclwiLCB0W24uTFVNSU5PU0lUWV0gPSBlID8gXCJsdW1pbm9zaXR5XCIgOiBcInNvdXJjZS1vdmVyXCIsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgzMSksXG4gICAgICAgIHIgPSBpKDQzNSksXG4gICAgICAgIHMgPSBpKDApLFxuICAgICAgICBhID0gaSg0KSxcbiAgICAgICAgbyA9IGkoNDM4KSxcbiAgICAgICAgaCA9IGkoNzApLFxuICAgICAgICB1ID0gaSg0NDApLFxuICAgICAgICBjID0gaSg0NDMpLFxuICAgICAgICBsID0gaSgxNjUpLFxuICAgICAgICBmID0gaSgyNiksXG4gICAgICAgIGQgPSBpKDQ0OCksXG4gICAgICAgIHAgPSBpKDQ1MSksXG4gICAgICAgIHYgPSBpKDQ1MyksXG4gICAgICAgIGcgPSBpKDQ1NSksXG4gICAgICAgIHggPSBpKDQ1NyksXG4gICAgICAgIG0gPSBuZXcgcyh7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLmdhbWUgPSB0LCB0aGlzLnR5cGUgPSBhLldFQkdMLCB0aGlzLndpZHRoID0gdC5jb25maWcud2lkdGggKiB0LmNvbmZpZy5yZXNvbHV0aW9uLCB0aGlzLmhlaWdodCA9IHQuY29uZmlnLmhlaWdodCAqIHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMucmVzb2x1dGlvbiA9IHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMudmlldyA9IHQuY2FudmFzLCB0aGlzLmNvbmZpZyA9IHsgY2xlYXJCZWZvcmVSZW5kZXI6ICEwLCB0cmFuc3BhcmVudDogITEsIGF1dG9SZXNpemU6ICExLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICExLCBXZWJHTENvbnRleHRPcHRpb25zOiB7IGFscGhhOiAhMCwgYW50aWFsaWFzOiAhMCwgcHJlbXVsdGlwbGllZEFscGhhOiAhMCwgc3RlbmNpbDogITAsIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogITEgfSB9LCB0aGlzLmNvbnRleHRMb3N0ID0gITEsIHRoaXMubWF4VGV4dHVyZXMgPSAxLCB0aGlzLm11bHRpVGV4dHVyZSA9ICExLCB0aGlzLmJsZW5kTW9kZXMgPSBbXSwgdGhpcy5nbCA9IG51bGwsIHRoaXMuZXh0ZW5zaW9ucyA9IG51bGwsIHRoaXMuZXh0ZW5zaW9uTGlzdCA9IHt9LCB0aGlzLnJlbmRlcmVyQXJyYXkgPSBbXSwgdGhpcy5ibGl0dGVyQmF0Y2ggPSBudWxsLCB0aGlzLmFhUXVhZEJhdGNoID0gbnVsbCwgdGhpcy5zcHJpdGVCYXRjaCA9IG51bGwsIHRoaXMuc2hhcGVCYXRjaCA9IG51bGwsIHRoaXMuZWZmZWN0UmVuZGVyZXIgPSBudWxsLCB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG51bGwsIHRoaXMuY3VycmVudFRleHR1cmUgPSBbXSwgdGhpcy5zaGFkZXJDYWNoZSA9IHt9LCB0aGlzLmN1cnJlbnRTaGFkZXIgPSBudWxsLCB0aGlzLnJlc291cmNlTWFuYWdlciA9IG51bGwsIHRoaXMuY3VycmVudFJlbmRlclRhcmdldCA9IG51bGwsIHRoaXMuc25hcHNob3RDYWxsYmFjayA9IG51bGwsIHRoaXMuc2Npc3NvciA9IHsgZW5hYmxlZDogITEsIHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSwgdGhpcy5pbml0KCk7XG4gICAgICB9LCBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICBpZiAodGhpcy5nbCA9IHRoaXMudmlldy5nZXRDb250ZXh0KFwid2ViZ2xcIiwgdGhpcy5jb25maWcuV2ViR0xDb250ZXh0T3B0aW9ucykgfHwgdGhpcy52aWV3LmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIiwgdGhpcy5jb25maWcuV2ViR0xDb250ZXh0T3B0aW9ucyksICF0aGlzLmdsKSB0aHJvdyB0aGlzLmNvbnRleHRMb3N0ID0gITAsIG5ldyBFcnJvcihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMLiBUcnkgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlci5cIik7dmFyIHQgPSB0aGlzLmdsLFxuICAgICAgICAgICAgZSA9IHRoaXMuZ2FtZS5jb25maWcuYmFja2dyb3VuZENvbG9yO3RoaXMucmVzb3VyY2VNYW5hZ2VyID0gbmV3IGModCksIHQuZGlzYWJsZSh0LkRFUFRIX1RFU1QpLCB0LmRpc2FibGUodC5DVUxMX0ZBQ0UpLCB0LmVuYWJsZSh0LkJMRU5EKSwgdC5jbGVhckNvbG9yKGUucmVkR0wsIGUuZ3JlZW5HTCwgZS5ibHVlR0wsIGUuYWxwaGFHTCksIHRoaXMuYmxlbmRNb2RlcyA9IFtdO2ZvciAodmFyIGkgPSAwOyBpIDw9IDE2OyBpKyspIHtcbiAgICAgICAgICB0aGlzLmJsZW5kTW9kZXMucHVzaCh7IGZ1bmM6IFt0LlNSQ19BTFBIQSwgdC5PTkVfTUlOVVNfU1JDX0FMUEhBLCB0Lk9ORSwgdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSwgZXF1YXRpb246IHQuRlVOQ19BREQgfSk7XG4gICAgICAgIH10aGlzLmJsZW5kTW9kZXNbMV0uZnVuYyA9IFt0LlNSQ19BTFBIQSwgdC5EU1RfQUxQSEFdLCB0aGlzLmJsZW5kTW9kZXNbMl0uZnVuYyA9IFt0LkRTVF9DT0xPUiwgdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSwgdGhpcy5ibGVuZE1vZGVzWzNdLmZ1bmMgPSBbdC5TUkNfQUxQSEEsIHQuT05FXSwgdGhpcy5ibGVuZE1vZGUgPSAtMSwgdGhpcy5leHRlbnNpb25zID0gdC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zKCksIHRoaXMuYmxpdHRlckJhdGNoID0gdGhpcy5hZGRSZW5kZXJlcihuZXcgcih0aGlzLmdhbWUsIHQsIHRoaXMpKSwgdGhpcy5xdWFkQmF0Y2ggPSB0aGlzLmFkZFJlbmRlcmVyKG5ldyB1KHRoaXMuZ2FtZSwgdCwgdGhpcykpLCB0aGlzLnNwcml0ZUJhdGNoID0gdGhpcy5hZGRSZW5kZXJlcihuZXcgcCh0aGlzLmdhbWUsIHQsIHRoaXMpKSwgdGhpcy5zaGFwZUJhdGNoID0gdGhpcy5hZGRSZW5kZXJlcihuZXcgZCh0aGlzLmdhbWUsIHQsIHRoaXMpKSwgdGhpcy5lZmZlY3RSZW5kZXJlciA9IHRoaXMuYWRkUmVuZGVyZXIobmV3IG8odGhpcy5nYW1lLCB0LCB0aGlzKSksIHRoaXMudGlsZUJhdGNoID0gdGhpcy5hZGRSZW5kZXJlcihuZXcgdih0aGlzLmdhbWUsIHQsIHRoaXMpKSwgdGhpcy50aWxlbWFwUmVuZGVyZXIgPSB0aGlzLmFkZFJlbmRlcmVyKG5ldyBnKHRoaXMuZ2FtZSwgdCwgdGhpcykpLCB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IHRoaXMuc3ByaXRlQmF0Y2gsIHRoaXMuY3VycmVudFZlcnRleEJ1ZmZlciA9IG51bGwsIHRoaXMuc2V0QmxlbmRNb2RlKDApLCB0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICB9LCBhZGRCbGVuZE1vZGU6IGZ1bmN0aW9uIGFkZEJsZW5kTW9kZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsZW5kTW9kZXMucHVzaCh7IGZ1bmM6IHQsIGVxdWF0aW9uOiBlIH0pIC0gMTtcbiAgICAgIH0sIHVwZGF0ZUJsZW5kTW9kZTogZnVuY3Rpb24gdXBkYXRlQmxlbmRNb2RlKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxlbmRNb2Rlc1t0XSAmJiAodGhpcy5ibGVuZE1vZGVzW3RdLmZ1bmMgPSBlLCBpICYmICh0aGlzLmJsZW5kTW9kZXNbdF0uZXF1YXRpb24gPSBpKSksIHRoaXM7XG4gICAgICB9LCByZW1vdmVCbGVuZE1vZGU6IGZ1bmN0aW9uIHJlbW92ZUJsZW5kTW9kZSh0KSB7XG4gICAgICAgIHJldHVybiB0ID4gMTYgJiYgdGhpcy5ibGVuZE1vZGVzW3RdICYmIHRoaXMuYmxlbmRNb2Rlcy5zcGxpY2UodCwgMSksIHRoaXM7XG4gICAgICB9LCBnZXRFeHRlbnNpb246IGZ1bmN0aW9uIGdldEV4dGVuc2lvbih0KSB7XG4gICAgICAgIHJldHVybiB0IGluIHRoaXMuZXh0ZW5zaW9uTGlzdCB8fCAodGhpcy5leHRlbnNpb25MaXN0W3RdID0gdGhpcy5nbC5nZXRFeHRlbnNpb24odCkpLCB0aGlzLmV4dGVuc2lvbkxpc3RbdF07XG4gICAgICB9LCBjcmVhdGVUZXh0dXJlOiBmdW5jdGlvbiBjcmVhdGVUZXh0dXJlKHQsIGUsIGkpIHtcbiAgICAgICAgZSA9IHQgPyB0LndpZHRoIDogZSwgaSA9IHQgPyB0LmhlaWdodCA6IGk7dmFyIG4gPSB0aGlzLmdsLFxuICAgICAgICAgICAgciA9IG4uTkVBUkVTVCxcbiAgICAgICAgICAgIHMgPSBoKGUsIGkpID8gbi5SRVBFQVQgOiBuLkNMQU1QX1RPX0VER0U7dC5nbFRleHR1cmUgfHwgKHQuc2NhbGVNb2RlID09PSBmLkxJTkVBUiA/IHIgPSBuLkxJTkVBUiA6ICh0LnNjYWxlTW9kZSA9PT0gZi5ORUFSRVNUIHx8IHRoaXMuZ2FtZS5jb25maWcucGl4ZWxBcnQpICYmIChyID0gbi5ORUFSRVNUKSwgdC5nbFRleHR1cmUgPSB0IHx8IFwibnVtYmVyXCIgIT0gdHlwZW9mIGUgfHwgXCJudW1iZXJcIiAhPSB0eXBlb2YgaSA/IHRoaXMucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZVRleHR1cmUoMCwgciwgciwgcywgcywgbi5SR0JBLCB0LmltYWdlKSA6IHRoaXMucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZVRleHR1cmUoMCwgciwgciwgcywgcywgbi5SR0JBLCBudWxsLCBlLCBpKSksIHRoaXMuY3VycmVudFRleHR1cmVbMF0gPSBudWxsO1xuICAgICAgfSwgc2V0VGV4dHVyZTogZnVuY3Rpb24gc2V0VGV4dHVyZSh0LCBlKSB7XG4gICAgICAgIGlmIChlID0gZSB8fCAwLCB0aGlzLmN1cnJlbnRUZXh0dXJlW2VdICE9PSB0KSB7XG4gICAgICAgICAgdmFyIGkgPSB0aGlzLmdsO3RoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCksIGkuYWN0aXZlVGV4dHVyZShpLlRFWFRVUkUwICsgZSksIG51bGwgIT09IHQgPyBpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCwgdC50ZXh0dXJlKSA6IGkuYmluZFRleHR1cmUoaS5URVhUVVJFXzJELCBudWxsKSwgdGhpcy5jdXJyZW50VGV4dHVyZVtlXSA9IHQ7XG4gICAgICAgIH1cbiAgICAgIH0sIHNldFJlbmRlcmVyOiBmdW5jdGlvbiBzZXRSZW5kZXJlcih0LCBlLCBpKSB7XG4gICAgICAgIHRoaXMuc2V0VGV4dHVyZShlKSwgdGhpcy5zZXRSZW5kZXJUYXJnZXQoaSksICh0aGlzLmN1cnJlbnRSZW5kZXJlciAhPT0gdCB8fCB0aGlzLmN1cnJlbnRSZW5kZXJlci5zaG91bGRGbHVzaCgpKSAmJiAodGhpcy5jdXJyZW50UmVuZGVyZXIuZmx1c2goKSwgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSB0KTtcbiAgICAgIH0sIHNldFJlbmRlclRhcmdldDogZnVuY3Rpb24gc2V0UmVuZGVyVGFyZ2V0KHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmdsO3RoaXMuY3VycmVudFJlbmRlclRhcmdldCAhPT0gdCAmJiAodGhpcy5jdXJyZW50UmVuZGVyZXIuZmx1c2goKSwgbnVsbCAhPT0gdCA/IChlLmJpbmRGcmFtZWJ1ZmZlcihlLkZSQU1FQlVGRkVSLCB0LmZyYW1lYnVmZmVyT2JqZWN0KSwgdC5zaG91bGRDbGVhciAmJiAoZS5jbGVhckNvbG9yKDAsIDAsIDAsIHQuY2xlYXJBbHBoYSksIGUuY2xlYXIoZS5DT0xPUl9CVUZGRVJfQklUKSwgdC5zaG91bGRDbGVhciA9ICExKSkgOiAoZS5iaW5kRnJhbWVidWZmZXIoZS5GUkFNRUJVRkZFUiwgbnVsbCksIGUudmlld3BvcnQoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpKSwgdGhpcy5jdXJyZW50UmVuZGVyVGFyZ2V0ID0gdCk7XG4gICAgICB9LCByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSh0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5nYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMud2lkdGggPSB0ICogaSwgdGhpcy5oZWlnaHQgPSBlICogaSwgdGhpcy52aWV3LndpZHRoID0gdGhpcy53aWR0aCwgdGhpcy52aWV3LmhlaWdodCA9IHRoaXMuaGVpZ2h0LCB0aGlzLmF1dG9SZXNpemUgJiYgKHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggLyBpICsgXCJweFwiLCB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyBpICsgXCJweFwiKSwgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7Zm9yICh2YXIgbiA9IDAsIHIgPSB0aGlzLnJlbmRlcmVyQXJyYXkubGVuZ3RoOyBuIDwgcjsgKytuKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlckFycmF5W25dLmJpbmQoKSwgdGhpcy5yZW5kZXJlckFycmF5W25dLnJlc2l6ZSh0LCBlLCBpKTtcbiAgICAgICAgfXRoaXMuY3VycmVudFJlbmRlcmVyLmJpbmQoKTtcbiAgICAgIH0sIHByZVJlbmRlcjogZnVuY3Rpb24gcHJlUmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zZXRSZW5kZXJUYXJnZXQobnVsbCksICF0aGlzLmNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgdmFyIHQgPSB0aGlzLmdsLFxuICAgICAgICAgICAgICBlID0gdGhpcy5nYW1lLmNvbmZpZy5iYWNrZ3JvdW5kQ29sb3I7dC5jbGVhckNvbG9yKGUucmVkR0wsIGUuZ3JlZW5HTCwgZS5ibHVlR0wsIGUuYWxwaGFHTCksIHQuY2xlYXIodC5DT0xPUl9CVUZGRVJfQklUIHwgdC5ERVBUSF9CVUZGRVJfQklUIHwgdC5TVEVOQ0lMX0JVRkZFUl9CSVQpLCB0aGlzLnNldEJsZW5kTW9kZShuLk5PUk1BTCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzLmdsLFxuICAgICAgICAgICAgcyA9IHRoaXMucXVhZEJhdGNoO2lmICh0aGlzLnNjaXNzb3IuZW5hYmxlZCA9IDAgIT09IG4ueCB8fCAwICE9PSBuLnkgfHwgbi53aWR0aCAhPT0gci5jYW52YXMud2lkdGggfHwgbi5oZWlnaHQgIT09IHIuY2FudmFzLmhlaWdodCwgdGhpcy5zZXRSZW5kZXJUYXJnZXQobnVsbCksIHRoaXMuc2Npc3Nvci5lbmFibGVkICYmIChyLmVuYWJsZShyLlNDSVNTT1JfVEVTVCksIHRoaXMuc2Npc3Nvci54ID0gbi54LCB0aGlzLnNjaXNzb3IueSA9IHIuZHJhd2luZ0J1ZmZlckhlaWdodCAtIG4ueSAtIG4uaGVpZ2h0LCB0aGlzLnNjaXNzb3Iud2lkdGggPSBuLndpZHRoLCB0aGlzLnNjaXNzb3IuaGVpZ2h0ID0gbi5oZWlnaHQsIHIuc2Npc3Nvcih0aGlzLnNjaXNzb3IueCwgdGhpcy5zY2lzc29yLnksIHRoaXMuc2Npc3Nvci53aWR0aCwgdGhpcy5zY2lzc29yLmhlaWdodCkpLCBuLmJhY2tncm91bmRDb2xvci5hbHBoYUdMID4gMCkge1xuICAgICAgICAgIHZhciBhID0gbi5iYWNrZ3JvdW5kQ29sb3I7cy5iaW5kKCksIHMuYWRkKG4ueCwgbi55LCBuLndpZHRoLCBuLmhlaWdodCwgYS5yZWRHTCwgYS5ncmVlbkdMLCBhLmJsdWVHTCwgYS5hbHBoYUdMKSwgcy5mbHVzaCgpLCB0aGlzLmN1cnJlbnRSZW5kZXJlci5iaW5kKCk7XG4gICAgICAgIH1mb3IgKHZhciBvID0gZS5saXN0LCBoID0gby5sZW5ndGgsIHUgPSAwOyB1IDwgaDsgKyt1KSB7XG4gICAgICAgICAgdmFyIGMgPSBvW3VdLFxuICAgICAgICAgICAgICBsID0gdGhpcy5jdXJyZW50UmVuZGVyZXIsXG4gICAgICAgICAgICAgIGYgPSBjLmJsZW5kTW9kZTtpZiAodGhpcy5ibGVuZE1vZGUgIT09IGYpIHtcbiAgICAgICAgICAgIGwgJiYgbC5mbHVzaCgpO3ZhciBkID0gdGhpcy5ibGVuZE1vZGVzW2ZdLmZ1bmM7ci5lbmFibGUoci5CTEVORCksIHIuYmxlbmRFcXVhdGlvbih0aGlzLmJsZW5kTW9kZXNbZl0uZXF1YXRpb24pLCBkLmxlbmd0aCA+IDIgPyByLmJsZW5kRnVuY1NlcGFyYXRlKGRbMF0sIGRbMV0sIGRbMl0sIGRbM10pIDogci5ibGVuZEZ1bmMoZFswXSwgZFsxXSksIHRoaXMuYmxlbmRNb2RlID0gZjtcbiAgICAgICAgICB9Yy5yZW5kZXJXZWJHTCh0aGlzLCBjLCBpLCBuKSwgbCA9IHRoaXMuY3VycmVudFJlbmRlcmVyLCAobC5pc0Z1bGwoKSB8fCBsLnNob3VsZEZsdXNoKCkpICYmIGwuZmx1c2goKTtcbiAgICAgICAgfXRoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCksIChuLl9mYWRlQWxwaGEgPiAwIHx8IG4uX2ZsYXNoQWxwaGEgPiAwKSAmJiAodGhpcy5zZXRSZW5kZXJUYXJnZXQobnVsbCksIHMuYmluZCgpLCBzLmFkZChuLngsIG4ueSwgbi53aWR0aCwgbi5oZWlnaHQsIG4uX2ZhZGVSZWQsIG4uX2ZhZGVHcmVlbiwgbi5fZmFkZUJsdWUsIG4uX2ZhZGVBbHBoYSksIHMuYWRkKG4ueCwgbi55LCBuLndpZHRoLCBuLmhlaWdodCwgbi5fZmxhc2hSZWQsIG4uX2ZsYXNoR3JlZW4sIG4uX2ZsYXNoQmx1ZSwgbi5fZmxhc2hBbHBoYSksIHMuZmx1c2goKSwgdGhpcy5jdXJyZW50UmVuZGVyZXIuYmluZCgpKSwgdGhpcy5zY2lzc29yLmVuYWJsZWQgJiYgci5kaXNhYmxlKHIuU0NJU1NPUl9URVNUKTtcbiAgICAgIH0sIHBvc3RSZW5kZXI6IGZ1bmN0aW9uIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCksIHRoaXMuc25hcHNob3RDYWxsYmFjayAmJiAodGhpcy5zbmFwc2hvdENhbGxiYWNrKHgodGhpcy52aWV3KSksIHRoaXMuc25hcHNob3RDYWxsYmFjayA9IG51bGwpO1xuICAgICAgfSwgc25hcHNob3Q6IGZ1bmN0aW9uIHNuYXBzaG90KHQpIHtcbiAgICAgICAgdGhpcy5zbmFwc2hvdENhbGxiYWNrID0gdDtcbiAgICAgIH0sIGNyZWF0ZUZCTzogZnVuY3Rpb24gY3JlYXRlRkJPKCkge30sIHNldEJsZW5kTW9kZTogZnVuY3Rpb24gc2V0QmxlbmRNb2RlKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmdsLFxuICAgICAgICAgICAgaSA9IHRoaXMuY3VycmVudFJlbmRlcmVyO2lmICh0aGlzLmJsZW5kTW9kZSAhPT0gdCkge1xuICAgICAgICAgIGkgJiYgaS5mbHVzaCgpO3ZhciBuID0gdGhpcy5ibGVuZE1vZGVzW3RdLmZ1bmM7ZS5lbmFibGUoZS5CTEVORCksIGUuYmxlbmRFcXVhdGlvbih0aGlzLmJsZW5kTW9kZXNbdF0uZXF1YXRpb24pLCBuLmxlbmd0aCA+IDIgPyBlLmJsZW5kRnVuY1NlcGFyYXRlKG5bMF0sIG5bMV0sIG5bMl0sIG5bM10pIDogZS5ibGVuZEZ1bmMoblswXSwgblsxXSksIHRoaXMuYmxlbmRNb2RlID0gdDtcbiAgICAgICAgfVxuICAgICAgfSwgYWRkUmVuZGVyZXI6IGZ1bmN0aW9uIGFkZFJlbmRlcmVyKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXJBcnJheS5pbmRleE9mKHQpIDwgMCA/ICh0aGlzLnJlbmRlcmVyQXJyYXkucHVzaCh0KSwgdCkgOiBudWxsO1xuICAgICAgfSwgc2V0VGV4dHVyZUZpbHRlck1vZGU6IGZ1bmN0aW9uIHNldFRleHR1cmVGaWx0ZXJNb2RlKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmdsLFxuICAgICAgICAgICAgbiA9IFtpLkxJTkVBUiwgaS5ORUFSRVNUXVtlXTtyZXR1cm4gaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsIHQudGV4dHVyZSksIGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsIGkuVEVYVFVSRV9NSU5fRklMVEVSLCBuKSwgaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCwgaS5URVhUVVJFX01BR19GSUxURVIsIG4pLCBudWxsICE9PSB0aGlzLmN1cnJlbnRUZXh0dXJlWzBdID8gaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsIHRoaXMuY3VycmVudFRleHR1cmVbMF0udGV4dHVyZSkgOiBpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCwgbnVsbCksIHQ7XG4gICAgICB9LCB1cGxvYWRDYW52YXNUb0dQVTogZnVuY3Rpb24gdXBsb2FkQ2FudmFzVG9HUFUodCwgZSwgaSkge1xuICAgICAgICB2YXIgbiA9IHRoaXMuZ2w7cmV0dXJuIGUgfHwgKGUgPSBuZXcgbC5UZXh0dXJlKG51bGwsIDAsIDApLCBlLnRleHR1cmUgPSBuLmNyZWF0ZVRleHR1cmUoKSksIGUgIT0gdGhpcy5jdXJyZW50VGV4dHVyZVswXSAmJiB0aGlzLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpLCBuLmFjdGl2ZVRleHR1cmUobi5URVhUVVJFMCksIGkgPyAobi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQsIGUudGV4dHVyZSksIG4udGV4SW1hZ2UyRChuLlRFWFRVUkVfMkQsIDAsIG4uUkdCQSwgbi5SR0JBLCBuLlVOU0lHTkVEX0JZVEUsIHQpLCBuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELCBuLlRFWFRVUkVfTUlOX0ZJTFRFUiwgbi5MSU5FQVIpLCBuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELCBuLlRFWFRVUkVfTUFHX0ZJTFRFUiwgbi5MSU5FQVIpLCBuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELCBuLlRFWFRVUkVfV1JBUF9TLCBuLkNMQU1QX1RPX0VER0UpLCBuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELCBuLlRFWFRVUkVfV1JBUF9ULCBuLkNMQU1QX1RPX0VER0UpLCBlLndpZHRoID0gdC53aWR0aCwgZS5oZWlnaHQgPSB0LmhlaWdodCkgOiAobi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQsIGUudGV4dHVyZSksIG4udGV4U3ViSW1hZ2UyRChuLlRFWFRVUkVfMkQsIDAsIDAsIDAsIG4uUkdCQSwgbi5VTlNJR05FRF9CWVRFLCB0KSksIHRoaXMuY3VycmVudFRleHR1cmUubGVuZ3RoID4gMCAmJiBlICE9IHRoaXMuY3VycmVudFRleHR1cmVbMF0gJiYgbnVsbCAhPT0gdGhpcy5jdXJyZW50VGV4dHVyZVswXSAmJiBuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCwgdGhpcy5jdXJyZW50VGV4dHVyZVswXS50ZXh0dXJlKSwgZTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBtO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNDM2KSxcbiAgICAgICAgcyA9IGkoMzcpLFxuICAgICAgICBhID0gaSgzMCksXG4gICAgICAgIG8gPSBpKDQpLFxuICAgICAgICBoID0gaSg0MzcpLFxuICAgICAgICB1ID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGkpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gdCwgdGhpcy50eXBlID0gby5XRUJHTCwgdGhpcy52aWV3ID0gdC5jYW52YXMsIHRoaXMucmVzb2x1dGlvbiA9IHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMud2lkdGggPSB0LmNvbmZpZy53aWR0aCAqIHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ID0gdC5jb25maWcuaGVpZ2h0ICogdC5jb25maWcucmVzb2x1dGlvbiwgdGhpcy5nbENvbnRleHQgPSBlLCB0aGlzLm1heFBhcnRpY2xlcyA9IG51bGwsIHRoaXMuc2hhZGVyID0gbnVsbCwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QgPSBudWxsLCB0aGlzLmluZGV4QnVmZmVyT2JqZWN0ID0gbnVsbCwgdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyID0gbnVsbCwgdGhpcy5pbmRleERhdGFCdWZmZXIgPSBudWxsLCB0aGlzLmVsZW1lbnRDb3VudCA9IDAsIHRoaXMuY3VycmVudFRleHR1cmUyRCA9IG51bGwsIHRoaXMudmlld01hdHJpeExvY2F0aW9uID0gbnVsbCwgdGhpcy5jb25maWcgPSB7IGNsZWFyQmVmb3JlUmVuZGVyOiAhMCwgdHJhbnNwYXJlbnQ6ICExLCBhdXRvUmVzaXplOiAhMSwgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiAhMSwgV2ViR0xDb250ZXh0T3B0aW9uczogeyBhbHBoYTogITAsIGFudGlhbGlhczogITAsIHByZW11bHRpcGxpZWRBbHBoYTogITAsIHN0ZW5jaWw6ICEwLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICExIH0gfSwgdGhpcy5tYW5hZ2VyID0gaSwgdGhpcy5kaXJ0eSA9ICExLCB0aGlzLmluaXQodGhpcy5nbENvbnRleHQpO1xuICAgICAgfSwgaW5pdDogZnVuY3Rpb24gaW5pdCh0KSB7XG4gICAgICAgIHZhciBlID0gbmV3IGEoci5WRVJURVhfU0laRSAqIHIuUEFSVElDTEVfVkVSVEVYX0NPVU5UICogci5NQVhfUEFSVElDTEVTKSxcbiAgICAgICAgICAgIGkgPSBuZXcgcyhyLklOREVYX1NJWkUgKiByLlBBUlRJQ0xFX0lOREVYX0NPVU5UICogci5NQVhfUEFSVElDTEVTKSxcbiAgICAgICAgICAgIG4gPSB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZVNoYWRlcihcIlRleHR1cmVkQW5kQWxwaGFTaGFkZXJcIiwgaCksXG4gICAgICAgICAgICBvID0gdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaS5nZXRCeXRlQ2FwYWNpdHkoKSwgdC5TVEFUSUNfRFJBVyksXG4gICAgICAgICAgICB1ID0gdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIodC5BUlJBWV9CVUZGRVIsIGUuZ2V0Qnl0ZUNhcGFjaXR5KCksIHQuU1RSRUFNX0RSQVcpLFxuICAgICAgICAgICAgYyA9IG4uZ2V0VW5pZm9ybUxvY2F0aW9uKFwidV92aWV3X21hdHJpeFwiKSxcbiAgICAgICAgICAgIGwgPSBpLnVpbnRWaWV3LFxuICAgICAgICAgICAgZiA9IHIuTUFYX1BBUlRJQ0xFUyAqIHIuUEFSVElDTEVfSU5ERVhfQ09VTlQ7dS5hZGRBdHRyaWJ1dGUobi5nZXRBdHRyaWJMb2NhdGlvbihcImFfcG9zaXRpb25cIiksIDIsIHQuRkxPQVQsICExLCByLlZFUlRFWF9TSVpFLCAwKSwgdS5hZGRBdHRyaWJ1dGUobi5nZXRBdHRyaWJMb2NhdGlvbihcImFfdGV4X2Nvb3JkXCIpLCAyLCB0LkZMT0FULCAhMSwgci5WRVJURVhfU0laRSwgOCksIHUuYWRkQXR0cmlidXRlKG4uZ2V0QXR0cmliTG9jYXRpb24oXCJhX2FscGhhXCIpLCAxLCB0LkZMT0FULCAhMSwgci5WRVJURVhfU0laRSwgMTYpLCB0aGlzLnZlcnRleERhdGFCdWZmZXIgPSBlLCB0aGlzLmluZGV4RGF0YUJ1ZmZlciA9IGksIHRoaXMuc2hhZGVyID0gbiwgdGhpcy5pbmRleEJ1ZmZlck9iamVjdCA9IG8sIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0ID0gdSwgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBjLCB0aGlzLm1heFBhcnRpY2xlcyA9IGY7Zm9yICh2YXIgZCA9IDAsIHAgPSAwOyBkIDwgZjsgZCArPSByLlBBUlRJQ0xFX0lOREVYX0NPVU5ULCBwICs9IHIuUEFSVElDTEVfVkVSVEVYX0NPVU5UKSB7XG4gICAgICAgICAgbFtkICsgMF0gPSBwICsgMCwgbFtkICsgMV0gPSBwICsgMSwgbFtkICsgMl0gPSBwICsgMiwgbFtkICsgM10gPSBwICsgMCwgbFtkICsgNF0gPSBwICsgMiwgbFtkICsgNV0gPSBwICsgMztcbiAgICAgICAgfW8udXBkYXRlUmVzb3VyY2UobCwgMCksIHRoaXMucmVzaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24pO1xuICAgICAgfSwgc2hvdWxkRmx1c2g6IGZ1bmN0aW9uIHNob3VsZEZsdXNoKCkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9LCBpc0Z1bGw6IGZ1bmN0aW9uIGlzRnVsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlTGVuZ3RoKCkgPj0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLmdldEJ5dGVDYXBhY2l0eSgpO1xuICAgICAgfSwgYmluZDogZnVuY3Rpb24gYmluZCh0KSB7XG4gICAgICAgIHZvaWQgMCA9PT0gdCA/IHRoaXMuc2hhZGVyLmJpbmQoKSA6ICh0LmJpbmQoKSwgdGhpcy5yZXNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbiwgdCkpLCB0aGlzLmluZGV4QnVmZmVyT2JqZWN0LmJpbmQoKSwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QuYmluZCgpO1xuICAgICAgfSwgZmx1c2g6IGZ1bmN0aW9uIGZsdXNoKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmdsQ29udGV4dCxcbiAgICAgICAgICAgIGkgPSB0aGlzLnZlcnRleERhdGFCdWZmZXI7MCAhPT0gdGhpcy5lbGVtZW50Q291bnQgJiYgKHRoaXMuYmluZCh0KSwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QudXBkYXRlUmVzb3VyY2UoaS5nZXRVc2VkQnVmZmVyQXNGbG9hdCgpLCAwKSwgZS5kcmF3RWxlbWVudHMoZS5UUklBTkdMRVMsIHRoaXMuZWxlbWVudENvdW50LCBlLlVOU0lHTkVEX1NIT1JULCAwKSwgaS5jbGVhcigpLCB0aGlzLmVsZW1lbnRDb3VudCA9IDApO1xuICAgICAgfSwgcmVzaXplOiBmdW5jdGlvbiByZXNpemUodCwgZSwgaSwgbikge1xuICAgICAgICB2YXIgciA9IHZvaWQgMCAhPT0gbiA/IG4gOiB0aGlzLnNoYWRlcjt0aGlzLndpZHRoID0gdCAqIGksIHRoaXMuaGVpZ2h0ID0gZSAqIGksIHIuc2V0Q29uc3RhbnRNYXRyaXg0eDQodGhpcy52aWV3TWF0cml4TG9jYXRpb24sIG5ldyBGbG9hdDMyQXJyYXkoWzIgLyB0aGlzLndpZHRoLCAwLCAwLCAwLCAwLCAtMiAvIHRoaXMuaGVpZ2h0LCAwLCAwLCAwLCAwLCAxLCAxLCAtMSwgMSwgMCwgMF0pKTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlU2hhZGVyKHRoaXMuc2hhZGVyKSwgdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlck9iamVjdCksIHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyT2JqZWN0KSwgdGhpcy5zaGFkZXIgPSBudWxsLCB0aGlzLmluZGV4QnVmZmVyT2JqZWN0ID0gbnVsbCwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QgPSBudWxsO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSB1O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0geyBWRVJURVhfU0laRTogMjAsIElOREVYX1NJWkU6IDIsIFBBUlRJQ0xFX1ZFUlRFWF9DT1VOVDogNCwgUEFSVElDTEVfSU5ERVhfQ09VTlQ6IDYsIFBBUlRJQ0xFX1ZFUlRFWF9DT01QT05FTlRfQ09VTlQ6IDUsIE1BWF9QQVJUSUNMRVM6IDJlMyB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdC5leHBvcnRzID0geyB2ZXJ0OiBbXCJ1bmlmb3JtIG1hdDQgdV92aWV3X21hdHJpeDtcIiwgXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1wiLCBcImF0dHJpYnV0ZSB2ZWMyIGFfdGV4X2Nvb3JkO1wiLCBcImF0dHJpYnV0ZSBmbG9hdCBhX2FscGhhO1wiLCBcInZhcnlpbmcgdmVjMiB2X3RleF9jb29yZDtcIiwgXCJ2YXJ5aW5nIGZsb2F0IHZfYWxwaGE7XCIsIFwidm9pZCBtYWluICgpIHtcIiwgXCIgICBnbF9Qb3NpdGlvbiA9IHVfdmlld19tYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCwgMS4wKTtcIiwgXCIgICB2X3RleF9jb29yZCA9IGFfdGV4X2Nvb3JkO1wiLCBcIiAgIHZfYWxwaGEgPSBhX2FscGhhO1wiLCBcIn1cIl0uam9pbihcIlxcblwiKSwgZnJhZzogW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsIFwidW5pZm9ybSBzYW1wbGVyMkQgdV9zYW1wbGVyMkQ7XCIsIFwidmFyeWluZyB2ZWMyIHZfdGV4X2Nvb3JkO1wiLCBcInZhcnlpbmcgZmxvYXQgdl9hbHBoYTtcIiwgXCJ2b2lkIG1haW4oKSB7XCIsIFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVfc2FtcGxlcjJELCB2X3RleF9jb29yZCkgKiB2ZWM0KDEuMCwgMS4wLCAxLjAsIHZfYWxwaGEpO1wiLCBcIn1cIl0uam9pbihcIlxcblwiKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNDM5KSxcbiAgICAgICAgcyA9IGkoMzcpLFxuICAgICAgICBhID0gaSgzMCksXG4gICAgICAgIG8gPSBpKDQpLFxuICAgICAgICBoID0gaSgzOCksXG4gICAgICAgIHUgPSBpKDE0KSxcbiAgICAgICAgYyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IHQsIHRoaXMudHlwZSA9IG8uV0VCR0wsIHRoaXMudmlldyA9IHQuY2FudmFzLCB0aGlzLnJlc29sdXRpb24gPSB0LmNvbmZpZy5yZXNvbHV0aW9uLCB0aGlzLndpZHRoID0gdC5jb25maWcud2lkdGggKiB0LmNvbmZpZy5yZXNvbHV0aW9uLCB0aGlzLmhlaWdodCA9IHQuY29uZmlnLmhlaWdodCAqIHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMuZ2xDb250ZXh0ID0gZSwgdGhpcy5tYXhTcHJpdGVzID0gbnVsbCwgdGhpcy5zaGFkZXIgPSBudWxsLCB0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCA9IG51bGwsIHRoaXMuaW5kZXhCdWZmZXJPYmplY3QgPSBudWxsLCB0aGlzLnZlcnRleERhdGFCdWZmZXIgPSBudWxsLCB0aGlzLmluZGV4RGF0YUJ1ZmZlciA9IG51bGwsIHRoaXMuZWxlbWVudENvdW50ID0gMCwgdGhpcy5jdXJyZW50VGV4dHVyZTJEID0gbnVsbCwgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBudWxsLCB0aGlzLnRlbXBNYXRyaXggPSBuZXcgdSgpLCB0aGlzLmNvbmZpZyA9IHsgY2xlYXJCZWZvcmVSZW5kZXI6ICEwLCB0cmFuc3BhcmVudDogITEsIGF1dG9SZXNpemU6ICExLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICExLCBXZWJHTENvbnRleHRPcHRpb25zOiB7IGFscGhhOiAhMCwgYW50aWFsaWFzOiAhMCwgcHJlbXVsdGlwbGllZEFscGhhOiAhMCwgc3RlbmNpbDogITAsIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogITEgfSB9LCB0aGlzLm1hbmFnZXIgPSBpLCB0aGlzLmRpcnR5ID0gITEsIHRoaXMuaW5pdCh0aGlzLmdsQ29udGV4dCk7XG4gICAgICB9LCBpbml0OiBmdW5jdGlvbiBpbml0KHQpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgYShyLlZFUlRFWF9TSVpFICogci5RVUFEX1ZFUlRFWF9DT1VOVCAqIHIuTUFYX1FVQURTKSxcbiAgICAgICAgICAgIGkgPSBuZXcgcyhyLklOREVYX1NJWkUgKiByLlFVQURfSU5ERVhfQ09VTlQgKiByLk1BWF9RVUFEUyksXG4gICAgICAgICAgICBuID0gdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVTaGFkZXIoXCJUZXh0dXJlZEFuZE5vcm1hbGl6ZWRUaW50ZWRTaGFkZXJcIiwgaCksXG4gICAgICAgICAgICBvID0gdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaS5nZXRCeXRlQ2FwYWNpdHkoKSwgdC5TVEFUSUNfRFJBVyksXG4gICAgICAgICAgICB1ID0gdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIodC5BUlJBWV9CVUZGRVIsIGUuZ2V0Qnl0ZUNhcGFjaXR5KCksIHQuU1RSRUFNX0RSQVcpLFxuICAgICAgICAgICAgYyA9IG4uZ2V0VW5pZm9ybUxvY2F0aW9uKFwidV92aWV3X21hdHJpeFwiKSxcbiAgICAgICAgICAgIGwgPSBpLnVpbnRWaWV3LFxuICAgICAgICAgICAgZiA9IHIuTUFYX1FVQURTICogci5RVUFEX0lOREVYX0NPVU5UO3RoaXMudmVydGV4RGF0YUJ1ZmZlciA9IGUsIHRoaXMuaW5kZXhEYXRhQnVmZmVyID0gaSwgdGhpcy5zaGFkZXIgPSBuLCB0aGlzLmluZGV4QnVmZmVyT2JqZWN0ID0gbywgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QgPSB1LCB0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbiA9IGMsIHUuYWRkQXR0cmlidXRlKG4uZ2V0QXR0cmliTG9jYXRpb24oXCJhX3Bvc2l0aW9uXCIpLCAyLCB0LkZMT0FULCAhMSwgci5WRVJURVhfU0laRSwgMCksIHUuYWRkQXR0cmlidXRlKG4uZ2V0QXR0cmliTG9jYXRpb24oXCJhX3RleF9jb29yZFwiKSwgMiwgdC5GTE9BVCwgITEsIHIuVkVSVEVYX1NJWkUsIDgpLCB1LmFkZEF0dHJpYnV0ZShuLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9jb2xvclwiKSwgMywgdC5VTlNJR05FRF9CWVRFLCAhMCwgci5WRVJURVhfU0laRSwgMTYpLCB1LmFkZEF0dHJpYnV0ZShuLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9hbHBoYVwiKSwgMSwgdC5GTE9BVCwgITEsIHIuVkVSVEVYX1NJWkUsIDIwKTtmb3IgKHZhciBkID0gMCwgcCA9IDA7IGQgPCBmOyBkICs9IHIuUVVBRF9JTkRFWF9DT1VOVCwgcCArPSByLlFVQURfVkVSVEVYX0NPVU5UKSB7XG4gICAgICAgICAgbFtkICsgMF0gPSBwICsgMCwgbFtkICsgMV0gPSBwICsgMSwgbFtkICsgMl0gPSBwICsgMiwgbFtkICsgM10gPSBwICsgMCwgbFtkICsgNF0gPSBwICsgMiwgbFtkICsgNV0gPSBwICsgMztcbiAgICAgICAgfW8udXBkYXRlUmVzb3VyY2UobCwgMCksIHRoaXMucmVzaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24pO1xuICAgICAgfSwgc2hvdWxkRmx1c2g6IGZ1bmN0aW9uIHNob3VsZEZsdXNoKCkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9LCBpc0Z1bGw6IGZ1bmN0aW9uIGlzRnVsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlTGVuZ3RoKCkgPj0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLmdldEJ5dGVDYXBhY2l0eSgpO1xuICAgICAgfSwgYmluZDogZnVuY3Rpb24gYmluZCh0KSB7XG4gICAgICAgIHZvaWQgMCA9PT0gdCA/IHRoaXMuc2hhZGVyLmJpbmQoKSA6ICh0LmJpbmQoKSwgdGhpcy5yZXNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbiwgdCkpLCB0aGlzLmluZGV4QnVmZmVyT2JqZWN0LmJpbmQoKSwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QuYmluZCgpO1xuICAgICAgfSwgZmx1c2g6IGZ1bmN0aW9uIGZsdXNoKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmdsQ29udGV4dCxcbiAgICAgICAgICAgIGkgPSB0aGlzLnZlcnRleERhdGFCdWZmZXI7MCAhPT0gdGhpcy5lbGVtZW50Q291bnQgJiYgKHRoaXMuYmluZCh0KSwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QudXBkYXRlUmVzb3VyY2UoaS5nZXRVc2VkQnVmZmVyQXNGbG9hdCgpLCAwKSwgZS5kcmF3RWxlbWVudHMoZS5UUklBTkdMRVMsIHRoaXMuZWxlbWVudENvdW50LCBlLlVOU0lHTkVEX1NIT1JULCAwKSwgaS5jbGVhcigpLCB0aGlzLmVsZW1lbnRDb3VudCA9IDApO1xuICAgICAgfSwgcmVzaXplOiBmdW5jdGlvbiByZXNpemUodCwgZSwgaSwgbikge1xuICAgICAgICB2YXIgciA9IHZvaWQgMCAhPT0gbiA/IG4gOiB0aGlzLnNoYWRlcjt0aGlzLndpZHRoID0gdCAqIGksIHRoaXMuaGVpZ2h0ID0gZSAqIGksIHIuc2V0Q29uc3RhbnRNYXRyaXg0eDQoci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1X3ZpZXdfbWF0cml4XCIpLCBuZXcgRmxvYXQzMkFycmF5KFsyIC8gdGhpcy53aWR0aCwgMCwgMCwgMCwgMCwgLTIgLyB0aGlzLmhlaWdodCwgMCwgMCwgMCwgMCwgMSwgMSwgLTEsIDEsIDAsIDBdKSk7XG4gICAgICB9LCByZW5kZXJFZmZlY3Q6IGZ1bmN0aW9uIHJlbmRlckVmZmVjdCh0LCBlLCBpLCBuLCByKSB7XG4gICAgICAgIHZhciBzLFxuICAgICAgICAgICAgYSxcbiAgICAgICAgICAgIG8sXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgdSxcbiAgICAgICAgICAgIGMsXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBwLFxuICAgICAgICAgICAgdixcbiAgICAgICAgICAgIGcsXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgbSxcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB3LFxuICAgICAgICAgICAgRSxcbiAgICAgICAgICAgIFQsXG4gICAgICAgICAgICBiLFxuICAgICAgICAgICAgXyxcbiAgICAgICAgICAgIEEsXG4gICAgICAgICAgICBTLFxuICAgICAgICAgICAgUixcbiAgICAgICAgICAgIE0sXG4gICAgICAgICAgICBPLFxuICAgICAgICAgICAgQyxcbiAgICAgICAgICAgIEwgPSB0aGlzLnRlbXBNYXRyaXgsXG4gICAgICAgICAgICBGID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLFxuICAgICAgICAgICAgSSA9IEYuZmxvYXRWaWV3LFxuICAgICAgICAgICAgRCA9IEYudWludFZpZXcsXG4gICAgICAgICAgICBCID0gMCxcbiAgICAgICAgICAgIFAgPSBuICogKHQuZmxpcFggPyAtMSA6IDEpLFxuICAgICAgICAgICAgayA9IHIgKiAodC5mbGlwWSA/IC0xIDogMSksXG4gICAgICAgICAgICBOID0gdC54IC0gZS5zY3JvbGxYICogdC5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgWCA9IHQueSAtIGUuc2Nyb2xsWSAqIHQuc2Nyb2xsRmFjdG9yWSxcbiAgICAgICAgICAgIFUgPSB0LnNjYWxlWCxcbiAgICAgICAgICAgIFkgPSB0LnNjYWxlWSxcbiAgICAgICAgICAgIFYgPSAtdC5yb3RhdGlvbixcbiAgICAgICAgICAgIHogPSBMLm1hdHJpeCxcbiAgICAgICAgICAgIEcgPSAtdC5kaXNwbGF5T3JpZ2luWCArIG4gKiAodC5mbGlwWCA/IDEgOiAwKSxcbiAgICAgICAgICAgIEggPSAtdC5kaXNwbGF5T3JpZ2luWSArIHIgKiAodC5mbGlwWSA/IDEgOiAwKSxcbiAgICAgICAgICAgIGogPSBHICsgUCxcbiAgICAgICAgICAgIFcgPSBIICsgayxcbiAgICAgICAgICAgIHEgPSBlLm1hdHJpeC5tYXRyaXgsXG4gICAgICAgICAgICBLID0gdC5hbHBoYSxcbiAgICAgICAgICAgIFogPSB0Ll90aW50VEwsXG4gICAgICAgICAgICBKID0gdC5fdGludFRSLFxuICAgICAgICAgICAgUSA9IHQuX3RpbnRCTCxcbiAgICAgICAgICAgICQgPSB0Ll90aW50QlI7TC5hcHBseUlUUlMoTiwgWCwgViwgVSwgWSksIHkgPSB6WzBdLCB3ID0gelsxXSwgRSA9IHpbMl0sIFQgPSB6WzNdLCBiID0gels0XSwgXyA9IHpbNV0sIEEgPSBxWzBdLCBTID0gcVsxXSwgUiA9IHFbMl0sIE0gPSBxWzNdLCBPID0gcVs0XSwgQyA9IHFbNV0sIHMgPSB5ICogQSArIHcgKiBSLCBhID0geSAqIFMgKyB3ICogTSwgbyA9IEUgKiBBICsgVCAqIFIsIGggPSBFICogUyArIFQgKiBNLCB1ID0gYiAqIEEgKyBfICogUiArIE8sIGMgPSBiICogUyArIF8gKiBNICsgQywgbCA9IEcgKiBzICsgSCAqIG8gKyB1LCBmID0gRyAqIGEgKyBIICogaCArIGMsIGQgPSBHICogcyArIFcgKiBvICsgdSwgcCA9IEcgKiBhICsgVyAqIGggKyBjLCB2ID0gaiAqIHMgKyBXICogbyArIHUsIGcgPSBqICogYSArIFcgKiBoICsgYywgeCA9IGogKiBzICsgSCAqIG8gKyB1LCBtID0gaiAqIGEgKyBIICogaCArIGMsIHRoaXMubWFuYWdlci5zZXRSZW5kZXJlcih0aGlzLCBpLCB0LnJlbmRlclRhcmdldCksIEIgPSBGLmFsbG9jYXRlKDI0KSwgdGhpcy5lbGVtZW50Q291bnQgKz0gNiwgSVtCKytdID0gbCwgSVtCKytdID0gZiwgSVtCKytdID0gMCwgSVtCKytdID0gMCwgRFtCKytdID0gWiwgSVtCKytdID0gSywgSVtCKytdID0gZCwgSVtCKytdID0gcCwgSVtCKytdID0gMCwgSVtCKytdID0gMSwgRFtCKytdID0gUSwgSVtCKytdID0gSywgSVtCKytdID0gdiwgSVtCKytdID0gZywgSVtCKytdID0gMSwgSVtCKytdID0gMSwgRFtCKytdID0gJCwgSVtCKytdID0gSywgSVtCKytdID0geCwgSVtCKytdID0gbSwgSVtCKytdID0gMSwgSVtCKytdID0gMCwgRFtCKytdID0gSiwgSVtCKytdID0gSywgdGhpcy5mbHVzaCh0LmRzdFNoYWRlciksIHQuZHN0UmVuZGVyVGFyZ2V0LnNob3VsZENsZWFyID0gITA7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZVNoYWRlcih0aGlzLnNoYWRlciksIHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXJPYmplY3QpLCB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCksIHRoaXMuc2hhZGVyID0gbnVsbCwgdGhpcy5pbmRleEJ1ZmZlck9iamVjdCA9IG51bGwsIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0ID0gbnVsbDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gYztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgVkVSVEVYX1NJWkU6IDI0LCBJTkRFWF9TSVpFOiAyLCBRVUFEX1ZFUlRFWF9DT1VOVDogNCwgUVVBRF9JTkRFWF9DT1VOVDogNiwgUVVBRF9WRVJURVhfQ09NUE9ORU5UX0NPVU5UOiA2LCBNQVhfUVVBRFM6IDIgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNDQxKSxcbiAgICAgICAgcyA9IGkoMzcpLFxuICAgICAgICBhID0gaSgzMCksXG4gICAgICAgIG8gPSBpKDQpLFxuICAgICAgICBoID0gaSg0NDIpLFxuICAgICAgICB1ID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGkpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gdCwgdGhpcy50eXBlID0gby5XRUJHTCwgdGhpcy52aWV3ID0gdC5jYW52YXMsIHRoaXMucmVzb2x1dGlvbiA9IHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMud2lkdGggPSB0LmNvbmZpZy53aWR0aCAqIHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ID0gdC5jb25maWcuaGVpZ2h0ICogdC5jb25maWcucmVzb2x1dGlvbiwgdGhpcy5nbENvbnRleHQgPSBlLCB0aGlzLm1heFF1YWRzID0gbnVsbCwgdGhpcy5zaGFkZXIgPSBudWxsLCB0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCA9IG51bGwsIHRoaXMuaW5kZXhCdWZmZXJPYmplY3QgPSBudWxsLCB0aGlzLnZlcnRleERhdGFCdWZmZXIgPSBudWxsLCB0aGlzLmluZGV4RGF0YUJ1ZmZlciA9IG51bGwsIHRoaXMuZWxlbWVudENvdW50ID0gMCwgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBudWxsLCB0aGlzLmNvbmZpZyA9IHsgY2xlYXJCZWZvcmVSZW5kZXI6ICEwLCB0cmFuc3BhcmVudDogITEsIGF1dG9SZXNpemU6ICExLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICExLCBXZWJHTENvbnRleHRPcHRpb25zOiB7IGFscGhhOiAhMCwgYW50aWFsaWFzOiAhMCwgcHJlbXVsdGlwbGllZEFscGhhOiAhMCwgc3RlbmNpbDogITAsIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogITEgfSB9LCB0aGlzLm1hbmFnZXIgPSBpLCB0aGlzLmRpcnR5ID0gITEsIHRoaXMuaW5pdCh0aGlzLmdsQ29udGV4dCk7XG4gICAgICB9LCBpbml0OiBmdW5jdGlvbiBpbml0KHQpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgYShyLlZFUlRFWF9TSVpFICogci5BQVFVQURfVkVSVEVYX0NPVU5UICogci5NQVhfQUFRVUFEKSxcbiAgICAgICAgICAgIGkgPSBuZXcgcyhyLklOREVYX1NJWkUgKiByLkFBUVVBRF9JTkRFWF9DT1VOVCAqIHIuTUFYX0FBUVVBRCksXG4gICAgICAgICAgICBuID0gdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVTaGFkZXIoXCJVbnRleHR1cmVkQW5kVGludGVkU2hhZGVyXCIsIGgpLFxuICAgICAgICAgICAgbyA9IHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGkuZ2V0Qnl0ZUNhcGFjaXR5KCksIHQuU1RBVElDX0RSQVcpLFxuICAgICAgICAgICAgdSA9IHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKHQuQVJSQVlfQlVGRkVSLCBlLmdldEJ5dGVDYXBhY2l0eSgpLCB0LlNUUkVBTV9EUkFXKSxcbiAgICAgICAgICAgIGMgPSBuLmdldFVuaWZvcm1Mb2NhdGlvbihcInVfdmlld19tYXRyaXhcIiksXG4gICAgICAgICAgICBsID0gaS51aW50VmlldyxcbiAgICAgICAgICAgIGYgPSByLk1BWF9BQVFVQUQgKiByLkFBUVVBRF9JTkRFWF9DT1VOVDt1LmFkZEF0dHJpYnV0ZShuLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9wb3NpdGlvblwiKSwgMiwgdC5GTE9BVCwgITEsIHIuVkVSVEVYX1NJWkUsIDApLCB1LmFkZEF0dHJpYnV0ZShuLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9jb2xvclwiKSwgNCwgdC5GTE9BVCwgITEsIHIuVkVSVEVYX1NJWkUsIDgpLCB0aGlzLnZlcnRleERhdGFCdWZmZXIgPSBlLCB0aGlzLmluZGV4RGF0YUJ1ZmZlciA9IGksIHRoaXMuc2hhZGVyID0gbiwgdGhpcy5pbmRleEJ1ZmZlck9iamVjdCA9IG8sIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0ID0gdSwgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBjO2ZvciAodmFyIGQgPSAwLCBwID0gMDsgZCA8IGY7IGQgKz0gci5BQVFVQURfSU5ERVhfQ09VTlQsIHAgKz0gci5BQVFVQURfVkVSVEVYX0NPVU5UKSB7XG4gICAgICAgICAgbFtkICsgMF0gPSBwICsgMCwgbFtkICsgMV0gPSBwICsgMSwgbFtkICsgMl0gPSBwICsgMiwgbFtkICsgM10gPSBwICsgMCwgbFtkICsgNF0gPSBwICsgMiwgbFtkICsgNV0gPSBwICsgMztcbiAgICAgICAgfW8udXBkYXRlUmVzb3VyY2UobCwgMCksIHRoaXMucmVzaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24pO1xuICAgICAgfSwgc2hvdWxkRmx1c2g6IGZ1bmN0aW9uIHNob3VsZEZsdXNoKCkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9LCBpc0Z1bGw6IGZ1bmN0aW9uIGlzRnVsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlTGVuZ3RoKCkgPj0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLmdldEJ5dGVDYXBhY2l0eSgpO1xuICAgICAgfSwgYWRkOiBmdW5jdGlvbiBhZGQodCwgZSwgaSwgbiwgcywgYSwgbywgaCkge1xuICAgICAgICB2YXIgdSA9IHRoaXMudmVydGV4RGF0YUJ1ZmZlcixcbiAgICAgICAgICAgIGMgPSB1LmZsb2F0VmlldyxcbiAgICAgICAgICAgIGwgPSB1LmFsbG9jYXRlKHIuQUFRVUFEX1ZFUlRFWF9DT01QT05FTlRfQ09VTlQgKiByLkFBUVVBRF9WRVJURVhfQ09VTlQpO2NbbCsrXSA9IHQsIGNbbCsrXSA9IGUsIGNbbCsrXSA9IHMsIGNbbCsrXSA9IGEsIGNbbCsrXSA9IG8sIGNbbCsrXSA9IGgsIGNbbCsrXSA9IHQsIGNbbCsrXSA9IGUgKyBuLCBjW2wrK10gPSBzLCBjW2wrK10gPSBhLCBjW2wrK10gPSBvLCBjW2wrK10gPSBoLCBjW2wrK10gPSB0ICsgaSwgY1tsKytdID0gZSArIG4sIGNbbCsrXSA9IHMsIGNbbCsrXSA9IGEsIGNbbCsrXSA9IG8sIGNbbCsrXSA9IGgsIGNbbCsrXSA9IHQgKyBpLCBjW2wrK10gPSBlLCBjW2wrK10gPSBzLCBjW2wrK10gPSBhLCBjW2wrK10gPSBvLCBjW2wrK10gPSBoLCB0aGlzLmVsZW1lbnRDb3VudCArPSByLkFBUVVBRF9JTkRFWF9DT1VOVDtcbiAgICAgIH0sIGJpbmQ6IGZ1bmN0aW9uIGJpbmQodCkge1xuICAgICAgICB2b2lkIDAgPT09IHQgPyB0aGlzLnNoYWRlci5iaW5kKCkgOiAodC5iaW5kKCksIHRoaXMucmVzaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24sIHQpKSwgdGhpcy5pbmRleEJ1ZmZlck9iamVjdC5iaW5kKCksIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0LmJpbmQoKTtcbiAgICAgIH0sIGZsdXNoOiBmdW5jdGlvbiBmbHVzaCh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5nbENvbnRleHQsXG4gICAgICAgICAgICBpID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyOzAgIT09IHRoaXMuZWxlbWVudENvdW50ICYmICh0aGlzLmJpbmQodCksIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0LnVwZGF0ZVJlc291cmNlKGkuZ2V0VXNlZEJ1ZmZlckFzRmxvYXQoKSwgMCksIGUuZHJhd0VsZW1lbnRzKGUuVFJJQU5HTEVTLCB0aGlzLmVsZW1lbnRDb3VudCwgZS5VTlNJR05FRF9TSE9SVCwgMCksIGkuY2xlYXIoKSwgdGhpcy5lbGVtZW50Q291bnQgPSAwKTtcbiAgICAgIH0sIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSB2b2lkIDAgIT09IG4gPyBuIDogdGhpcy5zaGFkZXI7dGhpcy53aWR0aCA9IHQgKiBpLCB0aGlzLmhlaWdodCA9IGUgKiBpLCByLnNldENvbnN0YW50TWF0cml4NHg0KHRoaXMudmlld01hdHJpeExvY2F0aW9uLCBuZXcgRmxvYXQzMkFycmF5KFsyIC8gdGhpcy53aWR0aCwgMCwgMCwgMCwgMCwgLTIgLyB0aGlzLmhlaWdodCwgMCwgMCwgMCwgMCwgMSwgMSwgLTEsIDEsIDAsIDBdKSk7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZVNoYWRlcih0aGlzLnNoYWRlciksIHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXJPYmplY3QpLCB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCksIHRoaXMuc2hhZGVyID0gbnVsbCwgdGhpcy5pbmRleEJ1ZmZlck9iamVjdCA9IG51bGwsIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0ID0gbnVsbDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gdTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgVkVSVEVYX1NJWkU6IDI0LCBJTkRFWF9TSVpFOiAyLCBBQVFVQURfVkVSVEVYX0NPVU5UOiA0LCBBQVFVQURfSU5ERVhfQ09VTlQ6IDYsIEFBUVVBRF9WRVJURVhfQ09NUE9ORU5UX0NPVU5UOiA2LCBNQVhfQUFRVUFEOiAyZTMgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHQuZXhwb3J0cyA9IHsgdmVydDogW1widW5pZm9ybSBtYXQ0IHVfdmlld19tYXRyaXg7XCIsIFwiYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcIiwgXCJhdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1wiLCBcInZhcnlpbmcgdmVjNCB2X2NvbG9yO1wiLCBcInZvaWQgbWFpbiAoKSB7XCIsIFwiICAgZ2xfUG9zaXRpb24gPSB1X3ZpZXdfbWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjAsIDEuMCk7XCIsIFwiICAgdl9jb2xvciA9IGFfY29sb3I7XCIsIFwifVwiXS5qb2luKFwiXFxuXCIpLCBmcmFnOiBbXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcIiwgXCJ2YXJ5aW5nIHZlYzQgdl9jb2xvcjtcIiwgXCJ2b2lkIG1haW4oKSB7XCIsIFwiICAgZ2xfRnJhZ0NvbG9yID0gdl9jb2xvcjtcIiwgXCJ9XCJdLmpvaW4oXCJcXG5cIikgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDE2NSksXG4gICAgICAgIHMgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLmdsID0gdCwgdGhpcy5zaGFkZXJDYWNoZSA9IHt9LCB0aGlzLnNoYWRlckNvdW50ID0gMDtcbiAgICAgIH0sIGNyZWF0ZVJlbmRlclRhcmdldDogZnVuY3Rpb24gY3JlYXRlUmVuZGVyVGFyZ2V0KHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHMgPSB0aGlzLmdsLFxuICAgICAgICAgICAgYSA9IHMuY3JlYXRlRnJhbWVidWZmZXIoKSxcbiAgICAgICAgICAgIG8gPSBudWxsLFxuICAgICAgICAgICAgaCA9IG51bGwsXG4gICAgICAgICAgICB1ID0gMDtpZiAocy5iaW5kRnJhbWVidWZmZXIocy5GUkFNRUJVRkZFUiwgYSksIHZvaWQgMCAhPT0gbiAmJiBudWxsICE9PSBuID8gKG4uaXNSZW5kZXJUZXh0dXJlID0gITAsIHMuZnJhbWVidWZmZXJUZXh0dXJlMkQocy5GUkFNRUJVRkZFUiwgcy5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIHMuVEVYVFVSRV8yRCwgbi50ZXh0dXJlLCBuLm1pcExldmVsKSkgOiAobyA9IHMuY3JlYXRlUmVuZGVyYnVmZmVyKCksIHMuYmluZFJlbmRlcmJ1ZmZlcihzLlJFTkRFUkJVRkZFUiwgbyksIHMucmVuZGVyYnVmZmVyU3RvcmFnZShzLlJFTkRFUkJVRkZFUiwgcy5ERVBUSF9TVEVOQ0lMLCB0LCBlKSwgcy5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihzLkZSQU1FQlVGRkVSLCBzLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgcy5SRU5ERVJCVUZGRVIsIG8pKSwgdm9pZCAwICE9PSBpICYmIG51bGwgIT09IGkgPyAoaS5pc1JlbmRlclRleHR1cmUgPSAhMCwgcy5mcmFtZWJ1ZmZlclRleHR1cmUyRChzLkZSQU1FQlVGRkVSLCBzLkNPTE9SX0FUVEFDSE1FTlQwLCBzLlRFWFRVUkVfMkQsIGkudGV4dHVyZSwgaS5taXBMZXZlbCkpIDogKGggPSBzLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLCBzLmJpbmRSZW5kZXJidWZmZXIocy5SRU5ERVJCVUZGRVIsIGgpLCBzLnJlbmRlcmJ1ZmZlclN0b3JhZ2Uocy5SRU5ERVJCVUZGRVIsIHMuUkdCQTQsIHQsIGUpLCBzLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHMuRlJBTUVCVUZGRVIsIHMuQ09MT1JfQVRUQUNITUVOVDAsIHMuUkVOREVSQlVGRkVSLCBoKSksICh1ID0gcy5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHMuRlJBTUVCVUZGRVIpKSAhPT0gcy5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICAgIHZhciBjID0geyAzNjA1NDogXCJJbmNvbXBsZXRlIEF0dGFjaG1lbnRcIiwgMzYwNTU6IFwiTWlzc2luZyBBdHRhY2htZW50XCIsIDM2MDU3OiBcIkluY29tcGxldGUgRGltZW5zaW9uc1wiLCAzNjA2MTogXCJGcmFtZWJ1ZmZlciBVbnN1cHBvcnRlZFwiIH07dGhyb3cgbmV3IEVycm9yKFwiRnJhbWVidWZmZXIgaW5jb21wbGV0ZS4gRnJhbWVidWZmZXIgc3RhdHVzOiBcIiArIGNbdV0pO1xuICAgICAgICB9cmV0dXJuIHMuYmluZEZyYW1lYnVmZmVyKHMuRlJBTUVCVUZGRVIsIG51bGwpLCBuZXcgci5SZW5kZXJUYXJnZXQoYSwgdCwgZSwgdm9pZCAwID09PSBpID8gbnVsbCA6IGksIHZvaWQgMCA9PT0gbiA/IG51bGwgOiBuKTtcbiAgICAgIH0sIGNyZWF0ZUJ1ZmZlcjogZnVuY3Rpb24gY3JlYXRlQnVmZmVyKHQsIGUsIGkpIHtcbiAgICAgICAgdmFyIG4gPSB0aGlzLmdsLFxuICAgICAgICAgICAgcyA9IG4uY3JlYXRlQnVmZmVyKCk7c3dpdGNoIChuLmJpbmRCdWZmZXIodCwgcyksIG4uYnVmZmVyRGF0YSh0LCBlLCBpKSwgdCkge2Nhc2Ugbi5BUlJBWV9CVUZGRVI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IHIuVmVydGV4QnVmZmVyKG4sIHMpO2Nhc2Ugbi5FTEVNRU5UX0FSUkFZX0JVRkZFUjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgci5JbmRleEJ1ZmZlcihuLCBzKTtkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBCdWZmZXIgVGFyZ2V0XCIpO31cbiAgICAgIH0sIGNyZWF0ZVRleHR1cmU6IGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUodCwgZSwgaSwgbiwgcywgYSwgbywgaCwgdSkge1xuICAgICAgICB2YXIgYyA9IHRoaXMuZ2wsXG4gICAgICAgICAgICBsID0gYy5jcmVhdGVUZXh0dXJlKCk7cmV0dXJuIGMuYmluZFRleHR1cmUoYy5URVhUVVJFXzJELCBsKSwgYy50ZXhQYXJhbWV0ZXJpKGMuVEVYVFVSRV8yRCwgYy5URVhUVVJFX01JTl9GSUxURVIsIGUpLCBjLnRleFBhcmFtZXRlcmkoYy5URVhUVVJFXzJELCBjLlRFWFRVUkVfTUFHX0ZJTFRFUiwgaSksIGMudGV4UGFyYW1ldGVyaShjLlRFWFRVUkVfMkQsIGMuVEVYVFVSRV9XUkFQX1MsIHMpLCBjLnRleFBhcmFtZXRlcmkoYy5URVhUVVJFXzJELCBjLlRFWFRVUkVfV1JBUF9ULCBuKSwgbnVsbCA9PT0gbyB8fCB2b2lkIDAgPT09IG8gPyBjLnRleEltYWdlMkQoYy5URVhUVVJFXzJELCB0LCBhLCBoLCB1LCAwLCBhLCBjLlVOU0lHTkVEX0JZVEUsIG51bGwpIDogKGMudGV4SW1hZ2UyRChjLlRFWFRVUkVfMkQsIHQsIGEsIGEsIGMuVU5TSUdORURfQllURSwgbyksIGggPSBvLndpZHRoLCB1ID0gby5oZWlnaHQpLCBjLmJpbmRUZXh0dXJlKGMuVEVYVFVSRV8yRCwgbnVsbCksIG5ldyByLlRleHR1cmUobCwgaCwgdSk7XG4gICAgICB9LCBjcmVhdGVTaGFkZXI6IGZ1bmN0aW9uIGNyZWF0ZVNoYWRlcih0LCBlKSB7XG4gICAgICAgIGlmIChudWxsICE9PSB0ICYmIHZvaWQgMCAhPT0gdCB8fCAodCArPSBcIlNoYWRlclwiICsgdGhpcy5zaGFkZXJDb3VudCwgdGhpcy5zaGFkZXJDb3VudCArPSAxKSwgdCBpbiB0aGlzLnNoYWRlckNhY2hlKSByZXR1cm4gdGhpcy5zaGFkZXJDYWNoZVt0XTt2YXIgaSxcbiAgICAgICAgICAgIG4sXG4gICAgICAgICAgICBzLFxuICAgICAgICAgICAgYSxcbiAgICAgICAgICAgIG8sXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgdSA9IHRoaXMuZ2w7aWYgKG4gPSB1LmNyZWF0ZVNoYWRlcih1LlZFUlRFWF9TSEFERVIpLCB1LnNoYWRlclNvdXJjZShuLCBlLnZlcnQpLCB1LmNvbXBpbGVTaGFkZXIobiksIGEgPSB1LmdldFNoYWRlclBhcmFtZXRlcihuLCB1LkNPTVBJTEVfU1RBVFVTKSwgbyA9IHUuZ2V0U2hhZGVySW5mb0xvZyhuKSwgIWEgJiYgbyAmJiBvLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcihcIlZlcnRleCBTaGFkZXIgQ29tcGlsYXRpb24gRXJyb3IuIFNoYWRlciBuYW1lOiBcIiArIHQgKyBcIi5cXG5cIiArIG8gKyBcIlxcblxcbiBTaGFkZXIgc291cmNlOlxcblwiICsgZS52ZXJ0KTtpZiAobyAmJiBvLmxlbmd0aCA+IDEwICYmIGNvbnNvbGUud2FybihcIlZlcnRleCBTaGFkZXIgQ29tcGlsYXRpb24gV2FybmluZy4gU2hhZGVyIG5hbWU6IFwiICsgdCArIFwiLlxcblwiICsgbyArIFwiXFxuXFxuIFNoYWRlciBzb3VyY2U6XFxuXCIgKyBlLnZlcnQpLCBzID0gdS5jcmVhdGVTaGFkZXIodS5GUkFHTUVOVF9TSEFERVIpLCB1LnNoYWRlclNvdXJjZShzLCBlLmZyYWcpLCB1LmNvbXBpbGVTaGFkZXIocyksIGEgPSB1LmdldFNoYWRlclBhcmFtZXRlcihzLCB1LkNPTVBJTEVfU1RBVFVTKSwgbyA9IHUuZ2V0U2hhZGVySW5mb0xvZyhzKSwgIWEgJiYgbyAmJiBvLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcihcIkZyYWdtZW50IFNoYWRlciBDb21waWxhdGlvbiBFcnJvci4gU2hhZGVyIG5hbWU6IFwiICsgdCArIFwiLlxcblwiICsgbyArIFwiXFxuXFxuIFNoYWRlciBzb3VyY2U6XFxuXCIgKyBlLmZyYWcpO2lmIChvICYmIG8ubGVuZ3RoID4gMTAgJiYgY29uc29sZS53YXJuKFwiRnJhZ21lbnQgU2hhZGVyIENvbXBpbGF0aW9uIFdhcm5pbmcuIFNoYWRlciBuYW1lOiBcIiArIHQgKyBcIi5cXG5cIiArIG8gKyBcIlxcblxcbiBTaGFkZXIgc291cmNlOlxcblwiICsgZS5mcmFnKSwgaSA9IHUuY3JlYXRlUHJvZ3JhbSgpLCB1LmF0dGFjaFNoYWRlcihpLCBuKSwgdS5hdHRhY2hTaGFkZXIoaSwgcyksIHUubGlua1Byb2dyYW0oaSksIHUudmFsaWRhdGVQcm9ncmFtKGkpLCBhID0gdS5nZXRQcm9ncmFtUGFyYW1ldGVyKGksIHUuTElOS19TVEFUVVMpLCBvID0gdS5nZXRQcm9ncmFtSW5mb0xvZyhpKSwgIWEgJiYgbyAmJiBvLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcihcIlByb2dyYW0gTGlua2luZyBFcnJvci4gU2hhZGVyIG5hbWU6IFwiICsgdCArIFwiLlxcblwiICsgbyk7aWYgKG8gJiYgby5sZW5ndGggPiAxMCAmJiBjb25zb2xlLndhcm4oXCJQcm9ncmFtIExpbmtpbmcgV2FybmluZy4gU2hhZGVyIG5hbWU6IFwiICsgdCArIFwiLlxcblwiICsgbyksIGEgPSB1LmdldFByb2dyYW1QYXJhbWV0ZXIoaSwgdS5WQUxJREFURV9TVEFUVVMpLCBvID0gdS5nZXRQcm9ncmFtSW5mb0xvZyhpKSwgIWEgJiYgbyAmJiBvLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcihcIlByb2dyYW0gVmFsaWRhdGlvbiBFcnJvci4gU2hhZGVyIG5hbWU6IFwiICsgdCArIFwiLlxcblwiICsgbyk7cmV0dXJuIG8gJiYgby5sZW5ndGggPiAxMCAmJiBjb25zb2xlLndhcm4oXCJQcm9ncmFtIFZhbGlkYXRpb24gV2FybmluZy4gU2hhZGVyIG5hbWU6IFwiICsgdCArIFwiLlxcblwiICsgbyksIGggPSBuZXcgci5TaGFkZXIodCwgdSwgaSwgbiwgcyksIHRoaXMuc2hhZGVyQ2FjaGVbdF0gPSBoLCBoO1xuICAgICAgfSwgZGVsZXRlU2hhZGVyOiBmdW5jdGlvbiBkZWxldGVTaGFkZXIodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuc2hhZGVyQ2FjaGVbdC5uYW1lXSxcbiAgICAgICAgICAgIGkgPSB0aGlzLmdsO3ZvaWQgMCAhPT0gZSAmJiBkZWxldGUgdGhpcy5zaGFkZXJDYWNoZSwgaS5kZWxldGVTaGFkZXIodC52ZXJ0ZXhTaGFkZXIpLCBpLmRlbGV0ZVNoYWRlcih0LmZyYWdtZW50U2hhZGVyKSwgaS5kZWxldGVQcm9ncmFtKHQucHJvZ3JhbSksIHQudmVydGV4U2hhZGVyID0gbnVsbCwgdC5mcmFnbWVudFNoYWRlciA9IG51bGwsIHQucHJvZ3JhbSA9IG51bGwsIHQubmFtZSA9IG51bGw7XG4gICAgICB9LCBkZWxldGVCdWZmZXI6IGZ1bmN0aW9uIGRlbGV0ZUJ1ZmZlcih0KSB7XG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHQuYnVmZmVyT2JqZWN0KTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBudWxsLFxuICAgICAgICBzID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgdGhpcy5nbCA9IHQsIHRoaXMuYnVmZmVyVGFyZ2V0ID0gdC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXJPYmplY3QgPSBlO1xuICAgICAgfSwgYmluZDogZnVuY3Rpb24gYmluZCgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmdsO3JldHVybiByICE9PSB0aGlzICYmIChyID0gdGhpcywgdC5iaW5kQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyT2JqZWN0KSksIHRoaXM7XG4gICAgICB9LCB1cGRhdGVSZXNvdXJjZTogZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2UodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZ2w7cmV0dXJuIHIgIT09IHRoaXMgJiYgKHIgPSB0aGlzLCBpLmJpbmRCdWZmZXIoaS5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXJPYmplY3QpKSwgaS5idWZmZXJTdWJEYXRhKGkuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGUsIHQpLCB0aGlzO1xuICAgICAgfSB9KTtzLlNldERpcnR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgciA9IG51bGw7XG4gICAgfSwgdC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k4Niwgbiwgcikge1xuICAgICAgdGhpcy5mcmFtZWJ1ZmZlck9iamVjdCA9IHQsIHRoaXMud2lkdGggPSBlLCB0aGlzLmhlaWdodCA9IF9pODYsIHRoaXMuY29sb3JCdWZmZXIgPSBuLCB0aGlzLmRlcHRoU3RlbmNpbEJ1ZmZlciA9IHIsIHRoaXMuc2hvdWxkQ2xlYXIgPSAhMSwgdGhpcy5jbGVhckFscGhhID0gMDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbnVsbCxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuLCByKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBlLCB0aGlzLnByb2dyYW0gPSBpLCB0aGlzLnZlcnRleFNoYWRlciA9IG4sIHRoaXMuZnJhZ21lbnRTaGFkZXIgPSByLCB0aGlzLm5hbWUgPSB0O1xuICAgICAgfSwgYmluZEF0dHJpYkxvY2F0aW9uOiBmdW5jdGlvbiBiaW5kQXR0cmliTG9jYXRpb24odCwgZSkge1xuICAgICAgICB0aGlzLmdsLmJpbmRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIHQsIGUpO1xuICAgICAgfSwgZ2V0VW5pZm9ybUxvY2F0aW9uOiBmdW5jdGlvbiBnZXRVbmlmb3JtTG9jYXRpb24odCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCB0KTtcbiAgICAgIH0sIGdldEF0dHJpYkxvY2F0aW9uOiBmdW5jdGlvbiBnZXRBdHRyaWJMb2NhdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgdCk7XG4gICAgICB9LCBzZXRDb25zdGFudEZsb2F0MTogZnVuY3Rpb24gc2V0Q29uc3RhbnRGbG9hdDEodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKCksIHRoaXMuZ2wudW5pZm9ybTFmKHQsIGUpLCB0aGlzO1xuICAgICAgfSwgc2V0Q29uc3RhbnRGbG9hdDI6IGZ1bmN0aW9uIHNldENvbnN0YW50RmxvYXQyKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZCgpLCB0aGlzLmdsLnVuaWZvcm0yZih0LCBlLCBpKSwgdGhpcztcbiAgICAgIH0sIHNldENvbnN0YW50RmxvYXQzOiBmdW5jdGlvbiBzZXRDb25zdGFudEZsb2F0Myh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbmQoKSwgdGhpcy5nbC51bmlmb3JtM2YodCwgZSwgaSwgbiksIHRoaXM7XG4gICAgICB9LCBzZXRDb25zdGFudEZsb2F0NDogZnVuY3Rpb24gc2V0Q29uc3RhbnRGbG9hdDQodCwgZSwgaSwgbiwgcikge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKCksIHRoaXMuZ2wudW5pZm9ybTRmKHQsIGUsIGksIG4sIHIpLCB0aGlzO1xuICAgICAgfSwgc2V0Q29uc3RhbnRJbnQxOiBmdW5jdGlvbiBzZXRDb25zdGFudEludDEodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKCksIHRoaXMuZ2wudW5pZm9ybTFpKHQsIGUpLCB0aGlzO1xuICAgICAgfSwgc2V0Q29uc3RhbnRJbnQyOiBmdW5jdGlvbiBzZXRDb25zdGFudEludDIodCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKCksIHRoaXMuZ2wudW5pZm9ybTJpKHQsIGUsIGkpLCB0aGlzO1xuICAgICAgfSwgc2V0Q29uc3RhbnRJbnQzOiBmdW5jdGlvbiBzZXRDb25zdGFudEludDModCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKCksIHRoaXMuZ2wudW5pZm9ybTNpKHQsIGUsIGksIG4pLCB0aGlzO1xuICAgICAgfSwgc2V0Q29uc3RhbnRJbnQ0OiBmdW5jdGlvbiBzZXRDb25zdGFudEludDQodCwgZSwgaSwgbiwgcikge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKCksIHRoaXMuZ2wudW5pZm9ybTRpKHQsIGUsIGksIG4sIHIpLCB0aGlzO1xuICAgICAgfSwgc2V0Q29uc3RhbnRNYXRyaXgyeDI6IGZ1bmN0aW9uIHNldENvbnN0YW50TWF0cml4MngyKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZCgpLCB0aGlzLmdsLnVuaWZvcm1NYXRyaXgyZnYodCwgITEsIGUpLCB0aGlzO1xuICAgICAgfSwgc2V0Q29uc3RhbnRNYXRyaXgzeDM6IGZ1bmN0aW9uIHNldENvbnN0YW50TWF0cml4M3gzKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZCgpLCB0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYodCwgITEsIGUpLCB0aGlzO1xuICAgICAgfSwgc2V0Q29uc3RhbnRNYXRyaXg0eDQ6IGZ1bmN0aW9uIHNldENvbnN0YW50TWF0cml4NHg0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZCgpLCB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodCwgITEsIGUpLCB0aGlzO1xuICAgICAgfSwgYmluZDogZnVuY3Rpb24gYmluZCgpIHtcbiAgICAgICAgcmV0dXJuIHIgIT09IHRoaXMgJiYgKHIgPSB0aGlzLCB0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKSksIHRoaXM7XG4gICAgICB9IH0pO3MuU2V0RGlydHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByID0gbnVsbDtcbiAgICB9LCB0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHQsIHRoaXMud2lkdGggPSBlLCB0aGlzLmhlaWdodCA9IGksIHRoaXMuaXNSZW5kZXJUZXh0dXJlID0gITE7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg0NDkpLFxuICAgICAgICBzID0gaSgzMCksXG4gICAgICAgIGEgPSBpKDE2NiksXG4gICAgICAgIG8gPSBpKDQpLFxuICAgICAgICBoID0gaSg0NTApLFxuICAgICAgICB1ID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGkpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gdCwgdGhpcy50eXBlID0gby5XRUJHTCwgdGhpcy52aWV3ID0gdC5jYW52YXMsIHRoaXMucmVzb2x1dGlvbiA9IHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMud2lkdGggPSB0LmNvbmZpZy53aWR0aCAqIHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ID0gdC5jb25maWcuaGVpZ2h0ICogdC5jb25maWcucmVzb2x1dGlvbiwgdGhpcy5nbENvbnRleHQgPSBlLCB0aGlzLm1heFZlcnRpY2VzID0gbnVsbCwgdGhpcy5zaGFkZXIgPSBudWxsLCB0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCA9IG51bGwsIHRoaXMudmVydGV4RGF0YUJ1ZmZlciA9IG51bGwsIHRoaXMudmVydGV4Q291bnQgPSAwLCB0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbiA9IG51bGwsIHRoaXMudGVtcFRyaWFuZ2xlID0gW3sgeDogMCwgeTogMCwgd2lkdGg6IDAsIHJnYjogMTY3NzcyMTUsIGFscGhhOiAxIH0sIHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIHJnYjogMTY3NzcyMTUsIGFscGhhOiAxIH0sIHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIHJnYjogMTY3NzcyMTUsIGFscGhhOiAxIH0sIHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIHJnYjogMTY3NzcyMTUsIGFscGhhOiAxIH1dLCB0aGlzLmNvbmZpZyA9IHsgY2xlYXJCZWZvcmVSZW5kZXI6ICEwLCB0cmFuc3BhcmVudDogITEsIGF1dG9SZXNpemU6ICExLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICExLCBXZWJHTENvbnRleHRPcHRpb25zOiB7IGFscGhhOiAhMCwgYW50aWFsaWFzOiAhMCwgcHJlbXVsdGlwbGllZEFscGhhOiAhMCwgc3RlbmNpbDogITAsIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogITEgfSB9LCB0aGlzLm1hbmFnZXIgPSBpLCB0aGlzLmRpcnR5ID0gITEsIHRoaXMuY29udGV4dCA9IG51bGwsIHRoaXMuaW5pdCh0aGlzLmdsQ29udGV4dCk7XG4gICAgICB9LCBpbml0OiBmdW5jdGlvbiBpbml0KHQpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgcyhyLlZFUlRFWF9TSVpFICogci5NQVhfVkVSVElDRVMpLFxuICAgICAgICAgICAgaSA9IHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlU2hhZGVyKFwiVW50ZXh0dXJlZEFuZE5vcm1hbGl6ZWRUaW50ZWRTaGFkZXJcIiwgaCksXG4gICAgICAgICAgICBuID0gdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIodC5BUlJBWV9CVUZGRVIsIGUuZ2V0Qnl0ZUNhcGFjaXR5KCksIHQuU1RSRUFNX0RSQVcpLFxuICAgICAgICAgICAgYSA9IGkuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidV92aWV3X21hdHJpeFwiKSxcbiAgICAgICAgICAgIG8gPSByLk1BWF9WRVJUSUNFUztuLmFkZEF0dHJpYnV0ZShpLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9wb3NpdGlvblwiKSwgMiwgdC5GTE9BVCwgITEsIHIuVkVSVEVYX1NJWkUsIDApLCBuLmFkZEF0dHJpYnV0ZShpLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9jb2xvclwiKSwgNCwgdC5VTlNJR05FRF9CWVRFLCAhMCwgci5WRVJURVhfU0laRSwgOCksIG4uYWRkQXR0cmlidXRlKGkuZ2V0QXR0cmliTG9jYXRpb24oXCJhX2FscGhhXCIpLCAxLCB0LkZMT0FULCAhMSwgci5WRVJURVhfU0laRSwgMTIpLCB0aGlzLnZlcnRleERhdGFCdWZmZXIgPSBlLCB0aGlzLnNoYWRlciA9IGksIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0ID0gbiwgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBhLCB0aGlzLm1heFZlcnRpY2VzID0gbywgdGhpcy5wb2x5Z29uQ2FjaGUgPSBbXSwgdGhpcy5yZXNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbik7XG4gICAgICB9LCBzaG91bGRGbHVzaDogZnVuY3Rpb24gc2hvdWxkRmx1c2goKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH0sIGlzRnVsbDogZnVuY3Rpb24gaXNGdWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLmdldEJ5dGVMZW5ndGgoKSA+PSB0aGlzLnZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCk7XG4gICAgICB9LCBiaW5kOiBmdW5jdGlvbiBiaW5kKHQpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ID8gdGhpcy5zaGFkZXIuYmluZCgpIDogKHQuYmluZCgpLCB0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5nYW1lLmNvbmZpZy5yZXNvbHV0aW9uLCB0KSksIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0LmJpbmQoKTtcbiAgICAgIH0sIGZsdXNoOiBmdW5jdGlvbiBmbHVzaCh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5nbENvbnRleHQsXG4gICAgICAgICAgICBpID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyOzAgIT09IHRoaXMudmVydGV4Q291bnQgJiYgKHRoaXMuYmluZCh0KSwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QudXBkYXRlUmVzb3VyY2UoaS5nZXRVc2VkQnVmZmVyQXNGbG9hdCgpLCAwKSwgZS5kcmF3QXJyYXlzKGUuVFJJQU5HTEVTLCAwLCB0aGlzLnZlcnRleENvdW50KSwgaS5jbGVhcigpLCB0aGlzLnZlcnRleENvdW50ID0gMCk7XG4gICAgICB9LCByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gdm9pZCAwICE9PSBuID8gbiA6IHRoaXMuc2hhZGVyO3RoaXMud2lkdGggPSB0ICogaSwgdGhpcy5oZWlnaHQgPSBlICogaSwgci5zZXRDb25zdGFudE1hdHJpeDR4NCh0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbiwgbmV3IEZsb2F0MzJBcnJheShbMiAvIHRoaXMud2lkdGgsIDAsIDAsIDAsIDAsIC0yIC8gdGhpcy5oZWlnaHQsIDAsIDAsIDAsIDAsIDEsIDEsIC0xLCAxLCAwLCAwXSkpO1xuICAgICAgfSwgYWRkTGluZTogZnVuY3Rpb24gYWRkTGluZSh0LCBlLCBpLCBuLCByLCBzLCBhLCBvLCBoLCB1LCBjLCBsLCBmLCBkLCBwLCB2LCBnLCB4LCBtLCB5LCB3KSB7XG4gICAgICAgIHRoaXMudmVydGV4Q291bnQgKyA2ID4gdGhpcy5tYXhWZXJ0aWNlcyAmJiB0aGlzLmZsdXNoKCksIHRoaXMudmVydGV4Q291bnQgKz0gNjt2YXIgRSA9IHcubWF0cml4WzBdLFxuICAgICAgICAgICAgVCA9IHcubWF0cml4WzFdLFxuICAgICAgICAgICAgYiA9IHcubWF0cml4WzJdLFxuICAgICAgICAgICAgXyA9IHcubWF0cml4WzNdLFxuICAgICAgICAgICAgQSA9IHcubWF0cml4WzRdLFxuICAgICAgICAgICAgUyA9IHcubWF0cml4WzVdLFxuICAgICAgICAgICAgUiA9IHAgKiBFICsgdiAqIGIsXG4gICAgICAgICAgICBNID0gcCAqIFQgKyB2ICogXyxcbiAgICAgICAgICAgIE8gPSBnICogRSArIHggKiBiLFxuICAgICAgICAgICAgQyA9IGcgKiBUICsgeCAqIF8sXG4gICAgICAgICAgICBMID0gbSAqIEUgKyB5ICogYiArIEEsXG4gICAgICAgICAgICBGID0gbSAqIFQgKyB5ICogXyArIFMsXG4gICAgICAgICAgICBJID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLFxuICAgICAgICAgICAgRCA9IEkuZmxvYXRWaWV3LFxuICAgICAgICAgICAgQiA9IEkudWludFZpZXcsXG4gICAgICAgICAgICBQID0gbyAtIHMsXG4gICAgICAgICAgICBrID0gaCAtIGEsXG4gICAgICAgICAgICBOID0gTWF0aC5zcXJ0KFAgKiBQICsgayAqIGspLFxuICAgICAgICAgICAgWCA9IHUgKiAoaCAtIGEpIC8gTixcbiAgICAgICAgICAgIFUgPSB1ICogKHMgLSBvKSAvIE4sXG4gICAgICAgICAgICBZID0gYyAqIChoIC0gYSkgLyBOLFxuICAgICAgICAgICAgViA9IGMgKiAocyAtIG8pIC8gTixcbiAgICAgICAgICAgIHogPSBvIC0gWSxcbiAgICAgICAgICAgIEcgPSBoIC0gVixcbiAgICAgICAgICAgIEggPSBzIC0gWCxcbiAgICAgICAgICAgIGogPSBhIC0gVSxcbiAgICAgICAgICAgIFcgPSBvICsgWSxcbiAgICAgICAgICAgIHEgPSBoICsgVixcbiAgICAgICAgICAgIEsgPSBzICsgWCxcbiAgICAgICAgICAgIFogPSBhICsgVSxcbiAgICAgICAgICAgIEogPSB6ICogUiArIEcgKiBPICsgTCxcbiAgICAgICAgICAgIFEgPSB6ICogTSArIEcgKiBDICsgRixcbiAgICAgICAgICAgICQgPSBIICogUiArIGogKiBPICsgTCxcbiAgICAgICAgICAgIHR0ID0gSCAqIE0gKyBqICogQyArIEYsXG4gICAgICAgICAgICBldCA9IFcgKiBSICsgcSAqIE8gKyBMLFxuICAgICAgICAgICAgaXQgPSBXICogTSArIHEgKiBDICsgRixcbiAgICAgICAgICAgIG50ID0gSyAqIFIgKyBaICogTyArIEwsXG4gICAgICAgICAgICBydCA9IEsgKiBNICsgWiAqIEMgKyBGLFxuICAgICAgICAgICAgc3QgPSBJLmFsbG9jYXRlKDI0KTtyZXR1cm4gRFtzdCsrXSA9IEosIERbc3QrK10gPSBRLCBCW3N0KytdID0gZiwgRFtzdCsrXSA9IGQsIERbc3QrK10gPSAkLCBEW3N0KytdID0gdHQsIEJbc3QrK10gPSBsLCBEW3N0KytdID0gZCwgRFtzdCsrXSA9IGV0LCBEW3N0KytdID0gaXQsIEJbc3QrK10gPSBmLCBEW3N0KytdID0gZCwgRFtzdCsrXSA9ICQsIERbc3QrK10gPSB0dCwgQltzdCsrXSA9IGwsIERbc3QrK10gPSBkLCBEW3N0KytdID0gbnQsIERbc3QrK10gPSBydCwgQltzdCsrXSA9IGwsIERbc3QrK10gPSBkLCBEW3N0KytdID0gZXQsIERbc3QrK10gPSBpdCwgQltzdCsrXSA9IGYsIERbc3QrK10gPSBkLCBbSiwgUSwgZiwgJCwgdHQsIGwsIGV0LCBpdCwgZiwgbnQsIHJ0LCBsXTtcbiAgICAgIH0sIGFkZFN0cm9rZVBhdGg6IGZ1bmN0aW9uIGFkZFN0cm9rZVBhdGgodCwgZSwgaSwgbiwgciwgcywgYSwgbywgaCwgdSwgYywgbCwgZiwgZCwgcCwgdiwgZykge1xuICAgICAgICBmb3IgKHZhciB4LCBtLCB5LCB3LCBFLCBULCBiID0gcy5sZW5ndGgsIF8gPSB0aGlzLnBvbHlnb25DYWNoZSwgQSA9IHRoaXMudmVydGV4RGF0YUJ1ZmZlciwgUyA9IEEuZmxvYXRWaWV3LCBSID0gQS51aW50VmlldywgTSA9IDA7IE0gKyAxIDwgYjsgTSArPSAxKSB7XG4gICAgICAgICAgeCA9IHNbTV0sIG0gPSBzW00gKyAxXSwgVCA9IHRoaXMuYWRkTGluZSh0LCBlLCBpLCBuLCByLCB4LngsIHgueSwgbS54LCBtLnksIHgud2lkdGggLyAyLCBtLndpZHRoIC8gMiwgeC5yZ2IsIG0ucmdiLCBoLCB1LCBjLCBsLCBmLCBkLCBwLCBnKSwgXy5wdXNoKFQpO1xuICAgICAgICB9Zm9yICh2YXIgTyA9IDEsIEMgPSBfLmxlbmd0aDsgTyA8IEM7ICsrTykge1xuICAgICAgICAgIHRoaXMudmVydGV4Q291bnQgKyA2ID4gdGhpcy5tYXhWZXJ0aWNlcyAmJiB0aGlzLmZsdXNoKCksIHkgPSBfW08gLSAxXSB8fCBfW0MgLSAxXSwgdyA9IF9bT10sIEUgPSBBLmFsbG9jYXRlKDI0KSwgU1tFKytdID0geVs2XSwgU1tFKytdID0geVs3XSwgUltFKytdID0geVs4XSwgU1tFKytdID0gaCwgU1tFKytdID0geVswXSwgU1tFKytdID0geVsxXSwgUltFKytdID0geVsyXSwgU1tFKytdID0gaCwgU1tFKytdID0gd1s5XSwgU1tFKytdID0gd1sxMF0sIFJbRSsrXSA9IHdbMTFdLCBTW0UrK10gPSBoLCBTW0UrK10gPSB5WzBdLCBTW0UrK10gPSB5WzFdLCBSW0UrK10gPSB5WzJdLCBTW0UrK10gPSBoLCBTW0UrK10gPSB5WzZdLCBTW0UrK10gPSB5WzddLCBSW0UrK10gPSB5WzhdLCBTW0UrK10gPSBoLCBTW0UrK10gPSB3WzNdLCBTW0UrK10gPSB3WzRdLCBSW0UrK10gPSB3WzVdLCBTW0UrK10gPSBoLCB0aGlzLnZlcnRleENvdW50ICs9IDY7XG4gICAgICAgIH1fLmxlbmd0aCA9IDA7XG4gICAgICB9LCBhZGRGaWxsUGF0aDogZnVuY3Rpb24gYWRkRmlsbFBhdGgodCwgZSwgaSwgbiwgciwgcywgbywgaCwgdSwgYywgbCwgZiwgZCwgcCwgdikge1xuICAgICAgICBmb3IgKHZhciBnLCB4LCBtLCB5LCB3LCBFLCBULCBiLCBfLCBBLCBTLCBSLCBNLCBPLCBDLCBMLCBGLCBJLCBEID0gcy5sZW5ndGgsIEIgPSB0aGlzLnBvbHlnb25DYWNoZSwgUCA9IHRoaXMudmVydGV4Q291bnQsIGsgPSB0aGlzLm1heFZlcnRpY2VzLCBOID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLCBYID0gTi5mbG9hdFZpZXcsIFUgPSBOLnVpbnRWaWV3LCBZID0gdi5tYXRyaXhbMF0sIFYgPSB2Lm1hdHJpeFsxXSwgeiA9IHYubWF0cml4WzJdLCBHID0gdi5tYXRyaXhbM10sIEggPSB2Lm1hdHJpeFs0XSwgaiA9IHYubWF0cml4WzVdLCBXID0gdSAqIFkgKyBjICogeiwgcSA9IHUgKiBWICsgYyAqIEcsIEsgPSBsICogWSArIGYgKiB6LCBaID0gbCAqIFYgKyBmICogRywgSiA9IGQgKiBZICsgcCAqIHogKyBILCBRID0gZCAqIFYgKyBwICogRyArIGosICQgPSAwOyAkIDwgRDsgKyskKSB7XG4gICAgICAgICAgeCA9IHNbJF0sIEIucHVzaCh4LngsIHgueSk7XG4gICAgICAgIH1nID0gYShCKSwgRCA9IGcubGVuZ3RoO2ZvciAodmFyIHR0ID0gMDsgdHQgPCBEOyB0dCArPSAzKSB7XG4gICAgICAgICAgbSA9IDIgKiBnW3R0ICsgMF0sIHkgPSAyICogZ1t0dCArIDFdLCB3ID0gMiAqIGdbdHQgKyAyXSwgUCArIDMgPiBrICYmICh0aGlzLnZlcnRleENvdW50ID0gUCwgdGhpcy5mbHVzaCgpLCBQID0gMCksIEUgPSBOLmFsbG9jYXRlKDEyKSwgUCArPSAzLCBUID0gQlttICsgMF0sIGIgPSBCW20gKyAxXSwgXyA9IEJbeSArIDBdLCBBID0gQlt5ICsgMV0sIFMgPSBCW3cgKyAwXSwgUiA9IEJbdyArIDFdLCBNID0gVCAqIFcgKyBiICogSyArIEosIE8gPSBUICogcSArIGIgKiBaICsgUSwgQyA9IF8gKiBXICsgQSAqIEsgKyBKLCBMID0gXyAqIHEgKyBBICogWiArIFEsIEYgPSBTICogVyArIFIgKiBLICsgSiwgSSA9IFMgKiBxICsgUiAqIFogKyBRLCBYW0UrK10gPSBNLCBYW0UrK10gPSBPLCBVW0UrK10gPSBvLCBYW0UrK10gPSBoLCBYW0UrK10gPSBDLCBYW0UrK10gPSBMLCBVW0UrK10gPSBvLCBYW0UrK10gPSBoLCBYW0UrK10gPSBGLCBYW0UrK10gPSBJLCBVW0UrK10gPSBvLCBYW0UrK10gPSBoO1xuICAgICAgICB9dGhpcy52ZXJ0ZXhDb3VudCA9IFAsIEIubGVuZ3RoID0gMDtcbiAgICAgIH0sIGFkZEZpbGxSZWN0OiBmdW5jdGlvbiBhZGRGaWxsUmVjdCh0LCBlLCBpLCBuLCByLCBzLCBhLCBvLCBoLCB1LCBjLCBsLCBmLCBkLCBwLCB2LCBnLCB4KSB7XG4gICAgICAgIHRoaXMudmVydGV4Q291bnQgKyA2ID4gdGhpcy5tYXhWZXJ0aWNlcyAmJiB0aGlzLmZsdXNoKCk7dmFyIG0gPSB0aGlzLnZlcnRleERhdGFCdWZmZXIsXG4gICAgICAgICAgICB5ID0gbS5mbG9hdFZpZXcsXG4gICAgICAgICAgICB3ID0gbS51aW50VmlldyxcbiAgICAgICAgICAgIEUgPSBtLmFsbG9jYXRlKDI0KSxcbiAgICAgICAgICAgIFQgPSBzICsgbyxcbiAgICAgICAgICAgIGIgPSBhICsgaCxcbiAgICAgICAgICAgIF8gPSB4Lm1hdHJpeFswXSxcbiAgICAgICAgICAgIEEgPSB4Lm1hdHJpeFsxXSxcbiAgICAgICAgICAgIFMgPSB4Lm1hdHJpeFsyXSxcbiAgICAgICAgICAgIFIgPSB4Lm1hdHJpeFszXSxcbiAgICAgICAgICAgIE0gPSB4Lm1hdHJpeFs0XSxcbiAgICAgICAgICAgIE8gPSB4Lm1hdHJpeFs1XSxcbiAgICAgICAgICAgIEMgPSBsICogXyArIGYgKiBTLFxuICAgICAgICAgICAgTCA9IGwgKiBBICsgZiAqIFIsXG4gICAgICAgICAgICBGID0gZCAqIF8gKyBwICogUyxcbiAgICAgICAgICAgIEkgPSBkICogQSArIHAgKiBSLFxuICAgICAgICAgICAgRCA9IHYgKiBfICsgZyAqIFMgKyBNLFxuICAgICAgICAgICAgQiA9IHYgKiBBICsgZyAqIFIgKyBPLFxuICAgICAgICAgICAgUCA9IHMgKiBDICsgYSAqIEYgKyBELFxuICAgICAgICAgICAgayA9IHMgKiBMICsgYSAqIEkgKyBCLFxuICAgICAgICAgICAgTiA9IHMgKiBDICsgYiAqIEYgKyBELFxuICAgICAgICAgICAgWCA9IHMgKiBMICsgYiAqIEkgKyBCLFxuICAgICAgICAgICAgVSA9IFQgKiBDICsgYiAqIEYgKyBELFxuICAgICAgICAgICAgWSA9IFQgKiBMICsgYiAqIEkgKyBCLFxuICAgICAgICAgICAgViA9IFQgKiBDICsgYSAqIEYgKyBELFxuICAgICAgICAgICAgeiA9IFQgKiBMICsgYSAqIEkgKyBCO3lbRSsrXSA9IFAsIHlbRSsrXSA9IGssIHdbRSsrXSA9IHUsIHlbRSsrXSA9IGMsIHlbRSsrXSA9IE4sIHlbRSsrXSA9IFgsIHdbRSsrXSA9IHUsIHlbRSsrXSA9IGMsIHlbRSsrXSA9IFUsIHlbRSsrXSA9IFksIHdbRSsrXSA9IHUsIHlbRSsrXSA9IGMsIHlbRSsrXSA9IFAsIHlbRSsrXSA9IGssIHdbRSsrXSA9IHUsIHlbRSsrXSA9IGMsIHlbRSsrXSA9IFUsIHlbRSsrXSA9IFksIHdbRSsrXSA9IHUsIHlbRSsrXSA9IGMsIHlbRSsrXSA9IFYsIHlbRSsrXSA9IHosIHdbRSsrXSA9IHUsIHlbRSsrXSA9IGMsIHRoaXMudmVydGV4Q291bnQgKz0gNjtcbiAgICAgIH0sIGFkZEZpbGxUcmlhbmdsZTogZnVuY3Rpb24gYWRkRmlsbFRyaWFuZ2xlKHQsIGUsIGksIG4sIHIsIHMsIGEsIG8sIGgsIHUsIGMsIGwsIGYsIGQsIHAsIHYsIGcsIHgsIG0sIHkpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhDb3VudCArIDMgPiB0aGlzLm1heFZlcnRpY2VzICYmIHRoaXMuZmx1c2goKTt2YXIgdyA9IHkubWF0cml4WzBdLFxuICAgICAgICAgICAgRSA9IHkubWF0cml4WzFdLFxuICAgICAgICAgICAgVCA9IHkubWF0cml4WzJdLFxuICAgICAgICAgICAgYiA9IHkubWF0cml4WzNdLFxuICAgICAgICAgICAgXyA9IHkubWF0cml4WzRdLFxuICAgICAgICAgICAgQSA9IHkubWF0cml4WzVdLFxuICAgICAgICAgICAgUyA9IGQgKiB3ICsgcCAqIFQsXG4gICAgICAgICAgICBSID0gZCAqIEUgKyBwICogYixcbiAgICAgICAgICAgIE0gPSB2ICogdyArIGcgKiBULFxuICAgICAgICAgICAgTyA9IHYgKiBFICsgZyAqIGIsXG4gICAgICAgICAgICBDID0geCAqIHcgKyBtICogVCArIF8sXG4gICAgICAgICAgICBMID0geCAqIEUgKyBtICogYiArIEEsXG4gICAgICAgICAgICBGID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLFxuICAgICAgICAgICAgSSA9IEYuZmxvYXRWaWV3LFxuICAgICAgICAgICAgRCA9IEYudWludFZpZXcsXG4gICAgICAgICAgICBCID0gRi5hbGxvY2F0ZSgxMiksXG4gICAgICAgICAgICBQID0gcyAqIFMgKyBhICogTSArIEMsXG4gICAgICAgICAgICBrID0gcyAqIFIgKyBhICogTyArIEwsXG4gICAgICAgICAgICBOID0gbyAqIFMgKyBoICogTSArIEMsXG4gICAgICAgICAgICBYID0gbyAqIFIgKyBoICogTyArIEwsXG4gICAgICAgICAgICBVID0gdSAqIFMgKyBjICogTSArIEMsXG4gICAgICAgICAgICBZID0gdSAqIFIgKyBjICogTyArIEw7SVtCKytdID0gUCwgSVtCKytdID0gaywgRFtCKytdID0gbCwgSVtCKytdID0gZiwgSVtCKytdID0gTiwgSVtCKytdID0gWCwgRFtCKytdID0gbCwgSVtCKytdID0gZiwgSVtCKytdID0gVSwgSVtCKytdID0gWSwgRFtCKytdID0gbCwgSVtCKytdID0gZiwgdGhpcy52ZXJ0ZXhDb3VudCArPSAzO1xuICAgICAgfSwgYWRkU3Ryb2tlVHJpYW5nbGU6IGZ1bmN0aW9uIGFkZFN0cm9rZVRyaWFuZ2xlKHQsIGUsIGksIG4sIHIsIHMsIGEsIG8sIGgsIHUsIGMsIGwsIGYsIGQsIHAsIHYsIGcsIHgsIG0sIHksIHcpIHtcbiAgICAgICAgdmFyIEUgPSB0aGlzLnRlbXBUcmlhbmdsZTtFWzBdLnggPSBzLCBFWzBdLnkgPSBhLCBFWzBdLndpZHRoID0gbCwgRVswXS5yZ2IgPSBmLCBFWzBdLmFscGhhID0gZCwgRVsxXS54ID0gbywgRVsxXS55ID0gaCwgRVsxXS53aWR0aCA9IGwsIEVbMV0ucmdiID0gZiwgRVsxXS5hbHBoYSA9IGQsIEVbMl0ueCA9IHUsIEVbMl0ueSA9IGMsIEVbMl0ud2lkdGggPSBsLCBFWzJdLnJnYiA9IGYsIEVbMl0uYWxwaGEgPSBkLCBFWzNdLnggPSBzLCBFWzNdLnkgPSBhLCBFWzNdLndpZHRoID0gbCwgRVszXS5yZ2IgPSBmLCBFWzNdLmFscGhhID0gZCwgdGhpcy5hZGRTdHJva2VQYXRoKHQsIGUsIGksIG4sIHIsIEUsIGwsIGYsIGQsIHAsIHYsIGcsIHgsIG0sIHksICExLCB3KTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlU2hhZGVyKHRoaXMuc2hhZGVyKSwgdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QpLCB0aGlzLnNoYWRlciA9IG51bGwsIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0ID0gbnVsbDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gdTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgVkVSVEVYX1NJWkU6IDE2LCBTSEFQRV9WRVJURVhfQ09NUE9ORU5UX0NPVU5UOiA0LCBNQVhfVkVSVElDRVM6IDE2ZTMgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHQuZXhwb3J0cyA9IHsgdmVydDogW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsIFwidW5pZm9ybSBtYXQ0IHVfdmlld19tYXRyaXg7XCIsIFwiYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcIiwgXCJhdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1wiLCBcImF0dHJpYnV0ZSBmbG9hdCBhX2FscGhhO1wiLCBcInZhcnlpbmcgdmVjNCB2X2NvbG9yO1wiLCBcInZhcnlpbmcgZmxvYXQgdl9hbHBoYTtcIiwgXCJ2b2lkIG1haW4gKCkge1wiLCBcIiAgIGdsX1Bvc2l0aW9uID0gdV92aWV3X21hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wLCAxLjApO1wiLCBcIiAgIHZfY29sb3IgPSBhX2NvbG9yO1wiLCBcIiAgIHZfYWxwaGEgPSBhX2FscGhhO1wiLCBcIn1cIl0uam9pbihcIlxcblwiKSwgZnJhZzogW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsIFwidmFyeWluZyB2ZWM0IHZfY29sb3I7XCIsIFwidmFyeWluZyBmbG9hdCB2X2FscGhhO1wiLCBcInZvaWQgbWFpbigpIHtcIiwgXCIgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZfY29sb3IuYmdyLCB2X2FscGhhKTtcIiwgXCJ9XCJdLmpvaW4oXCJcXG5cIikgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDQ1MiksXG4gICAgICAgIHMgPSBpKDM3KSxcbiAgICAgICAgYSA9IGkoMzApLFxuICAgICAgICBvID0gaSg0KSxcbiAgICAgICAgaCA9IGkoMzgpLFxuICAgICAgICB1ID0gaSgxNCksXG4gICAgICAgIGMgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSkge1xuICAgICAgICB0aGlzLmdhbWUgPSB0LCB0aGlzLnR5cGUgPSBvLldFQkdMLCB0aGlzLnZpZXcgPSB0LmNhbnZhcywgdGhpcy5yZXNvbHV0aW9uID0gdC5jb25maWcucmVzb2x1dGlvbiwgdGhpcy53aWR0aCA9IHQuY29uZmlnLndpZHRoICogdC5jb25maWcucmVzb2x1dGlvbiwgdGhpcy5oZWlnaHQgPSB0LmNvbmZpZy5oZWlnaHQgKiB0LmNvbmZpZy5yZXNvbHV0aW9uLCB0aGlzLmdsQ29udGV4dCA9IGUsIHRoaXMubWF4U3ByaXRlcyA9IG51bGwsIHRoaXMuc2hhZGVyID0gbnVsbCwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QgPSBudWxsLCB0aGlzLmluZGV4QnVmZmVyT2JqZWN0ID0gbnVsbCwgdGhpcy5pbmRleEJ1ZmZlck9iamVjdEZvck1lc2ggPSBudWxsLCB0aGlzLnZlcnRleERhdGFCdWZmZXIgPSBudWxsLCB0aGlzLmluZGV4RGF0YUJ1ZmZlciA9IG51bGwsIHRoaXMuZWxlbWVudENvdW50ID0gMCwgdGhpcy5jdXJyZW50VGV4dHVyZTJEID0gbnVsbCwgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBudWxsLCB0aGlzLnRlbXBNYXRyaXggPSBuZXcgdSgpLCB0aGlzLmNvbmZpZyA9IHsgY2xlYXJCZWZvcmVSZW5kZXI6ICEwLCB0cmFuc3BhcmVudDogITEsIGF1dG9SZXNpemU6ICExLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICExLCBXZWJHTENvbnRleHRPcHRpb25zOiB7IGFscGhhOiAhMCwgYW50aWFsaWFzOiAhMCwgcHJlbXVsdGlwbGllZEFscGhhOiAhMCwgc3RlbmNpbDogITAsIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogITEgfSB9LCB0aGlzLm1hbmFnZXIgPSBpLCB0aGlzLmRpcnR5ID0gITEsIHRoaXMuZHJhd0luZGV4ZWQgPSAhMCwgdGhpcy5sYXN0RHJhd0luZGV4ZWQgPSAhMCwgdGhpcy5sYXN0RHJhd2luZ01lc2ggPSAhMSwgdGhpcy5kcmF3aW5nTWVzaCA9ICExLCB0aGlzLnZlcnRleENvdW50ID0gMCwgdGhpcy5pbml0KHRoaXMuZ2xDb250ZXh0KTtcbiAgICAgIH0sIGluaXQ6IGZ1bmN0aW9uIGluaXQodCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBhKHIuVkVSVEVYX1NJWkUgKiByLlNQUklURV9WRVJURVhfQ09VTlQgKiByLk1BWF9TUFJJVEVTKSxcbiAgICAgICAgICAgIGkgPSBuZXcgcyhyLklOREVYX1NJWkUgKiByLlNQUklURV9JTkRFWF9DT1VOVCAqIHIuTUFYX1NQUklURVMpLFxuICAgICAgICAgICAgbiA9IHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlU2hhZGVyKFwiVGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyXCIsIGgpLFxuICAgICAgICAgICAgbyA9IHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGkuZ2V0Qnl0ZUNhcGFjaXR5KCksIHQuU1RBVElDX0RSQVcpLFxuICAgICAgICAgICAgdSA9IHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGkuZ2V0Qnl0ZUNhcGFjaXR5KCksIHQuU1RSRUFNX0RSQVcpLFxuICAgICAgICAgICAgYyA9IHRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKHQuQVJSQVlfQlVGRkVSLCBlLmdldEJ5dGVDYXBhY2l0eSgpLCB0LlNUUkVBTV9EUkFXKSxcbiAgICAgICAgICAgIGwgPSBuLmdldFVuaWZvcm1Mb2NhdGlvbihcInVfdmlld19tYXRyaXhcIiksXG4gICAgICAgICAgICBmID0gaS51aW50VmlldyxcbiAgICAgICAgICAgIGQgPSByLk1BWF9TUFJJVEVTICogci5TUFJJVEVfSU5ERVhfQ09VTlQ7dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyID0gZSwgdGhpcy5pbmRleERhdGFCdWZmZXIgPSBpLCB0aGlzLnNoYWRlciA9IG4sIHRoaXMuaW5kZXhCdWZmZXJPYmplY3QgPSBvLCB0aGlzLmluZGV4QnVmZmVyT2JqZWN0Rm9yTWVzaCA9IHUsIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0ID0gYywgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBsLCBjLmFkZEF0dHJpYnV0ZShuLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9wb3NpdGlvblwiKSwgMiwgdC5GTE9BVCwgITEsIHIuVkVSVEVYX1NJWkUsIDApLCBjLmFkZEF0dHJpYnV0ZShuLmdldEF0dHJpYkxvY2F0aW9uKFwiYV90ZXhfY29vcmRcIiksIDIsIHQuRkxPQVQsICExLCByLlZFUlRFWF9TSVpFLCA4KSwgYy5hZGRBdHRyaWJ1dGUobi5nZXRBdHRyaWJMb2NhdGlvbihcImFfY29sb3JcIiksIDMsIHQuVU5TSUdORURfQllURSwgITAsIHIuVkVSVEVYX1NJWkUsIDE2KSwgYy5hZGRBdHRyaWJ1dGUobi5nZXRBdHRyaWJMb2NhdGlvbihcImFfYWxwaGFcIiksIDEsIHQuRkxPQVQsICExLCByLlZFUlRFWF9TSVpFLCAyMCk7Zm9yICh2YXIgcCA9IDAsIHYgPSAwOyBwIDwgZDsgcCArPSByLlNQUklURV9JTkRFWF9DT1VOVCwgdiArPSByLlNQUklURV9WRVJURVhfQ09VTlQpIHtcbiAgICAgICAgICBmW3AgKyAwXSA9IHYgKyAwLCBmW3AgKyAxXSA9IHYgKyAxLCBmW3AgKyAyXSA9IHYgKyAyLCBmW3AgKyAzXSA9IHYgKyAwLCBmW3AgKyA0XSA9IHYgKyAyLCBmW3AgKyA1XSA9IHYgKyAzO1xuICAgICAgICB9by51cGRhdGVSZXNvdXJjZShmLCAwKSwgdGhpcy5yZXNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbik7XG4gICAgICB9LCBzaG91bGRGbHVzaDogZnVuY3Rpb24gc2hvdWxkRmx1c2goKSB7XG4gICAgICAgIHJldHVybiAhKHRoaXMuZHJhd0luZGV4ZWQgPT09IHRoaXMubGFzdERyYXdJbmRleGVkICYmIHRoaXMubGFzdERyYXdpbmdNZXNoID09PSB0aGlzLmRyYXdpbmdNZXNoICYmICF0aGlzLmlzRnVsbCgpKSAmJiAodGhpcy5sYXN0RHJhd0luZGV4ZWQgPSB0aGlzLmRyYXdJbmRleGVkLCB0aGlzLmxhc3REcmF3aW5nTWVzaCA9IHRoaXMuZHJhd2luZ01lc2gsICEwKTtcbiAgICAgIH0sIGlzRnVsbDogZnVuY3Rpb24gaXNGdWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLmdldEJ5dGVMZW5ndGgoKSA+PSB0aGlzLnZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCk7XG4gICAgICB9LCBiaW5kOiBmdW5jdGlvbiBiaW5kKHQpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ID8gdGhpcy5zaGFkZXIuYmluZCgpIDogKHQuYmluZCgpLCB0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5nYW1lLmNvbmZpZy5yZXNvbHV0aW9uLCB0KSksIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0LmJpbmQoKTtcbiAgICAgIH0sIGZsdXNoOiBmdW5jdGlvbiBmbHVzaCh0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5nbENvbnRleHQsXG4gICAgICAgICAgICBuID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyOzAgPT09IHRoaXMuZWxlbWVudENvdW50ICYmIDAgPT09IHRoaXMudmVydGV4Q291bnQgfHwgKGUgJiYgaS5iaW5kRnJhbWVidWZmZXIoaS5GUkFNRUJVRkZFUiwgZSksIHRoaXMuYmluZCh0KSwgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QudXBkYXRlUmVzb3VyY2Uobi5nZXRVc2VkQnVmZmVyQXNGbG9hdCgpLCAwKSwgdGhpcy5kcmF3SW5kZXhlZCA/ICh0aGlzLmRyYXdpbmdNZXNoID8gKHRoaXMuaW5kZXhCdWZmZXJPYmplY3RGb3JNZXNoLmJpbmQoKSwgdGhpcy5pbmRleEJ1ZmZlck9iamVjdEZvck1lc2gudXBkYXRlUmVzb3VyY2UodGhpcy5pbmRleERhdGFCdWZmZXIuYnVmZmVyLCAwKSkgOiB0aGlzLmluZGV4QnVmZmVyT2JqZWN0LmJpbmQoKSwgaS5kcmF3RWxlbWVudHMoaS5UUklBTkdMRVMsIHRoaXMuZWxlbWVudENvdW50LCBpLlVOU0lHTkVEX1NIT1JULCAwKSkgOiBpLmRyYXdBcnJheXMoaS5UUklBTkdMRVMsIDAsIHRoaXMudmVydGV4Q291bnQpLCBuLmNsZWFyKCksIHRoaXMuZWxlbWVudENvdW50ID0gMCwgdGhpcy52ZXJ0ZXhDb3VudCA9IDAsIGUgJiYgaS5iaW5kRnJhbWVidWZmZXIoaS5GUkFNRUJVRkZFUiwgbnVsbCkpO1xuICAgICAgfSwgcmVzaXplOiBmdW5jdGlvbiByZXNpemUodCwgZSwgaSwgbikge1xuICAgICAgICB2YXIgciA9IHZvaWQgMCAhPT0gbiA/IG4gOiB0aGlzLnNoYWRlcixcbiAgICAgICAgICAgIHMgPSByID09PSB0aGlzLnNoYWRlciA/IHRoaXMudmlld01hdHJpeExvY2F0aW9uIDogci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1X3ZpZXdfbWF0cml4XCIpO3RoaXMud2lkdGggPSB0ICogaSwgdGhpcy5oZWlnaHQgPSBlICogaSwgdGhpcy5zZXRQcm9qZWN0aW9uTWF0cml4KHIsIHMpO1xuICAgICAgfSwgc2V0UHJvamVjdGlvbk1hdHJpeDogZnVuY3Rpb24gc2V0UHJvamVjdGlvbk1hdHJpeCh0LCBlKSB7XG4gICAgICAgIHQuc2V0Q29uc3RhbnRNYXRyaXg0eDQoZSwgbmV3IEZsb2F0MzJBcnJheShbMiAvIHRoaXMud2lkdGgsIDAsIDAsIDAsIDAsIC0yIC8gdGhpcy5oZWlnaHQsIDAsIDAsIDAsIDAsIDEsIDEsIC0xLCAxLCAwLCAwXSkpO1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVTaGFkZXIodGhpcy5zaGFkZXIpLCB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyT2JqZWN0KSwgdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QpLCB0aGlzLnNoYWRlciA9IG51bGwsIHRoaXMuaW5kZXhCdWZmZXJPYmplY3QgPSBudWxsLCB0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCA9IG51bGw7XG4gICAgICB9LCBhZGRNZXNoSW5kZXhlZDogZnVuY3Rpb24gYWRkTWVzaEluZGV4ZWQodCwgZSkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIG4sXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgcyxcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICBvLFxuICAgICAgICAgICAgaCxcbiAgICAgICAgICAgIHUsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGYsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgcCxcbiAgICAgICAgICAgIHYsXG4gICAgICAgICAgICBnLFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIG0sXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgdyA9IHRoaXMudGVtcE1hdHJpeCxcbiAgICAgICAgICAgIEUgPSB0LmZyYW1lLFxuICAgICAgICAgICAgVCA9IHRoaXMudmVydGV4RGF0YUJ1ZmZlcixcbiAgICAgICAgICAgIGIgPSBULmZsb2F0VmlldyxcbiAgICAgICAgICAgIF8gPSBULnVpbnRWaWV3LFxuICAgICAgICAgICAgQSA9IDAsXG4gICAgICAgICAgICBTID0gdC54IC0gZS5zY3JvbGxYICogdC5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgUiA9IHQueSAtIGUuc2Nyb2xsWSAqIHQuc2Nyb2xsRmFjdG9yWSxcbiAgICAgICAgICAgIE0gPSB0LnNjYWxlWCxcbiAgICAgICAgICAgIE8gPSB0LnNjYWxlWSxcbiAgICAgICAgICAgIEMgPSAtdC5yb3RhdGlvbixcbiAgICAgICAgICAgIEwgPSB3Lm1hdHJpeCxcbiAgICAgICAgICAgIEYgPSBlLm1hdHJpeC5tYXRyaXgsXG4gICAgICAgICAgICBJID0gdC52ZXJ0aWNlcyxcbiAgICAgICAgICAgIEQgPSB0LnV2LFxuICAgICAgICAgICAgQiA9IEkubGVuZ3RoLFxuICAgICAgICAgICAgUCA9IEIgLyAyIHwgMCxcbiAgICAgICAgICAgIGsgPSB0aGlzLmluZGV4RGF0YUJ1ZmZlci51aW50VmlldyxcbiAgICAgICAgICAgIE4gPSB0LmluZGljZXMsXG4gICAgICAgICAgICBYID0gdC5jb2xvcnMsXG4gICAgICAgICAgICBVID0gdC5hbHBoYXMsXG4gICAgICAgICAgICBZID0gTi5sZW5ndGgsXG4gICAgICAgICAgICBWID0gMDt3LmFwcGx5SVRSUyhTLCBSLCBDLCBNLCBPKSwgaCA9IExbMF0sIHUgPSBMWzFdLCBjID0gTFsyXSwgbCA9IExbM10sIGYgPSBMWzRdLCBkID0gTFs1XSwgcCA9IEZbMF0sIHYgPSBGWzFdLCBnID0gRlsyXSwgeCA9IEZbM10sIG0gPSBGWzRdLCB5ID0gRls1XSwgaSA9IGggKiBwICsgdSAqIGcsIG4gPSBoICogdiArIHUgKiB4LCByID0gYyAqIHAgKyBsICogZywgcyA9IGMgKiB2ICsgbCAqIHgsIGEgPSBmICogcCArIGQgKiBnICsgbSwgbyA9IGYgKiB2ICsgZCAqIHggKyB5LCB0aGlzLm1hbmFnZXIuc2V0UmVuZGVyZXIodGhpcywgRS50ZXh0dXJlLnNvdXJjZVtFLnNvdXJjZUluZGV4XS5nbFRleHR1cmUsIHQucmVuZGVyVGFyZ2V0KSwgViA9IHRoaXMudmVydGV4Q291bnQsIHRoaXMuZHJhd0luZGV4ZWQgPSAhMCwgdGhpcy5kcmF3aW5nTWVzaCA9ICEwLCB0aGlzLnZlcnRleENvdW50ICs9IFAsIEEgPSBULmFsbG9jYXRlKDYgKiBQKTt2YXIgeiwgRztmb3IgKHogPSAwLCBHID0gMDsgeiA8IEI7IHogKz0gMikge1xuICAgICAgICAgIHZhciBIID0gSVt6ICsgMF0sXG4gICAgICAgICAgICAgIGogPSBJW3ogKyAxXSxcbiAgICAgICAgICAgICAgVyA9IEggKiBpICsgaiAqIHIgKyBhLFxuICAgICAgICAgICAgICBxID0gSCAqIG4gKyBqICogcyArIG87YltBKytdID0gVywgYltBKytdID0gcSwgYltBKytdID0gRFt6ICsgMF0sIGJbQSsrXSA9IERbeiArIDFdLCBfW0ErK10gPSBYW0ddLCBiW0ErK10gPSBVW0ddLCBHICs9IDE7XG4gICAgICAgIH12YXIgSyA9IHRoaXMuZWxlbWVudENvdW50O2ZvciAoeiA9IDA7IHogPCBZOyArK3opIHtcbiAgICAgICAgICBrW0sgKyB6XSA9IFYgKyBOW3pdO1xuICAgICAgICB9dGhpcy5lbGVtZW50Q291bnQgKz0gWTtcbiAgICAgIH0sIGFkZE1lc2g6IGZ1bmN0aW9uIGFkZE1lc2godCwgZSkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIG4sXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgcyxcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICBvLFxuICAgICAgICAgICAgaCxcbiAgICAgICAgICAgIHUsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGYsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgcCxcbiAgICAgICAgICAgIHYsXG4gICAgICAgICAgICBnLFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIG0sXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgdyA9IHRoaXMudGVtcE1hdHJpeCxcbiAgICAgICAgICAgIEUgPSB0LmZyYW1lLFxuICAgICAgICAgICAgVCA9IHRoaXMudmVydGV4RGF0YUJ1ZmZlcixcbiAgICAgICAgICAgIGIgPSBULmZsb2F0VmlldyxcbiAgICAgICAgICAgIF8gPSBULnVpbnRWaWV3LFxuICAgICAgICAgICAgQSA9IDAsXG4gICAgICAgICAgICBTID0gdC54IC0gZS5zY3JvbGxYICogdC5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgUiA9IHQueSAtIGUuc2Nyb2xsWSAqIHQuc2Nyb2xsRmFjdG9yWSxcbiAgICAgICAgICAgIE0gPSB0LnNjYWxlWCxcbiAgICAgICAgICAgIE8gPSB0LnNjYWxlWSxcbiAgICAgICAgICAgIEMgPSAtdC5yb3RhdGlvbixcbiAgICAgICAgICAgIEwgPSB3Lm1hdHJpeCxcbiAgICAgICAgICAgIEYgPSBlLm1hdHJpeC5tYXRyaXgsXG4gICAgICAgICAgICBJID0gdC52ZXJ0aWNlcyxcbiAgICAgICAgICAgIEQgPSB0LnV2LFxuICAgICAgICAgICAgQiA9IHQuY29sb3JzLFxuICAgICAgICAgICAgUCA9IHQuYWxwaGFzLFxuICAgICAgICAgICAgayA9IEkubGVuZ3RoLFxuICAgICAgICAgICAgTiA9IGsgLyAyIHwgMDt3LmFwcGx5SVRSUyhTLCBSLCBDLCBNLCBPKSwgaCA9IExbMF0sIHUgPSBMWzFdLCBjID0gTFsyXSwgbCA9IExbM10sIGYgPSBMWzRdLCBkID0gTFs1XSwgcCA9IEZbMF0sIHYgPSBGWzFdLCBnID0gRlsyXSwgeCA9IEZbM10sIG0gPSBGWzRdLCB5ID0gRls1XSwgaSA9IGggKiBwICsgdSAqIGcsIG4gPSBoICogdiArIHUgKiB4LCByID0gYyAqIHAgKyBsICogZywgcyA9IGMgKiB2ICsgbCAqIHgsIGEgPSBmICogcCArIGQgKiBnICsgbSwgbyA9IGYgKiB2ICsgZCAqIHggKyB5LCB0aGlzLm1hbmFnZXIuc2V0UmVuZGVyZXIodGhpcywgRS50ZXh0dXJlLnNvdXJjZVtFLnNvdXJjZUluZGV4XS5nbFRleHR1cmUsIHQucmVuZGVyVGFyZ2V0KSwgdGhpcy5kcmF3SW5kZXhlZCA9ICExLCB0aGlzLmRyYXdpbmdNZXNoID0gITAsIHRoaXMudmVydGV4Q291bnQgKz0gTiwgQSA9IFQuYWxsb2NhdGUoNiAqIE4pO2ZvciAodmFyIFggPSAwLCBVID0gMDsgWCA8IGs7IFggKz0gMikge1xuICAgICAgICAgIHZhciBZID0gSVtYICsgMF0sXG4gICAgICAgICAgICAgIFYgPSBJW1ggKyAxXSxcbiAgICAgICAgICAgICAgeiA9IFkgKiBpICsgViAqIHIgKyBhLFxuICAgICAgICAgICAgICBHID0gWSAqIG4gKyBWICogcyArIG87YltBKytdID0geiwgYltBKytdID0gRywgYltBKytdID0gRFtYICsgMF0sIGJbQSsrXSA9IERbWCArIDFdLCBfW0ErK10gPSBCW1VdLCBiW0ErK10gPSBQW1VdLCBVICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH0sIGFkZFRpbGVUZXh0dXJlUmVjdDogZnVuY3Rpb24gYWRkVGlsZVRleHR1cmVSZWN0KHQsIGUsIGksIG4sIHIsIHMsIGEsIG8sIGgsIHUsIGMsIGwsIGYsIGQsIHAsIHYsIGcpIHtcbiAgICAgICAgdmFyIHgsXG4gICAgICAgICAgICBtLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHcsXG4gICAgICAgICAgICBFLFxuICAgICAgICAgICAgVCxcbiAgICAgICAgICAgIGIsXG4gICAgICAgICAgICBfLFxuICAgICAgICAgICAgQSxcbiAgICAgICAgICAgIFMsXG4gICAgICAgICAgICBSLFxuICAgICAgICAgICAgTSxcbiAgICAgICAgICAgIE8sXG4gICAgICAgICAgICBDLFxuICAgICAgICAgICAgTCA9IHRoaXMudmVydGV4RGF0YUJ1ZmZlcixcbiAgICAgICAgICAgIEYgPSBMLmZsb2F0VmlldyxcbiAgICAgICAgICAgIEkgPSBMLnVpbnRWaWV3LFxuICAgICAgICAgICAgRCA9IDAsXG4gICAgICAgICAgICBCID0gZSArIG4sXG4gICAgICAgICAgICBQID0gaSArIHIsXG4gICAgICAgICAgICBrID0gdi5tYXRyaXgubWF0cml4LFxuICAgICAgICAgICAgTiA9IC41ICogbixcbiAgICAgICAgICAgIFggPSAuNSAqIHIsXG4gICAgICAgICAgICBVID0gKGwgLSAoTiAtIC41KSkgLyB1LFxuICAgICAgICAgICAgWSA9IChmIC0gKFggLSAuNSkpIC8gYyxcbiAgICAgICAgICAgIFYgPSAobCArIChOIC0gLjUpKSAvIHUsXG4gICAgICAgICAgICB6ID0gKGYgKyAoWCAtIC41KSkgLyBjLFxuICAgICAgICAgICAgRyA9IHYuc2Nyb2xsWCAqIG8sXG4gICAgICAgICAgICBIID0gdi5zY3JvbGxZICogaDt4ID0ga1swXSwgbSA9IGtbMV0sIHkgPSBrWzJdLCB3ID0ga1szXSwgRSA9IGtbNF0sIFQgPSBrWzVdLCBiID0gZSAqIHggKyBpICogeSArIEUgLSBHLCBfID0gZSAqIG0gKyBpICogdyArIFQgLSBILCBBID0gZSAqIHggKyBQICogeSArIEUgLSBHLCBTID0gZSAqIG0gKyBQICogdyArIFQgLSBILCBSID0gQiAqIHggKyBQICogeSArIEUgLSBHLCBNID0gQiAqIG0gKyBQICogdyArIFQgLSBILCBPID0gQiAqIHggKyBpICogeSArIEUgLSBHLCBDID0gQiAqIG0gKyBpICogdyArIFQgLSBILCB0aGlzLm1hbmFnZXIuc2V0UmVuZGVyZXIodGhpcywgdCwgZyksIHRoaXMuZHJhd0luZGV4ZWQgPSAhMCwgdGhpcy5kcmF3aW5nTWVzaCA9ICExLCB0aGlzLmVsZW1lbnRDb3VudCArPSA2LCBEID0gTC5hbGxvY2F0ZSgyNCksIEZbRCsrXSA9IGIsIEZbRCsrXSA9IF8sIEZbRCsrXSA9IFUsIEZbRCsrXSA9IFksIElbRCsrXSA9IGEsIEZbRCsrXSA9IHMsIEZbRCsrXSA9IEEsIEZbRCsrXSA9IFMsIEZbRCsrXSA9IFUsIEZbRCsrXSA9IHosIElbRCsrXSA9IGEsIEZbRCsrXSA9IHMsIEZbRCsrXSA9IFIsIEZbRCsrXSA9IE0sIEZbRCsrXSA9IFYsIEZbRCsrXSA9IHosIElbRCsrXSA9IGEsIEZbRCsrXSA9IHMsIEZbRCsrXSA9IE8sIEZbRCsrXSA9IEMsIEZbRCsrXSA9IFYsIEZbRCsrXSA9IFksIElbRCsrXSA9IGEsIEZbRCsrXSA9IHM7XG4gICAgICB9LCBhZGRTcHJpdGVUZXh0dXJlUmVjdDogZnVuY3Rpb24gYWRkU3ByaXRlVGV4dHVyZVJlY3QodCwgZSwgaSwgbiwgciwgcywgYSwgbywgaCkge1xuICAgICAgICB2YXIgdSxcbiAgICAgICAgICAgIGMsXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBwLFxuICAgICAgICAgICAgdixcbiAgICAgICAgICAgIGcsXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgbSxcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB3LFxuICAgICAgICAgICAgRSxcbiAgICAgICAgICAgIFQsXG4gICAgICAgICAgICBiLFxuICAgICAgICAgICAgXyxcbiAgICAgICAgICAgIEEsXG4gICAgICAgICAgICBTLFxuICAgICAgICAgICAgUixcbiAgICAgICAgICAgIE0sXG4gICAgICAgICAgICBPLFxuICAgICAgICAgICAgQyxcbiAgICAgICAgICAgIEwsXG4gICAgICAgICAgICBGLFxuICAgICAgICAgICAgSSxcbiAgICAgICAgICAgIEQsXG4gICAgICAgICAgICBCID0gdGhpcy50ZW1wTWF0cml4LFxuICAgICAgICAgICAgUCA9IHRoaXMudmVydGV4RGF0YUJ1ZmZlcixcbiAgICAgICAgICAgIGsgPSBQLmZsb2F0VmlldyxcbiAgICAgICAgICAgIE4gPSBQLnVpbnRWaWV3LFxuICAgICAgICAgICAgWCA9IDAsXG4gICAgICAgICAgICBVID0gKHQuZmxpcFgsIHQuZmxpcFksIHQueCAtIGUuc2Nyb2xsWCAqIHQuc2Nyb2xsRmFjdG9yWCksXG4gICAgICAgICAgICBZID0gdC55IC0gZS5zY3JvbGxZICogdC5zY3JvbGxGYWN0b3JZLFxuICAgICAgICAgICAgViA9IHQuc2NhbGVYLFxuICAgICAgICAgICAgeiA9IHQuc2NhbGVZLFxuICAgICAgICAgICAgRyA9IC10LnJvdGF0aW9uLFxuICAgICAgICAgICAgSCA9IEIubWF0cml4LFxuICAgICAgICAgICAgaiA9IC10LmRpc3BsYXlPcmlnaW5YICsgcyAqICh0LmZsaXBYID8gMSA6IDApLFxuICAgICAgICAgICAgVyA9IC10LmRpc3BsYXlPcmlnaW5ZICsgYSAqICh0LmZsaXBZID8gMSA6IDApLFxuICAgICAgICAgICAgcSA9IGogKyBzLFxuICAgICAgICAgICAgSyA9IFcgKyBhLFxuICAgICAgICAgICAgWiA9IGUubWF0cml4Lm1hdHJpeCxcbiAgICAgICAgICAgIEogPSB0Ll9hbHBoYVRMLFxuICAgICAgICAgICAgUSA9IHQuX2FscGhhVFIsXG4gICAgICAgICAgICAkID0gdC5fYWxwaGFCTCxcbiAgICAgICAgICAgIHR0ID0gdC5fYWxwaGFCUixcbiAgICAgICAgICAgIGV0ID0gdC5fdGludFRMLFxuICAgICAgICAgICAgaXQgPSB0Ll90aW50VFIsXG4gICAgICAgICAgICBudCA9IHQuX3RpbnRCTCxcbiAgICAgICAgICAgIHJ0ID0gdC5fdGludEJSO0IuYXBwbHlJVFJTKFUsIFksIEcsIFYsIHopLCBiID0gSFswXSwgXyA9IEhbMV0sIEEgPSBIWzJdLCBTID0gSFszXSwgUiA9IEhbNF0sIE0gPSBIWzVdLCBPID0gWlswXSwgQyA9IFpbMV0sIEwgPSBaWzJdLCBGID0gWlszXSwgSSA9IFpbNF0sIEQgPSBaWzVdLCB1ID0gYiAqIE8gKyBfICogTCwgYyA9IGIgKiBDICsgXyAqIEYsIGwgPSBBICogTyArIFMgKiBMLCBmID0gQSAqIEMgKyBTICogRiwgZCA9IFIgKiBPICsgTSAqIEwgKyBJLCBwID0gUiAqIEMgKyBNICogRiArIEQsIHYgPSBqICogdSArIFcgKiBsICsgZCwgZyA9IGogKiBjICsgVyAqIGYgKyBwLCB4ID0gaiAqIHUgKyBLICogbCArIGQsIG0gPSBqICogYyArIEsgKiBmICsgcCwgeSA9IHEgKiB1ICsgSyAqIGwgKyBkLCB3ID0gcSAqIGMgKyBLICogZiArIHAsIEUgPSBxICogdSArIFcgKiBsICsgZCwgVCA9IHEgKiBjICsgVyAqIGYgKyBwLCB0aGlzLm1hbmFnZXIuc2V0UmVuZGVyZXIodGhpcywgaSwgdC5yZW5kZXJUYXJnZXQpLCB0aGlzLmRyYXdJbmRleGVkID0gITAsIHRoaXMuZHJhd2luZ01lc2ggPSAhMSwgWCA9IFAuYWxsb2NhdGUoMjQpLCB0aGlzLmVsZW1lbnRDb3VudCArPSA2LCBrW1grK10gPSB2LCBrW1grK10gPSBnLCBrW1grK10gPSAwLCBrW1grK10gPSAwLCBOW1grK10gPSBldCwga1tYKytdID0gSiwga1tYKytdID0geCwga1tYKytdID0gbSwga1tYKytdID0gMCwga1tYKytdID0gMSwgTltYKytdID0gbnQsIGtbWCsrXSA9ICQsIGtbWCsrXSA9IHksIGtbWCsrXSA9IHcsIGtbWCsrXSA9IDEsIGtbWCsrXSA9IDEsIE5bWCsrXSA9IHJ0LCBrW1grK10gPSB0dCwga1tYKytdID0gRSwga1tYKytdID0gVCwga1tYKytdID0gMSwga1tYKytdID0gMCwgTltYKytdID0gaXQsIGtbWCsrXSA9IFE7XG4gICAgICB9LCBhZGRTcHJpdGVUZXh0dXJlOiBmdW5jdGlvbiBhZGRTcHJpdGVUZXh0dXJlKHQsIGUsIGksIG4sIHIpIHtcbiAgICAgICAgdmFyIHMsXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgbyxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICB1LFxuICAgICAgICAgICAgYyxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIHAsXG4gICAgICAgICAgICB2LFxuICAgICAgICAgICAgZyxcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICBtLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHcsXG4gICAgICAgICAgICBFLFxuICAgICAgICAgICAgVCxcbiAgICAgICAgICAgIGIsXG4gICAgICAgICAgICBfLFxuICAgICAgICAgICAgQSxcbiAgICAgICAgICAgIFMsXG4gICAgICAgICAgICBSLFxuICAgICAgICAgICAgTSxcbiAgICAgICAgICAgIE8sXG4gICAgICAgICAgICBDLFxuICAgICAgICAgICAgTCA9IHRoaXMudGVtcE1hdHJpeCxcbiAgICAgICAgICAgIEYgPSB0aGlzLnZlcnRleERhdGFCdWZmZXIsXG4gICAgICAgICAgICBJID0gRi5mbG9hdFZpZXcsXG4gICAgICAgICAgICBEID0gRi51aW50VmlldyxcbiAgICAgICAgICAgIEIgPSAwLFxuICAgICAgICAgICAgUCA9IG4gKiAodC5mbGlwWCA/IC0xIDogMSksXG4gICAgICAgICAgICBrID0gciAqICh0LmZsaXBZID8gLTEgOiAxKSxcbiAgICAgICAgICAgIE4gPSB0LnggLSBlLnNjcm9sbFggKiB0LnNjcm9sbEZhY3RvclgsXG4gICAgICAgICAgICBYID0gdC55IC0gZS5zY3JvbGxZICogdC5zY3JvbGxGYWN0b3JZLFxuICAgICAgICAgICAgVSA9IHQuc2NhbGVYLFxuICAgICAgICAgICAgWSA9IHQuc2NhbGVZLFxuICAgICAgICAgICAgViA9IC10LnJvdGF0aW9uLFxuICAgICAgICAgICAgeiA9IEwubWF0cml4LFxuICAgICAgICAgICAgRyA9IC10LmRpc3BsYXlPcmlnaW5YICsgbiAqICh0LmZsaXBYID8gMSA6IDApLFxuICAgICAgICAgICAgSCA9IC10LmRpc3BsYXlPcmlnaW5ZICsgciAqICh0LmZsaXBZID8gMSA6IDApLFxuICAgICAgICAgICAgaiA9IEcgKyBQLFxuICAgICAgICAgICAgVyA9IEggKyBrLFxuICAgICAgICAgICAgcSA9IGUubWF0cml4Lm1hdHJpeCxcbiAgICAgICAgICAgIEsgPSB0Ll9hbHBoYVRMLFxuICAgICAgICAgICAgWiA9IHQuX2FscGhhVFIsXG4gICAgICAgICAgICBKID0gdC5fYWxwaGFCTCxcbiAgICAgICAgICAgIFEgPSB0Ll9hbHBoYUJSLFxuICAgICAgICAgICAgJCA9IHQuX3RpbnRUTCxcbiAgICAgICAgICAgIHR0ID0gdC5fdGludFRSLFxuICAgICAgICAgICAgZXQgPSB0Ll90aW50QkwsXG4gICAgICAgICAgICBpdCA9IHQuX3RpbnRCUjtMLmFwcGx5SVRSUyhOLCBYLCBWLCBVLCBZKSwgeSA9IHpbMF0sIHcgPSB6WzFdLCBFID0gelsyXSwgVCA9IHpbM10sIGIgPSB6WzRdLCBfID0gels1XSwgQSA9IHFbMF0sIFMgPSBxWzFdLCBSID0gcVsyXSwgTSA9IHFbM10sIE8gPSBxWzRdLCBDID0gcVs1XSwgcyA9IHkgKiBBICsgdyAqIFIsIGEgPSB5ICogUyArIHcgKiBNLCBvID0gRSAqIEEgKyBUICogUiwgaCA9IEUgKiBTICsgVCAqIE0sIHUgPSBiICogQSArIF8gKiBSICsgTywgYyA9IGIgKiBTICsgXyAqIE0gKyBDLCBsID0gRyAqIHMgKyBIICogbyArIHUsIGYgPSBHICogYSArIEggKiBoICsgYywgZCA9IEcgKiBzICsgVyAqIG8gKyB1LCBwID0gRyAqIGEgKyBXICogaCArIGMsIHYgPSBqICogcyArIFcgKiBvICsgdSwgZyA9IGogKiBhICsgVyAqIGggKyBjLCB4ID0gaiAqIHMgKyBIICogbyArIHUsIG0gPSBqICogYSArIEggKiBoICsgYywgdGhpcy5tYW5hZ2VyLnNldFJlbmRlcmVyKHRoaXMsIGksIHQucmVuZGVyVGFyZ2V0KSwgdGhpcy5kcmF3SW5kZXhlZCA9ICEwLCB0aGlzLmRyYXdpbmdNZXNoID0gITEsIEIgPSBGLmFsbG9jYXRlKDI0KSwgdGhpcy5lbGVtZW50Q291bnQgKz0gNiwgSVtCKytdID0gbCwgSVtCKytdID0gZiwgSVtCKytdID0gMCwgSVtCKytdID0gMCwgRFtCKytdID0gJCwgSVtCKytdID0gSywgSVtCKytdID0gZCwgSVtCKytdID0gcCwgSVtCKytdID0gMCwgSVtCKytdID0gMSwgRFtCKytdID0gZXQsIElbQisrXSA9IEosIElbQisrXSA9IHYsIElbQisrXSA9IGcsIElbQisrXSA9IDEsIElbQisrXSA9IDEsIERbQisrXSA9IGl0LCBJW0IrK10gPSBRLCBJW0IrK10gPSB4LCBJW0IrK10gPSBtLCBJW0IrK10gPSAxLCBJW0IrK10gPSAwLCBEW0IrK10gPSB0dCwgSVtCKytdID0gWjtcbiAgICAgIH0sIGFkZFNwcml0ZTogZnVuY3Rpb24gYWRkU3ByaXRlKHQsIGUpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBuLFxuICAgICAgICAgICAgcixcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgbyxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICB1LFxuICAgICAgICAgICAgYyxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIHAsXG4gICAgICAgICAgICB2LFxuICAgICAgICAgICAgZyxcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICBtLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHcsXG4gICAgICAgICAgICBFLFxuICAgICAgICAgICAgVCxcbiAgICAgICAgICAgIGIsXG4gICAgICAgICAgICBfLFxuICAgICAgICAgICAgQSxcbiAgICAgICAgICAgIFMsXG4gICAgICAgICAgICBSLFxuICAgICAgICAgICAgTSA9IHRoaXMudGVtcE1hdHJpeCxcbiAgICAgICAgICAgIE8gPSB0LmZyYW1lLFxuICAgICAgICAgICAgQyA9ICEhTy50ZXh0dXJlLnNvdXJjZVtPLnNvdXJjZUluZGV4XS5nbFRleHR1cmUuaXNSZW5kZXJUZXh0dXJlLFxuICAgICAgICAgICAgTCA9IHQuZmxpcFgsXG4gICAgICAgICAgICBGID0gdC5mbGlwWSBeIEMsXG4gICAgICAgICAgICBJID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLFxuICAgICAgICAgICAgRCA9IEkuZmxvYXRWaWV3LFxuICAgICAgICAgICAgQiA9IEkudWludFZpZXcsXG4gICAgICAgICAgICBQID0gMCxcbiAgICAgICAgICAgIGsgPSBPLnV2cyxcbiAgICAgICAgICAgIE4gPSBPLndpZHRoICogKEwgPyAtMSA6IDEpLFxuICAgICAgICAgICAgWCA9IE8uaGVpZ2h0ICogKEYgPyAtMSA6IDEpLFxuICAgICAgICAgICAgVSA9IHQueCAtIGUuc2Nyb2xsWCAqIHQuc2Nyb2xsRmFjdG9yWCxcbiAgICAgICAgICAgIFkgPSB0LnkgLSBlLnNjcm9sbFkgKiB0LnNjcm9sbEZhY3RvclksXG4gICAgICAgICAgICBWID0gdC5zY2FsZVgsXG4gICAgICAgICAgICB6ID0gdC5zY2FsZVksXG4gICAgICAgICAgICBHID0gLXQucm90YXRpb24sXG4gICAgICAgICAgICBIID0gTS5tYXRyaXgsXG4gICAgICAgICAgICBqID0gLXQuZGlzcGxheU9yaWdpblggKyBPLnggKyBPLndpZHRoICogKEwgPyAxIDogMCksXG4gICAgICAgICAgICBXID0gLXQuZGlzcGxheU9yaWdpblkgKyBPLnkgKyBPLmhlaWdodCAqIChGID8gMSA6IDApLFxuICAgICAgICAgICAgcSA9IGogKyBOLFxuICAgICAgICAgICAgSyA9IFcgKyBYLFxuICAgICAgICAgICAgWiA9IGUubWF0cml4Lm1hdHJpeCxcbiAgICAgICAgICAgIEogPSB0Ll9hbHBoYVRMLFxuICAgICAgICAgICAgUSA9IHQuX2FscGhhVFIsXG4gICAgICAgICAgICAkID0gdC5fYWxwaGFCTCxcbiAgICAgICAgICAgIHR0ID0gdC5fYWxwaGFCUixcbiAgICAgICAgICAgIGV0ID0gdC5fdGludFRMLFxuICAgICAgICAgICAgaXQgPSB0Ll90aW50VFIsXG4gICAgICAgICAgICBudCA9IHQuX3RpbnRCTCxcbiAgICAgICAgICAgIHJ0ID0gdC5fdGludEJSO00uYXBwbHlJVFJTKFUsIFksIEcsIFYsIHopLCBnID0gSFswXSwgeCA9IEhbMV0sIG0gPSBIWzJdLCB5ID0gSFszXSwgdyA9IEhbNF0sIEUgPSBIWzVdLCBUID0gWlswXSwgYiA9IFpbMV0sIF8gPSBaWzJdLCBBID0gWlszXSwgUyA9IFpbNF0sIFIgPSBaWzVdLCBpID0gZyAqIFQgKyB4ICogXywgbiA9IGcgKiBiICsgeCAqIEEsIHIgPSBtICogVCArIHkgKiBfLCBzID0gbSAqIGIgKyB5ICogQSwgYSA9IHcgKiBUICsgRSAqIF8gKyBTLCBvID0gdyAqIGIgKyBFICogQSArIFIsIGggPSBqICogaSArIFcgKiByICsgYSwgdSA9IGogKiBuICsgVyAqIHMgKyBvLCBjID0gaiAqIGkgKyBLICogciArIGEsIGwgPSBqICogbiArIEsgKiBzICsgbywgZiA9IHEgKiBpICsgSyAqIHIgKyBhLCBkID0gcSAqIG4gKyBLICogcyArIG8sIHAgPSBxICogaSArIFcgKiByICsgYSwgdiA9IHEgKiBuICsgVyAqIHMgKyBvLCB0aGlzLm1hbmFnZXIuc2V0UmVuZGVyZXIodGhpcywgTy50ZXh0dXJlLnNvdXJjZVtPLnNvdXJjZUluZGV4XS5nbFRleHR1cmUsIHQucmVuZGVyVGFyZ2V0KSwgdGhpcy5kcmF3SW5kZXhlZCA9ICEwLCB0aGlzLmRyYXdpbmdNZXNoID0gITEsIFAgPSBJLmFsbG9jYXRlKDI0KSwgdGhpcy5lbGVtZW50Q291bnQgKz0gNiwgRFtQKytdID0gaCwgRFtQKytdID0gdSwgRFtQKytdID0gay54MCwgRFtQKytdID0gay55MCwgQltQKytdID0gZXQsIERbUCsrXSA9IEosIERbUCsrXSA9IGMsIERbUCsrXSA9IGwsIERbUCsrXSA9IGsueDEsIERbUCsrXSA9IGsueTEsIEJbUCsrXSA9IG50LCBEW1ArK10gPSAkLCBEW1ArK10gPSBmLCBEW1ArK10gPSBkLCBEW1ArK10gPSBrLngyLCBEW1ArK10gPSBrLnkyLCBCW1ArK10gPSBydCwgRFtQKytdID0gdHQsIERbUCsrXSA9IHAsIERbUCsrXSA9IHYsIERbUCsrXSA9IGsueDMsIERbUCsrXSA9IGsueTMsIEJbUCsrXSA9IGl0LCBEW1ArK10gPSBRO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBjO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0geyBWRVJURVhfU0laRTogMjQsIElOREVYX1NJWkU6IDIsIFNQUklURV9WRVJURVhfQ09VTlQ6IDQsIFNQUklURV9JTkRFWF9DT1VOVDogNiwgU1BSSVRFX1ZFUlRFWF9DT01QT05FTlRfQ09VTlQ6IDYsIE1BWF9TUFJJVEVTOiAyZTMgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNDU0KSxcbiAgICAgICAgcyA9IGkoMzcpLFxuICAgICAgICBhID0gaSgzMCksXG4gICAgICAgIG8gPSBpKDQpLFxuICAgICAgICBoID0gaSgzOCksXG4gICAgICAgIHUgPSBpKDE0KSxcbiAgICAgICAgYyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IHQsIHRoaXMudHlwZSA9IG8uV0VCR0wsIHRoaXMudmlldyA9IHQuY2FudmFzLCB0aGlzLnJlc29sdXRpb24gPSB0LmNvbmZpZy5yZXNvbHV0aW9uLCB0aGlzLndpZHRoID0gdC5jb25maWcud2lkdGggKiB0LmNvbmZpZy5yZXNvbHV0aW9uLCB0aGlzLmhlaWdodCA9IHQuY29uZmlnLmhlaWdodCAqIHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMuZ2xDb250ZXh0ID0gZSwgdGhpcy5tYXhTcHJpdGVzID0gbnVsbCwgdGhpcy5zaGFkZXIgPSBudWxsLCB0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCA9IG51bGwsIHRoaXMuaW5kZXhCdWZmZXJPYmplY3QgPSBudWxsLCB0aGlzLnZlcnRleERhdGFCdWZmZXIgPSBudWxsLCB0aGlzLmluZGV4RGF0YUJ1ZmZlciA9IG51bGwsIHRoaXMuZWxlbWVudENvdW50ID0gMCwgdGhpcy5jdXJyZW50VGV4dHVyZTJEID0gbnVsbCwgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBudWxsLCB0aGlzLnRlbXBNYXRyaXggPSBuZXcgdSgpLCB0aGlzLmNvbmZpZyA9IHsgY2xlYXJCZWZvcmVSZW5kZXI6ICEwLCB0cmFuc3BhcmVudDogITEsIGF1dG9SZXNpemU6ICExLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICExLCBXZWJHTENvbnRleHRPcHRpb25zOiB7IGFscGhhOiAhMCwgYW50aWFsaWFzOiAhMCwgcHJlbXVsdGlwbGllZEFscGhhOiAhMCwgc3RlbmNpbDogITAsIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogITEgfSB9LCB0aGlzLm1hbmFnZXIgPSBpLCB0aGlzLmRpcnR5ID0gITEsIHRoaXMuaW5pdCh0aGlzLmdsQ29udGV4dCk7XG4gICAgICB9LCBpbml0OiBmdW5jdGlvbiBpbml0KHQpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgYShyLlZFUlRFWF9TSVpFICogci5TUFJJVEVfVkVSVEVYX0NPVU5UICogci5NQVhfU1BSSVRFUyksXG4gICAgICAgICAgICBpID0gbmV3IHMoci5JTkRFWF9TSVpFICogci5TUFJJVEVfSU5ERVhfQ09VTlQgKiByLk1BWF9TUFJJVEVTKSxcbiAgICAgICAgICAgIG4gPSB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZVNoYWRlcihcIlRleHR1cmVkQW5kTm9ybWFsaXplZFRpbnRlZFNoYWRlclwiLCBoKSxcbiAgICAgICAgICAgIG8gPSB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZUJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpLmdldEJ5dGVDYXBhY2l0eSgpLCB0LlNUQVRJQ19EUkFXKSxcbiAgICAgICAgICAgIHUgPSB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZUJ1ZmZlcih0LkFSUkFZX0JVRkZFUiwgZS5nZXRCeXRlQ2FwYWNpdHkoKSwgdC5TVFJFQU1fRFJBVyksXG4gICAgICAgICAgICBjID0gbi5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1X3ZpZXdfbWF0cml4XCIpLFxuICAgICAgICAgICAgbCA9IGkudWludFZpZXcsXG4gICAgICAgICAgICBmID0gci5NQVhfU1BSSVRFUyAqIHIuU1BSSVRFX0lOREVYX0NPVU5UO3RoaXMudmVydGV4RGF0YUJ1ZmZlciA9IGUsIHRoaXMuaW5kZXhEYXRhQnVmZmVyID0gaSwgdGhpcy5zaGFkZXIgPSBuLCB0aGlzLmluZGV4QnVmZmVyT2JqZWN0ID0gbywgdGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QgPSB1LCB0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbiA9IGMsIHUuYWRkQXR0cmlidXRlKG4uZ2V0QXR0cmliTG9jYXRpb24oXCJhX3Bvc2l0aW9uXCIpLCAyLCB0LkZMT0FULCAhMSwgci5WRVJURVhfU0laRSwgMCksIHUuYWRkQXR0cmlidXRlKG4uZ2V0QXR0cmliTG9jYXRpb24oXCJhX3RleF9jb29yZFwiKSwgMiwgdC5GTE9BVCwgITEsIHIuVkVSVEVYX1NJWkUsIDgpLCB1LmFkZEF0dHJpYnV0ZShuLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9jb2xvclwiKSwgMywgdC5VTlNJR05FRF9CWVRFLCAhMCwgci5WRVJURVhfU0laRSwgMTYpLCB1LmFkZEF0dHJpYnV0ZShuLmdldEF0dHJpYkxvY2F0aW9uKFwiYV9hbHBoYVwiKSwgMSwgdC5GTE9BVCwgITEsIHIuVkVSVEVYX1NJWkUsIDIwKTtmb3IgKHZhciBkID0gMCwgcCA9IDA7IGQgPCBmOyBkICs9IHIuU1BSSVRFX0lOREVYX0NPVU5ULCBwICs9IHIuU1BSSVRFX1ZFUlRFWF9DT1VOVCkge1xuICAgICAgICAgIGxbZCArIDBdID0gcCArIDAsIGxbZCArIDFdID0gcCArIDEsIGxbZCArIDJdID0gcCArIDIsIGxbZCArIDNdID0gcCArIDAsIGxbZCArIDRdID0gcCArIDIsIGxbZCArIDVdID0gcCArIDM7XG4gICAgICAgIH1vLnVwZGF0ZVJlc291cmNlKGwsIDApLCB0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5nYW1lLmNvbmZpZy5yZXNvbHV0aW9uKTtcbiAgICAgIH0sIHNob3VsZEZsdXNoOiBmdW5jdGlvbiBzaG91bGRGbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfSwgaXNGdWxsOiBmdW5jdGlvbiBpc0Z1bGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUxlbmd0aCgpID49IHRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlQ2FwYWNpdHkoKTtcbiAgICAgIH0sIGJpbmQ6IGZ1bmN0aW9uIGJpbmQodCkge1xuICAgICAgICB2b2lkIDAgPT09IHQgPyB0aGlzLnNoYWRlci5iaW5kKCkgOiAodC5iaW5kKCksIHRoaXMucmVzaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24sIHQpKSwgdGhpcy5pbmRleEJ1ZmZlck9iamVjdC5iaW5kKCksIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0LmJpbmQoKTtcbiAgICAgIH0sIGZsdXNoOiBmdW5jdGlvbiBmbHVzaCh0LCBlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5nbENvbnRleHQsXG4gICAgICAgICAgICBuID0gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyOzAgIT09IHRoaXMuZWxlbWVudENvdW50ICYmIChlICYmIGkuYmluZEZyYW1lYnVmZmVyKGkuRlJBTUVCVUZGRVIsIGUpLCB0aGlzLmJpbmQodCksIHRoaXMudmVydGV4QnVmZmVyT2JqZWN0LnVwZGF0ZVJlc291cmNlKG4uZ2V0VXNlZEJ1ZmZlckFzRmxvYXQoKSwgMCksIGkuZHJhd0VsZW1lbnRzKGkuVFJJQU5HTEVTLCB0aGlzLmVsZW1lbnRDb3VudCwgaS5VTlNJR05FRF9TSE9SVCwgMCksIG4uY2xlYXIoKSwgdGhpcy5lbGVtZW50Q291bnQgPSAwLCBlICYmIGkuYmluZEZyYW1lYnVmZmVyKGkuRlJBTUVCVUZGRVIsIG51bGwpKTtcbiAgICAgIH0sIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSB2b2lkIDAgIT09IG4gPyBuIDogdGhpcy5zaGFkZXIsXG4gICAgICAgICAgICBzID0gciA9PSB0aGlzLnNoYWRlciA/IHRoaXMudmlld01hdHJpeExvY2F0aW9uIDogci5nZXRVbmlmb3JtTG9jYXRpb24oXCJ1X3ZpZXdfbWF0cml4XCIpO3RoaXMud2lkdGggPSB0ICogaSwgdGhpcy5oZWlnaHQgPSBlICogaSwgdGhpcy5zZXRQcm9qZWN0aW9uTWF0cml4KHIsIHMpO1xuICAgICAgfSwgc2V0UHJvamVjdGlvbk1hdHJpeDogZnVuY3Rpb24gc2V0UHJvamVjdGlvbk1hdHJpeCh0LCBlKSB7XG4gICAgICAgIHQuc2V0Q29uc3RhbnRNYXRyaXg0eDQoZSwgbmV3IEZsb2F0MzJBcnJheShbMiAvIHRoaXMud2lkdGgsIDAsIDAsIDAsIDAsIC0yIC8gdGhpcy5oZWlnaHQsIDAsIDAsIDAsIDAsIDEsIDEsIC0xLCAxLCAwLCAwXSkpO1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVTaGFkZXIodGhpcy5zaGFkZXIpLCB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyT2JqZWN0KSwgdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QpLCB0aGlzLnNoYWRlciA9IG51bGwsIHRoaXMuaW5kZXhCdWZmZXJPYmplY3QgPSBudWxsLCB0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCA9IG51bGw7XG4gICAgICB9LCBhZGRUaWxlU3ByaXRlOiBmdW5jdGlvbiBhZGRUaWxlU3ByaXRlKHQsIGUpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBuLFxuICAgICAgICAgICAgcixcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgbyxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICB1LFxuICAgICAgICAgICAgYyxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIHAsXG4gICAgICAgICAgICB2LFxuICAgICAgICAgICAgZyxcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICBtLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHcsXG4gICAgICAgICAgICBFLFxuICAgICAgICAgICAgVCxcbiAgICAgICAgICAgIGIsXG4gICAgICAgICAgICBfLFxuICAgICAgICAgICAgQSxcbiAgICAgICAgICAgIFMsXG4gICAgICAgICAgICBSLFxuICAgICAgICAgICAgTSA9IHRoaXMudGVtcE1hdHJpeCxcbiAgICAgICAgICAgIE8gPSB0aGlzLnZlcnRleERhdGFCdWZmZXIsXG4gICAgICAgICAgICBDID0gTy5mbG9hdFZpZXcsXG4gICAgICAgICAgICBMID0gTy51aW50VmlldyxcbiAgICAgICAgICAgIEYgPSAwLFxuICAgICAgICAgICAgSSA9IHQud2lkdGggKiAodC5mbGlwWCA/IC0xIDogMSksXG4gICAgICAgICAgICBEID0gdC5oZWlnaHQgKiAodC5mbGlwWSA/IC0xIDogMSksXG4gICAgICAgICAgICBCID0gdC54IC0gZS5zY3JvbGxYICogdC5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgUCA9IHQueSAtIGUuc2Nyb2xsWSAqIHQuc2Nyb2xsRmFjdG9yWSxcbiAgICAgICAgICAgIGsgPSB0LnNjYWxlWCxcbiAgICAgICAgICAgIE4gPSB0LnNjYWxlWSxcbiAgICAgICAgICAgIFggPSAtdC5yb3RhdGlvbixcbiAgICAgICAgICAgIFUgPSBNLm1hdHJpeCxcbiAgICAgICAgICAgIFkgPSB0Lm9yaWdpblggKiB0LndpZHRoLFxuICAgICAgICAgICAgViA9IHQub3JpZ2luWSAqIHQuaGVpZ2h0LFxuICAgICAgICAgICAgeiA9IC1ZICsgdC53aWR0aCAqICh0LmZsaXBYID8gMSA6IDApLFxuICAgICAgICAgICAgRyA9IC1WICsgdC5oZWlnaHQgKiAodC5mbGlwWSA/IDEgOiAwKSxcbiAgICAgICAgICAgIEggPSB6ICsgSSxcbiAgICAgICAgICAgIGogPSBHICsgRCxcbiAgICAgICAgICAgIFcgPSBJIC8gdC5mcmFtZS53aWR0aCxcbiAgICAgICAgICAgIHEgPSBEIC8gdC5mcmFtZS5oZWlnaHQsXG4gICAgICAgICAgICBLID0gZS5tYXRyaXgubWF0cml4LFxuICAgICAgICAgICAgWiA9IHQuYWxwaGEsXG4gICAgICAgICAgICBKID0gdC50aWxlUG9zaXRpb25YIC8gdC5mcmFtZS53aWR0aCxcbiAgICAgICAgICAgIFEgPSB0LnRpbGVQb3NpdGlvblkgLyB0LmZyYW1lLmhlaWdodCxcbiAgICAgICAgICAgICQgPSB0LnRpbGVUZXh0dXJlLFxuICAgICAgICAgICAgdHQgPSB0Ll90aW50VEwsXG4gICAgICAgICAgICBldCA9IHQuX3RpbnRUUixcbiAgICAgICAgICAgIGl0ID0gdC5fdGludEJMLFxuICAgICAgICAgICAgbnQgPSB0Ll90aW50QlI7TS5hcHBseUlUUlMoQiwgUCwgWCwgaywgTiksIGcgPSBVWzBdLCB4ID0gVVsxXSwgbSA9IFVbMl0sIHkgPSBVWzNdLCB3ID0gVVs0XSwgRSA9IFVbNV0sIFQgPSBLWzBdLCBiID0gS1sxXSwgXyA9IEtbMl0sIEEgPSBLWzNdLCBTID0gS1s0XSwgUiA9IEtbNV0sIGkgPSBnICogVCArIHggKiBfLCBuID0gZyAqIGIgKyB4ICogQSwgciA9IG0gKiBUICsgeSAqIF8sIHMgPSBtICogYiArIHkgKiBBLCBhID0gdyAqIFQgKyBFICogXyArIFMsIG8gPSB3ICogYiArIEUgKiBBICsgUiwgaCA9IHogKiBpICsgRyAqIHIgKyBhLCB1ID0geiAqIG4gKyBHICogcyArIG8sIGMgPSB6ICogaSArIGogKiByICsgYSwgbCA9IHogKiBuICsgaiAqIHMgKyBvLCBmID0gSCAqIGkgKyBqICogciArIGEsIGQgPSBIICogbiArIGogKiBzICsgbywgcCA9IEggKiBpICsgRyAqIHIgKyBhLCB2ID0gSCAqIG4gKyBHICogcyArIG8sIHRoaXMubWFuYWdlci5zZXRSZW5kZXJlcih0aGlzLCAkLCB0LnJlbmRlclRhcmdldCksIEYgPSBPLmFsbG9jYXRlKDI0KSwgdGhpcy5lbGVtZW50Q291bnQgKz0gNiwgQ1tGKytdID0gaCwgQ1tGKytdID0gdSwgQ1tGKytdID0gMCArIEosIENbRisrXSA9IDAgKyBRLCBMW0YrK10gPSB0dCwgQ1tGKytdID0gWiwgQ1tGKytdID0gYywgQ1tGKytdID0gbCwgQ1tGKytdID0gMCArIEosIENbRisrXSA9IHEgKyBRLCBMW0YrK10gPSBpdCwgQ1tGKytdID0gWiwgQ1tGKytdID0gZiwgQ1tGKytdID0gZCwgQ1tGKytdID0gVyArIEosIENbRisrXSA9IHEgKyBRLCBMW0YrK10gPSBudCwgQ1tGKytdID0gWiwgQ1tGKytdID0gcCwgQ1tGKytdID0gdiwgQ1tGKytdID0gVyArIEosIENbRisrXSA9IDAgKyBRLCBMW0YrK10gPSBldCwgQ1tGKytdID0gWjtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gYztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgVkVSVEVYX1NJWkU6IDI0LCBJTkRFWF9TSVpFOiAyLCBTUFJJVEVfVkVSVEVYX0NPVU5UOiA0LCBTUFJJVEVfSU5ERVhfQ09VTlQ6IDYsIFNQUklURV9WRVJURVhfQ09NUE9ORU5UX0NPVU5UOiA2LCBNQVhfU1BSSVRFUzogMmUzIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSAoaSgxNjcpLCBpKDM3KSwgaSgzMCksIGkoNCkpLFxuICAgICAgICBzID0gaSg0NTYpLFxuICAgICAgICBhID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGkpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gdCwgdGhpcy50eXBlID0gci5XRUJHTCwgdGhpcy52aWV3ID0gdC5jYW52YXMsIHRoaXMucmVzb2x1dGlvbiA9IHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMud2lkdGggPSB0LmNvbmZpZy53aWR0aCAqIHQuY29uZmlnLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ID0gdC5jb25maWcuaGVpZ2h0ICogdC5jb25maWcucmVzb2x1dGlvbiwgdGhpcy5nbENvbnRleHQgPSBlLCB0aGlzLnNoYWRlciA9IG51bGwsIHRoaXMudmlld01hdHJpeExvY2F0aW9uID0gbnVsbCwgdGhpcy5jb25maWcgPSB7IGNsZWFyQmVmb3JlUmVuZGVyOiAhMCwgdHJhbnNwYXJlbnQ6ICExLCBhdXRvUmVzaXplOiAhMSwgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiAhMSwgV2ViR0xDb250ZXh0T3B0aW9uczogeyBhbHBoYTogITAsIGFudGlhbGlhczogITAsIHByZW11bHRpcGxpZWRBbHBoYTogITAsIHN0ZW5jaWw6ICEwLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ICExIH0gfSwgdGhpcy5tYW5hZ2VyID0gaSwgdGhpcy5kaXJ0eSA9ICExLCB0aGlzLmluaXQodGhpcy5nbENvbnRleHQpO1xuICAgICAgfSwgaW5pdDogZnVuY3Rpb24gaW5pdCh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVTaGFkZXIoXCJUaWxlbWFwU2hhZGVyXCIsIHMpLFxuICAgICAgICAgICAgaSA9IGUuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidV92aWV3X21hdHJpeFwiKSxcbiAgICAgICAgICAgIG4gPSBlLmdldFVuaWZvcm1Mb2NhdGlvbihcInVfc2Nyb2xsXCIpLFxuICAgICAgICAgICAgciA9IGUuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidV9zY3JvbGxfZmFjdG9yXCIpLFxuICAgICAgICAgICAgYSA9IGUuZ2V0VW5pZm9ybUxvY2F0aW9uKFwidV90aWxlbWFwX3Bvc2l0aW9uXCIpO3RoaXMuc2hhZGVyID0gZSwgdGhpcy52aWV3TWF0cml4TG9jYXRpb24gPSBpLCB0aGlzLnNjcm9sbExvY2F0aW9uID0gbiwgdGhpcy5zY3JvbGxGYWN0b3JMb2NhdGlvbiA9IHIsIHRoaXMudGlsZW1hcFBvc2l0aW9uTG9jYXRpb24gPSBhLCB0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5nYW1lLmNvbmZpZy5yZXNvbHV0aW9uKTtcbiAgICAgIH0sIHNob3VsZEZsdXNoOiBmdW5jdGlvbiBzaG91bGRGbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfSwgaXNGdWxsOiBmdW5jdGlvbiBpc0Z1bGwoKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH0sIGFkZDogZnVuY3Rpb24gYWRkKHQsIGUsIGksIG4sIHIsIHMsIGEsIG8pIHt9LCBiaW5kOiBmdW5jdGlvbiBiaW5kKHQpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ID8gdGhpcy5zaGFkZXIuYmluZCgpIDogKHQuYmluZCgpLCB0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5nYW1lLmNvbmZpZy5yZXNvbHV0aW9uLCB0KSk7XG4gICAgICB9LCBmbHVzaDogZnVuY3Rpb24gZmx1c2godCkge30sIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSB2b2lkIDAgIT09IG4gPyBuIDogdGhpcy5zaGFkZXI7dGhpcy53aWR0aCA9IHQgKiBpLCB0aGlzLmhlaWdodCA9IGUgKiBpLCByLnNldENvbnN0YW50TWF0cml4NHg0KHRoaXMudmlld01hdHJpeExvY2F0aW9uLCBuZXcgRmxvYXQzMkFycmF5KFsyIC8gdGhpcy53aWR0aCwgMCwgMCwgMCwgMCwgLTIgLyB0aGlzLmhlaWdodCwgMCwgMCwgMCwgMCwgMSwgMSwgLTEsIDEsIDAsIDBdKSk7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZVNoYWRlcih0aGlzLnNoYWRlciksIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB0LmV4cG9ydHMgPSB7IHZlcnQ6IFtcInVuaWZvcm0gbWF0NCB1X3ZpZXdfbWF0cml4O1wiLCBcInVuaWZvcm0gdmVjMiB1X3Njcm9sbDtcIiwgXCJ1bmlmb3JtIHZlYzIgdV9zY3JvbGxfZmFjdG9yO1wiLCBcInVuaWZvcm0gdmVjMiB1X3RpbGVtYXBfcG9zaXRpb247XCIsIFwiYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcIiwgXCJhdHRyaWJ1dGUgdmVjMiBhX3RleF9jb29yZDtcIiwgXCJ2YXJ5aW5nIHZlYzIgdl90ZXhfY29vcmQ7XCIsIFwidm9pZCBtYWluICgpIHtcIiwgXCIgICBnbF9Qb3NpdGlvbiA9IHVfdmlld19tYXRyaXggKiB2ZWM0KHVfdGlsZW1hcF9wb3NpdGlvbiArIGFfcG9zaXRpb24gKyAodV9zY3JvbGwgKiB1X3Njcm9sbF9mYWN0b3IpLCAxLjAsIDEuMCk7XCIsIFwiICAgdl90ZXhfY29vcmQgPSBhX3RleF9jb29yZDtcIiwgXCJ9XCJdLmpvaW4oXCJcXG5cIiksIGZyYWc6IFtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLCBcInVuaWZvcm0gc2FtcGxlcjJEIHVfc2FtcGxlcjJEO1wiLCBcInZhcnlpbmcgdmVjMiB2X3RleF9jb29yZDtcIiwgXCJ2b2lkIG1haW4oKSB7XCIsIFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVfc2FtcGxlcjJELCB2X3RleF9jb29yZCk7XCIsIFwifVwiXS5qb2luKFwiXFxuXCIpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gdC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpLFxuICAgICAgICAgIGkgPSBuZXcgVWludDhBcnJheShlLmRyYXdpbmdCdWZmZXJXaWR0aCAqIGUuZHJhd2luZ0J1ZmZlckhlaWdodCAqIDQpO2UucmVhZFBpeGVscygwLCAwLCBlLmRyYXdpbmdCdWZmZXJXaWR0aCwgZS5kcmF3aW5nQnVmZmVySGVpZ2h0LCBlLlJHQkEsIGUuVU5TSUdORURfQllURSwgaSk7dmFyIG4sXG4gICAgICAgICAgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgICAgICAgcyA9IHIuZ2V0Q29udGV4dChcIjJkXCIpO3Iud2lkdGggPSBlLmRyYXdpbmdCdWZmZXJXaWR0aCwgci5oZWlnaHQgPSBlLmRyYXdpbmdCdWZmZXJIZWlnaHQsIG4gPSBzLmdldEltYWdlRGF0YSgwLCAwLCByLndpZHRoLCByLmhlaWdodCk7Zm9yICh2YXIgYSA9IG4uZGF0YSwgbyA9IDA7IG8gPCByLmhlaWdodDsgbyArPSAxKSB7XG4gICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgci53aWR0aDsgaCArPSAxKSB7XG4gICAgICAgICAgdmFyIHUgPSA0ICogKChyLmhlaWdodCAtIG8pICogci53aWR0aCArIGgpLFxuICAgICAgICAgICAgICBjID0gNCAqIChvICogci53aWR0aCArIGgpO2FbYyArIDBdID0gaVt1ICsgMF0sIGFbYyArIDFdID0gaVt1ICsgMV0sIGFbYyArIDJdID0gaVt1ICsgMl0sIGFbYyArIDNdID0gaVt1ICsgM107XG4gICAgICAgIH1cbiAgICAgIH1zLnB1dEltYWdlRGF0YShuLCAwLCAwKTt2YXIgbCA9IHIudG9EYXRhVVJMKCksXG4gICAgICAgICAgZiA9IG5ldyBJbWFnZSgpO3JldHVybiBmLnNyYyA9IGwsIGY7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0NTkpLFxuICAgICAgICByID0gaSgwKSxcbiAgICAgICAgcyA9IG5ldyByKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IHQsIHRoaXMuYmluYXJ5ID0gbmV3IG4oKSwgdGhpcy5iaXRtYXBGb250ID0gbmV3IG4oKSwgdGhpcy5qc29uID0gbmV3IG4oKSwgdGhpcy5waHlzaWNzID0gbmV3IG4oKSwgdGhpcy5zaGFkZXIgPSBuZXcgbigpLCB0aGlzLnNvdW5kID0gbmV3IG4oKSwgdGhpcy50ZXh0ID0gbmV3IG4oKSwgdGhpcy50aWxlbWFwID0gbmV3IG4oKSwgdGhpcy52aWRlbyA9IG5ldyBuKCksIHRoaXMueG1sID0gbmV3IG4oKSwgdGhpcy5jdXN0b20gPSB7fTtcbiAgICAgIH0sIGFkZEN1c3RvbTogZnVuY3Rpb24gYWRkQ3VzdG9tKHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1c3RvbS5oYXNPd25Qcm9wZXJ0eSh0KSkgcmV0dXJuIHRoaXMuY3VzdG9tW3RdID0gbmV3IG4oKSwgdGhpcy5jdXN0b21bdF07XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgyOSksXG4gICAgICAgIHMgPSBpKDQ2MCksXG4gICAgICAgIGEgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IG5ldyBNYXAoKSwgdGhpcy5ldmVudHMgPSBuZXcgcigpO1xuICAgICAgfSwgYWRkOiBmdW5jdGlvbiBhZGQodCwgZSkge1xuICAgICAgICB0aGlzLmVudHJpZXMuc2V0KHQsIGUpLCB0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgcy5DQUNIRV9BRERfRVZFTlQodGhpcywgdCwgZSkpO1xuICAgICAgfSwgaGFzOiBmdW5jdGlvbiBoYXModCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzLmhhcyh0KTtcbiAgICAgIH0sIGdldDogZnVuY3Rpb24gZ2V0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllcy5nZXQodCk7XG4gICAgICB9LCByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5nZXQodCk7ZSAmJiAodGhpcy5lbnRyaWVzLmRlbGV0ZSh0KSwgdGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IHMuQ0FDSEVfUkVNT1ZFX0VWRU5UKHRoaXMsIHQsIGUuZGF0YSkpKTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZW50cmllcy5jbGVhcigpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQ0FDSEVfQUREX0VWRU5UOiBpKDQ2MSksIENBQ0hFX1JFTU9WRV9FVkVOVDogaSg0NjIpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIkNBQ0hFX0FERF9FVkVOVFwiKSwgdGhpcy5jYWNoZSA9IHQsIHRoaXMua2V5ID0gZSwgdGhpcy5kYXRhID0gaTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGkpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiQ0FDSEVfUkVNT1ZFX0VWRU5UXCIpLCB0aGlzLmNhY2hlID0gdCwgdGhpcy5rZXkgPSBlLCB0aGlzLmRhdGEgPSBpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMjkpLFxuICAgICAgICBzID0gaSg3NCksXG4gICAgICAgIGEgPSBpKDE2OSksXG4gICAgICAgIG8gPSBpKDE3MyksXG4gICAgICAgIGggPSBpKDQ3MiksXG4gICAgICAgIHUgPSBpKDQ3NiksXG4gICAgICAgIGMgPSBpKDQ3NyksXG4gICAgICAgIGwgPSBpKDQ3OCksXG4gICAgICAgIGYgPSBpKDQ3OSksXG4gICAgICAgIGQgPSBpKDE3NCksXG4gICAgICAgIHAgPSBpKDE0KSxcbiAgICAgICAgdiA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IHQsIHRoaXMuY2FudmFzLCB0aGlzLmNvbmZpZyA9IGUsIHRoaXMuZW5hYmxlZCA9ICEwLCB0aGlzLmV2ZW50cyA9IG5ldyByKCksIHRoaXMucXVldWUgPSBbXSwgdGhpcy5rZXlib2FyZCA9IG5ldyBhKHRoaXMpLCB0aGlzLm1vdXNlID0gbmV3IG8odGhpcyksIHRoaXMudG91Y2ggPSBuZXcgdSh0aGlzKSwgdGhpcy5hY3RpdmVQb2ludGVyID0gbmV3IGModGhpcywgMCksIHRoaXMuc2NhbGUgPSB7IHg6IDEsIHk6IDEgfSwgdGhpcy5fdGVtcE1hdHJpeCA9IG5ldyBwKCksIHRoaXMuX3RlbXBQb2ludCA9IHsgeDogMCwgeTogMCB9LCB0aGlzLl90ZW1wSGl0VGVzdCA9IFtdO1xuICAgICAgfSwgYm9vdDogZnVuY3Rpb24gYm9vdCgpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmdhbWUuY2FudmFzLCB0aGlzLmtleWJvYXJkLmJvb3QoKSwgdGhpcy5tb3VzZS5ib290KCksIHRoaXMudG91Y2guYm9vdCgpO1xuICAgICAgfSwgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUodCwgZSkge1xuICAgICAgICB0aGlzLmtleWJvYXJkLnVwZGF0ZSgpO3ZhciBpID0gdGhpcy5xdWV1ZS5sZW5ndGgsXG4gICAgICAgICAgICBuID0gdGhpcy5hY3RpdmVQb2ludGVyO2lmIChuLnJlc2V0KCksIHRoaXMuZW5hYmxlZCAmJiAwICE9PSBpKSB7XG4gICAgICAgICAgdGhpcy5zY2FsZS54ID0gdGhpcy5nYW1lLmNvbmZpZy53aWR0aCAvIHRoaXMuY2FudmFzLm9mZnNldFdpZHRoLCB0aGlzLnNjYWxlLnkgPSB0aGlzLmdhbWUuY29uZmlnLmhlaWdodCAvIHRoaXMuY2FudmFzLm9mZnNldEhlaWdodDtmb3IgKHZhciByID0gdGhpcy5xdWV1ZS5zcGxpY2UoMCwgaSksIHMgPSAwOyBzIDwgaTsgcysrKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHJbc107c3dpdGNoIChhLnR5cGUpIHtjYXNlIFwibW91c2Vtb3ZlXCI6XG4gICAgICAgICAgICAgICAgbi5tb3ZlKGEsIHQpLCB0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgaC5NT1ZFKGEpKTticmVhaztjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgICAgICAgICAgbi5kb3duKGEsIHQpLCB0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgaC5ET1dOKGEpKTticmVhaztjYXNlIFwibW91c2V1cFwiOlxuICAgICAgICAgICAgICAgIG4udXAoYSwgdCksIHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBoLlVQKGEpKTticmVhaztjYXNlIFwidG91Y2htb3ZlXCI6XG4gICAgICAgICAgICAgICAgbi50b3VjaG1vdmUoYSwgdCk7YnJlYWs7Y2FzZSBcInRvdWNoc3RhcnRcIjpcbiAgICAgICAgICAgICAgICBuLnRvdWNoc3RhcnQoYSwgdCk7YnJlYWs7Y2FzZSBcInRvdWNoZW5kXCI6XG4gICAgICAgICAgICAgICAgbi50b3VjaGVuZChhLCB0KTt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBnZXRUcmFuc2Zvcm1lZFBvaW50OiBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1lZFBvaW50KHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIHModGhpcy5fdGVtcE1hdHJpeCwgdCwgZSwgaSwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgIH0sIHBvaW50V2l0aGluR2FtZU9iamVjdDogZnVuY3Rpb24gcG9pbnRXaXRoaW5HYW1lT2JqZWN0KHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIGQodCwgZSwgaSk7XG4gICAgICB9LCBoaXRUZXN0OiBmdW5jdGlvbiBoaXRUZXN0KHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIGYodGhpcy5fdGVtcE1hdHJpeCwgZSwgaSwgdCwgbiwgdGhpcy5fdGVtcEhpdFRlc3QpO1xuICAgICAgfSwgcG9pbnRTY3JlZW5Ub1dvcmxkSGl0VGVzdDogZnVuY3Rpb24gcG9pbnRTY3JlZW5Ub1dvcmxkSGl0VGVzdCh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiBsKHRoaXMuX3RlbXBNYXRyaXgsIGUsIGksIHQsIG4sIHRoaXMuX3RlbXBIaXRUZXN0KTtcbiAgICAgIH0sIHRyYW5zZm9ybVg6IGZ1bmN0aW9uIHRyYW5zZm9ybVgodCkge1xuICAgICAgICByZXR1cm4gKHQgLSB0aGlzLmNhbnZhcy5vZmZzZXRMZWZ0KSAqIHRoaXMuc2NhbGUueDtcbiAgICAgIH0sIHRyYW5zZm9ybVk6IGZ1bmN0aW9uIHRyYW5zZm9ybVkodCkge1xuICAgICAgICByZXR1cm4gKHQgLSB0aGlzLmNhbnZhcy5vZmZzZXRUb3ApICogdGhpcy5zY2FsZS55O1xuICAgICAgfSwgZ2V0T2Zmc2V0WDogZnVuY3Rpb24gZ2V0T2Zmc2V0WCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLm9mZnNldExlZnQ7XG4gICAgICB9LCBnZXRPZmZzZXRZOiBmdW5jdGlvbiBnZXRPZmZzZXRZKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMub2Zmc2V0VG9wO1xuICAgICAgfSwgZ2V0U2NhbGVYOiBmdW5jdGlvbiBnZXRTY2FsZVgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWUuY29uZmlnLndpZHRoIC8gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGg7XG4gICAgICB9LCBnZXRTY2FsZVk6IGZ1bmN0aW9uIGdldFNjYWxlWSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZS5jb25maWcuaGVpZ2h0IC8gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0O1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSB2O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIGZ1bmN0aW9uIG4odCkge1xuICAgICAgdmFyIGUgPSBmdW5jdGlvbiBlKF9lNCkge1xuICAgICAgICByLmNhbGwodGhpcywgdCksIHRoaXMuZGF0YSA9IF9lNDtcbiAgICAgIH07cmV0dXJuIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSksIGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gZSwgZTtcbiAgICB9dmFyIHIgPSBpKDEpLFxuICAgICAgICBzID0gaSg3NSksXG4gICAgICAgIGEgPSB7IEtFWV9ET1dOX0VWRU5UOiBpKDQ2NSksIEtFWV9VUF9FVkVOVDogaSg0NjYpLCBfVVA6IFtdLCBfRE9XTjogW10gfTtmb3IgKHZhciBvIGluIHMpIHtcbiAgICAgIHZhciBoID0gXCJLRVlfRE9XTl9cIiArIG8sXG4gICAgICAgICAgdSA9IFwiS0VZX1VQX1wiICsgbzthLl9ET1dOW3Nbb11dID0gbihoKSwgYS5fVVBbc1tvXV0gPSBuKHUpLCBhW2hdID0gYS5fRE9XTltzW29dXSwgYVt1XSA9IGEuX1VQW3Nbb11dO1xuICAgIH10LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJLRVlfRE9XTl9FVkVOVFwiKSwgdGhpcy5kYXRhID0gdDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiS0VZX1VQX0VWRU5UXCIpLCB0aGlzLmRhdGEgPSB0O1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJLRVlfQ09NQk9fTUFUQ0hfRVZFTlRcIiksIHRoaXMudGFyZ2V0ID0gdCwgdGhpcy5kYXRhID0gZTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIGUudGltZUxhc3RNYXRjaGVkID0gdC50aW1lU3RhbXAsICsrZS5pbmRleCA9PT0gZS5zaXplIHx8IChlLmN1cnJlbnQgPSBlLmtleUNvZGVzW2UuaW5kZXhdLCAhMSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC5jdXJyZW50ID0gdC5rZXlDb2Rlc1swXSwgdC5pbmRleCA9IDAsIHQudGltZUxhc3RNYXRjaGVkID0gMCwgdC5tYXRjaGVkID0gITEsIHQudGltZU1hdGNoZWQgPSAwLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgaWYgKHQub3JpZ2luYWxFdmVudCA9IGUsIHQucHJldmVudERlZmF1bHQgJiYgZS5wcmV2ZW50RGVmYXVsdCgpLCB0LmVuYWJsZWQpIHJldHVybiB0LmFsdEtleSA9IGUuYWx0S2V5LCB0LmN0cmxLZXkgPSBlLmN0cmxLZXksIHQuc2hpZnRLZXkgPSBlLnNoaWZ0S2V5LCB0LmxvY2F0aW9uID0gZS5sb2NhdGlvbiwgdC5pc0Rvd24gPSAhMCwgdC5pc1VwID0gITEsIHQudGltZURvd24gPSBlLnRpbWVTdGFtcCwgdC5kdXJhdGlvbiA9IDAsIHQucmVwZWF0cysrLCB0Ll9qdXN0RG93biA9ICEwLCB0Ll9qdXN0VXAgPSAhMSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGlmICh0Lm9yaWdpbmFsRXZlbnQgPSBlLCB0LnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKSwgdC5lbmFibGVkKSByZXR1cm4gdC5pc0Rvd24gPSAhMSwgdC5pc1VwID0gITAsIHQudGltZVVwID0gZS50aW1lU3RhbXAsIHQuZHVyYXRpb24gPSB0LnRpbWVVcCAtIHQudGltZURvd24sIHQucmVwZWF0cyA9IDAsIHQuX2p1c3REb3duID0gITEsIHQuX2p1c3RVcCA9ICEwLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IERPV046IGkoNDczKSwgVVA6IGkoNDc0KSwgTU9WRTogaSg0NzUpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIk1PVVNFX0RPV05fRVZFTlRcIiksIHRoaXMuZGF0YSA9IHQsIHRoaXMueCA9IHQuY2xpZW50WCwgdGhpcy55ID0gdC5jbGllbnRZO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJNT1VTRV9VUF9FVkVOVFwiKSwgdGhpcy5kYXRhID0gdCwgdGhpcy54ID0gdC5jbGllbnRYLCB0aGlzLnkgPSB0LmNsaWVudFk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIk1PVVNFX01PVkVfRVZFTlRcIiksIHRoaXMuZGF0YSA9IHQsIHRoaXMueCA9IHQuY2xpZW50WCwgdGhpcy55ID0gdC5jbGllbnRZO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IHQsIHRoaXMuY2FwdHVyZSA9ICExLCB0aGlzLmVuYWJsZWQgPSAhMSwgdGhpcy50YXJnZXQsIHRoaXMuaGFuZGxlcjtcbiAgICAgIH0sIGJvb3Q6IGZ1bmN0aW9uIGJvb3QoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5tYW5hZ2VyLmNvbmZpZzt0aGlzLmVuYWJsZWQgPSB0LmlucHV0VG91Y2gsIHRoaXMudGFyZ2V0ID0gdC5pbnB1dFRvdWNoRXZlbnRUYXJnZXQsIHRoaXMudGFyZ2V0IHx8ICh0aGlzLnRhcmdldCA9IHRoaXMubWFuYWdlci5nYW1lLmNhbnZhcyksIHRoaXMuZW5hYmxlZCAmJiB0aGlzLnN0YXJ0TGlzdGVuZXJzKCk7XG4gICAgICB9LCBzdGFydExpc3RlbmVyczogZnVuY3Rpb24gc3RhcnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5tYW5hZ2VyLnF1ZXVlLFxuICAgICAgICAgICAgZSA9IHRoaXMsXG4gICAgICAgICAgICBpID0gZnVuY3Rpb24gaShfaTg3KSB7XG4gICAgICAgICAgX2k4Ny5wcmV2ZW50RGVmYXVsdGVkIHx8ICh0LnB1c2goX2k4NyksIGUuY2FwdHVyZSAmJiBfaTg3LnByZXZlbnREZWZhdWx0KCkpO1xuICAgICAgICB9O3RoaXMuaGFuZGxlciA9IGksIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGksICExKSwgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBpLCAhMSksIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBpLCAhMSk7XG4gICAgICB9LCBzdG9wTGlzdGVuZXJzOiBmdW5jdGlvbiBzdG9wTGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLmhhbmRsZXIpLCB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuaGFuZGxlciksIHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLmhhbmRsZXIpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IHQsIHRoaXMuaWQgPSBlLCB0aGlzLmV2ZW50LCB0aGlzLmNhbWVyYSA9IG51bGwsIHRoaXMuYnV0dG9ucyA9IDAsIHRoaXMueCA9IDAsIHRoaXMueSA9IDAsIHRoaXMuZG93blggPSAwLCB0aGlzLmRvd25ZID0gMCwgdGhpcy5kb3duVGltZSA9IDAsIHRoaXMudXBYID0gMCwgdGhpcy51cFkgPSAwLCB0aGlzLnVwVGltZSA9IDAsIHRoaXMucHJpbWFyeURvd24gPSAhMSwgdGhpcy5kcmFnU3RhdGUgPSAwLCB0aGlzLmlzRG93biA9ICExLCB0aGlzLmRpcnR5ID0gITEsIHRoaXMuanVzdERvd24gPSAhMSwgdGhpcy5qdXN0VXAgPSAhMSwgdGhpcy5qdXN0TW92ZWQgPSAhMTtcbiAgICAgIH0sIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5idXR0b25zID0gMCwgdGhpcy5kaXJ0eSA9ICExLCB0aGlzLmlzRG93biA9ICExLCB0aGlzLmp1c3REb3duID0gITEsIHRoaXMuanVzdFVwID0gITEsIHRoaXMuanVzdE1vdmVkID0gITE7XG4gICAgICB9LCB0b3VjaG1vdmU6IGZ1bmN0aW9uIHRvdWNobW92ZSh0LCBlKSB7XG4gICAgICAgIHRoaXMuZXZlbnQgPSB0LCB0aGlzLnggPSB0aGlzLm1hbmFnZXIudHJhbnNmb3JtWCh0LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYKSwgdGhpcy55ID0gdGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVkodC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSksIHRoaXMuanVzdE1vdmVkID0gITAsIHRoaXMuZGlydHkgPSAhMDtcbiAgICAgIH0sIG1vdmU6IGZ1bmN0aW9uIG1vdmUodCwgZSkge1xuICAgICAgICB0LmJ1dHRvbnMgJiYgKHRoaXMuYnV0dG9ucyA9IHQuYnV0dG9ucyksIHRoaXMuZXZlbnQgPSB0LCB0aGlzLnggPSB0aGlzLm1hbmFnZXIudHJhbnNmb3JtWCh0LnBhZ2VYKSwgdGhpcy55ID0gdGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVkodC5wYWdlWSksIHRoaXMuanVzdE1vdmVkID0gITAsIHRoaXMuZGlydHkgPSAhMDtcbiAgICAgIH0sIGRvd246IGZ1bmN0aW9uIGRvd24odCwgZSkge1xuICAgICAgICB0LmJ1dHRvbnMgJiYgKHRoaXMuYnV0dG9ucyA9IHQuYnV0dG9ucyksIHRoaXMuZXZlbnQgPSB0LCB0aGlzLnggPSB0aGlzLm1hbmFnZXIudHJhbnNmb3JtWCh0LnBhZ2VYKSwgdGhpcy55ID0gdGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVkodC5wYWdlWSksIDAgPT09IHQuYnV0dG9uICYmICh0aGlzLnByaW1hcnlEb3duID0gITAsIHRoaXMuZG93blggPSB0aGlzLngsIHRoaXMuZG93blkgPSB0aGlzLnksIHRoaXMuZG93blRpbWUgPSBlKSwgdGhpcy5qdXN0RG93biA9ICEwLCB0aGlzLmlzRG93biA9ICEwLCB0aGlzLmRpcnR5ID0gITA7XG4gICAgICB9LCB0b3VjaHN0YXJ0OiBmdW5jdGlvbiB0b3VjaHN0YXJ0KHQsIGUpIHtcbiAgICAgICAgdGhpcy5idXR0b25zID0gMSwgdGhpcy5ldmVudCA9IHQsIHRoaXMueCA9IHRoaXMubWFuYWdlci50cmFuc2Zvcm1YKHQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgpLCB0aGlzLnkgPSB0aGlzLm1hbmFnZXIudHJhbnNmb3JtWSh0LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZKSwgdGhpcy5wcmltYXJ5RG93biA9ICEwLCB0aGlzLmRvd25YID0gdGhpcy54LCB0aGlzLmRvd25ZID0gdGhpcy55LCB0aGlzLmRvd25UaW1lID0gZSwgdGhpcy5qdXN0RG93biA9ICEwLCB0aGlzLmlzRG93biA9ICEwLCB0aGlzLmRpcnR5ID0gITA7XG4gICAgICB9LCB1cDogZnVuY3Rpb24gdXAodCwgZSkge1xuICAgICAgICB0LmJ1dHRvbnMgJiYgKHRoaXMuYnV0dG9ucyA9IHQuYnV0dG9ucyksIHRoaXMuZXZlbnQgPSB0LCB0aGlzLnggPSB0aGlzLm1hbmFnZXIudHJhbnNmb3JtWCh0LnBhZ2VYKSwgdGhpcy55ID0gdGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVkodC5wYWdlWSksIDAgPT09IHQuYnV0dG9uICYmICh0aGlzLnByaW1hcnlEb3duID0gITEsIHRoaXMudXBYID0gdGhpcy54LCB0aGlzLnVwWSA9IHRoaXMueSwgdGhpcy51cFRpbWUgPSBlKSwgdGhpcy5qdXN0VXAgPSAhMCwgdGhpcy5pc0Rvd24gPSAhMSwgdGhpcy5kaXJ0eSA9ICEwO1xuICAgICAgfSwgdG91Y2hlbmQ6IGZ1bmN0aW9uIHRvdWNoZW5kKHQsIGUpIHtcbiAgICAgICAgdGhpcy5idXR0b25zID0gMCwgdGhpcy5ldmVudCA9IHQsIHRoaXMueCA9IHRoaXMubWFuYWdlci50cmFuc2Zvcm1YKHQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgpLCB0aGlzLnkgPSB0aGlzLm1hbmFnZXIudHJhbnNmb3JtWSh0LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZKSwgdGhpcy5wcmltYXJ5RG93biA9ICExLCB0aGlzLnVwWCA9IHRoaXMueCwgdGhpcy51cFkgPSB0aGlzLnksIHRoaXMudXBUaW1lID0gZSwgdGhpcy5qdXN0VXAgPSAhMCwgdGhpcy5pc0Rvd24gPSAhMSwgdGhpcy5kaXJ0eSA9ICEwO1xuICAgICAgfSwgbm9CdXR0b25Eb3duOiBmdW5jdGlvbiBub0J1dHRvbkRvd24oKSB7XG4gICAgICAgIHJldHVybiAwID09PSB0aGlzLmJ1dHRvbnM7XG4gICAgICB9LCBsZWZ0QnV0dG9uRG93bjogZnVuY3Rpb24gbGVmdEJ1dHRvbkRvd24oKSB7XG4gICAgICAgIHJldHVybiAxICYgdGhpcy5idXR0b25zO1xuICAgICAgfSwgcmlnaHRCdXR0b25Eb3duOiBmdW5jdGlvbiByaWdodEJ1dHRvbkRvd24oKSB7XG4gICAgICAgIHJldHVybiAyICYgdGhpcy5idXR0b25zO1xuICAgICAgfSwgbWlkZGxlQnV0dG9uRG93bjogZnVuY3Rpb24gbWlkZGxlQnV0dG9uRG93bigpIHtcbiAgICAgICAgcmV0dXJuIDQgJiB0aGlzLmJ1dHRvbnM7XG4gICAgICB9LCBiYWNrQnV0dG9uRG93bjogZnVuY3Rpb24gYmFja0J1dHRvbkRvd24oKSB7XG4gICAgICAgIHJldHVybiA4ICYgdGhpcy5idXR0b25zO1xuICAgICAgfSwgZm9yd2FyZEJ1dHRvbkRvd246IGZ1bmN0aW9uIGZvcndhcmRCdXR0b25Eb3duKCkge1xuICAgICAgICByZXR1cm4gMTYgJiB0aGlzLmJ1dHRvbnM7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDc0KSxcbiAgICAgICAgciA9IGkoMTc0KSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSwgX3MyLCBhLCBvKSB7XG4gICAgICB2YXIgaCA9IChfczIubGVuZ3RoLCBhLnNjcm9sbFgpLFxuICAgICAgICAgIHUgPSBhLnNjcm9sbFksXG4gICAgICAgICAgYyA9IGEud2lkdGgsXG4gICAgICAgICAgbCA9IGEuaGVpZ2h0O2lmIChvLmxlbmd0aCA9IDAsICEoZSA+PSBhLnggJiYgaSA+PSBhLnkgJiYgZSA8PSBhLnggKyBjICYmIGkgPD0gYS55ICsgbCkpIHJldHVybiBvO3ZhciBmID0gYS5jYW1lcmFUb1NjcmVlbih7IHg6IGUsIHk6IGkgfSk7aWYgKEFycmF5LmlzQXJyYXkoX3MyKSkgZm9yICh2YXIgZCA9IGEuY3VsbChfczIpLCBwID0gZC5sZW5ndGgsIHYgPSAwOyB2IDwgcDsgKyt2KSB7XG4gICAgICAgIHZhciBnID0gZFt2XSxcbiAgICAgICAgICAgIHggPSBuKHQsIGcsIGYueCArIGggKiBnLnNjcm9sbEZhY3RvclgsIGYueSArIHUgKiBnLnNjcm9sbEZhY3RvclkpO3IoZywgeC54LCB4LnkpICYmIG8ucHVzaChnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBnID0gX3MyLFxuICAgICAgICAgICAgeCA9IG4odCwgZywgZi54ICsgaCAqIGcuc2Nyb2xsRmFjdG9yWCwgZi55ICsgdSAqIGcuc2Nyb2xsRmFjdG9yWSk7cihnLCB4LngsIHgueSkgJiYgby5wdXNoKGcpO1xuICAgICAgfXJldHVybiBvO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNzQpLFxuICAgICAgICByID0gaSg0ODApLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlLCBpLCBfczMsIGEsIG8pIHtcbiAgICAgIHZhciBoID0gYS53aWR0aCxcbiAgICAgICAgICB1ID0gYS5oZWlnaHQ7aWYgKG8ubGVuZ3RoID0gMCwgIShlID49IGEueCAmJiBpID49IGEueSAmJiBlIDw9IGEueCArIGggJiYgaSA8PSBhLnkgKyB1KSkgcmV0dXJuIG87Zm9yICh2YXIgYyA9IGEuY2FtZXJhVG9TY3JlZW4oeyB4OiBlLCB5OiBpIH0pLCBsID0gYS5jdWxsKF9zMyksIGYgPSAwOyBmIDwgbC5sZW5ndGg7IGYrKykge1xuICAgICAgICB2YXIgZCA9IGxbZl07aWYgKGQuaW5wdXQuZW5hYmxlZCAmJiBkLndpbGxSZW5kZXIoKSkge1xuICAgICAgICAgIHZhciBwID0gbih0LCBkLCBjLnggKyBhLnNjcm9sbFggKiBkLnNjcm9sbEZhY3RvclgsIGMueSArIGEuc2Nyb2xsWSAqIGQuc2Nyb2xsRmFjdG9yWSk7cihkLCBwLngsIHAueSwgYSkgJiYgby5wdXNoKGQpO1xuICAgICAgICB9XG4gICAgICB9cmV0dXJuIG87XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTg4LCBuKSB7XG4gICAgICB2YXIgciA9IHQuaW5wdXQ7cmV0dXJuIGUgKz0gdC5kaXNwbGF5T3JpZ2luWCwgX2k4OCArPSB0LmRpc3BsYXlPcmlnaW5ZLCAhIXIuaGl0QXJlYUNhbGxiYWNrKHIuaGl0QXJlYSwgZSwgX2k4OCwgdCkgJiYgKHIubG9jYWxYID0gZSwgci5sb2NhbFkgPSBfaTg4LCAhMCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0ODIpLFxuICAgICAgICByID0gaSgwKSxcbiAgICAgICAgcyA9IG5ldyByKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWUgPSB0LCB0aGlzLmtleXMgPSB7fSwgdGhpcy5zY2VuZXMgPSBbXSwgdGhpcy5hY3RpdmUgPSBbXSwgdGhpcy5fcGVuZGluZyA9IFtdLCB0aGlzLl9zdGFydCA9IFtdLCBlKSBpZiAoQXJyYXkuaXNBcnJheShlKSkgZm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5fcGVuZGluZy5wdXNoKHsgaW5kZXg6IGksIGtleTogXCJkZWZhdWx0XCIsIHNjZW5lOiBlW2ldLCBhdXRvU3RhcnQ6IDAgPT09IGksIGRhdGE6IHt9IH0pO1xuICAgICAgICB9IGVsc2UgdGhpcy5fcGVuZGluZy5wdXNoKHsgaW5kZXg6IDAsIGtleTogXCJkZWZhdWx0XCIsIHNjZW5lOiBlLCBhdXRvU3RhcnQ6ICEwLCBkYXRhOiB7fSB9KTtcbiAgICAgIH0sIGFkZDogbi5BZGQsIGJvb3Q6IG4uQm9vdCwgYm9vdFNjZW5lOiBuLkJvb3RTY2VuZSwgYnJpbmdUb1RvcDogbi5CcmluZ1RvVG9wLCBjcmVhdGU6IG4uQ3JlYXRlLCBjcmVhdGVTY2VuZURpc3BsYXk6IG4uQ3JlYXRlU2NlbmVEaXNwbGF5LCBjcmVhdGVTY2VuZUZyb21GdW5jdGlvbjogbi5DcmVhdGVTY2VuZUZyb21GdW5jdGlvbiwgY3JlYXRlU2NlbmVGcm9tSW5zdGFuY2U6IG4uQ3JlYXRlU2NlbmVGcm9tSW5zdGFuY2UsIGNyZWF0ZVNjZW5lRnJvbU9iamVjdDogbi5DcmVhdGVTY2VuZUZyb21PYmplY3QsIGdldEFjdGl2ZVNjZW5lOiBuLkdldEFjdGl2ZVNjZW5lLCBnZXRBY3RpdmVTY2VuZUluZGV4OiBuLkdldEFjdGl2ZVNjZW5lSW5kZXgsIGdldEFjdGl2ZVNjZW5lSW5kZXhCeUtleTogbi5HZXRBY3RpdmVTY2VuZUluZGV4QnlLZXksIGdldEtleTogbi5HZXRLZXksIGdldFNjZW5lOiBuLkdldFNjZW5lLCBnZXRTY2VuZUF0OiBuLkdldFNjZW5lQXQsIGdldFNjZW5lSW5kZXg6IG4uR2V0U2NlbmVJbmRleCwgZ2V0U2NlbmVJbmRleEJ5S2V5OiBuLkdldFNjZW5lSW5kZXhCeUtleSwgaXNBY3RpdmU6IG4uSXNBY3RpdmUsIGlzU2xlZXBpbmc6IG4uSXNTbGVlcGluZywgbG9hZENvbXBsZXRlOiBuLkxvYWRDb21wbGV0ZSwgbW92ZURvd246IG4uTW92ZURvd24sIG1vdmVVcDogbi5Nb3ZlVXAsIHBhdXNlOiBuLlBhdXNlLCBwYXlsb2FkQ29tcGxldGU6IG4uUGF5bG9hZENvbXBsZXRlLCByZXN1bWU6IG4uUmVzdW1lLCBzZW5kVG9CYWNrOiBuLlNlbmRUb0JhY2ssIHNldHVwQ2FsbGJhY2tzOiBuLlNldHVwQ2FsbGJhY2tzLCBzbGVlcDogbi5TbGVlcCwgc3RhcnQ6IG4uU3RhcnQsIHN0b3A6IG4uU3RvcCwgc3dhcDogbi5Td2FwLCBzd2FwUG9zaXRpb246IG4uU3dhcFBvc2l0aW9uLCB3YWtlOiBuLldha2UgfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IEFkZDogaSg0ODMpLCBCb290OiBpKDc0OCksIEJvb3RTY2VuZTogaSg3NDkpLCBCcmluZ1RvVG9wOiBpKDc1MCksIENyZWF0ZTogaSg3NTEpLCBDcmVhdGVTY2VuZURpc3BsYXk6IGkoNzUyKSwgQ3JlYXRlU2NlbmVGcm9tRnVuY3Rpb246IGkoNzUzKSwgQ3JlYXRlU2NlbmVGcm9tSW5zdGFuY2U6IGkoNzU0KSwgQ3JlYXRlU2NlbmVGcm9tT2JqZWN0OiBpKDc1NSksIEdldEFjdGl2ZVNjZW5lOiBpKDc1NiksIEdldEFjdGl2ZVNjZW5lSW5kZXg6IGkoNzU3KSwgR2V0QWN0aXZlU2NlbmVJbmRleEJ5S2V5OiBpKDc1OCksIEdldEtleTogaSg3NTkpLCBHZXRTY2VuZTogaSg3NjApLCBHZXRTY2VuZUF0OiBpKDc2MSksIEdldFNjZW5lSW5kZXg6IGkoNzYyKSwgR2V0U2NlbmVJbmRleEJ5S2V5OiBpKDc2MyksIElzQWN0aXZlOiBpKDc2NCksIElzU2xlZXBpbmc6IGkoNzY1KSwgTG9hZENvbXBsZXRlOiBpKDc2NiksIE1vdmVEb3duOiBpKDc2NyksIE1vdmVVcDogaSg3NjgpLCBQYXVzZTogaSg3NjkpLCBQYXlsb2FkQ29tcGxldGU6IGkoNzcwKSwgUmVzdW1lOiBpKDc3MSksIFNlbmRUb0JhY2s6IGkoNzcyKSwgU2V0dXBDYWxsYmFja3M6IGkoNzczKSwgU2xlZXA6IGkoNzc0KSwgU29ydFNjZW5lczogaSg2MSksIFN0YXJ0OiBpKDc3NSksIFN0b3A6IGkoNzc2KSwgU3dhcDogaSg3NzcpLCBTd2FwUG9zaXRpb246IGkoNzc4KSwgV2FrZTogaSg3NzkpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQ2KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gaSAmJiAoaSA9ICExKSwgIXRoaXMuZ2FtZS5pc0Jvb3RlZCkgcmV0dXJuIHZvaWQgdGhpcy5fcGVuZGluZy5wdXNoKHsgaW5kZXg6IHRoaXMuX3BlbmRpbmcubGVuZ3RoLCBrZXk6IHQsIHNjZW5lOiBlLCBhdXRvU3RhcnQ6IGkgfSk7dCA9IHRoaXMuZ2V0S2V5KHQsIGUpO3ZhciByO3JldHVybiBlIGluc3RhbmNlb2YgbiA/IHIgPSB0aGlzLmNyZWF0ZVNjZW5lRnJvbUluc3RhbmNlKHQsIGUpIDogXCJvYmplY3RcIiA9PSAodHlwZW9mIGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihlKSkgPyAoZS5rZXkgPSB0LCByID0gdGhpcy5jcmVhdGVTY2VuZUZyb21PYmplY3QodCwgZSkpIDogXCJmdW5jdGlvblwiID09IHR5cGVvZiBlICYmIChyID0gdGhpcy5jcmVhdGVTY2VuZUZyb21GdW5jdGlvbih0LCBlKSksIHQgPSByLnN5cy5zZXR0aW5ncy5rZXksIHRoaXMua2V5c1t0XSA9IHIsIHRoaXMuc2NlbmVzLnB1c2gociksIChpIHx8IHIuc3lzLnNldHRpbmdzLmFjdGl2ZSkgJiYgKHRoaXMuZ2FtZS5pc0Jvb3RlZCA/IHRoaXMuc3RhcnQodCkgOiB0aGlzLl9zdGFydC5wdXNoKHQpKSwgcjtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE3NiksXG4gICAgICAgIHIgPSBpKDApLFxuICAgICAgICBzID0gaSg3KSxcbiAgICAgICAgYSA9IGkoNTEzKSxcbiAgICAgICAgbyA9IGkoMjcpLFxuICAgICAgICBoID0gaSg1MTQpLFxuICAgICAgICB1ID0gbmV3IHIoeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Q2FtZXJhSWQgPSAxLCB0aGlzLnNjZW5lID0gdCwgdGhpcy5jYW1lcmFzID0gW10sIHRoaXMuY2FtZXJhUG9vbCA9IFtdLCB0LnN5cy5zZXR0aW5ncy5jYW1lcmFzID8gdGhpcy5mcm9tSlNPTih0LnN5cy5zZXR0aW5ncy5jYW1lcmFzKSA6IHRoaXMuYWRkKCksIHRoaXMubWFpbiA9IHRoaXMuY2FtZXJhc1swXTtcbiAgICAgIH0sIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTih0KSB7XG4gICAgICAgIEFycmF5LmlzQXJyYXkodCkgfHwgKHQgPSBbdF0pO2ZvciAodmFyIGUgPSB0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aCwgaSA9IHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLmhlaWdodCwgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgdmFyIHIgPSB0W25dLFxuICAgICAgICAgICAgICBhID0gcyhyLCBcInhcIiwgMCksXG4gICAgICAgICAgICAgIG8gPSBzKHIsIFwieVwiLCAwKSxcbiAgICAgICAgICAgICAgaCA9IHMociwgXCJ3aWR0aFwiLCBlKSxcbiAgICAgICAgICAgICAgdSA9IHMociwgXCJoZWlnaHRcIiwgaSksXG4gICAgICAgICAgICAgIGMgPSB0aGlzLmFkZChhLCBvLCBoLCB1KTtjLm5hbWUgPSBzKHIsIFwibmFtZVwiLCBcIlwiKSwgYy56b29tID0gcyhyLCBcInpvb21cIiwgMSksIGMucm90YXRpb24gPSBzKHIsIFwicm90YXRpb25cIiwgMCksIGMuc2Nyb2xsWCA9IHMociwgXCJzY3JvbGxYXCIsIDApLCBjLnNjcm9sbFkgPSBzKHIsIFwic2Nyb2xsWVwiLCAwKSwgYy5yb3VuZFBpeGVscyA9IHMociwgXCJyb3VuZFBpeGVsc1wiLCAhMSk7dmFyIGwgPSBzKHIsIFwiYmFja2dyb3VuZENvbG9yXCIsICExKTtsICYmIGMuc2V0QmFja2dyb3VuZENvbG9yKGwpO3ZhciBmID0gcyhyLCBcImJvdW5kc1wiLCBudWxsKTtpZiAoZikge1xuICAgICAgICAgICAgdmFyIGQgPSBzKGYsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgICBwID0gcyhmLCBcInlcIiwgMCksXG4gICAgICAgICAgICAgICAgdiA9IHMoZiwgXCJ3aWR0aFwiLCBlKSxcbiAgICAgICAgICAgICAgICBnID0gcyhmLCBcImhlaWdodFwiLCBpKTtjLnNldEJvdW5kcyhkLCBwLCB2LCBnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH0sIGFkZDogZnVuY3Rpb24gYWRkKHQsIGUsIGksIHIsIHMpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IGkgJiYgKGkgPSB0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aCksIHZvaWQgMCA9PT0gciAmJiAociA9IHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLmhlaWdodCksIHZvaWQgMCA9PT0gcyAmJiAocyA9ICExKTt2YXIgYSA9IG51bGw7cmV0dXJuIHRoaXMuY2FtZXJhUG9vbC5sZW5ndGggPiAwID8gKGEgPSB0aGlzLmNhbWVyYVBvb2wucG9wKCksIGEuc2V0Vmlld3BvcnQodCwgZSwgaSwgcikpIDogYSA9IG5ldyBuKHQsIGUsIGksIHIpLCBhLnNldFNjZW5lKHRoaXMuc2NlbmUpLCB0aGlzLmNhbWVyYXMucHVzaChhKSwgcyAmJiAodGhpcy5tYWluID0gYSksIGEuX2lkID0gdGhpcy5jdXJyZW50Q2FtZXJhSWQsIHRoaXMuY3VycmVudENhbWVyYUlkID0gdGhpcy5jdXJyZW50Q2FtZXJhSWQgPDwgMSwgYTtcbiAgICAgIH0sIGFkZEtleUNvbnRyb2w6IGZ1bmN0aW9uIGFkZEtleUNvbnRyb2wodCkge1xuICAgICAgICByZXR1cm4gbmV3IGEodCk7XG4gICAgICB9LCBhZGRTbW9vdGhlZEtleUNvbnRyb2w6IGZ1bmN0aW9uIGFkZFNtb290aGVkS2V5Q29udHJvbCh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgaCh0KTtcbiAgICAgIH0sIGFkZFJlZmVyZW5jZTogZnVuY3Rpb24gYWRkUmVmZXJlbmNlKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmNhbWVyYXMuaW5kZXhPZih0KSxcbiAgICAgICAgICAgIGkgPSB0aGlzLmNhbWVyYVBvb2wuaW5kZXhPZih0KTtyZXR1cm4gZSA8IDAgJiYgaSA+PSAwID8gKHRoaXMuY2FtZXJhcy5wdXNoKHQpLCB0aGlzLmNhbWVyYVBvb2wuc2xpY2UoaSwgMSksIHQpIDogbnVsbDtcbiAgICAgIH0sIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmNhbWVyYXMuaW5kZXhPZih0KTtlID49IDAgJiYgdGhpcy5jYW1lcmFzLmxlbmd0aCA+IDEgJiYgKHRoaXMuY2FtZXJhUG9vbC5wdXNoKHRoaXMuY2FtZXJhc1tlXSksIHRoaXMuY2FtZXJhcy5zcGxpY2UoZSwgMSksIHRoaXMubWFpbiA9PT0gdCAmJiAodGhpcy5tYWluID0gdGhpcy5jYW1lcmFzWzBdKSk7XG4gICAgICB9LCByZXNldEFsbDogZnVuY3Rpb24gcmVzZXRBbGwoKSB7XG4gICAgICAgIGZvciAoOyB0aGlzLmNhbWVyYXMubGVuZ3RoID4gMDspIHtcbiAgICAgICAgICB0aGlzLmNhbWVyYVBvb2wucHVzaCh0aGlzLmNhbWVyYXMucG9wKCkpO1xuICAgICAgICB9cmV0dXJuIHRoaXMubWFpbiA9IHRoaXMuYWRkKCksIHRoaXMubWFpbjtcbiAgICAgIH0sIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHQsIGUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0aGlzLmNhbWVyYXMubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgdGhpcy5jYW1lcmFzW2ldLnVwZGF0ZSh0LCBlKTtcbiAgICAgICAgfVxuICAgICAgfSwgZ2V0Q2FtZXJhQmVsb3dQb2ludGVyOiBmdW5jdGlvbiBnZXRDYW1lcmFCZWxvd1BvaW50ZXIodCkge1xuICAgICAgICBmb3IgKHZhciBlID0gdGhpcy5jYW1lcmFzLCBpID0gZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHZhciBuID0gZVtpXTtpZiAobi5pbnB1dEVuYWJsZWQgJiYgbyhuLCB0LngsIHQueSkpIHJldHVybiBuO1xuICAgICAgICB9XG4gICAgICB9LCByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih0LCBlLCBpKSB7XG4gICAgICAgIGZvciAodmFyIG4gPSB0aGlzLmNhbWVyYXMsIHIgPSAwLCBzID0gbi5sZW5ndGg7IHIgPCBzOyArK3IpIHtcbiAgICAgICAgICB2YXIgYSA9IG5bcl07YS5wcmVSZW5kZXIoKSwgdC5yZW5kZXIodGhpcy5zY2VuZSwgZSwgaSwgYSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IHZvaWQgMDtmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMuY2FtZXJhcy5sZW5ndGg7IHQrKykge1xuICAgICAgICAgIHRoaXMuY2FtZXJhc1t0XS5kZXN0cm95KCk7XG4gICAgICAgIH1mb3IgKHQgPSAwOyB0IDwgdGhpcy5jYW1lcmFQb29sLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgdGhpcy5jYW1lcmFQb29sW3RdLmRlc3Ryb3koKTtcbiAgICAgICAgfXRoaXMuY2FtZXJhcyA9IFtdLCB0aGlzLmNhbWVyYVBvb2wgPSBbXSwgdGhpcy5zY2VuZSA9IHZvaWQgMDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gdTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdmFyIGkgPSB0aGlzLm1hdHJpeC5tYXRyaXgsXG4gICAgICAgICAgbiA9IGlbMF0sXG4gICAgICAgICAgciA9IGlbMV0sXG4gICAgICAgICAgcyA9IGlbMl0sXG4gICAgICAgICAgYSA9IGlbM10sXG4gICAgICAgICAgbyA9IGlbNF0sXG4gICAgICAgICAgaCA9IGlbNV0sXG4gICAgICAgICAgdSA9IG4gKiBhIC0gciAqIHM7aWYgKCF1KSByZXR1cm4gdDt1ID0gMSAvIHU7dmFyIGMgPSBhICogdSxcbiAgICAgICAgICBsID0gLXIgKiB1LFxuICAgICAgICAgIGYgPSAtcyAqIHUsXG4gICAgICAgICAgZCA9IG4gKiB1LFxuICAgICAgICAgIHAgPSAocyAqIGggLSBhICogbykgKiB1LFxuICAgICAgICAgIHYgPSAociAqIG8gLSBuICogaCkgKiB1LFxuICAgICAgICAgIGcgPSB0LngsXG4gICAgICAgICAgeCA9IHQueTtyZXR1cm4gZSB8fCAoZSA9IHsgeDogMCwgeTogMCB9KSwgZS54ID0gZyAqIGMgKyB4ICogZiArIHAsIGUueSA9IGcgKiBsICsgeCAqIGQgKyB2LCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxYID0gLjUgKiB0aGlzLl9ib3VuZHMud2lkdGggLSAuNSAqIHRoaXMud2lkdGgsIHRoaXMuc2Nyb2xsWSA9IC41ICogdGhpcy5fYm91bmRzLmhlaWdodCAtIC41ICogdGhpcy5oZWlnaHQsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjcm9sbFggPSAuNSAqIHRoaXMud2lkdGgsIHRoaXMuc2Nyb2xsWSA9IC41ICogdGhpcy5oZWlnaHQsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlQ3VsbCkgcmV0dXJuIHQ7dmFyIGUgPSB0aGlzLm1hdHJpeC5tYXRyaXgsXG4gICAgICAgICAgaSA9IGVbMF0sXG4gICAgICAgICAgbiA9IGVbMV0sXG4gICAgICAgICAgciA9IGVbMl0sXG4gICAgICAgICAgcyA9IGVbM10sXG4gICAgICAgICAgYSA9IGkgKiBzIC0gbiAqIHI7aWYgKCFhKSByZXR1cm4gdDt2YXIgbyA9IGVbNF0sXG4gICAgICAgICAgaCA9IGVbNV0sXG4gICAgICAgICAgdSA9IHRoaXMuc2Nyb2xsWCxcbiAgICAgICAgICBjID0gdGhpcy5zY3JvbGxZLFxuICAgICAgICAgIGwgPSB0aGlzLndpZHRoLFxuICAgICAgICAgIGYgPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICBkID0gdGhpcy5jdWxsZWRPYmplY3RzLFxuICAgICAgICAgIHAgPSB0Lmxlbmd0aDthID0gMSAvIGEsIGQubGVuZ3RoID0gMDtmb3IgKHZhciB2ID0gMDsgdiA8IHA7ICsrdikge1xuICAgICAgICB2YXIgZyA9IHRbdl07aWYgKGcuaGFzT3duUHJvcGVydHkoXCJ3aWR0aFwiKSkge1xuICAgICAgICAgIHZhciB4ID0gZy53aWR0aCxcbiAgICAgICAgICAgICAgbSA9IGcuaGVpZ2h0LFxuICAgICAgICAgICAgICB5ID0gZy54IC0gdSAqIGcuc2Nyb2xsRmFjdG9yWCAtIHggKiBnLm9yaWdpblgsXG4gICAgICAgICAgICAgIHcgPSBnLnkgLSBjICogZy5zY3JvbGxGYWN0b3JZIC0gbSAqIGcub3JpZ2luWSxcbiAgICAgICAgICAgICAgRSA9IHkgKiBpICsgdyAqIHIgKyBvLFxuICAgICAgICAgICAgICBUID0geSAqIG4gKyB3ICogcyArIGgsXG4gICAgICAgICAgICAgIGIgPSAoeSArIHgpICogaSArICh3ICsgbSkgKiByICsgbyxcbiAgICAgICAgICAgICAgXyA9ICh5ICsgeCkgKiBuICsgKHcgKyBtKSAqIHMgKyBoLFxuICAgICAgICAgICAgICBBID0gbCArIHgsXG4gICAgICAgICAgICAgIFMgPSBmICsgbTsoRSA+IC14IHx8IFQgPiAtbSB8fCBFIDwgQSB8fCBUIDwgUyB8fCBiID4gLXggfHwgXyA+IC1tIHx8IGIgPCBBIHx8IF8gPCBTKSAmJiBkLnB1c2goZyk7XG4gICAgICAgIH0gZWxzZSBkLnB1c2goZyk7XG4gICAgICB9cmV0dXJuIGQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlQ3VsbCkgcmV0dXJuIHQ7dmFyIGUgPSB0aGlzLm1hdHJpeC5tYXRyaXgsXG4gICAgICAgICAgaSA9IGVbMF0sXG4gICAgICAgICAgbiA9IGVbMV0sXG4gICAgICAgICAgciA9IGVbMl0sXG4gICAgICAgICAgcyA9IGVbM10sXG4gICAgICAgICAgYSA9IGkgKiBzIC0gbiAqIHI7aWYgKCFhKSByZXR1cm4gdDt2YXIgbyA9IGVbNF0sXG4gICAgICAgICAgaCA9IGVbNV0sXG4gICAgICAgICAgdSA9IHRoaXMuc2Nyb2xsWCxcbiAgICAgICAgICBjID0gdGhpcy5zY3JvbGxZLFxuICAgICAgICAgIGwgPSB0aGlzLndpZHRoLFxuICAgICAgICAgIGYgPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICBkID0gdC5sZW5ndGg7YSA9IDEgLyBhO2ZvciAodmFyIHAgPSBbXSwgdiA9IDA7IHYgPCBkOyArK3YpIHtcbiAgICAgICAgdmFyIGcgPSB0W3ZdLmdhbWVPYmplY3Q7aWYgKGcuaGFzT3duUHJvcGVydHkoXCJ3aWR0aFwiKSkge1xuICAgICAgICAgIHZhciB4ID0gZy53aWR0aCxcbiAgICAgICAgICAgICAgbSA9IGcuaGVpZ2h0LFxuICAgICAgICAgICAgICB5ID0gZy54IC0gdSAqIGcuc2Nyb2xsRmFjdG9yWCAtIHggKiBnLm9yaWdpblgsXG4gICAgICAgICAgICAgIHcgPSBnLnkgLSBjICogZy5zY3JvbGxGYWN0b3JZIC0gbSAqIGcub3JpZ2luWSxcbiAgICAgICAgICAgICAgRSA9IHkgKiBpICsgdyAqIHIgKyBvLFxuICAgICAgICAgICAgICBUID0geSAqIG4gKyB3ICogcyArIGgsXG4gICAgICAgICAgICAgIGIgPSAoeSArIHgpICogaSArICh3ICsgbSkgKiByICsgbyxcbiAgICAgICAgICAgICAgXyA9ICh5ICsgeCkgKiBuICsgKHcgKyBtKSAqIHMgKyBoLFxuICAgICAgICAgICAgICBBID0gbCArIHgsXG4gICAgICAgICAgICAgIFMgPSBmICsgbTsoRSA+IC14IHx8IFQgPiAtbSB8fCBFIDwgQSB8fCBUIDwgUyB8fCBiID4gLXggfHwgXyA+IC1tIHx8IGIgPCBBIHx8IF8gPCBTKSAmJiBwLnB1c2godFt2XSk7XG4gICAgICAgIH0gZWxzZSBwLnB1c2godFt2XSk7XG4gICAgICB9cmV0dXJuIHA7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IHRoaXMubWF0cml4Lm1hdHJpeCxcbiAgICAgICAgICBpID0gZVswXSxcbiAgICAgICAgICBuID0gZVsxXSxcbiAgICAgICAgICByID0gZVsyXSxcbiAgICAgICAgICBzID0gZVszXSxcbiAgICAgICAgICBhID0gaSAqIHMgLSBuICogcjtpZiAoIWEpIHJldHVybiB1O3ZhciBvID0gZVs0XSxcbiAgICAgICAgICBoID0gZVs1XSxcbiAgICAgICAgICB1ID0gdC50aWxlcyxcbiAgICAgICAgICBjID0gdGhpcy5zY3JvbGxYLFxuICAgICAgICAgIGwgPSB0aGlzLnNjcm9sbFksXG4gICAgICAgICAgZiA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgZCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIHAgPSB0aGlzLmN1bGxlZE9iamVjdHMsXG4gICAgICAgICAgdiA9IHUubGVuZ3RoLFxuICAgICAgICAgIGcgPSB0LnRpbGVXaWR0aCxcbiAgICAgICAgICB4ID0gdC50aWxlSGVpZ2h0LFxuICAgICAgICAgIG0gPSBmICsgZyxcbiAgICAgICAgICB5ID0gZCArIHgsXG4gICAgICAgICAgdyA9IHQuc2Nyb2xsRmFjdG9yWCxcbiAgICAgICAgICBFID0gdC5zY3JvbGxGYWN0b3JZO2EgPSAxIC8gYSwgcC5sZW5ndGggPSAwO2ZvciAodmFyIFQgPSAwOyBUIDwgdjsgKytUKSB7XG4gICAgICAgIHZhciBiID0gdVtUXSxcbiAgICAgICAgICAgIF8gPSBiLnggLSBjICogdyxcbiAgICAgICAgICAgIEEgPSBiLnkgLSBsICogRSxcbiAgICAgICAgICAgIFMgPSBfICogaSArIEEgKiByICsgbyxcbiAgICAgICAgICAgIFIgPSBfICogbiArIEEgKiBzICsgaCxcbiAgICAgICAgICAgIE0gPSAoXyArIGcpICogaSArIChBICsgeCkgKiByICsgbyxcbiAgICAgICAgICAgIE8gPSAoXyArIGcpICogbiArIChBICsgeCkgKiBzICsgaDtTID4gLWcgJiYgUiA+IC14ICYmIE0gPCBtICYmIE8gPCB5ICYmIHAucHVzaChiKTtcbiAgICAgIH1yZXR1cm4gcDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKCkge1xuICAgICAgdGhpcy5fYm91bmRzID0gdm9pZCAwLCB0aGlzLm1hdHJpeCA9IHZvaWQgMCwgdGhpcy5jdWxsZWRPYmplY3RzID0gW10sIHRoaXMuc2NlbmUgPSB2b2lkIDA7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTg5LCBuLCByKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAwKSwgdm9pZCAwID09PSBfaTg5ICYmIChfaTg5ID0gMCksIHZvaWQgMCA9PT0gbiAmJiAobiA9IDApLCAhciAmJiB0aGlzLl9mYWRlQWxwaGEgPiAwIHx8ICh0aGlzLl9mYWRlUmVkID0gZSwgdGhpcy5fZmFkZUdyZWVuID0gX2k4OSwgdGhpcy5fZmFkZUJsdWUgPSBuLCB0IDw9IDAgJiYgKHQgPSBOdW1iZXIuTUlOX1ZBTFVFKSwgdGhpcy5fZmFkZUR1cmF0aW9uID0gdCwgdGhpcy5fZmFkZUFscGhhID0gTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTkwLCBuLCByKSB7XG4gICAgICAhciAmJiB0aGlzLl9mbGFzaEFscGhhID4gMCB8fCAodm9pZCAwID09PSBlICYmIChlID0gMSksIHZvaWQgMCA9PT0gX2k5MCAmJiAoX2k5MCA9IDEpLCB2b2lkIDAgPT09IG4gJiYgKG4gPSAxKSwgdGhpcy5fZmxhc2hSZWQgPSBlLCB0aGlzLl9mbGFzaEdyZWVuID0gX2k5MCwgdGhpcy5fZmxhc2hCbHVlID0gbiwgdCA8PSAwICYmICh0ID0gTnVtYmVyLk1JTl9WQUxVRSksIHRoaXMuX2ZsYXNoRHVyYXRpb24gPSB0LCB0aGlzLl9mbGFzaEFscGhhID0gMSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICBpZiAodCBpbnN0YW5jZW9mIEFycmF5KSBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyArK2UpIHtcbiAgICAgICAgdFtlXS5jYW1lcmFGaWx0ZXIgfD0gdGhpcy5faWQ7XG4gICAgICB9IGVsc2UgdC5jYW1lcmFGaWx0ZXIgfD0gdGhpcy5faWQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIHZhciB0ID0gdGhpcy53aWR0aCxcbiAgICAgICAgICBlID0gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgaSA9IHRoaXMuem9vbSxcbiAgICAgICAgICBuID0gdGhpcy5tYXRyaXgsXG4gICAgICAgICAgciA9IHQgLyAyLFxuICAgICAgICAgIHMgPSBlIC8gMixcbiAgICAgICAgICBhID0gdGhpcy5fZm9sbG93O2lmIChudWxsICE9PSBhICYmIChyID0gYS54LCBzID0gYS55LCB0aGlzLnNjcm9sbFggPSByIC0gLjUgKiB0LCB0aGlzLnNjcm9sbFkgPSBzIC0gLjUgKiBlKSwgdGhpcy51c2VCb3VuZHMpIHtcbiAgICAgICAgdmFyIG8gPSB0aGlzLl9ib3VuZHMsXG4gICAgICAgICAgICBoID0gby54LFxuICAgICAgICAgICAgdSA9IG8ueSxcbiAgICAgICAgICAgIGMgPSBNYXRoLm1heChvLnJpZ2h0IC0gdCwgdCksXG4gICAgICAgICAgICBsID0gTWF0aC5tYXgoby5ib3R0b20gLSBlLCBlKTt0aGlzLnNjcm9sbFggPCBoICYmICh0aGlzLnNjcm9sbFggPSBoKSwgdGhpcy5zY3JvbGxYID4gYyAmJiAodGhpcy5zY3JvbGxYID0gYyksIHRoaXMuc2Nyb2xsWSA8IHUgJiYgKHRoaXMuc2Nyb2xsWSA9IHUpLCB0aGlzLnNjcm9sbFkgPiBsICYmICh0aGlzLnNjcm9sbFkgPSBsKTtcbiAgICAgIH10aGlzLnJvdW5kUGl4ZWxzICYmICh0aGlzLnNjcm9sbFggPSBNYXRoLnJvdW5kKHRoaXMuc2Nyb2xsWCksIHRoaXMuc2Nyb2xsWSA9IE1hdGgucm91bmQodGhpcy5zY3JvbGxZKSksIG4ubG9hZElkZW50aXR5KCksIG4udHJhbnNsYXRlKHRoaXMueCArIHIsIHRoaXMueSArIHMpLCBuLnJvdGF0ZSh0aGlzLnJvdGF0aW9uKSwgbi5zY2FsZShpLCBpKSwgbi50cmFuc2xhdGUoLXIsIC1zKSwgbi50cmFuc2xhdGUodGhpcy5fc2hha2VPZmZzZXRYLCB0aGlzLl9zaGFrZU9mZnNldFkpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICByZXR1cm4gdGhpcy51c2VCb3VuZHMgPSAhMSwgdGhpcy5fYm91bmRzLnNldEVtcHR5KCksIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg1MiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSBcInJnYmEoMCwwLDAsMClcIiksIHRoaXMuYmFja2dyb3VuZENvbG9yID0gbih0KSwgdGhpcy50cmFuc3BhcmVudCA9IDAgPT09IHRoaXMuYmFja2dyb3VuZENvbG9yLmFscGhhLCB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k5MSwgbikge1xuICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5zZXRUbyh0LCBlLCBfaTkxLCBuKSwgdGhpcy51c2VCb3VuZHMgPSAhMCwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSBcIlwiKSwgdGhpcy5uYW1lID0gdCwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSB0KSwgdGhpcy54ID0gdCwgdGhpcy55ID0gZSwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSAwKSwgdGhpcy5yb3RhdGlvbiA9IHQsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5yb3VuZFBpeGVscyA9IHQsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zY2VuZSA9IHQsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gdCksIHRoaXMuc2Nyb2xsWCA9IHQsIHRoaXMuc2Nyb2xsWSA9IGUsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gdCksIHRoaXMud2lkdGggPSB0LCB0aGlzLmhlaWdodCA9IGUsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTkyLCBuKSB7XG4gICAgICByZXR1cm4gdGhpcy54ID0gdCwgdGhpcy55ID0gZSwgdGhpcy53aWR0aCA9IF9pOTIsIHRoaXMuaGVpZ2h0ID0gbiwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSAxKSwgdGhpcy56b29tID0gdCwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pOTMpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IC4wNSksIChfaTkzIHx8IDAgPT09IHRoaXMuX3NoYWtlT2Zmc2V0WCAmJiAwID09PSB0aGlzLl9zaGFrZU9mZnNldFkpICYmICh0aGlzLl9zaGFrZUR1cmF0aW9uID0gdCwgdGhpcy5fc2hha2VJbnRlbnNpdHkgPSBlLCB0aGlzLl9zaGFrZU9mZnNldFggPSAwLCB0aGlzLl9zaGFrZU9mZnNldFkgPSAwKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBudWxsICE9PSB0aGlzLl9mb2xsb3cgJiYgdGhpcy5zdG9wRm9sbG93KCksIHRoaXMuX2ZvbGxvdyA9IHQsIHZvaWQgMCAhPT0gZSAmJiAodGhpcy5yb3VuZFBpeGVscyA9IGUpLCB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICB0aGlzLl9mb2xsb3cgPSBudWxsO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICB2YXIgdCA9IHsgbmFtZTogdGhpcy5uYW1lLCB4OiB0aGlzLngsIHk6IHRoaXMueSwgd2lkdGg6IHRoaXMud2lkdGgsIGhlaWdodDogdGhpcy5oZWlnaHQsIHpvb206IHRoaXMuem9vbSwgcm90YXRpb246IHRoaXMucm90YXRpb24sIHJvdW5kUGl4ZWxzOiB0aGlzLnJvdW5kUGl4ZWxzLCBzY3JvbGxYOiB0aGlzLnNjcm9sbFgsIHNjcm9sbFk6IHRoaXMuc2Nyb2xsWSwgYmFja2dyb3VuZENvbG9yOiB0aGlzLmJhY2tncm91bmRDb2xvci5yZ2JhIH07cmV0dXJuIHRoaXMudXNlQm91bmRzICYmICh0LmJvdW5kcyA9IHsgeDogdGhpcy5fYm91bmRzLngsIHk6IHRoaXMuX2JvdW5kcy55LCB3aWR0aDogdGhpcy5fYm91bmRzLndpZHRoLCBoZWlnaHQ6IHRoaXMuX2JvdW5kcy5oZWlnaHQgfSksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICBpZiAodGhpcy5fZmxhc2hBbHBoYSA+IDAgJiYgKHRoaXMuX2ZsYXNoQWxwaGEgLT0gZSAvIHRoaXMuX2ZsYXNoRHVyYXRpb24sIHRoaXMuX2ZsYXNoQWxwaGEgPCAwICYmICh0aGlzLl9mbGFzaEFscGhhID0gMCkpLCB0aGlzLl9mYWRlQWxwaGEgPiAwICYmIHRoaXMuX2ZhZGVBbHBoYSA8IDEgJiYgKHRoaXMuX2ZhZGVBbHBoYSArPSBlIC8gdGhpcy5fZmFkZUR1cmF0aW9uLCB0aGlzLl9mYWRlQWxwaGEgPj0gMSAmJiAodGhpcy5fZmFkZUFscGhhID0gMSkpLCB0aGlzLl9zaGFrZUR1cmF0aW9uID4gMCkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuX3NoYWtlSW50ZW5zaXR5O3RoaXMuX3NoYWtlRHVyYXRpb24gLT0gZSwgdGhpcy5fc2hha2VEdXJhdGlvbiA8PSAwID8gKHRoaXMuX3NoYWtlT2Zmc2V0WCA9IDAsIHRoaXMuX3NoYWtlT2Zmc2V0WSA9IDApIDogKHRoaXMuX3NoYWtlT2Zmc2V0WCA9IChNYXRoLnJhbmRvbSgpICogaSAqIHRoaXMud2lkdGggKiAyIC0gaSAqIHRoaXMud2lkdGgpICogdGhpcy56b29tLCB0aGlzLl9zaGFrZU9mZnNldFkgPSAoTWF0aC5yYW5kb20oKSAqIGkgKiB0aGlzLmhlaWdodCAqIDIgLSBpICogdGhpcy5oZWlnaHQpICogdGhpcy56b29tKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgyKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gcih0LCBcImNhbWVyYVwiLCBudWxsKSwgdGhpcy5sZWZ0ID0gcih0LCBcImxlZnRcIiwgbnVsbCksIHRoaXMucmlnaHQgPSByKHQsIFwicmlnaHRcIiwgbnVsbCksIHRoaXMudXAgPSByKHQsIFwidXBcIiwgbnVsbCksIHRoaXMuZG93biA9IHIodCwgXCJkb3duXCIsIG51bGwpLCB0aGlzLnpvb21JbiA9IHIodCwgXCJ6b29tSW5cIiwgbnVsbCksIHRoaXMuem9vbU91dCA9IHIodCwgXCJ6b29tT3V0XCIsIG51bGwpLCB0aGlzLnpvb21TcGVlZCA9IHIodCwgXCJ6b29tU3BlZWRcIiwgLjAxKTt2YXIgZSA9IHIodCwgXCJzcGVlZFwiLCBudWxsKTtcIm51bWJlclwiID09IHR5cGVvZiBlID8gKHRoaXMuc3BlZWRYID0gZSwgdGhpcy5zcGVlZFkgPSBlKSA6ICh0aGlzLnNwZWVkWCA9IHIodCwgXCJzcGVlZC54XCIsIDApLCB0aGlzLnNwZWVkWSA9IHIodCwgXCJzcGVlZC55XCIsIDApKSwgdGhpcy5fem9vbSA9IDAsIHRoaXMuYWN0aXZlID0gbnVsbCAhPT0gdGhpcy5jYW1lcmE7XG4gICAgICB9LCBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gbnVsbCAhPT0gdGhpcy5jYW1lcmE7XG4gICAgICB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9ICExO1xuICAgICAgfSwgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUodCkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICB2b2lkIDAgPT09IHQgJiYgKHQgPSAxKTt2YXIgZSA9IHRoaXMuY2FtZXJhO3RoaXMudXAgJiYgdGhpcy51cC5pc0Rvd24gPyBlLnNjcm9sbFkgLT0gdGhpcy5zcGVlZFkgKiB0IHwgMCA6IHRoaXMuZG93biAmJiB0aGlzLmRvd24uaXNEb3duICYmIChlLnNjcm9sbFkgKz0gdGhpcy5zcGVlZFkgKiB0IHwgMCksIHRoaXMubGVmdCAmJiB0aGlzLmxlZnQuaXNEb3duID8gZS5zY3JvbGxYIC09IHRoaXMuc3BlZWRYICogdCB8IDAgOiB0aGlzLnJpZ2h0ICYmIHRoaXMucmlnaHQuaXNEb3duICYmIChlLnNjcm9sbFggKz0gdGhpcy5zcGVlZFggKiB0IHwgMCksIHRoaXMuem9vbUluICYmIHRoaXMuem9vbUluLmlzRG93biA/IChlLnpvb20gLT0gdGhpcy56b29tU3BlZWQsIGUuem9vbSA8IC4xICYmIChlLnpvb20gPSAuMSkpIDogdGhpcy56b29tT3V0ICYmIHRoaXMuem9vbU91dC5pc0Rvd24gJiYgKGUuem9vbSArPSB0aGlzLnpvb21TcGVlZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gbnVsbCwgdGhpcy5sZWZ0ID0gbnVsbCwgdGhpcy5yaWdodCA9IG51bGwsIHRoaXMudXAgPSBudWxsLCB0aGlzLmRvd24gPSBudWxsLCB0aGlzLnpvb21JbiA9IG51bGwsIHRoaXMuem9vbU91dCA9IG51bGw7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgyKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gcih0LCBcImNhbWVyYVwiLCBudWxsKSwgdGhpcy5sZWZ0ID0gcih0LCBcImxlZnRcIiwgbnVsbCksIHRoaXMucmlnaHQgPSByKHQsIFwicmlnaHRcIiwgbnVsbCksIHRoaXMudXAgPSByKHQsIFwidXBcIiwgbnVsbCksIHRoaXMuZG93biA9IHIodCwgXCJkb3duXCIsIG51bGwpLCB0aGlzLnpvb21JbiA9IHIodCwgXCJ6b29tSW5cIiwgbnVsbCksIHRoaXMuem9vbU91dCA9IHIodCwgXCJ6b29tT3V0XCIsIG51bGwpLCB0aGlzLnpvb21TcGVlZCA9IHIodCwgXCJ6b29tU3BlZWRcIiwgLjAxKTt2YXIgZSA9IHIodCwgXCJhY2NlbGVyYXRpb25cIiwgbnVsbCk7XCJudW1iZXJcIiA9PSB0eXBlb2YgZSA/ICh0aGlzLmFjY2VsWCA9IGUsIHRoaXMuYWNjZWxZID0gZSkgOiAodGhpcy5hY2NlbFggPSByKHQsIFwiYWNjZWxlcmF0aW9uLnhcIiwgMCksIHRoaXMuYWNjZWxZID0gcih0LCBcImFjY2VsZXJhdGlvbi55XCIsIDApKTt2YXIgaSA9IHIodCwgXCJkcmFnXCIsIG51bGwpO1wibnVtYmVyXCIgPT0gdHlwZW9mIGkgPyAodGhpcy5kcmFnWCA9IGksIHRoaXMuZHJhZ1kgPSBpKSA6ICh0aGlzLmRyYWdYID0gcih0LCBcImRyYWcueFwiLCAwKSwgdGhpcy5kcmFnWSA9IHIodCwgXCJkcmFnLnlcIiwgMCkpO3ZhciBuID0gcih0LCBcIm1heFNwZWVkXCIsIG51bGwpO1wibnVtYmVyXCIgPT0gdHlwZW9mIG4gPyAodGhpcy5tYXhTcGVlZFggPSBuLCB0aGlzLm1heFNwZWVkWSA9IG4pIDogKHRoaXMubWF4U3BlZWRYID0gcih0LCBcIm1heFNwZWVkLnhcIiwgMCksIHRoaXMubWF4U3BlZWRZID0gcih0LCBcIm1heFNwZWVkLnlcIiwgMCkpLCB0aGlzLl9zcGVlZFggPSAwLCB0aGlzLl9zcGVlZFkgPSAwLCB0aGlzLl96b29tID0gMCwgdGhpcy5hY3RpdmUgPSBudWxsICE9PSB0aGlzLmNhbWVyYTtcbiAgICAgIH0sIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBudWxsICE9PSB0aGlzLmNhbWVyYTtcbiAgICAgIH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gITE7XG4gICAgICB9LCB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh0KSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IDEpO3ZhciBlID0gdGhpcy5jYW1lcmE7dGhpcy5fc3BlZWRYID4gMCA/ICh0aGlzLl9zcGVlZFggLT0gdGhpcy5kcmFnWCAqIHQsIHRoaXMuX3NwZWVkWCA8IDAgJiYgKHRoaXMuX3NwZWVkWCA9IDApKSA6IHRoaXMuX3NwZWVkWCA8IDAgJiYgKHRoaXMuX3NwZWVkWCArPSB0aGlzLmRyYWdYICogdCwgdGhpcy5fc3BlZWRYID4gMCAmJiAodGhpcy5fc3BlZWRYID0gMCkpLCB0aGlzLl9zcGVlZFkgPiAwID8gKHRoaXMuX3NwZWVkWSAtPSB0aGlzLmRyYWdZICogdCwgdGhpcy5fc3BlZWRZIDwgMCAmJiAodGhpcy5fc3BlZWRZID0gMCkpIDogdGhpcy5fc3BlZWRZIDwgMCAmJiAodGhpcy5fc3BlZWRZICs9IHRoaXMuZHJhZ1kgKiB0LCB0aGlzLl9zcGVlZFkgPiAwICYmICh0aGlzLl9zcGVlZFkgPSAwKSksIHRoaXMudXAgJiYgdGhpcy51cC5pc0Rvd24gPyAodGhpcy5fc3BlZWRZICs9IHRoaXMuYWNjZWxZLCB0aGlzLl9zcGVlZFkgPiB0aGlzLm1heFNwZWVkWSAmJiAodGhpcy5fc3BlZWRZID0gdGhpcy5tYXhTcGVlZFkpKSA6IHRoaXMuZG93biAmJiB0aGlzLmRvd24uaXNEb3duICYmICh0aGlzLl9zcGVlZFkgLT0gdGhpcy5hY2NlbFksIHRoaXMuX3NwZWVkWSA8IC10aGlzLm1heFNwZWVkWSAmJiAodGhpcy5fc3BlZWRZID0gLXRoaXMubWF4U3BlZWRZKSksIHRoaXMubGVmdCAmJiB0aGlzLmxlZnQuaXNEb3duID8gKHRoaXMuX3NwZWVkWCArPSB0aGlzLmFjY2VsWCwgdGhpcy5fc3BlZWRYID4gdGhpcy5tYXhTcGVlZFggJiYgKHRoaXMuX3NwZWVkWCA9IHRoaXMubWF4U3BlZWRYKSkgOiB0aGlzLnJpZ2h0ICYmIHRoaXMucmlnaHQuaXNEb3duICYmICh0aGlzLl9zcGVlZFggLT0gdGhpcy5hY2NlbFgsIHRoaXMuX3NwZWVkWCA8IC10aGlzLm1heFNwZWVkWCAmJiAodGhpcy5fc3BlZWRYID0gLXRoaXMubWF4U3BlZWRYKSksIHRoaXMuem9vbUluICYmIHRoaXMuem9vbUluLmlzRG93biA/IHRoaXMuX3pvb20gPSAtdGhpcy56b29tU3BlZWQgOiB0aGlzLnpvb21PdXQgJiYgdGhpcy56b29tT3V0LmlzRG93biA/IHRoaXMuX3pvb20gPSB0aGlzLnpvb21TcGVlZCA6IHRoaXMuX3pvb20gPSAwLCAwICE9PSB0aGlzLl9zcGVlZFggJiYgKGUuc2Nyb2xsWCAtPSB0aGlzLl9zcGVlZFggKiB0IHwgMCksIDAgIT09IHRoaXMuX3NwZWVkWSAmJiAoZS5zY3JvbGxZIC09IHRoaXMuX3NwZWVkWSAqIHQgfCAwKSwgMCAhPT0gdGhpcy5fem9vbSAmJiAoZS56b29tICs9IHRoaXMuX3pvb20sIGUuem9vbSA8IC4xICYmIChlLnpvb20gPSAuMSkpO1xuICAgICAgICB9XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNhbWVyYSA9IG51bGwsIHRoaXMubGVmdCA9IG51bGwsIHRoaXMucmlnaHQgPSBudWxsLCB0aGlzLnVwID0gbnVsbCwgdGhpcy5kb3duID0gbnVsbCwgdGhpcy56b29tSW4gPSBudWxsLCB0aGlzLnpvb21PdXQgPSBudWxsO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNTE2KSxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSB0LCB0aGlzLm5vdyA9IERhdGUubm93KCksIHRoaXMudGltZVNjYWxlID0gMSwgdGhpcy5wYXVzZWQgPSAhMSwgdGhpcy5fYWN0aXZlID0gW10sIHRoaXMuX3BlbmRpbmdJbnNlcnRpb24gPSBbXSwgdGhpcy5fcGVuZGluZ1JlbW92YWwgPSBbXTtcbiAgICAgIH0sIGFkZEV2ZW50OiBmdW5jdGlvbiBhZGRFdmVudCh0KSB7XG4gICAgICAgIHZhciBlID0gbmV3IHIodCk7cmV0dXJuIHRoaXMuX3BlbmRpbmdJbnNlcnRpb24ucHVzaChlKSwgZTtcbiAgICAgIH0sIGRlbGF5ZWRDYWxsOiBmdW5jdGlvbiBkZWxheWVkQ2FsbCh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZEV2ZW50KHsgZGVsYXk6IHQsIGNhbGxiYWNrOiBlLCBhcmdzOiBpLCBjYWxsYmFja1Njb3BlOiBuIH0pO1xuICAgICAgfSwgY2xlYXJQZW5kaW5nRXZlbnRzOiBmdW5jdGlvbiBjbGVhclBlbmRpbmdFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdJbnNlcnRpb24gPSBbXTtcbiAgICAgIH0sIHJlbW92ZUFsbEV2ZW50czogZnVuY3Rpb24gcmVtb3ZlQWxsRXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ1JlbW92YWwgPSB0aGlzLl9wZW5kaW5nUmVtb3ZhbC5jb25jYXQodGhpcy5fYWN0aXZlKSwgdGhpcztcbiAgICAgIH0sIGJlZ2luOiBmdW5jdGlvbiBiZWdpbigpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGgsXG4gICAgICAgICAgICBlID0gdGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGg7aWYgKDAgIT09IHQgfHwgMCAhPT0gZSkge1xuICAgICAgICAgIHZhciBpLCBuO2ZvciAoaSA9IDA7IGkgPCB0OyBpKyspIHtcbiAgICAgICAgICAgIG4gPSB0aGlzLl9wZW5kaW5nUmVtb3ZhbFtpXTt2YXIgciA9IHRoaXMuX2FjdGl2ZS5pbmRleE9mKG4pO3IgPiAtMSAmJiB0aGlzLl9hY3RpdmUuc3BsaWNlKHIsIDEpLCBuLmRlc3Ryb3koKTtcbiAgICAgICAgICB9Zm9yIChpID0gMDsgaSA8IGU7IGkrKykge1xuICAgICAgICAgICAgbiA9IHRoaXMuX3BlbmRpbmdJbnNlcnRpb25baV0sIG4uZWxhcHNlZCA9IG4uc3RhcnRBdCAqIG4udGltZVNjYWxlLCB0aGlzLl9hY3RpdmUucHVzaChuKTtcbiAgICAgICAgICB9dGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoID0gMCwgdGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICB9LCB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh0LCBlKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdyA9IHQsICF0aGlzLnBhdXNlZCkge1xuICAgICAgICAgIHRoaXMudGltZVNjYWxlO2ZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYWN0aXZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbiA9IHRoaXMuX2FjdGl2ZVtpXTtpZiAoIW4ucGF1c2VkICYmIChuLmVsYXBzZWQgKz0gZSAqIG4udGltZVNjYWxlLCBuLmVsYXBzZWQgPj0gbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgdmFyIHIgPSBuLmVsYXBzZWQgLSBuLmRlbGF5O24uZWxhcHNlZCA9IG4uZGVsYXksICFuLmhhc0Rpc3BhdGNoZWQgJiYgbi5jYWxsYmFjayAmJiAobi5oYXNEaXNwYXRjaGVkID0gITAsIG4uY2FsbGJhY2suYXBwbHkobi5jYWxsYmFja1Njb3BlLCBuLmFyZ3MpKSwgbi5yZXBlYXRDb3VudCA+IDAgPyAobi5yZXBlYXRDb3VudC0tLCBuLmVsYXBzZWQgPSByLCBuLmhhc0Rpc3BhdGNoZWQgPSAhMSkgOiB0aGlzLl9wZW5kaW5nUmVtb3ZhbC5wdXNoKG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgc2h1dGRvd246IGZ1bmN0aW9uIHNodXRkb3duKCkge1xuICAgICAgICB2YXIgdDtmb3IgKHQgPSAwOyB0IDwgdGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGg7IHQrKykge1xuICAgICAgICAgIHRoaXMuX3BlbmRpbmdJbnNlcnRpb25bdF0uZGVzdHJveSgpO1xuICAgICAgICB9Zm9yICh0ID0gMDsgdCA8IHRoaXMuX2FjdGl2ZS5sZW5ndGg7IHQrKykge1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZVt0XS5kZXN0cm95KCk7XG4gICAgICAgIH1mb3IgKHQgPSAwOyB0IDwgdGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVtb3ZhbFt0XS5kZXN0cm95KCk7XG4gICAgICAgIH10aGlzLl9hY3RpdmUubGVuZ3RoID0gMCwgdGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoID0gMCwgdGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGggPSAwO1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zaHV0ZG93bigpLCB0aGlzLnNjZW5lID0gdm9pZCAwO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNyksXG4gICAgICAgIHMgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLmRlbGF5ID0gMCwgdGhpcy5yZXBlYXQgPSAwLCB0aGlzLnJlcGVhdENvdW50ID0gMCwgdGhpcy5sb29wID0gITEsIHRoaXMuY2FsbGJhY2ssIHRoaXMuY2FsbGJhY2tTY29wZSwgdGhpcy5hcmdzLCB0aGlzLnRpbWVTY2FsZSA9IDEsIHRoaXMuc3RhcnRBdCA9IDAsIHRoaXMuZWxhcHNlZCA9IDAsIHRoaXMucGF1c2VkID0gITEsIHRoaXMuaGFzRGlzcGF0Y2hlZCA9ICExLCB0aGlzLnJlc2V0KHQpO1xuICAgICAgfSwgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXkgPSByKHQsIFwiZGVsYXlcIiwgMCksIHRoaXMucmVwZWF0ID0gcih0LCBcInJlcGVhdFwiLCAwKSwgdGhpcy5sb29wID0gcih0LCBcImxvb3BcIiwgITEpLCB0aGlzLmNhbGxiYWNrID0gcih0LCBcImNhbGxiYWNrXCIsIHZvaWQgMCksIHRoaXMuY2FsbGJhY2tTY29wZSA9IHIodCwgXCJjYWxsYmFja1Njb3BlXCIsIHRoaXMuY2FsbGJhY2spLCB0aGlzLmFyZ3MgPSByKHQsIFwiYXJnc1wiLCBbXSksIHRoaXMudGltZVNjYWxlID0gcih0LCBcInRpbWVTY2FsZVwiLCAxKSwgdGhpcy5zdGFydEF0ID0gcih0LCBcInN0YXJ0QXRcIiwgMCksIHRoaXMucGF1c2VkID0gcih0LCBcInBhdXNlZFwiLCAhMSksIHRoaXMuZWxhcHNlZCA9IDAsIHRoaXMuaGFzRGlzcGF0Y2hlZCA9ICExLCB0aGlzLnJlcGVhdENvdW50ID0gLTEgPT09IHRoaXMucmVwZWF0IHx8IHRoaXMubG9vcCA/IDk5OTk5OTk5OTk5OSA6IHRoaXMucmVwZWF0LCB0aGlzO1xuICAgICAgfSwgZ2V0UHJvZ3Jlc3M6IGZ1bmN0aW9uIGdldFByb2dyZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGFwc2VkIC8gdGhpcy5kZWxheTtcbiAgICAgIH0sIGdldE92ZXJhbGxQcm9ncmVzczogZnVuY3Rpb24gZ2V0T3ZlcmFsbFByb2dyZXNzKCkge1xuICAgICAgICBpZiAodGhpcy5yZXBlYXQgPiAwKSB7XG4gICAgICAgICAgdmFyIHQgPSB0aGlzLmRlbGF5ICsgdGhpcy5kZWxheSAqIHRoaXMucmVwZWF0O3JldHVybiAodGhpcy5lbGFwc2VkICsgdGhpcy5kZWxheSAqICh0aGlzLnJlcGVhdCAtIHRoaXMucmVwZWF0Q291bnQpKSAvIHQ7XG4gICAgICAgIH1yZXR1cm4gdGhpcy5nZXRQcm9ncmVzcygpO1xuICAgICAgfSwgZ2V0UmVwZWF0Q291bnQ6IGZ1bmN0aW9uIGdldFJlcGVhdENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXBlYXRDb3VudDtcbiAgICAgIH0sIGdldEVsYXBzZWQ6IGZ1bmN0aW9uIGdldEVsYXBzZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsYXBzZWQ7XG4gICAgICB9LCBnZXRFbGFwc2VkU2Vjb25kczogZnVuY3Rpb24gZ2V0RWxhcHNlZFNlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiAuMDAxICogdGhpcy5lbGFwc2VkO1xuICAgICAgfSwgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUodCkge1xuICAgICAgICB2b2lkIDAgPT09IHQgJiYgKHQgPSAhMSksIHRoaXMuZWxhcHNlZCA9IHRoaXMuZGVsYXksIHRoaXMuaGFzRGlzcGF0Y2hlZCA9ICEhdCwgdGhpcy5yZXBlYXRDb3VudCA9IDA7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gdm9pZCAwLCB0aGlzLmNhbGxiYWNrU2NvcGUgPSB2b2lkIDAsIHRoaXMuYXJncy5sZW5ndGggPSAwO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg1MTgpLFxuICAgICAgICByID0gaSgwKSxcbiAgICAgICAgcyA9IGkoNTIzKSxcbiAgICAgICAgYSA9IGkoNTI3KSxcbiAgICAgICAgbyA9IGkoNTMyKSxcbiAgICAgICAgaCA9IGkoNTM2KSxcbiAgICAgICAgdSA9IGkoNTQwKSxcbiAgICAgICAgYyA9IGkoNTQ0KSxcbiAgICAgICAgbCA9IGkoNTQ4KSxcbiAgICAgICAgZiA9IGkoNTUyKSxcbiAgICAgICAgZCA9IGkoNTUzKSxcbiAgICAgICAgcCA9IGkoNTU3KSxcbiAgICAgICAgdiA9IGkoNTU5KSxcbiAgICAgICAgZyA9IGkoNTY1KSxcbiAgICAgICAgeCA9IGkoNTY5KSxcbiAgICAgICAgbSA9IGkoNTc2KSxcbiAgICAgICAgeSA9IG5ldyByKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSB0O1xuICAgICAgfSwgYml0bWFwVGV4dDogZnVuY3Rpb24gYml0bWFwVGV4dCh0KSB7XG4gICAgICAgIHJldHVybiB2KHRoaXMuc2NlbmUsIHQpO1xuICAgICAgfSwgZHluYW1pY0JpdG1hcFRleHQ6IGZ1bmN0aW9uIGR5bmFtaWNCaXRtYXBUZXh0KHQpIHtcbiAgICAgICAgcmV0dXJuIHModGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCBibGl0dGVyOiBmdW5jdGlvbiBibGl0dGVyKHQpIHtcbiAgICAgICAgcmV0dXJuIG4odGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCBlZmZlY3RMYXllcjogZnVuY3Rpb24gZWZmZWN0TGF5ZXIodCkge1xuICAgICAgICByZXR1cm4gbyh0aGlzLnNjZW5lLCB0KTtcbiAgICAgIH0sIGdyYXBoaWNzOiBmdW5jdGlvbiBncmFwaGljcyh0KSB7XG4gICAgICAgIHJldHVybiBoKHRoaXMuc2NlbmUsIHQpO1xuICAgICAgfSwgZ3JvdXA6IGZ1bmN0aW9uIGdyb3VwKHQpIHtcbiAgICAgICAgcmV0dXJuIHUodGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCBtZXNoOiBmdW5jdGlvbiBtZXNoKHQpIHtcbiAgICAgICAgcmV0dXJuIGwodGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCBpbWFnZTogZnVuY3Rpb24gaW1hZ2UodCkge1xuICAgICAgICByZXR1cm4gYyh0aGlzLnNjZW5lLCB0KTtcbiAgICAgIH0sIHF1YWQ6IGZ1bmN0aW9uIHF1YWQodCkge1xuICAgICAgICByZXR1cm4gZih0aGlzLnNjZW5lLCB0KTtcbiAgICAgIH0sIHJlbmRlclBhc3M6IGZ1bmN0aW9uIHJlbmRlclBhc3ModCkge1xuICAgICAgICByZXR1cm4gZCh0aGlzLnNjZW5lLCB0KTtcbiAgICAgIH0sIHNwcml0ZTogZnVuY3Rpb24gc3ByaXRlKHQpIHtcbiAgICAgICAgcmV0dXJuIHAodGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCB0ZXh0OiBmdW5jdGlvbiB0ZXh0KHQpIHtcbiAgICAgICAgcmV0dXJuIHgodGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCB0aWxlbWFwOiBmdW5jdGlvbiB0aWxlbWFwKHQpIHtcbiAgICAgICAgcmV0dXJuIGEodGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCBzdGF0aWNUaWxlbWFwOiBmdW5jdGlvbiBzdGF0aWNUaWxlbWFwKHQpIHtcbiAgICAgICAgcmV0dXJuIGcodGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCB0aWxlU3ByaXRlOiBmdW5jdGlvbiB0aWxlU3ByaXRlKHQpIHtcbiAgICAgICAgcmV0dXJuIG0odGhpcy5zY2VuZSwgdCk7XG4gICAgICB9LCB0d2VlbjogZnVuY3Rpb24gdHdlZW4odCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5zeXMudHdlZW5zLmNyZWF0ZSh0KTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0geTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNzYpLFxuICAgICAgICByID0gaSg1KSxcbiAgICAgICAgcyA9IGkoOSksXG4gICAgICAgIGEgPSBmdW5jdGlvbiBhKHQsIGUpIHtcbiAgICAgIHZhciBpID0gcihlLCBcImtleVwiLCBudWxsKSxcbiAgICAgICAgICBhID0gcihlLCBcImZyYW1lXCIsIG51bGwpLFxuICAgICAgICAgIG8gPSBuZXcgbih0LCAwLCAwLCBpLCBhKTtyZXR1cm4gcyh0LCBvLCBlKSwgbztcbiAgICB9O3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyByZW5kZXJDYW52YXM6IGkoNTIwKSwgcmVuZGVyV2ViR0w6IGkoNTIxKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTk0LCBuKSB7XG4gICAgICBpZiAoIShlLnJlbmRlck1hc2sgIT09IGUucmVuZGVyRmxhZ3MgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgbi5faWQpKSB7XG4gICAgICAgIHZhciByID0gZS5nZXRSZW5kZXJMaXN0KCk7dC5zZXRCbGVuZE1vZGUoZS5ibGVuZE1vZGUpO2ZvciAodmFyIHMgPSB0LmN1cnJlbnRBbHBoYSwgYSA9IDA7IGEgPCByLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgdmFyIG8gPSByW2FdO3MgIT09IG8uYWxwaGEgJiYgKHMgPSB0LnNldEFscGhhKG8uYWxwaGEpKSwgdC5ibGl0SW1hZ2Uoby54LCBvLnksIG8uZnJhbWUsIG4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTk1LCBuKSB7XG4gICAgICBpZiAoIShlLnJlbmRlck1hc2sgIT09IGUucmVuZGVyRmxhZ3MgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgbi5faWQpKSBmb3IgKHZhciByID0gZS5nZXRSZW5kZXJMaXN0KCksIHMgPSB0LmJsaXR0ZXJCYXRjaCwgYSA9IG4ubWF0cml4Lm1hdHJpeCwgbyA9IGFbMF0sIGggPSBhWzFdLCB1ID0gYVsyXSwgYyA9IGFbM10sIGwgPSBhWzRdLCBmID0gYVs1XSwgZCA9IG4uc2Nyb2xsWCAqIGUuc2Nyb2xsRmFjdG9yWCwgcCA9IG4uc2Nyb2xsWSAqIGUuc2Nyb2xsRmFjdG9yWSwgdiA9IGUucmVuZGVyVGFyZ2V0LCBnID0gMCwgeCA9IHIubGVuZ3RoOyBnIDwgeDsgZysrKSB7XG4gICAgICAgIHZhciBtID0gcltnXSxcbiAgICAgICAgICAgIHkgPSBtLmZyYW1lLFxuICAgICAgICAgICAgdyA9IG0uYWxwaGEsXG4gICAgICAgICAgICBFID0gcy52ZXJ0ZXhEYXRhQnVmZmVyLFxuICAgICAgICAgICAgVCA9IEUuZmxvYXRWaWV3LFxuICAgICAgICAgICAgYiA9IDAsXG4gICAgICAgICAgICBfID0geS51dnMsXG4gICAgICAgICAgICBBID0geS53aWR0aCAqIChtLmZsaXBYID8gLTEgOiAxKSxcbiAgICAgICAgICAgIFMgPSB5LmhlaWdodCAqIChtLmZsaXBZID8gLTEgOiAxKSxcbiAgICAgICAgICAgIFIgPSBtLnggKyB5LnggLSBkICsgeS53aWR0aCAqIChtLmZsaXBYID8gMSA6IDApLFxuICAgICAgICAgICAgTSA9IG0ueSArIHkueSAtIHAgKyB5LmhlaWdodCAqIChtLmZsaXBZID8gMSA6IDApLFxuICAgICAgICAgICAgTyA9IFIgKyBBLFxuICAgICAgICAgICAgQyA9IE0gKyBTLFxuICAgICAgICAgICAgTCA9IFIgKiBvICsgTSAqIHUgKyBsLFxuICAgICAgICAgICAgRiA9IFIgKiBoICsgTSAqIGMgKyBmLFxuICAgICAgICAgICAgSSA9IE8gKiBvICsgQyAqIHUgKyBsLFxuICAgICAgICAgICAgRCA9IE8gKiBoICsgQyAqIGMgKyBmO3MuZWxlbWVudENvdW50ID49IHMubWF4UGFydGljbGVzICYmIHMuZmx1c2goKSwgdC5zZXRSZW5kZXJlcihzLCB5LnRleHR1cmUuc291cmNlW3kuc291cmNlSW5kZXhdLmdsVGV4dHVyZSwgbiwgdiksIGIgPSBFLmFsbG9jYXRlKDIwKSwgcy5lbGVtZW50Q291bnQgKz0gNiwgUiArPSB5LngsIE0gKz0geS55LCBUW2IrK10gPSBMLCBUW2IrK10gPSBGLCBUW2IrK10gPSBfLngwLCBUW2IrK10gPSBfLnkwLCBUW2IrK10gPSB3LCBUW2IrK10gPSBMLCBUW2IrK10gPSBELCBUW2IrK10gPSBfLngxLCBUW2IrK10gPSBfLnkxLCBUW2IrK10gPSB3LCBUW2IrK10gPSBJLCBUW2IrK10gPSBELCBUW2IrK10gPSBfLngyLCBUW2IrK10gPSBfLnkyLCBUW2IrK10gPSB3LCBUW2IrK10gPSBJLCBUW2IrK10gPSBGLCBUW2IrK10gPSBfLngzLCBUW2IrK10gPSBfLnkzLCBUW2IrK10gPSB3O1xuICAgICAgfVxuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbikge1xuICAgICAgICB0aGlzLnBhcmVudCwgdGhpcy54ID0gdCwgdGhpcy55ID0gZSwgdGhpcy5mcmFtZSA9IGksIHRoaXMuZGF0YSA9IHt9LCB0aGlzLl92aXNpYmxlID0gbiwgdGhpcy5fYWxwaGEgPSAxLCB0aGlzLmZsaXBYLCB0aGlzLmZsaXBZID0gITE7XG4gICAgICB9LCByZXNldEZsaXA6IGZ1bmN0aW9uIHJlc2V0RmxpcCgpIHtcbiAgICAgICAgdGhpcy5mbGlwWCA9ICExLCB0aGlzLmZsaXBZID0gITE7XG4gICAgICB9LCByZXNldDogZnVuY3Rpb24gcmVzZXQodCwgZSwgaSkge1xuICAgICAgICB0aGlzLnggPSB0LCB0aGlzLnkgPSBlLCB0aGlzLmZyYW1lID0gaTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmRpcnR5ID0gITAsIHRoaXMucGFyZW50LmNoaWxkcmVuLnJlbW92ZSh0aGlzKSwgdGhpcy5wYXJlbnQgPSB2b2lkIDAsIHRoaXMuZnJhbWUgPSB2b2lkIDAsIHRoaXMuZGF0YSA9IHZvaWQgMDtcbiAgICAgIH0sIHZpc2libGU6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2libGU7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLl92aXNpYmxlID0gdCwgdGhpcy5wYXJlbnQuZGlydHkgPSAhMDtcbiAgICAgICAgfSB9LCBhbHBoYTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYWxwaGE7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLl9hbHBoYSA9IHQsIHRoaXMucGFyZW50LmRpcnR5ID0gITA7XG4gICAgICAgIH0gfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3NyksXG4gICAgICAgIHIgPSBpKDUpLFxuICAgICAgICBzID0gaSg5KSxcbiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCwgZSkge1xuICAgICAgdmFyIGkgPSByKGUsIFwiZm9udFwiLCBcIlwiKSxcbiAgICAgICAgICBhID0gcihlLCBcInRleHRcIiwgXCJcIiksXG4gICAgICAgICAgbyA9IHIoZSwgXCJzaXplXCIsICExKSxcbiAgICAgICAgICBoID0gcihlLCBcImFsaWduXCIsIFwibGVmdFwiKSxcbiAgICAgICAgICB1ID0gbmV3IG4odCwgMCwgMCwgaSwgYSwgbywgaCk7cmV0dXJuIHModCwgdSwgZSksIHU7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgcmVuZGVyQ2FudmFzOiBpKDUyNSksIHJlbmRlcldlYkdMOiBpKDUyNikgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k5Niwgbikge1xuICAgICAgdmFyIHIgPSBlLnRleHQsXG4gICAgICAgICAgcyA9IHIubGVuZ3RoO2lmICghKGUucmVuZGVyTWFzayAhPT0gZS5yZW5kZXJGbGFncyB8fCAwID09PSBzIHx8IGUuY2FtZXJhRmlsdGVyID4gMCAmJiBlLmNhbWVyYUZpbHRlciAmIG4uX2lkKSkge1xuICAgICAgICB2YXIgYSA9IGUuZnJhbWUsXG4gICAgICAgICAgICBvID0gZS5kaXNwbGF5Q2FsbGJhY2ssXG4gICAgICAgICAgICBoID0gbi5zY3JvbGxYICogZS5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgdSA9IG4uc2Nyb2xsWSAqIGUuc2Nyb2xsRmFjdG9yWSxcbiAgICAgICAgICAgIGMgPSBlLmZvbnREYXRhLmNoYXJzLFxuICAgICAgICAgICAgbCA9IGUuZm9udERhdGEubGluZUhlaWdodCxcbiAgICAgICAgICAgIGYgPSAwLFxuICAgICAgICAgICAgZCA9IDAsXG4gICAgICAgICAgICBwID0gMCxcbiAgICAgICAgICAgIHYgPSAwLFxuICAgICAgICAgICAgZyA9IG51bGwsXG4gICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgIG0gPSAwLFxuICAgICAgICAgICAgeSA9IDAsXG4gICAgICAgICAgICB3ID0gMCxcbiAgICAgICAgICAgIEUgPSAwLFxuICAgICAgICAgICAgVCA9IDAsXG4gICAgICAgICAgICBiID0gbnVsbCxcbiAgICAgICAgICAgIF8gPSAwLFxuICAgICAgICAgICAgQSA9IHQuY3VycmVudENvbnRleHQsXG4gICAgICAgICAgICBTID0gZS5mcmFtZS5zb3VyY2UuaW1hZ2UsXG4gICAgICAgICAgICBSID0gYS5jdXRYLFxuICAgICAgICAgICAgTSA9IGEuY3V0WSxcbiAgICAgICAgICAgIE8gPSAwLFxuICAgICAgICAgICAgQyA9IGUuZm9udFNpemUgLyBlLmZvbnREYXRhLnNpemU7dC5jdXJyZW50QmxlbmRNb2RlICE9PSBlLmJsZW5kTW9kZSAmJiAodC5jdXJyZW50QmxlbmRNb2RlID0gZS5ibGVuZE1vZGUsIEEuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdC5ibGVuZE1vZGVzW2UuYmxlbmRNb2RlXSksIHQuY3VycmVudEFscGhhICE9PSBlLmFscGhhICYmICh0LmN1cnJlbnRBbHBoYSA9IGUuYWxwaGEsIEEuZ2xvYmFsQWxwaGEgPSBlLmFscGhhKSwgdC5jdXJyZW50U2NhbGVNb2RlICE9PSBlLnNjYWxlTW9kZSAmJiAodC5jdXJyZW50U2NhbGVNb2RlID0gZS5zY2FsZU1vZGUpLCBBLnNhdmUoKSwgQS50cmFuc2xhdGUoZS54LCBlLnkpLCBBLnJvdGF0ZShlLnJvdGF0aW9uKSwgQS5zY2FsZShlLnNjYWxlWCwgZS5zY2FsZVkpLCBlLmNyb3BXaWR0aCA+IDAgJiYgZS5jcm9wSGVpZ2h0ID4gMCAmJiAoQS5zYXZlKCksIEEuYmVnaW5QYXRoKCksIEEucmVjdCgwLCAwLCBlLmNyb3BXaWR0aCwgZS5jcm9wSGVpZ2h0KSwgQS5jbGlwKCksIEEuY2xvc2VQYXRoKCkpO2ZvciAodmFyIEwgPSAwOyBMIDwgczsgKytMKSB7XG4gICAgICAgICAgaWYgKEMgPSBlLmZvbnRTaXplIC8gZS5mb250RGF0YS5zaXplLCBPID0gMCwgMTAgIT09ICh2ID0gci5jaGFyQ29kZUF0KEwpKSkge1xuICAgICAgICAgICAgaWYgKGcgPSBjW3ZdKSB7XG4gICAgICAgICAgICAgIGlmICh4ID0gUiArIGcueCwgbSA9IE0gKyBnLnksIHkgPSBnLndpZHRoLCB3ID0gZy5oZWlnaHQsIEUgPSBwICsgZy54T2Zmc2V0ICsgZiAtIGUuc2Nyb2xsWCwgVCA9IGcueU9mZnNldCArIGQgLSBlLnNjcm9sbFksIG51bGwgIT09IGIpIHtcbiAgICAgICAgICAgICAgICB2YXIgRiA9IGcua2VybmluZ1tfXTtFICs9IHZvaWQgMCAhPT0gRiA/IEYgOiAwO1xuICAgICAgICAgICAgICB9aWYgKG8pIHtcbiAgICAgICAgICAgICAgICB2YXIgSSA9IG8oeyB0aW50OiB7IHRvcExlZnQ6IDAsIHRvcFJpZ2h0OiAwLCBib3R0b21MZWZ0OiAwLCBib3R0b21SaWdodDogMCB9LCBpbmRleDogTCwgY2hhckNvZGU6IHYsIHg6IEUsIHk6IFQsIHNjYWxlOiBDLCByb3RhdGlvbjogMCwgZGF0YTogZy5kYXRhIH0pO0UgPSBJLngsIFQgPSBJLnksIEMgPSBJLnNjYWxlLCBPID0gSS5yb3RhdGlvbjtcbiAgICAgICAgICAgICAgfUUgKj0gQywgVCAqPSBDLCBFIC09IGgsIFQgLT0gdSwgQS5zYXZlKCksIEEudHJhbnNsYXRlKEUsIFQpLCBBLnJvdGF0ZShPKSwgQS5zY2FsZShDLCBDKSwgQS5kcmF3SW1hZ2UoUywgeCwgbSwgeSwgdywgMCwgMCwgeSwgdyksIEEucmVzdG9yZSgpLCBmICs9IGcueEFkdmFuY2UsIHAgKz0gMSwgYiA9IGcsIF8gPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBmID0gMCwgcCA9IDAsIGQgKz0gbCwgYiA9IG51bGw7XG4gICAgICAgIH1lLmNyb3BXaWR0aCA+IDAgJiYgZS5jcm9wSGVpZ2h0ID4gMCAmJiBBLnJlc3RvcmUoKSwgQS5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNCksXG4gICAgICAgIHIgPSBuZXcgbigpLFxuICAgICAgICBzID0gbmV3IG4oKSxcbiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCwgZSwgaSwgbikge1xuICAgICAgdmFyIGEgPSBlLnRleHQsXG4gICAgICAgICAgbyA9IGEubGVuZ3RoO2lmICghKHRoaXMucmVuZGVyTWFzayAhPT0gdGhpcy5yZW5kZXJGbGFncyB8fCAwID09PSBvIHx8IHRoaXMuY2FtZXJhRmlsdGVyID4gMCAmJiB0aGlzLmNhbWVyYUZpbHRlciAmIG4uX2lkKSkge1xuICAgICAgICB2YXIgaCxcbiAgICAgICAgICAgIHUsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGYsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgcCxcbiAgICAgICAgICAgIHYsXG4gICAgICAgICAgICBnLFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIG0sXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgdyxcbiAgICAgICAgICAgIEUsXG4gICAgICAgICAgICBULFxuICAgICAgICAgICAgYixcbiAgICAgICAgICAgIF8sXG4gICAgICAgICAgICBBLFxuICAgICAgICAgICAgUyxcbiAgICAgICAgICAgIFIsXG4gICAgICAgICAgICBNLFxuICAgICAgICAgICAgTyxcbiAgICAgICAgICAgIEMsXG4gICAgICAgICAgICBMLFxuICAgICAgICAgICAgRixcbiAgICAgICAgICAgIEksXG4gICAgICAgICAgICBELFxuICAgICAgICAgICAgQixcbiAgICAgICAgICAgIFAsXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgTixcbiAgICAgICAgICAgIFgsXG4gICAgICAgICAgICBVID0gZS5kaXNwbGF5Q2FsbGJhY2ssXG4gICAgICAgICAgICBZID0gZS5mcmFtZSxcbiAgICAgICAgICAgIFYgPSBuLnNjcm9sbFggKiBlLnNjcm9sbEZhY3RvclgsXG4gICAgICAgICAgICB6ID0gbi5zY3JvbGxZICogZS5zY3JvbGxGYWN0b3JZLFxuICAgICAgICAgICAgYSA9IGUudGV4dCxcbiAgICAgICAgICAgIG8gPSBhLmxlbmd0aCxcbiAgICAgICAgICAgIEcgPSBlLmZvbnREYXRhLmNoYXJzLFxuICAgICAgICAgICAgSCA9IGUuZm9udERhdGEubGluZUhlaWdodCxcbiAgICAgICAgICAgIGogPSB0LnNwcml0ZUJhdGNoLFxuICAgICAgICAgICAgVyA9IGUuYWxwaGEsXG4gICAgICAgICAgICBxID0gZS5fdGludFRMLFxuICAgICAgICAgICAgSyA9IGUuX3RpbnRUUixcbiAgICAgICAgICAgIFogPSBlLl90aW50QkwsXG4gICAgICAgICAgICBKID0gZS5fdGludEJSLFxuICAgICAgICAgICAgUSA9IGoudmVydGV4RGF0YUJ1ZmZlcixcbiAgICAgICAgICAgICQgPSBRLmZsb2F0VmlldyxcbiAgICAgICAgICAgIHR0ID0gUS51aW50VmlldyxcbiAgICAgICAgICAgIGV0ID0gMCxcbiAgICAgICAgICAgIGl0ID0gZS50ZXh0dXJlLnNvdXJjZVtZLnNvdXJjZUluZGV4XSxcbiAgICAgICAgICAgIG50ID0gWS5jdXRYLFxuICAgICAgICAgICAgcnQgPSBZLmN1dFksXG4gICAgICAgICAgICBzdCA9IGl0LndpZHRoLFxuICAgICAgICAgICAgYXQgPSBpdC5oZWlnaHQsXG4gICAgICAgICAgICBvdCA9IGl0LmdsVGV4dHVyZSxcbiAgICAgICAgICAgIGh0ID0gMCxcbiAgICAgICAgICAgIHV0ID0gMCxcbiAgICAgICAgICAgIGN0ID0gMCxcbiAgICAgICAgICAgIGx0ID0gMCxcbiAgICAgICAgICAgIGZ0ID0gbnVsbCxcbiAgICAgICAgICAgIGR0ID0gMCxcbiAgICAgICAgICAgIHB0ID0gMCxcbiAgICAgICAgICAgIHZ0ID0gMCxcbiAgICAgICAgICAgIGd0ID0gMCxcbiAgICAgICAgICAgIHh0ID0gMCxcbiAgICAgICAgICAgIG10ID0gMCxcbiAgICAgICAgICAgIHl0ID0gMCxcbiAgICAgICAgICAgIHd0ID0gMCxcbiAgICAgICAgICAgIEV0ID0gMCxcbiAgICAgICAgICAgIFR0ID0gMCxcbiAgICAgICAgICAgIGJ0ID0gMCxcbiAgICAgICAgICAgIF90ID0gMCxcbiAgICAgICAgICAgIEF0ID0gMCxcbiAgICAgICAgICAgIFN0ID0gbnVsbCxcbiAgICAgICAgICAgIFJ0ID0gMCxcbiAgICAgICAgICAgIE10ID0gci5tYXRyaXgsXG4gICAgICAgICAgICBPdCA9IG4ubWF0cml4Lm1hdHJpeCxcbiAgICAgICAgICAgIEN0ID0gZS5mb250U2l6ZSAvIGUuZm9udERhdGEuc2l6ZSxcbiAgICAgICAgICAgIEx0ID0gcy5tYXRyaXgsXG4gICAgICAgICAgICBGdCA9IGUucmVuZGVyVGFyZ2V0O3IuYXBwbHlJVFJTKGUueCAtIFYsIGUueSAtIHosIC1lLnJvdGF0aW9uLCBlLnNjYWxlWCwgZS5zY2FsZVkpLCBUID0gTXRbMF0sIGIgPSBNdFsxXSwgXyA9IE10WzJdLCBBID0gTXRbM10sIFMgPSBNdFs0XSwgUiA9IE10WzVdLCBNID0gT3RbMF0sIE8gPSBPdFsxXSwgQyA9IE90WzJdLCBMID0gT3RbM10sIEYgPSBPdFs0XSwgSSA9IE90WzVdLCBoID0gVCAqIE0gKyBiICogQywgdSA9IFQgKiBPICsgYiAqIEwsIGMgPSBfICogTSArIEEgKiBDLCBsID0gXyAqIE8gKyBBICogTCwgZiA9IFMgKiBNICsgUiAqIEMgKyBGLCBkID0gUyAqIE8gKyBSICogTCArIEk7dmFyIEl0ID0gdC5nbDtpZiAoZS5jcm9wV2lkdGggPiAwICYmIGUuY3JvcEhlaWdodCA+IDApIHtcbiAgICAgICAgICBudWxsICE9PSB0LmN1cnJlbnRSZW5kZXJlciAmJiB0LmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpLCB0LnNjaXNzb3IuZW5hYmxlZCB8fCBJdC5lbmFibGUoSXQuU0NJU1NPUl9URVNUKTt2YXIgRHQgPSBlLmNyb3BXaWR0aCAqIGUuc2NhbGVYLFxuICAgICAgICAgICAgICBCdCA9IGUuY3JvcEhlaWdodCAqIGUuc2NhbGVZO0l0LnNjaXNzb3IoZS54LCBJdC5kcmF3aW5nQnVmZmVySGVpZ2h0IC0gZS55IC0gQnQsIER0LCBCdCk7XG4gICAgICAgIH1mb3IgKHZhciBQdCA9IDA7IFB0IDwgbzsgKytQdCkge1xuICAgICAgICAgIGlmICgxMCAhPT0gKGx0ID0gYS5jaGFyQ29kZUF0KFB0KSkpIHtcbiAgICAgICAgICAgIGlmIChmdCA9IEdbbHRdKSB7XG4gICAgICAgICAgICAgIGlmIChkdCA9IG50ICsgZnQueCwgcHQgPSBydCArIGZ0LnksIHZ0ID0gZnQud2lkdGgsIGd0ID0gZnQuaGVpZ2h0LCB4dCA9IChjdCArIGZ0LnhPZmZzZXQgKyBodCkgKiBDdCwgbXQgPSAoZnQueU9mZnNldCArIHV0KSAqIEN0LCB5dCA9IDAsIG51bGwgIT09IFN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGt0ID0gZnQua2VybmluZ1tSdF07eHQgKz0gdm9pZCAwICE9PSBrdCA/IGt0IDogMDtcbiAgICAgICAgICAgICAgfWlmIChVKSB7XG4gICAgICAgICAgICAgICAgdmFyIE50ID0gVSh7IGNvbG9yOiAwLCB0aW50OiB7IHRvcExlZnQ6IHEsIHRvcFJpZ2h0OiBLLCBib3R0b21MZWZ0OiBaLCBib3R0b21SaWdodDogSiB9LCBpbmRleDogUHQsIGNoYXJDb2RlOiBsdCwgeDogeHQsIHk6IG10LCBzY2FsZTogQ3QsIHJvdGF0aW9uOiAwLCBkYXRhOiBmdC5kYXRhIH0pO3h0ID0gTnQueCwgbXQgPSBOdC55LCBDdCA9IE50LnNjYWxlLCB5dCA9IE50LnJvdGF0aW9uLCBOdC5jb2xvciA/IChxID0gTnQuY29sb3IsIEsgPSBOdC5jb2xvciwgWiA9IE50LmNvbG9yLCBKID0gTnQuY29sb3IpIDogKHEgPSBOdC50aW50LnRvcExlZnQsIEsgPSBOdC50aW50LnRvcFJpZ2h0LCBaID0gTnQudGludC5ib3R0b21MZWZ0LCBKID0gTnQudGludC5ib3R0b21SaWdodCk7XG4gICAgICAgICAgICAgIH14dCAtPSAwIHwgZS5zY3JvbGxYLCBtdCAtPSAwIHwgZS5zY3JvbGxZLCBzLmFwcGx5SVRSUyh4dCwgbXQsIC15dCwgQ3QsIEN0KSwgRCA9IEx0WzBdLCBCID0gTHRbMV0sIFAgPSBMdFsyXSwgayA9IEx0WzNdLCBOID0gTHRbNF0sIFggPSBMdFs1XSwgVCA9IEQgKiBoICsgQiAqIGMsIGIgPSBEICogdSArIEIgKiBsLCBfID0gUCAqIGggKyBrICogYywgQSA9IFAgKiB1ICsgayAqIGwsIFMgPSBOICogaCArIFggKiBjICsgZiwgUiA9IE4gKiB1ICsgWCAqIGwgKyBkLCB3dCA9IHZ0LCBFdCA9IGd0LCBwID0gUywgdiA9IFIsIGcgPSBFdCAqIF8gKyBTLCB4ID0gRXQgKiBBICsgUiwgbSA9IHd0ICogVCArIEV0ICogXyArIFMsIHkgPSB3dCAqIGIgKyBFdCAqIEEgKyBSLCB3ID0gd3QgKiBUICsgUywgRSA9IHd0ICogYiArIFIsIFR0ID0gZHQgLyBzdCwgYnQgPSAoZHQgKyB2dCkgLyBzdCwgX3QgPSBwdCAvIGF0LCBBdCA9IChwdCArIGd0KSAvIGF0LCBqLmVsZW1lbnRDb3VudCA+PSBqLm1heFBhcnRpY2xlcyAmJiBqLmZsdXNoKCksIHQuc2V0UmVuZGVyZXIoaiwgb3QsIEZ0KSwgZXQgPSBRLmFsbG9jYXRlKDI0KSwgai5lbGVtZW50Q291bnQgKz0gNiwgJFtldCsrXSA9IHAsICRbZXQrK10gPSB2LCAkW2V0KytdID0gVHQsICRbZXQrK10gPSBfdCwgdHRbZXQrK10gPSBxLCAkW2V0KytdID0gVywgJFtldCsrXSA9IGcsICRbZXQrK10gPSB4LCAkW2V0KytdID0gVHQsICRbZXQrK10gPSBBdCwgdHRbZXQrK10gPSBaLCAkW2V0KytdID0gVywgJFtldCsrXSA9IG0sICRbZXQrK10gPSB5LCAkW2V0KytdID0gYnQsICRbZXQrK10gPSBBdCwgdHRbZXQrK10gPSBKLCAkW2V0KytdID0gVywgJFtldCsrXSA9IHcsICRbZXQrK10gPSBFLCAkW2V0KytdID0gYnQsICRbZXQrK10gPSBfdCwgdHRbZXQrK10gPSBLLCAkW2V0KytdID0gVywgaHQgKz0gZnQueEFkdmFuY2UsIGN0ICs9IDEsIFN0ID0gZnQsIFJ0ID0gbHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGh0ID0gMCwgY3QgPSAwLCB1dCArPSBILCBTdCA9IG51bGw7XG4gICAgICAgIH1lLmNyb3BXaWR0aCA+IDAgJiYgZS5jcm9wSGVpZ2h0ID4gMCAmJiAoai5mbHVzaCgpLCB0LnNjaXNzb3IuZW5hYmxlZCA/IEl0LnNjaXNzb3IodC5zY2lzc29yLngsIHQuc2Npc3Nvci55LCB0LnNjaXNzb3Iud2lkdGgsIHQuc2Npc3Nvci5oZWlnaHQpIDogKEl0LnNjaXNzb3Iobi54LCBJdC5kcmF3aW5nQnVmZmVySGVpZ2h0IC0gbi55IC0gbi5oZWlnaHQsIG4ud2lkdGgsIG4uaGVpZ2h0KSwgSXQuZGlzYWJsZShJdC5TQ0lTU09SX1RFU1QpKSk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3OCksXG4gICAgICAgIHIgPSBpKDIpLFxuICAgICAgICBzID0gaSg5KSxcbiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCwgZSkge1xuICAgICAgdmFyIGkgPSByKGUsIFwibWFwLmRhdGFcIiwgbnVsbCksXG4gICAgICAgICAgYSA9IHIoZSwgXCJtYXAud2lkdGhcIiwgMSksXG4gICAgICAgICAgbyA9IHIoZSwgXCJtYXAuaGVpZ2h0XCIsIDEpLFxuICAgICAgICAgIGggPSByKGUsIFwieFwiLCAwKSxcbiAgICAgICAgICB1ID0gcihlLCBcInlcIiwgMCksXG4gICAgICAgICAgYyA9IHIoZSwgXCJ0aWxlLndpZHRoXCIsIDE2KSxcbiAgICAgICAgICBsID0gcihlLCBcInRpbGUuaGVpZ2h0XCIsIDE2KSxcbiAgICAgICAgICBmID0gcihlLCBcInRpbGUudGV4dHVyZVwiLCBudWxsKSxcbiAgICAgICAgICBkID0gcihlLCBcInRpbGUuZnJhbWVcIiwgbnVsbCksXG4gICAgICAgICAgcCA9IHIoZSwgXCJ0aWxlLmJvcmRlclwiLCAwKSxcbiAgICAgICAgICB2ID0gbmV3IG4odCwgaSwgaCwgdSwgYywgbCwgYSwgbywgcCwgZiwgZCk7cmV0dXJuIHModCwgdiwgZSksIHY7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgcmVuZGVyQ2FudmFzOiBpKDUyOSksIHJlbmRlcldlYkdMOiBpKDUzMCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2k5Nywgbikge1xuICAgICAgaWYgKCEoZS5yZW5kZXJNYXNrICE9PSBlLnJlbmRlckZsYWdzIHx8IGUuY2FtZXJhRmlsdGVyID4gMCAmJiBlLmNhbWVyYUZpbHRlciAmIG4uX2lkKSkge1xuICAgICAgICB0aGlzLmN1bGwobik7dmFyIHIgPSBlLmN1bGxlZFRpbGVzLFxuICAgICAgICAgICAgcyA9IHIubGVuZ3RoLFxuICAgICAgICAgICAgYSA9IGUuZnJhbWUuc291cmNlLmltYWdlLFxuICAgICAgICAgICAgbyA9IChlLnNjcm9sbEZhY3RvclgsIGUuc2Nyb2xsRmFjdG9yWSwgZS5hbHBoYSwgZS54IC0gbi5zY3JvbGxYICogZS5zY3JvbGxGYWN0b3JYKSxcbiAgICAgICAgICAgIGggPSBlLnkgLSBuLnNjcm9sbFkgKiBlLnNjcm9sbEZhY3RvclksXG4gICAgICAgICAgICB1ID0gdC5nYW1lQ29udGV4dDt1LnNhdmUoKSwgdS50cmFuc2xhdGUobywgaCksIHUucm90YXRlKGUucm90YXRpb24pLCB1LnNjYWxlKGUuc2NhbGVYLCBlLnNjYWxlWSksIHUuc2NhbGUoZS5mbGlwWCA/IC0xIDogMSwgZS5mbGlwWSA/IC0xIDogMSk7Zm9yICh2YXIgYyA9IDA7IGMgPCBzOyArK2MpIHtcbiAgICAgICAgICB2YXIgbCA9IHJbY107dS5kcmF3SW1hZ2UoYSwgbC5mcmFtZVgsIGwuZnJhbWVZLCBsLmZyYW1lV2lkdGgsIGwuZnJhbWVIZWlnaHQsIGwueCwgbC55LCBsLmZyYW1lV2lkdGgsIGwuZnJhbWVIZWlnaHQpO1xuICAgICAgICB9dS5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTk4LCBuKSB7XG4gICAgICBpZiAoISh0aGlzLnJlbmRlck1hc2sgIT09IHRoaXMucmVuZGVyRmxhZ3MgfHwgdGhpcy5jYW1lcmFGaWx0ZXIgPiAwICYmIHRoaXMuY2FtZXJhRmlsdGVyICYgbi5faWQpKSB7XG4gICAgICAgIHRoaXMuY3VsbChuKTtmb3IgKHZhciByID0gZS5jdWxsZWRUaWxlcywgcyA9IHIubGVuZ3RoLCBhID0gdC5zcHJpdGVCYXRjaCwgbyA9IGUudGV4dHVyZS5zb3VyY2VbMF0uZ2xUZXh0dXJlLCBoID0gby53aWR0aCwgdSA9IG8uaGVpZ2h0LCBjID0gZS5yZW5kZXJUYXJnZXQsIGwgPSBlLnNjcm9sbEZhY3RvclgsIGYgPSBlLnNjcm9sbEZhY3RvclksIGQgPSBlLmFscGhhLCBwID0gZS54LCB2ID0gZS55LCBnID0gMDsgZyA8IHM7ICsrZykge1xuICAgICAgICAgIHZhciB4ID0gcltnXTthLmFkZFRpbGVUZXh0dXJlUmVjdChvLCBwICsgeC54LCB2ICsgeC55LCB4LndpZHRoLCB4LmhlaWdodCwgZCAqIHguYWxwaGEsIHgudGludCwgbCwgZiwgaCwgdSwgeC5mcmFtZVgsIHguZnJhbWVZLCB4LmZyYW1lV2lkdGgsIHguZnJhbWVIZWlnaHQsIG4sIGMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCkge1xuICAgICAgdGhpcy5pbmRleCA9IHQuaW5kZXgsIHRoaXMuaWQgPSB0LmlkLCB0aGlzLnggPSB0LngsIHRoaXMueSA9IHQueSwgdGhpcy53aWR0aCA9IHQud2lkdGgsIHRoaXMuaGVpZ2h0ID0gdC5oZWlnaHQsIHRoaXMuZnJhbWVYID0gdC5mcmFtZVgsIHRoaXMuZnJhbWVZID0gdC5mcmFtZVksIHRoaXMuZnJhbWVXaWR0aCA9IHQuZnJhbWVXaWR0aCwgdGhpcy5mcmFtZUhlaWdodCA9IHQuZnJhbWVIZWlnaHQsIHRoaXMuYWxwaGEgPSAxLCB0aGlzLnRpbnQgPSAxNjc3NzIxNSwgdGhpcy52aXNpYmxlID0gITAsIHRoaXMudGV4dHVyZVdpZHRoID0gdC50ZXh0dXJlV2lkdGgsIHRoaXMudGV4dHVyZUhlaWdodCA9IHQudGV4dHVyZUhlaWdodCwgdGhpcy5ib3JkZXIgPSB0LmJvcmRlciwgdGhpcy5jZW50ZXIgPSB0LmNlbnRlcjtcbiAgICB9aS5wcm90b3R5cGUuc2V0SWQgPSBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIGUgPSB0aGlzLmlkID0gdCxcbiAgICAgICAgICBpID0gdGhpcy53aWR0aCxcbiAgICAgICAgICBuID0gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgciA9IHRoaXMudGV4dHVyZVdpZHRoIC8gaSxcbiAgICAgICAgICBzID0gaSArIDIgKiB0aGlzLmJvcmRlcixcbiAgICAgICAgICBhID0gbiArIDIgKiB0aGlzLmJvcmRlcixcbiAgICAgICAgICBvID0gLjUgKiBzLFxuICAgICAgICAgIGggPSAuNSAqIGE7dGhpcy5jZW50ZXIgfHwgKG8gPSAwLCBoID0gMCk7dmFyIHUgPSAoZSAlIHIgfCAwKSAqIHMgKyBvLFxuICAgICAgICAgIGMgPSAoZSAvIHIgfCAwKSAqIGEgKyBoO3RoaXMuZnJhbWVYID0gdSwgdGhpcy5mcmFtZVkgPSBjO1xuICAgIH0sIHQuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDc5KSxcbiAgICAgICAgciA9IGkoNSksXG4gICAgICAgIHMgPSBpKDkpLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IHIoZSwgXCJ4XCIsIDApLFxuICAgICAgICAgIGEgPSByKGUsIFwieVwiLCAwKSxcbiAgICAgICAgICBvID0gcihlLCBcIndpZHRoXCIsIDUxMiksXG4gICAgICAgICAgaCA9IHIoZSwgXCJoZWlnaHRcIiwgNTEyKSxcbiAgICAgICAgICB1ID0gKHIoZSwgXCJrZXlcIiwgbnVsbCksIHIoZSwgXCJmcmFnbWVudFNoYWRlclwiLCBcIlwiKSksXG4gICAgICAgICAgYyA9IG5ldyBuKHQsIGksIGEsIG8sIGgsIGVmZmVjdE5hbWUsIHUpO3JldHVybiBzKHQsIGMsIGUpLCBjO1xuICAgIH07dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IHJlbmRlckNhbnZhczogaSg1MzQpLCByZW5kZXJXZWJHTDogaSg1MzUpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pOTksIG4pIHt9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTAwLCBuKSB7XG4gICAgICBlLnJlbmRlck1hc2sgIT09IGUucmVuZGVyRmxhZ3MgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgbi5faWQgfHwgdC5lZmZlY3RSZW5kZXJlci5yZW5kZXJFZmZlY3QoZSwgbiwgZS5yZW5kZXJUZXh0dXJlLCBlLndpZHRoLCBlLmhlaWdodCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4MCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiBuZXcgbih0LCBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyByZW5kZXJDYW52YXM6IGkoNTM4KSwgcmVuZGVyV2ViR0w6IGkoNTM5KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4MSksXG4gICAgICAgIHIgPSAoaSgxMCksIGZ1bmN0aW9uICh0LCBlLCBpLCByLCBzKSB7XG4gICAgICBpZiAoIShlLnJlbmRlck1hc2sgIT09IGUucmVuZGVyRmxhZ3MgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgci5faWQpKSB7XG4gICAgICAgIHZhciBhID0gci5zY3JvbGxYICogZS5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgbyA9IHIuc2Nyb2xsWSAqIGUuc2Nyb2xsRmFjdG9yWSxcbiAgICAgICAgICAgIGggPSBlLngsXG4gICAgICAgICAgICB1ID0gZS55LFxuICAgICAgICAgICAgYyA9IGUuc2NhbGVYLFxuICAgICAgICAgICAgbCA9IGUuc2NhbGVZLFxuICAgICAgICAgICAgZiA9IGUucm90YXRpb24sXG4gICAgICAgICAgICBkID0gZS5jb21tYW5kQnVmZmVyLFxuICAgICAgICAgICAgcCA9IHMgfHwgdC5jdXJyZW50Q29udGV4dCxcbiAgICAgICAgICAgIHYgPSAxLFxuICAgICAgICAgICAgZyA9IDEsXG4gICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgIG0gPSAwLFxuICAgICAgICAgICAgeSA9IDEsXG4gICAgICAgICAgICB3ID0gMCxcbiAgICAgICAgICAgIEUgPSAwLFxuICAgICAgICAgICAgVCA9IDA7dC5jdXJyZW50QmxlbmRNb2RlICE9PSBlLmJsZW5kTW9kZSAmJiAodC5jdXJyZW50QmxlbmRNb2RlID0gZS5ibGVuZE1vZGUsIHAuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdC5ibGVuZE1vZGVzW2UuYmxlbmRNb2RlXSksIHQuY3VycmVudEFscGhhICE9PSBlLmFscGhhICYmICh0LmN1cnJlbnRBbHBoYSA9IGUuYWxwaGEsIHAuZ2xvYmFsQWxwaGEgPSBlLmFscGhhKSwgdC5jdXJyZW50U2NhbGVNb2RlICE9PSBlLnNjYWxlTW9kZSAmJiAodC5jdXJyZW50U2NhbGVNb2RlID0gZS5zY2FsZU1vZGUpLCBwLnNhdmUoKSwgcC50cmFuc2xhdGUoaCAtIGEsIHUgLSBvKSwgcC5yb3RhdGUoZiksIHAuc2NhbGUoYywgbCksIHAuZmlsbFN0eWxlID0gXCIjZmZmXCIsIHAuZ2xvYmFsQWxwaGEgPSBlLmFscGhhO2ZvciAodmFyIGIgPSAwLCBfID0gZC5sZW5ndGg7IGIgPCBfOyArK2IpIHtcbiAgICAgICAgICB2YXIgQSA9IGRbYl07c3dpdGNoIChBKSB7Y2FzZSBuLkFSQzpcbiAgICAgICAgICAgICAgcC5hcmMoZFtiICsgMV0sIGRbYiArIDJdLCBkW2IgKyAzXSwgZFtiICsgNF0sIGRbYiArIDVdLCBkW2IgKyA2XSksIGIgKz0gNjticmVhaztjYXNlIG4uTElORV9TVFlMRTpcbiAgICAgICAgICAgICAgeSA9IGRbYiArIDFdLCB4ID0gZFtiICsgMl0sIHYgPSBkW2IgKyAzXSwgdyA9ICgxNjcxMTY4MCAmIHgpID4+PiAxNiwgRSA9ICg2NTI4MCAmIHgpID4+PiA4LCBUID0gMjU1ICYgeCwgcC5zdHJva2VTdHlsZSA9IFwicmdiYShcIiArIHcgKyBcIixcIiArIEUgKyBcIixcIiArIFQgKyBcIixcIiArIHYgKyBcIilcIiwgcC5saW5lV2lkdGggPSB5LCBiICs9IDM7YnJlYWs7Y2FzZSBuLkZJTExfU1RZTEU6XG4gICAgICAgICAgICAgIG0gPSBkW2IgKyAxXSwgZyA9IGRbYiArIDJdLCB3ID0gKDE2NzExNjgwICYgbSkgPj4+IDE2LCBFID0gKDY1MjgwICYgbSkgPj4+IDgsIFQgPSAyNTUgJiBtLCBwLmZpbGxTdHlsZSA9IFwicmdiYShcIiArIHcgKyBcIixcIiArIEUgKyBcIixcIiArIFQgKyBcIixcIiArIGcgKyBcIilcIiwgYiArPSAyO2JyZWFrO2Nhc2Ugbi5CRUdJTl9QQVRIOlxuICAgICAgICAgICAgICBwLmJlZ2luUGF0aCgpO2JyZWFrO2Nhc2Ugbi5DTE9TRV9QQVRIOlxuICAgICAgICAgICAgICBwLmNsb3NlUGF0aCgpO2JyZWFrO2Nhc2Ugbi5GSUxMX1BBVEg6XG4gICAgICAgICAgICAgIHAuZmlsbCgpO2JyZWFrO2Nhc2Ugbi5TVFJPS0VfUEFUSDpcbiAgICAgICAgICAgICAgcC5zdHJva2UoKTticmVhaztjYXNlIG4uRklMTF9SRUNUOlxuICAgICAgICAgICAgICBwLmZpbGxSZWN0KGRbYiArIDFdLCBkW2IgKyAyXSwgZFtiICsgM10sIGRbYiArIDRdKSwgYiArPSA0O2JyZWFrO2Nhc2Ugbi5GSUxMX1RSSUFOR0xFOlxuICAgICAgICAgICAgICBwLmJlZ2luUGF0aCgpLCBwLm1vdmVUbyhkW2IgKyAxXSwgZFtiICsgMl0pLCBwLmxpbmVUbyhkW2IgKyAzXSwgZFtiICsgNF0pLCBwLmxpbmVUbyhkW2IgKyA1XSwgZFtiICsgNl0pLCBwLmxpbmVUbyhkW2IgKyAxXSwgZFtiICsgMl0pLCBwLmNsb3NlUGF0aCgpLCBwLmZpbGwoKSwgYiArPSA2O2JyZWFrO2Nhc2Ugbi5TVFJPS0VfVFJJQU5HTEU6XG4gICAgICAgICAgICAgIHAuYmVnaW5QYXRoKCksIHAubW92ZVRvKGRbYiArIDFdLCBkW2IgKyAyXSksIHAubGluZVRvKGRbYiArIDNdLCBkW2IgKyA0XSksIHAubGluZVRvKGRbYiArIDVdLCBkW2IgKyA2XSksIHAubGluZVRvKGRbYiArIDFdLCBkW2IgKyAyXSksIHAuY2xvc2VQYXRoKCksIHAuc3Ryb2tlKCksIGIgKz0gNjticmVhaztjYXNlIG4uTElORV9UTzpcbiAgICAgICAgICAgICAgcC5saW5lVG8oZFtiICsgMV0sIGRbYiArIDJdKSwgYiArPSAyO2JyZWFrO2Nhc2Ugbi5NT1ZFX1RPOlxuICAgICAgICAgICAgICBwLm1vdmVUbyhkW2IgKyAxXSwgZFtiICsgMl0pLCBiICs9IDI7YnJlYWs7Y2FzZSBuLkxJTkVfRlhfVE86XG4gICAgICAgICAgICAgIHAubGluZVRvKGRbYiArIDFdLCBkW2IgKyAyXSksIGIgKz0gNTticmVhaztjYXNlIG4uTU9WRV9GWF9UTzpcbiAgICAgICAgICAgICAgcC5tb3ZlVG8oZFtiICsgMV0sIGRbYiArIDJdKSwgYiArPSA1O2JyZWFrO2Nhc2Ugbi5TQVZFOlxuICAgICAgICAgICAgICBwLnNhdmUoKTticmVhaztjYXNlIG4uUkVTVE9SRTpcbiAgICAgICAgICAgICAgcC5yZXN0b3JlKCk7YnJlYWs7Y2FzZSBuLlRSQU5TTEFURTpcbiAgICAgICAgICAgICAgcC50cmFuc2xhdGUoZFtiICsgMV0sIGRbYiArIDJdKSwgYiArPSAyO2JyZWFrO2Nhc2Ugbi5TQ0FMRTpcbiAgICAgICAgICAgICAgcC5zY2FsZShkW2IgKyAxXSwgZFtiICsgMl0pLCBiICs9IDI7YnJlYWs7Y2FzZSBuLlJPVEFURTpcbiAgICAgICAgICAgICAgcC5yb3RhdGUoZFtiICsgMV0pLCBiICs9IDE7YnJlYWs7ZGVmYXVsdDpcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBoYXNlcjogSW52YWxpZCBHcmFwaGljcyBDb21tYW5kIElEIFwiICsgQSk7fVxuICAgICAgICB9cC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfSk7dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoODEpLFxuICAgICAgICByID0gaSgxNCksXG4gICAgICAgIHMgPSBbXSxcbiAgICAgICAgYSA9IE1hdGguY29zLFxuICAgICAgICBvID0gTWF0aC5zaW4sXG4gICAgICAgIGggPSAoTWF0aC5zcXJ0LCBuZXcgcigpKSxcbiAgICAgICAgdSA9IG5ldyBGbG9hdDMyQXJyYXkoNmUzKSxcbiAgICAgICAgYyA9IDAsXG4gICAgICAgIGwgPSBuZXcgcigpLFxuICAgICAgICBmID0gZnVuY3Rpb24gZih0LCBlLCBpLCBuLCByKSB7XG4gICAgICB0aGlzLnggPSB0LCB0aGlzLnkgPSBlLCB0aGlzLndpZHRoID0gaSwgdGhpcy5yZ2IgPSBuLCB0aGlzLmFscGhhID0gcjtcbiAgICB9LFxuICAgICAgICBkID0gZnVuY3Rpb24gZCh0LCBlLCBpLCBuLCByKSB7XG4gICAgICB0aGlzLnBvaW50cyA9IFtdLCB0aGlzLnBvaW50c0xlbmd0aCA9IDEsIHRoaXMucG9pbnRzWzBdID0gbmV3IGYodCwgZSwgaSwgbiwgcik7XG4gICAgfSxcbiAgICAgICAgcCA9IGZ1bmN0aW9uIHAodCwgZSwgaSwgciwgX3ApIHtcbiAgICAgIGlmICghKHRoaXMucmVuZGVyTWFzayAhPT0gdGhpcy5yZW5kZXJGbGFncyB8fCB0aGlzLmNhbWVyYUZpbHRlciA+IDAgJiYgdGhpcy5jYW1lcmFGaWx0ZXIgJiByLl9pZCkpIHtcbiAgICAgICAgdmFyIHYgPSBfcCB8fCBlLnJlbmRlclRhcmdldCxcbiAgICAgICAgICAgIGcgPSB0LnNoYXBlQmF0Y2gsXG4gICAgICAgICAgICB4ID0gZy52ZXJ0ZXhEYXRhQnVmZmVyLFxuICAgICAgICAgICAgbSA9ICh4LmZsb2F0VmlldywgeC51aW50Vmlldywgci5zY3JvbGxYICogZS5zY3JvbGxGYWN0b3JYKSxcbiAgICAgICAgICAgIHkgPSByLnNjcm9sbFkgKiBlLnNjcm9sbEZhY3Rvclk7dmFyIHcgPSBlLnggLSBtLFxuICAgICAgICAgICAgRSA9IGUueSAtIHksXG4gICAgICAgICAgICBUID0gZS5zY2FsZVgsXG4gICAgICAgICAgICBiID0gZS5zY2FsZVksXG4gICAgICAgICAgICBfID0gLWUucm90YXRpb247dmFyIEEsXG4gICAgICAgICAgICBTLFxuICAgICAgICAgICAgUixcbiAgICAgICAgICAgIE0sXG4gICAgICAgICAgICBPLFxuICAgICAgICAgICAgQyxcbiAgICAgICAgICAgIEwsXG4gICAgICAgICAgICBGLFxuICAgICAgICAgICAgSSxcbiAgICAgICAgICAgIEQsXG4gICAgICAgICAgICBCLFxuICAgICAgICAgICAgUCxcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICBOLFxuICAgICAgICAgICAgWCxcbiAgICAgICAgICAgIFUsXG4gICAgICAgICAgICBZLFxuICAgICAgICAgICAgVixcbiAgICAgICAgICAgIHosXG4gICAgICAgICAgICBHLFxuICAgICAgICAgICAgSCxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBXLFxuICAgICAgICAgICAgcSxcbiAgICAgICAgICAgIEsgPSBlLmNvbW1hbmRCdWZmZXIsXG4gICAgICAgICAgICBaID0gMSxcbiAgICAgICAgICAgIEogPSAxLFxuICAgICAgICAgICAgUSA9IDAsXG4gICAgICAgICAgICAkID0gMCxcbiAgICAgICAgICAgIHR0ID0gMSxcbiAgICAgICAgICAgIGV0ID0gci5tYXRyaXgubWF0cml4LFxuICAgICAgICAgICAgaXQgPSBudWxsLFxuICAgICAgICAgICAgbnQgPSAwLFxuICAgICAgICAgICAgcnQgPSAwLFxuICAgICAgICAgICAgc3QgPSAwLFxuICAgICAgICAgICAgYXQgPSAwLFxuICAgICAgICAgICAgb3QgPSAoZy52ZXJ0ZXhDb3VudCwgZy5tYXhWZXJ0aWNlcywgaC5tYXRyaXgpO2guYXBwbHlJVFJTKHcsIEUsIF8sIFQsIGIpLCBMID0gb3RbMF0sIEYgPSBvdFsxXSwgSSA9IG90WzJdLCBEID0gb3RbM10sIEIgPSBvdFs0XSwgUCA9IG90WzVdLCBrID0gZXRbMF0sIE4gPSBldFsxXSwgWCA9IGV0WzJdLCBVID0gZXRbM10sIFkgPSBldFs0XSwgViA9IGV0WzVdLCB6ID0gTCAqIGsgKyBGICogWCwgRyA9IEwgKiBOICsgRiAqIFUsIEggPSBJICogayArIEQgKiBYLCBqID0gSSAqIE4gKyBEICogVSwgVyA9IEIgKiBrICsgUCAqIFggKyBZLCBxID0gQiAqIE4gKyBQICogVSArIFYsIHQuc2V0UmVuZGVyZXIoZywgbnVsbCwgdik7Zm9yICh2YXIgaHQgPSAwLCB1dCA9IEsubGVuZ3RoOyBodCA8IHV0OyArK2h0KSB7XG4gICAgICAgICAgdmFyIFUgPSBLW2h0XTtzd2l0Y2ggKFUpIHtjYXNlIG4uQVJDOlxuICAgICAgICAgICAgICBmb3IgKG50ID0gMCwgQSA9IEtbaHQgKyAxXSwgUyA9IEtbaHQgKyAyXSwgUiA9IEtbaHQgKyAzXSwgTSA9IEtbaHQgKyA0XSwgTyA9IEtbaHQgKyA1XSwgS1todCArIDZdOyBudCA8IDE7KSB7XG4gICAgICAgICAgICAgICAgYXQgPSAoTyAtIE0pICogbnQgKyBNLCBydCA9IEEgKyBhKGF0KSAqIFIsIHN0ID0gUyArIG8oYXQpICogUiwgMCA9PT0gbnQgPyAoaXQgPSBuZXcgZChydCwgc3QsIHR0LCBRLCBaKSwgcy5wdXNoKGl0KSkgOiBpdC5wb2ludHMucHVzaChuZXcgZihydCwgc3QsIHR0LCBRLCBaKSksIG50ICs9IC4wMTtcbiAgICAgICAgICAgICAgfWh0ICs9IDY7YnJlYWs7Y2FzZSBuLkxJTkVfU1RZTEU6XG4gICAgICAgICAgICAgIHR0ID0gS1todCArIDFdLCBRID0gS1todCArIDJdLCBaID0gS1todCArIDNdLCBodCArPSAzO2JyZWFrO2Nhc2Ugbi5GSUxMX1NUWUxFOlxuICAgICAgICAgICAgICAkID0gS1todCArIDFdLCBKID0gS1todCArIDJdLCBodCArPSAyO2JyZWFrO2Nhc2Ugbi5CRUdJTl9QQVRIOlxuICAgICAgICAgICAgICBzLmxlbmd0aCA9IDA7YnJlYWs7Y2FzZSBuLkNMT1NFX1BBVEg6XG4gICAgICAgICAgICAgIGlmIChudWxsICE9PSBpdCAmJiBpdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBjdCA9IGl0LnBvaW50c1swXSxcbiAgICAgICAgICAgICAgICAgICAgbHQgPSBpdC5wb2ludHNbaXQucG9pbnRzLmxlbmd0aCAtIDFdO2l0LnBvaW50cy5wdXNoKGN0KSwgaXQgPSBuZXcgZChsdC54LCBsdC55LCBsdC53aWR0aCwgbHQucmdiLCBsdC5hbHBoYSksIHMucHVzaChpdCk7XG4gICAgICAgICAgICAgIH1icmVhaztjYXNlIG4uRklMTF9QQVRIOlxuICAgICAgICAgICAgICBmb3IgKHZhciBmdCA9IDAsIGR0ID0gcy5sZW5ndGg7IGZ0IDwgZHQ7ICsrZnQpIHtcbiAgICAgICAgICAgICAgICBnLmFkZEZpbGxQYXRoKHcsIEUsIFQsIGIsIF8sIHNbZnRdLnBvaW50cywgJCwgSiwgeiwgRywgSCwgaiwgVywgcSwgbCk7XG4gICAgICAgICAgICAgIH1icmVhaztjYXNlIG4uU1RST0tFX1BBVEg6XG4gICAgICAgICAgICAgIGZvciAodmFyIGZ0ID0gMCwgZHQgPSBzLmxlbmd0aDsgZnQgPCBkdDsgKytmdCkge1xuICAgICAgICAgICAgICAgIHZhciBDID0gc1tmdF07Zy5hZGRTdHJva2VQYXRoKHcsIEUsIFQsIGIsIF8sIEMucG9pbnRzLCB0dCwgUSwgWiwgeiwgRywgSCwgaiwgVywgcSwgQyA9PT0gdGhpcy5fbGFzdFBhdGgsIGwpO1xuICAgICAgICAgICAgICB9YnJlYWs7Y2FzZSBuLkZJTExfUkVDVDpcbiAgICAgICAgICAgICAgZy5hZGRGaWxsUmVjdCh3LCBFLCBULCBiLCBfLCBLW2h0ICsgMV0gLSBtLCBLW2h0ICsgMl0gLSB5LCBLW2h0ICsgM10sIEtbaHQgKyA0XSwgJCwgSiwgeiwgRywgSCwgaiwgVywgcSwgbCksIGh0ICs9IDQ7YnJlYWs7Y2FzZSBuLkZJTExfVFJJQU5HTEU6XG4gICAgICAgICAgICAgIGcuYWRkRmlsbFRyaWFuZ2xlKHcsIEUsIFQsIGIsIF8sIEtbaHQgKyAxXSAtIG0sIEtbaHQgKyAyXSAtIHksIEtbaHQgKyAzXSAtIG0sIEtbaHQgKyA0XSAtIHksIEtbaHQgKyA1XSAtIG0sIEtbaHQgKyA2XSAtIHksICQsIEosIHosIEcsIEgsIGosIFcsIHEsIGwpLCBodCArPSA2O2JyZWFrO2Nhc2Ugbi5TVFJPS0VfVFJJQU5HTEU6XG4gICAgICAgICAgICAgIGcuYWRkU3Ryb2tlVHJpYW5nbGUodywgRSwgVCwgYiwgXywgS1todCArIDFdIC0gbSwgS1todCArIDJdIC0geSwgS1todCArIDNdIC0gbSwgS1todCArIDRdIC0geSwgS1todCArIDVdIC0gbSwgS1todCArIDZdIC0geSwgdHQsIFEsIFosIHosIEcsIEgsIGosIFcsIHEsIGwpLCBodCArPSA2O2JyZWFrO2Nhc2Ugbi5MSU5FX1RPOlxuICAgICAgICAgICAgICBudWxsICE9PSBpdCA/IGl0LnBvaW50cy5wdXNoKG5ldyBmKEtbaHQgKyAxXSwgS1todCArIDJdLCB0dCwgUSwgWikpIDogKGl0ID0gbmV3IGQoS1todCArIDFdLCBLW2h0ICsgMl0sIHR0LCBRLCBaKSwgcy5wdXNoKGl0KSksIGh0ICs9IDI7YnJlYWs7Y2FzZSBuLk1PVkVfVE86XG4gICAgICAgICAgICAgIGl0ID0gbmV3IGQoS1todCArIDFdLCBLW2h0ICsgMl0sIHR0LCBRLCBaKSwgcy5wdXNoKGl0KSwgaHQgKz0gMjticmVhaztjYXNlIG4uTElORV9GWF9UTzpcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaXQgPyBpdC5wb2ludHMucHVzaChuZXcgZihLW2h0ICsgMV0sIEtbaHQgKyAyXSwgS1todCArIDNdLCBLW2h0ICsgNF0sIEtbaHQgKyA1XSkpIDogKGl0ID0gbmV3IGQoS1todCArIDFdLCBLW2h0ICsgMl0sIEtbaHQgKyAzXSwgS1todCArIDRdLCBLW2h0ICsgNV0pLCBzLnB1c2goaXQpKSwgaHQgKz0gNTticmVhaztjYXNlIG4uTU9WRV9GWF9UTzpcbiAgICAgICAgICAgICAgaXQgPSBuZXcgZChLW2h0ICsgMV0sIEtbaHQgKyAyXSwgS1todCArIDNdLCBLW2h0ICsgNF0sIEtbaHQgKyA1XSksIHMucHVzaChpdCksIGh0ICs9IDU7YnJlYWs7Y2FzZSBuLlNBVkU6XG4gICAgICAgICAgICAgIHVbYyArIDBdID0gbC5tYXRyaXhbMF0sIHVbYyArIDFdID0gbC5tYXRyaXhbMV0sIHVbYyArIDJdID0gbC5tYXRyaXhbMl0sIHVbYyArIDNdID0gbC5tYXRyaXhbM10sIHVbYyArIDRdID0gbC5tYXRyaXhbNF0sIHVbYyArIDVdID0gbC5tYXRyaXhbNV0sIGMgKz0gNjticmVhaztjYXNlIG4uUkVTVE9SRTpcbiAgICAgICAgICAgICAgYyAtPSA2LCBsLm1hdHJpeFswXSA9IHVbYyArIDBdLCBsLm1hdHJpeFsxXSA9IHVbYyArIDFdLCBsLm1hdHJpeFsyXSA9IHVbYyArIDJdLCBsLm1hdHJpeFszXSA9IHVbYyArIDNdLCBsLm1hdHJpeFs0XSA9IHVbYyArIDRdLCBsLm1hdHJpeFs1XSA9IHVbYyArIDVdO2JyZWFrO2Nhc2Ugbi5UUkFOU0xBVEU6XG4gICAgICAgICAgICAgIGwudHJhbnNsYXRlKEtbaHQgKyAxXSwgS1todCArIDJdKSwgaHQgKz0gMjticmVhaztjYXNlIG4uU0NBTEU6XG4gICAgICAgICAgICAgIGwuc2NhbGUoS1todCArIDFdLCBLW2h0ICsgMl0pLCBodCArPSAyO2JyZWFrO2Nhc2Ugbi5ST1RBVEU6XG4gICAgICAgICAgICAgIGwucm90YXRlKC1LW2h0ICsgMV0pLCBodCArPSAxO2JyZWFrO2RlZmF1bHQ6XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQaGFzZXI6IEludmFsaWQgR3JhcGhpY3MgQ29tbWFuZCBJRCBcIiArIFUpO31cbiAgICAgICAgfWwubG9hZElkZW50aXR5KCksIHMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IHA7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDgyKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgcmV0dXJuIG5ldyBuKHQsIG51bGwsIGUpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IHJlbmRlckNhbnZhczogaSg1NDIpLCByZW5kZXJXZWJHTDogaSg1NDMpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTAxLCBuKSB7XG4gICAgICBlLnJlbmRlck1hc2sgIT09IGUucmVuZGVyRmxhZ3MgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgbi5faWQgfHwgdC5kcmF3SW1hZ2UoZSwgbik7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEwMiwgbikge1xuICAgICAgZS5yZW5kZXJNYXNrICE9PSBlLnJlbmRlckZsYWdzIHx8IGUuY2FtZXJhRmlsdGVyID4gMCAmJiBlLmNhbWVyYUZpbHRlciAmIG4uX2lkIHx8IHQuc3ByaXRlQmF0Y2guYWRkU3ByaXRlKGUsIG4pO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNTUpLFxuICAgICAgICByID0gaSg1KSxcbiAgICAgICAgcyA9IGkoOSksXG4gICAgICAgIGEgPSBmdW5jdGlvbiBhKHQsIGUpIHtcbiAgICAgIHZhciBpID0gcihlLCBcImtleVwiLCBudWxsKSxcbiAgICAgICAgICBhID0gcihlLCBcImZyYW1lXCIsIG51bGwpLFxuICAgICAgICAgIG8gPSBuZXcgbih0LCAwLCAwLCBpLCBhKTtyZXR1cm4gcyh0LCBvLCBlKSwgbztcbiAgICB9O3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyByZW5kZXJDYW52YXM6IGkoNTQ2KSwgcmVuZGVyV2ViR0w6IGkoNTQ3KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEwMywgbikge1xuICAgICAgZS5yZW5kZXJNYXNrICE9PSBlLnJlbmRlckZsYWdzIHx8IGUuY2FtZXJhRmlsdGVyID4gMCAmJiBlLmNhbWVyYUZpbHRlciAmIG4uX2lkIHx8IHQuZHJhd0ltYWdlKGUsIG4pO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMDQsIG4pIHtcbiAgICAgIGUucmVuZGVyTWFzayAhPT0gZS5yZW5kZXJGbGFncyB8fCBlLmNhbWVyYUZpbHRlciA+IDAgJiYgZS5jYW1lcmFGaWx0ZXIgJiBuLl9pZCB8fCB0LnNwcml0ZUJhdGNoLmFkZFNwcml0ZShlLCBuKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDU2KSxcbiAgICAgICAgciA9IGkoNSksXG4gICAgICAgIHMgPSBpKDIpLFxuICAgICAgICBhID0gaSg5KSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSkge1xuICAgICAgdmFyIGkgPSByKGUsIFwia2V5XCIsIG51bGwpLFxuICAgICAgICAgIG8gPSByKGUsIFwiZnJhbWVcIiwgbnVsbCksXG4gICAgICAgICAgaCA9IHMoZSwgXCJ2ZXJ0aWNlc1wiLCBbXSksXG4gICAgICAgICAgdSA9IHMoZSwgXCJpbmRpY2VzXCIsIFtdKSxcbiAgICAgICAgICBjID0gcyhlLCBcImNvbG9yc1wiLCBbXSksXG4gICAgICAgICAgbCA9IHMoZSwgXCJhbHBoYXNcIiwgW10pLFxuICAgICAgICAgIGYgPSBzKGUsIFwidXZcIiwgW10pLFxuICAgICAgICAgIGQgPSBuZXcgbih0LCAwLCAwLCBoLCBmLCB1LCBjLCBsLCBpLCBvKTtyZXR1cm4gYSh0LCBkLCBlKSwgZDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyByZW5kZXJDYW52YXM6IGkoNTUwKSwgcmVuZGVyV2ViR0w6IGkoNTUxKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEwNSwgbikge307dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMDYsIG4pIHtcbiAgICAgIGUucmVuZGVyTWFzayAhPT0gZS5yZW5kZXJGbGFncyB8fCBlLmNhbWVyYUZpbHRlciA+IDAgJiYgZS5jYW1lcmFGaWx0ZXIgJiBuLl9pZCB8fCAoZS5pbmRpY2VzLmxlbmd0aCA+IDAgPyB0LnNwcml0ZUJhdGNoLmFkZE1lc2hJbmRleGVkKGUsIG4pIDogdC5zcHJpdGVCYXRjaC5hZGRNZXNoKGUsIG4pKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDgzKSxcbiAgICAgICAgciA9IGkoNSksXG4gICAgICAgIHMgPSBpKDkpLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IHIoZSwgXCJ4XCIsIDApLFxuICAgICAgICAgIGEgPSByKGUsIFwieVwiLCAwKSxcbiAgICAgICAgICBvID0gcihlLCBcImtleVwiLCBudWxsKSxcbiAgICAgICAgICBoID0gcihlLCBcImZyYW1lXCIsIG51bGwpLFxuICAgICAgICAgIHUgPSBuZXcgbih0LCBpLCBhLCBvLCBoKTtyZXR1cm4gcyh0LCB1LCBlKSwgdTtcbiAgICB9O3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDg0KSxcbiAgICAgICAgciA9IGkoNSksXG4gICAgICAgIHMgPSBpKDkpLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IHIoZSwgXCJ4XCIsIDApLFxuICAgICAgICAgIGEgPSByKGUsIFwieVwiLCAwKSxcbiAgICAgICAgICBvID0gcihlLCBcIndpZHRoXCIsIDUxMiksXG4gICAgICAgICAgaCA9IHIoZSwgXCJoZWlnaHRcIiwgNTEyKSxcbiAgICAgICAgICB1ID0gcihlLCBcInNoYWRlck5hbWVcIiwgXCJcIiksXG4gICAgICAgICAgYyA9IHIoZSwgXCJmcmFnbWVudFNoYWRlclwiLCBcIlwiKSxcbiAgICAgICAgICBsID0gbmV3IG4odCwgaSwgYSwgbywgaCwgdSwgYyk7cmV0dXJuIHModCwgbCwgZSksIGw7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgcmVuZGVyQ2FudmFzOiBpKDU1NSksIHJlbmRlcldlYkdMOiBpKDU1NikgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMDcsIG4pIHt9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTA4LCBuKSB7XG4gICAgICBlLnJlbmRlck1hc2sgIT09IGUucmVuZGVyRmxhZ3MgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgbi5faWQgfHwgdC5zcHJpdGVCYXRjaC5hZGRTcHJpdGVUZXh0dXJlKGUsIG4sIGUucmVuZGVyVGV4dHVyZSwgZS53aWR0aCwgZS5oZWlnaHQpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMzkpLFxuICAgICAgICByID0gaSg1KSxcbiAgICAgICAgcyA9IGkoOSksXG4gICAgICAgIGEgPSBpKDU1OCksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUpIHtcbiAgICAgIHZhciBpID0gcihlLCBcImtleVwiLCBudWxsKSxcbiAgICAgICAgICBvID0gcihlLCBcImZyYW1lXCIsIG51bGwpLFxuICAgICAgICAgIGggPSBuZXcgbih0LCAwLCAwLCBpLCBvKTtyZXR1cm4gcyh0LCBoLCBlKSwgYShoLCBlKSwgaDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDUpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2YXIgaSA9IG4oZSwgXCJhbmltc1wiLCBudWxsKTtpZiAobnVsbCA9PT0gaSkgcmV0dXJuIHQ7aWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGkpIHQuYW5pbXMucGxheShpKTtlbHNlIGlmIChcIm9iamVjdFwiID09ICh0eXBlb2YgaSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGkpKSkge1xuICAgICAgICB2YXIgciA9IHQuYW5pbXMsXG4gICAgICAgICAgICBzID0gbihpLCBcImtleVwiLCB2b2lkIDApLFxuICAgICAgICAgICAgYSA9IG4oaSwgXCJzdGFydEZyYW1lXCIsIHZvaWQgMCk7ci5sb2FkKHMpO3ZhciBvID0gbihpLCBcImRlbGF5XCIsIDApLFxuICAgICAgICAgICAgaCA9IG4oaSwgXCJyZXBlYXRcIiwgMCksXG4gICAgICAgICAgICB1ID0gbihpLCBcInJlcGVhdERlbGF5XCIsIDApLFxuICAgICAgICAgICAgYyA9IG4oaSwgXCJ5b3lvXCIsICExKTtpZiAoci5kZWxheShvKSwgci5yZXBlYXQoaCksIHIucmVwZWF0RGVsYXkodSksIHIueW95byhjKSwgbihpLCBcInBsYXlcIiwgITEpKSByLnBsYXkocywgYSk7ZWxzZSB7XG4gICAgICAgICAgdmFyIGwgPSBuKGksIFwiZGVsYXllZFBsYXlcIiwgMCk7bCA+IDAgJiYgci5kZWxheWVkUGxheShsLCBzLCBhKTtcbiAgICAgICAgfVxuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoODUpLFxuICAgICAgICByID0gaSg5KSxcbiAgICAgICAgcyA9IGkoNSksXG4gICAgICAgIGEgPSBpKDIpLFxuICAgICAgICBvID0gZnVuY3Rpb24gbyh0LCBlKSB7XG4gICAgICB2YXIgaSA9IGEoZSwgXCJmb250XCIsIFwiXCIpLFxuICAgICAgICAgIG8gPSBzKGUsIFwidGV4dFwiLCBcIlwiKSxcbiAgICAgICAgICBoID0gcyhlLCBcInNpemVcIiwgITEpLFxuICAgICAgICAgIHUgPSBuZXcgbih0LCAwLCAwLCBpLCBvLCBoKTtyZXR1cm4gcih0LCB1LCBlKSwgdTtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE4MSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yNiwgcywgYSwgbykge1xuICAgICAgdmFyIGggPSB0LnN5cy50ZXh0dXJlcy5nZXRGcmFtZShpLCBfcjYpLFxuICAgICAgICAgIHUgPSB0LnN5cy5jYWNoZS54bWwuZ2V0KHMpO2lmIChoICYmIHUpIHtcbiAgICAgICAgdmFyIGMgPSBuKHUsIGEsIG8sIGgpO3JldHVybiB0LnN5cy5jYWNoZS5iaXRtYXBGb250LmFkZChlLCB7IGRhdGE6IGMsIHRleHR1cmU6IGksIGZyYW1lOiBfcjYgfSksICEwO1xuICAgICAgfXJldHVybiAhMTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2YXIgaSA9IGUud2lkdGgsXG4gICAgICAgICAgciA9IGUuaGVpZ2h0LFxuICAgICAgICAgIHMgPSBNYXRoLmZsb29yKGkgLyAyKSxcbiAgICAgICAgICBhID0gTWF0aC5mbG9vcihyIC8gMiksXG4gICAgICAgICAgbyA9IGUuY2hhcnMsXG4gICAgICAgICAgaCA9IG4oZSwgXCJpbWFnZVwiLCBcIlwiKSxcbiAgICAgICAgICB1ID0gbihlLCBcIm9mZnNldC54XCIsIDApLFxuICAgICAgICAgIGMgPSBuKGUsIFwib2Zmc2V0LnlcIiwgMCksXG4gICAgICAgICAgbCA9IG4oZSwgXCJzcGFjaW5nLnhcIiwgMCksXG4gICAgICAgICAgZiA9IG4oZSwgXCJzcGFjaW5nLnlcIiwgMCksXG4gICAgICAgICAgZCA9IG4oZSwgXCJjaGFyc1BlclJvd1wiLCBudWxsKTtudWxsID09PSBkICYmIChkID0gdC5zeXMudGV4dHVyZXMuZ2V0RnJhbWUoaCkud2lkdGggLyBpKSA+IG8ubGVuZ3RoICYmIChkID0gby5sZW5ndGgpO2ZvciAodmFyIHAgPSB1LCB2ID0gYywgZyA9IHsgcmV0cm9Gb250OiAhMCwgZm9udDogaCwgc2l6ZTogaSwgbGluZUhlaWdodDogciwgY2hhcnM6IHt9IH0sIHggPSAwLCBtID0gMDsgbSA8IG8ubGVuZ3RoOyBtKyspIHtcbiAgICAgICAgdmFyIHkgPSBvLmNoYXJDb2RlQXQobSk7Zy5jaGFyc1t5XSA9IHsgeDogcCwgeTogdiwgd2lkdGg6IGksIGhlaWdodDogciwgY2VudGVyWDogcywgY2VudGVyWTogYSwgeE9mZnNldDogMCwgeU9mZnNldDogMCwgeEFkdmFuY2U6IGksIGRhdGE6IHt9LCBrZXJuaW5nOiB7fSB9LCB4KyssIHggPT09IGQgPyAoeCA9IDAsIHAgPSB1LCB2ICs9IHIgKyBmKSA6IHAgKz0gaSArIGw7XG4gICAgICB9cmV0dXJuIHsgZGF0YTogZywgZnJhbWU6IG51bGwsIHRleHR1cmU6IGggfTtcbiAgICB9O3IuVEVYVF9TRVQxID0gXCIgIVxcXCIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXFxcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9flwiLCByLlRFWFRfU0VUMiA9IFwiICFcXFwiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIiwgci5URVhUX1NFVDMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSBcIiwgci5URVhUX1NFVDQgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIDAxMjM0NTY3ODlcIiwgci5URVhUX1NFVDUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLiwvKCkgJyE/LSo6MDEyMzQ1Njc4OVwiLCByLlRFWFRfU0VUNiA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVohPzo7MDEyMzQ1Njc4OVxcXCIoKSwtLicgXCIsIHIuVEVYVF9TRVQ3ID0gXCJBR01TWSs6NEJITlRaITs1Q0lPVS4/MDZESlBWLCgxN0VLUVdcXFwiKTI4RkxSWC0nMzlcIiwgci5URVhUX1NFVDggPSBcIjAxMjM0NTY3ODkgLkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCIsIHIuVEVYVF9TRVQ5ID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWigpLTAxMjM0NTY3ODkuOiwnXFxcIj8hXCIsIHIuVEVYVF9TRVQxMCA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIiwgci5URVhUX1NFVDExID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi4sXFxcIi0rIT8oKSc6OzAxMjM0NTY3ODlcIiwgdC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IHJlbmRlckNhbnZhczogaSg1NjMpLCByZW5kZXJXZWJHTDogaSg1NjQpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTA5LCBuKSB7XG4gICAgICB2YXIgciA9IGUudGV4dCxcbiAgICAgICAgICBzID0gci5sZW5ndGg7aWYgKCEoZS5yZW5kZXJNYXNrICE9PSBlLnJlbmRlckZsYWdzIHx8IDAgPT09IHMgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgbi5faWQpKSB7XG4gICAgICAgIHZhciBhID0gZS5mcmFtZSxcbiAgICAgICAgICAgIG8gPSBuLnNjcm9sbFggKiBlLnNjcm9sbEZhY3RvclgsXG4gICAgICAgICAgICBoID0gbi5zY3JvbGxZICogZS5zY3JvbGxGYWN0b3JZLFxuICAgICAgICAgICAgdSA9IGUuZm9udERhdGEuY2hhcnMsXG4gICAgICAgICAgICBjID0gZS5mb250RGF0YS5saW5lSGVpZ2h0LFxuICAgICAgICAgICAgbCA9IDAsXG4gICAgICAgICAgICBmID0gMCxcbiAgICAgICAgICAgIGQgPSAwLFxuICAgICAgICAgICAgcCA9IDAsXG4gICAgICAgICAgICB2ID0gbnVsbCxcbiAgICAgICAgICAgIGcgPSAwLFxuICAgICAgICAgICAgeCA9IDAsXG4gICAgICAgICAgICBtID0gMCxcbiAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgdyA9IDAsXG4gICAgICAgICAgICBFID0gMCxcbiAgICAgICAgICAgIFQgPSBudWxsLFxuICAgICAgICAgICAgYiA9IDAsXG4gICAgICAgICAgICBfID0gdC5jdXJyZW50Q29udGV4dCxcbiAgICAgICAgICAgIEEgPSBlLmZyYW1lLnNvdXJjZS5pbWFnZSxcbiAgICAgICAgICAgIFMgPSBhLmN1dFgsXG4gICAgICAgICAgICBSID0gYS5jdXRZLFxuICAgICAgICAgICAgTSA9IGUuZm9udFNpemUgLyBlLmZvbnREYXRhLnNpemU7dC5jdXJyZW50QmxlbmRNb2RlICE9PSBlLmJsZW5kTW9kZSAmJiAodC5jdXJyZW50QmxlbmRNb2RlID0gZS5ibGVuZE1vZGUsIF8uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdC5ibGVuZE1vZGVzW2UuYmxlbmRNb2RlXSksIHQuY3VycmVudEFscGhhICE9PSBlLmFscGhhICYmICh0LmN1cnJlbnRBbHBoYSA9IGUuYWxwaGEsIF8uZ2xvYmFsQWxwaGEgPSBlLmFscGhhKSwgdC5jdXJyZW50U2NhbGVNb2RlICE9PSBlLnNjYWxlTW9kZSAmJiAodC5jdXJyZW50U2NhbGVNb2RlID0gZS5zY2FsZU1vZGUpLCBfLnNhdmUoKSwgXy50cmFuc2xhdGUoZS54IC0gbyArIGUuZnJhbWUueCwgZS55IC0gaCArIGUuZnJhbWUueSksIF8ucm90YXRlKGUucm90YXRpb24pLCBfLnNjYWxlKGUuc2NhbGVYLCBlLnNjYWxlWSk7Zm9yICh2YXIgTyA9IDA7IE8gPCBzOyArK08pIHtcbiAgICAgICAgICBpZiAoMTAgIT09IChwID0gci5jaGFyQ29kZUF0KE8pKSkge1xuICAgICAgICAgICAgaWYgKHYgPSB1W3BdKSB7XG4gICAgICAgICAgICAgIGlmIChnID0gUyArIHYueCwgeCA9IFIgKyB2LnksIG0gPSB2LndpZHRoLCB5ID0gdi5oZWlnaHQsIHcgPSBkICsgdi54T2Zmc2V0ICsgbCwgRSA9IHYueU9mZnNldCArIGYsIG51bGwgIT09IFQpIHtcbiAgICAgICAgICAgICAgICB2YXIgQyA9IHYua2VybmluZ1tiXTt3ICs9IHZvaWQgMCAhPT0gQyA/IEMgOiAwO1xuICAgICAgICAgICAgICB9dyAqPSBNLCBFICo9IE0sIGwgKz0gdi54QWR2YW5jZSwgZCArPSAxLCBUID0gdiwgYiA9IHAsIDAgIT09IG0gJiYgMCAhPT0geSAmJiAzMiAhPT0gcCAmJiAoXy5zYXZlKCksIF8udHJhbnNsYXRlKHcsIEUpLCBfLnNjYWxlKE0sIE0pLCBfLmRyYXdJbWFnZShBLCBnLCB4LCBtLCB5LCAwLCAwLCBtLCB5KSwgXy5yZXN0b3JlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBsID0gMCwgZCA9IDAsIGYgKz0gYywgVCA9IG51bGw7XG4gICAgICAgIH1fLnJlc3RvcmUoKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE0KSxcbiAgICAgICAgciA9IG5ldyBuKCksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUsIGksIG4pIHtcbiAgICAgIHZhciBzID0gZS50ZXh0LFxuICAgICAgICAgIGEgPSBzLmxlbmd0aDtpZiAoISh0aGlzLnJlbmRlck1hc2sgIT09IHRoaXMucmVuZGVyRmxhZ3MgfHwgMCA9PT0gYSB8fCB0aGlzLmNhbWVyYUZpbHRlciA+IDAgJiYgdGhpcy5jYW1lcmFGaWx0ZXIgJiBuLl9pZCkpIHtcbiAgICAgICAgdmFyIG8sXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgdSxcbiAgICAgICAgICAgIGMsXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBwLFxuICAgICAgICAgICAgdixcbiAgICAgICAgICAgIGcsXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgbSxcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB3LFxuICAgICAgICAgICAgRSxcbiAgICAgICAgICAgIFQsXG4gICAgICAgICAgICBiLFxuICAgICAgICAgICAgXyxcbiAgICAgICAgICAgIEEsXG4gICAgICAgICAgICBTLFxuICAgICAgICAgICAgUixcbiAgICAgICAgICAgIE0sXG4gICAgICAgICAgICBPLFxuICAgICAgICAgICAgQyxcbiAgICAgICAgICAgIEwsXG4gICAgICAgICAgICBGLFxuICAgICAgICAgICAgSSA9IGUuZnJhbWUsXG4gICAgICAgICAgICBEID0gbi5zY3JvbGxYICogZS5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgQiA9IG4uc2Nyb2xsWSAqIGUuc2Nyb2xsRmFjdG9yWSxcbiAgICAgICAgICAgIHMgPSBlLnRleHQsXG4gICAgICAgICAgICBhID0gcy5sZW5ndGgsXG4gICAgICAgICAgICBQID0gZS5mb250RGF0YS5jaGFycyxcbiAgICAgICAgICAgIGsgPSBlLmZvbnREYXRhLmxpbmVIZWlnaHQsXG4gICAgICAgICAgICBOID0gdC5zcHJpdGVCYXRjaCxcbiAgICAgICAgICAgIFggPSBlLmFscGhhLFxuICAgICAgICAgICAgVSA9IGUuX3RpbnRUTCxcbiAgICAgICAgICAgIFkgPSBlLl90aW50VFIsXG4gICAgICAgICAgICBWID0gZS5fdGludEJMLFxuICAgICAgICAgICAgeiA9IGUuX3RpbnRCUixcbiAgICAgICAgICAgIEcgPSBOLnZlcnRleERhdGFCdWZmZXIsXG4gICAgICAgICAgICBIID0gRy5mbG9hdFZpZXcsXG4gICAgICAgICAgICBqID0gRy51aW50VmlldyxcbiAgICAgICAgICAgIFcgPSAwLFxuICAgICAgICAgICAgcSA9IGUueCxcbiAgICAgICAgICAgIEsgPSBlLnksXG4gICAgICAgICAgICBaID0gZS50ZXh0dXJlLnNvdXJjZVtJLnNvdXJjZUluZGV4XSxcbiAgICAgICAgICAgIEogPSBJLmN1dFgsXG4gICAgICAgICAgICBRID0gSS5jdXRZLFxuICAgICAgICAgICAgJCA9IFoud2lkdGgsXG4gICAgICAgICAgICB0dCA9IFouaGVpZ2h0LFxuICAgICAgICAgICAgZXQgPSBaLmdsVGV4dHVyZSxcbiAgICAgICAgICAgIGl0ID0gMCxcbiAgICAgICAgICAgIG50ID0gMCxcbiAgICAgICAgICAgIHJ0ID0gMCxcbiAgICAgICAgICAgIHN0ID0gMCxcbiAgICAgICAgICAgIGF0ID0gbnVsbCxcbiAgICAgICAgICAgIG90ID0gMCxcbiAgICAgICAgICAgIGh0ID0gMCxcbiAgICAgICAgICAgIHV0ID0gMCxcbiAgICAgICAgICAgIGN0ID0gMCxcbiAgICAgICAgICAgIGx0ID0gMCxcbiAgICAgICAgICAgIGZ0ID0gMCxcbiAgICAgICAgICAgIGR0ID0gMCxcbiAgICAgICAgICAgIHB0ID0gMCxcbiAgICAgICAgICAgIHZ0ID0gMCxcbiAgICAgICAgICAgIGd0ID0gMCxcbiAgICAgICAgICAgIHh0ID0gMCxcbiAgICAgICAgICAgIG10ID0gMCxcbiAgICAgICAgICAgIHl0ID0gbnVsbCxcbiAgICAgICAgICAgIHd0ID0gMCxcbiAgICAgICAgICAgIEV0ID0gci5tYXRyaXgsXG4gICAgICAgICAgICBUdCA9IG4ubWF0cml4Lm1hdHJpeCxcbiAgICAgICAgICAgIGJ0ID0gZS5mb250U2l6ZSAvIGUuZm9udERhdGEuc2l6ZSxcbiAgICAgICAgICAgIF90ID0gZS5yZW5kZXJUYXJnZXQ7ci5hcHBseUlUUlMocSAtIEQgKyBJLngsIEsgLSBCICsgSS55LCAtZS5yb3RhdGlvbiwgZS5zY2FsZVgsIGUuc2NhbGVZKSwgRSA9IEV0WzBdLCBUID0gRXRbMV0sIGIgPSBFdFsyXSwgXyA9IEV0WzNdLCBBID0gRXRbNF0sIFMgPSBFdFs1XSwgUiA9IFR0WzBdLCBNID0gVHRbMV0sIE8gPSBUdFsyXSwgQyA9IFR0WzNdLCBMID0gVHRbNF0sIEYgPSBUdFs1XSwgbyA9IEUgKiBSICsgVCAqIE8sIGggPSBFICogTSArIFQgKiBDLCB1ID0gYiAqIFIgKyBfICogTywgYyA9IGIgKiBNICsgXyAqIEMsIGwgPSBBICogUiArIFMgKiBPICsgTCwgZiA9IEEgKiBNICsgUyAqIEMgKyBGO2ZvciAodmFyIEF0ID0gMDsgQXQgPCBhOyArK0F0KSB7XG4gICAgICAgICAgaWYgKDEwICE9PSAoc3QgPSBzLmNoYXJDb2RlQXQoQXQpKSkge1xuICAgICAgICAgICAgaWYgKGF0ID0gUFtzdF0pIHtcbiAgICAgICAgICAgICAgaWYgKG90ID0gSiArIGF0LngsIGh0ID0gUSArIGF0LnksIHV0ID0gYXQud2lkdGgsIGN0ID0gYXQuaGVpZ2h0LCBsdCA9IChydCArIGF0LnhPZmZzZXQgKyBpdCkgKiBidCwgZnQgPSAoYXQueU9mZnNldCArIG50KSAqIGJ0LCBudWxsICE9PSB5dCkge1xuICAgICAgICAgICAgICAgIHZhciBTdCA9IGF0Lmtlcm5pbmdbd3RdO2x0ICs9IHZvaWQgMCAhPT0gU3QgPyBTdCA6IDA7XG4gICAgICAgICAgICAgIH1pdCArPSBhdC54QWR2YW5jZSwgcnQgKz0gMSwgeXQgPSBhdCwgd3QgPSBzdCwgMCAhPT0gdXQgJiYgMCAhPT0gY3QgJiYgMzIgIT09IHN0ICYmIChkdCA9IGx0ICsgdXQgKiBidCwgcHQgPSBmdCArIGN0ICogYnQsIGQgPSBsdCAqIG8gKyBmdCAqIHUgKyBsLCBwID0gbHQgKiBoICsgZnQgKiBjICsgZiwgdiA9IGx0ICogbyArIHB0ICogdSArIGwsIGcgPSBsdCAqIGggKyBwdCAqIGMgKyBmLCB4ID0gZHQgKiBvICsgcHQgKiB1ICsgbCwgbSA9IGR0ICogaCArIHB0ICogYyArIGYsIHkgPSBkdCAqIG8gKyBmdCAqIHUgKyBsLCB3ID0gZHQgKiBoICsgZnQgKiBjICsgZiwgdnQgPSBvdCAvICQsIGd0ID0gKG90ICsgdXQpIC8gJCwgeHQgPSBodCAvIHR0LCBtdCA9IChodCArIGN0KSAvIHR0LCBOLmVsZW1lbnRDb3VudCA+PSBOLm1heFBhcnRpY2xlcyAmJiBOLmZsdXNoKCksIHQuc2V0UmVuZGVyZXIoTiwgZXQsIF90KSwgVyA9IEcuYWxsb2NhdGUoMjQpLCBOLmVsZW1lbnRDb3VudCArPSA2LCBIW1crK10gPSBkLCBIW1crK10gPSBwLCBIW1crK10gPSB2dCwgSFtXKytdID0geHQsIGpbVysrXSA9IFUsIEhbVysrXSA9IFgsIEhbVysrXSA9IHYsIEhbVysrXSA9IGcsIEhbVysrXSA9IHZ0LCBIW1crK10gPSBtdCwgaltXKytdID0gViwgSFtXKytdID0gWCwgSFtXKytdID0geCwgSFtXKytdID0gbSwgSFtXKytdID0gZ3QsIEhbVysrXSA9IG10LCBqW1crK10gPSBZLCBIW1crK10gPSBYLCBIW1crK10gPSB5LCBIW1crK10gPSB3LCBIW1crK10gPSBndCwgSFtXKytdID0geHQsIGpbVysrXSA9IHosIEhbVysrXSA9IFgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpdCA9IDAsIHJ0ID0gMCwgbnQgKz0gaywgeXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4NiksXG4gICAgICAgIHIgPSBpKDIpLFxuICAgICAgICBzID0gaSg5KSxcbiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCwgZSkge1xuICAgICAgdmFyIGkgPSByKGUsIFwibWFwLmRhdGFcIiwgbnVsbCksXG4gICAgICAgICAgYSA9IHIoZSwgXCJtYXAud2lkdGhcIiwgMSksXG4gICAgICAgICAgbyA9IHIoZSwgXCJtYXAuaGVpZ2h0XCIsIDEpLFxuICAgICAgICAgIGggPSByKGUsIFwieFwiLCAwKSxcbiAgICAgICAgICB1ID0gcihlLCBcInlcIiwgMCksXG4gICAgICAgICAgYyA9IHIoZSwgXCJ0aWxlLndpZHRoXCIsIDE2KSxcbiAgICAgICAgICBsID0gcihlLCBcInRpbGUuaGVpZ2h0XCIsIDE2KSxcbiAgICAgICAgICBmID0gcihlLCBcInRpbGUudGV4dHVyZVwiLCBudWxsKSxcbiAgICAgICAgICBkID0gcihlLCBcInRpbGUuZnJhbWVcIiwgbnVsbCksXG4gICAgICAgICAgcCA9IHIoZSwgXCJ0aWxlLmJvcmRlclwiLCAwKSxcbiAgICAgICAgICB2ID0gbmV3IG4odCwgaSwgaCwgdSwgYywgbCwgYSwgbywgcCwgZiwgZCk7cmV0dXJuIHModCwgdiwgZSksIHY7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgcmVuZGVyQ2FudmFzOiBpKDU2NyksIHJlbmRlcldlYkdMOiBpKDU2OCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMTAsIG4pIHtcbiAgICAgIGlmICghKGUucmVuZGVyTWFzayAhPT0gZS5yZW5kZXJGbGFncyB8fCBlLmNhbWVyYUZpbHRlciA+IDAgJiYgZS5jYW1lcmFGaWx0ZXIgJiBuLl9pZCkpIHtcbiAgICAgICAgZS51cGxvYWQobik7dmFyIHIgPSBuLmN1bGxUaWxlbWFwKGUpLFxuICAgICAgICAgICAgcyA9IGUudGlsZVdpZHRoLFxuICAgICAgICAgICAgYSA9IGUudGlsZUhlaWdodCxcbiAgICAgICAgICAgIG8gPSBlLmZyYW1lLFxuICAgICAgICAgICAgaCA9IHQuZ2FtZUNvbnRleHQsXG4gICAgICAgICAgICB1ID0gci5sZW5ndGgsXG4gICAgICAgICAgICBjID0gby5zb3VyY2UuaW1hZ2UsXG4gICAgICAgICAgICBsID0gZS54IC0gbi5zY3JvbGxYICogZS5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgZiA9IGUueSAtIG4uc2Nyb2xsWSAqIGUuc2Nyb2xsRmFjdG9yWTtuLnNjcm9sbFg7aC5zYXZlKCksIGgudHJhbnNsYXRlKGwsIGYpLCBoLnJvdGF0ZShlLnJvdGF0aW9uKSwgaC5zY2FsZShlLnNjYWxlWCwgZS5zY2FsZVkpLCBoLnNjYWxlKGUuZmxpcFggPyAtMSA6IDEsIGUuZmxpcFkgPyAtMSA6IDEpO2ZvciAodmFyIGQgPSAwOyBkIDwgdTsgKytkKSB7XG4gICAgICAgICAgdmFyIHAgPSByW2RdO2guZHJhd0ltYWdlKGMsIHAuZnJhbWVYLCBwLmZyYW1lWSwgcywgYSwgcC54LCBwLnksIHMsIGEpO1xuICAgICAgICB9aC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTExMSwgbikge1xuICAgICAgaWYgKCEoZS5yZW5kZXJNYXNrICE9PSBlLnJlbmRlckZsYWdzIHx8IGUuY2FtZXJhRmlsdGVyID4gMCAmJiBlLmNhbWVyYUZpbHRlciAmIG4uX2lkKSkge1xuICAgICAgICB2YXIgciA9IGUsXG4gICAgICAgICAgICBzID0gci5mcmFtZSxcbiAgICAgICAgICAgIGEgPSByLmdsO3Quc2V0UmVuZGVyZXIoci50aWxlbWFwUmVuZGVyZXIsIHMudGV4dHVyZS5zb3VyY2Vbcy5zb3VyY2VJbmRleF0uZ2xUZXh0dXJlLCByLnJlbmRlclRhcmdldCksIHIudGlsZW1hcFJlbmRlcmVyLmJpbmQoKSwgci51cGxvYWQobiksIHIudmJvLmJpbmQoKSwgYS5kcmF3QXJyYXlzKGEuVFJJQU5HTEVTLCAwLCByLnZlcnRleENvdW50KTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDg3KSxcbiAgICAgICAgciA9IGkoNSksXG4gICAgICAgIHMgPSBpKDkpLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IHIoZSwgXCJ0ZXh0XCIsIFwiXCIpLFxuICAgICAgICAgIGEgPSByKGUsIFwic3R5bGVcIiwgbnVsbCksXG4gICAgICAgICAgbyA9IG5ldyBuKHQsIDAsIDAsIGksIGEpO3ModCwgbywgZSksIG8uYXV0b1JvdW5kID0gcihlLCBcImF1dG9Sb3VuZFwiLCAhMCksIG8ucmVzb2x1dGlvbiA9IHIoZSwgXCJyZXNvbHV0aW9uXCIsIDEpO3ZhciBoID0gcihlLCBcInBhZGRpbmdcIiwgbnVsbCk7cmV0dXJuIFwibnVtYmVyXCIgPT0gdHlwZW9mIGggPyAoby5wYWRkaW5nLnggPSBoLCBvLnBhZGRpbmcueSA9IGgpIDogbnVsbCAhPT0gaCAmJiAoby5wYWRkaW5nLnggPSByKGgsIFwieFwiLCAxKSwgby5wYWRkaW5nLnkgPSByKGgsIFwieVwiLCAxKSksIG8udXBkYXRlVGV4dCgpLCBvO1xuICAgIH07dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IHJlbmRlckNhbnZhczogaSg1NzEpLCByZW5kZXJXZWJHTDogaSg1NzIpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTEyLCBuKSB7XG4gICAgICBpZiAoIShlLnJlbmRlck1hc2sgIT09IGUucmVuZGVyRmxhZ3MgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgbi5faWQpKSB7XG4gICAgICAgIHZhciByID0gdC5jdXJyZW50Q29udGV4dDt0LmN1cnJlbnRCbGVuZE1vZGUgIT09IGUuYmxlbmRNb2RlICYmICh0LmN1cnJlbnRCbGVuZE1vZGUgPSBlLmJsZW5kTW9kZSwgci5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0LmJsZW5kTW9kZXNbZS5ibGVuZE1vZGVdKSwgdC5jdXJyZW50QWxwaGEgIT09IGUuYWxwaGEgJiYgKHQuY3VycmVudEFscGhhID0gZS5hbHBoYSwgci5nbG9iYWxBbHBoYSA9IGUuYWxwaGEpLCB0LmN1cnJlbnRTY2FsZU1vZGUgIT09IGUuc2NhbGVNb2RlICYmICh0LmN1cnJlbnRTY2FsZU1vZGUgPSBlLnNjYWxlTW9kZSk7dmFyIHMgPSBlLmNhbnZhcztyLnNhdmUoKSwgci50cmFuc2xhdGUoZS54IC0gbi5zY3JvbGxYICogZS5zY3JvbGxGYWN0b3JYLCBlLnkgLSBuLnNjcm9sbFkgKiBlLnNjcm9sbEZhY3RvclkpLCByLnJvdGF0ZShlLnJvdGF0aW9uKSwgci5zY2FsZShlLnNjYWxlWCwgZS5zY2FsZVkpLCByLnRyYW5zbGF0ZShzLndpZHRoICogKGUuZmxpcFggPyAxIDogMCksIHMuaGVpZ2h0ICogKGUuZmxpcFkgPyAxIDogMCkpLCByLnNjYWxlKGUuZmxpcFggPyAtMSA6IDEsIGUuZmxpcFkgPyAtMSA6IDEpLCByLmRyYXdJbWFnZShzLCAwLCAwLCBzLndpZHRoLCBzLmhlaWdodCwgLWUuZGlzcGxheU9yaWdpblgsIC1lLmRpc3BsYXlPcmlnaW5ZLCBzLndpZHRoLCBzLmhlaWdodCksIHIucmVzdG9yZSgpO1xuICAgICAgfVxuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMTMsIG4pIHtcbiAgICAgIGUucmVuZGVyTWFzayAhPT0gZS5yZW5kZXJGbGFncyB8fCBlLmNhbWVyYUZpbHRlciA+IDAgJiYgZS5jYW1lcmFGaWx0ZXIgJiBuLl9pZCB8fCAoZS5kaXJ0eSAmJiAoZS5jYW52YXNUZXh0dXJlID0gdC51cGxvYWRDYW52YXNUb0dQVShlLmNhbnZhcywgZS5jYW52YXNUZXh0dXJlLCAhMCksIGUuZGlydHkgPSAhMSksIHQuc3ByaXRlQmF0Y2guYWRkU3ByaXRlVGV4dHVyZShlLCBuLCBlLmNhbnZhc1RleHR1cmUsIGUuY2FudmFzLndpZHRoLCBlLmNhbnZhcy5oZWlnaHQpKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgyKSxcbiAgICAgICAgcyA9IGkoNSksXG4gICAgICAgIGEgPSBpKDU3NCksXG4gICAgICAgIG8gPSB7IGZvbnQ6IFtcImZvbnRcIiwgXCIxNnB4IENvdXJpZXJcIl0sIGJhY2tncm91bmRDb2xvcjogW1wiYmFja2dyb3VuZENvbG9yXCIsIG51bGxdLCBmaWxsOiBbXCJmaWxsXCIsIFwiI2ZmZlwiXSwgc3Ryb2tlOiBbXCJzdHJva2VcIiwgXCIjZmZmXCJdLCBzdHJva2VUaGlja25lc3M6IFtcInN0cm9rZVRoaWNrbmVzc1wiLCAwXSwgc2hhZG93T2Zmc2V0WDogW1wic2hhZG93Lm9mZnNldFhcIiwgMF0sIHNoYWRvd09mZnNldFk6IFtcInNoYWRvdy5vZmZzZXRZXCIsIDBdLCBzaGFkb3dDb2xvcjogW1wic2hhZG93LmNvbG9yXCIsIFwiIzAwMFwiXSwgc2hhZG93Qmx1cjogW1wic2hhZG93LmJsdXJcIiwgMF0sIHNoYWRvd1N0cm9rZTogW1wic2hhZG93LnN0cm9rZVwiLCAhMV0sIHNoYWRvd0ZpbGw6IFtcInNoYWRvdy5maWxsXCIsICExXSwgYWxpZ246IFtcImFsaWduXCIsIFwibGVmdFwiXSwgbWF4TGluZXM6IFtcIm1heExpbmVzXCIsIDBdLCBmaXhlZFdpZHRoOiBbXCJmaXhlZFdpZHRoXCIsICExXSwgZml4ZWRIZWlnaHQ6IFtcImZpeGVkSGVpZ2h0XCIsICExXSwgcnRsOiBbXCJydGxcIiwgITFdIH0sXG4gICAgICAgIGggPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQgPSB0LCB0aGlzLmZvbnQsIHRoaXMuYmFja2dyb3VuZENvbG9yLCB0aGlzLmZpbGwsIHRoaXMuc3Ryb2tlLCB0aGlzLnN0cm9rZVRoaWNrbmVzcywgdGhpcy5zaGFkb3dPZmZzZXRYLCB0aGlzLnNoYWRvd09mZnNldFksIHRoaXMuc2hhZG93Q29sb3IsIHRoaXMuc2hhZG93Qmx1ciwgdGhpcy5zaGFkb3dTdHJva2UsIHRoaXMuc2hhZG93RmlsbCwgdGhpcy5hbGlnbiwgdGhpcy5tYXhMaW5lcywgdGhpcy5maXhlZFdpZHRoLCB0aGlzLmZpeGVkSGVpZ2h0LCB0aGlzLnJ0bCwgdGhpcy5yZXNldCgpLCBlKSBmb3IgKHZhciBpIGluIG8pIHtcbiAgICAgICAgICB0aGlzW2ldID0gcyhlLCBvW2ldWzBdLCB0aGlzW2ldKTtcbiAgICAgICAgfXZhciBuID0gcihlLCBcIm1ldHJpY3NcIiwgITEpO3RoaXMubWV0cmljcyA9IG4gPyB7IGFzY2VudDogcihuLCBcImFzY2VudFwiLCAwKSwgZGVzY2VudDogcihuLCBcImRlc2NlbnRcIiwgMCksIGZvbnRTaXplOiByKG4sIFwiZm9udFNpemVcIiwgMCkgfSA6IGEodGhpcyk7XG4gICAgICB9LCByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIGZvciAodmFyIHQgaW4gbykge1xuICAgICAgICAgIHRoaXNbdF0gPSBvW3RdWzFdO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBzeW5jRm9udDogZnVuY3Rpb24gc3luY0ZvbnQodCwgZSkge1xuICAgICAgICB0aGlzLnJ0bCAmJiAodC5kaXIgPSBcInJ0bFwiKSwgZS5mb250ID0gdGhpcy5mb250LCBlLnRleHRCYXNlbGluZSA9IFwiYWxwaGFiZXRpY1wiLCBlLmZpbGxTdHlsZSA9IHRoaXMuZmlsbCwgZS5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlLCBlLmxpbmVXaWR0aCA9IHRoaXMuc3Ryb2tlVGhpY2tuZXNzLCBlLmxpbmVDYXAgPSBcInJvdW5kXCIsIGUubGluZUpvaW4gPSBcInJvdW5kXCI7XG4gICAgICB9LCBzeW5jU2hhZG93OiBmdW5jdGlvbiBzeW5jU2hhZG93KHQsIGUpIHtcbiAgICAgICAgZSA/ICh0LnNoYWRvd09mZnNldFggPSB0aGlzLnNoYWRvd09mZnNldFgsIHQuc2hhZG93T2Zmc2V0WSA9IHRoaXMuc2hhZG93T2Zmc2V0WSwgdC5zaGFkb3dDb2xvciA9IHRoaXMuc2hhZG93Q29sb3IsIHQuc2hhZG93Qmx1ciA9IHRoaXMuc2hhZG93Qmx1cikgOiAodC5zaGFkb3dPZmZzZXRYID0gMCwgdC5zaGFkb3dPZmZzZXRZID0gMCwgdC5zaGFkb3dDb2xvciA9IDAsIHQuc2hhZG93Qmx1ciA9IDApO1xuICAgICAgfSwgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUodCkge1xuICAgICAgICByZXR1cm4gdCAmJiAodGhpcy5tZXRyaWNzID0gYSh0aGlzKSksIHRoaXMucGFyZW50LnVwZGF0ZVRleHQoKTtcbiAgICAgIH0sIHNldFN0eWxlOiBmdW5jdGlvbiBzZXRTdHlsZSh0KSB7XG4gICAgICAgIGZvciAodmFyIGUgaW4gbykge1xuICAgICAgICAgIHRoaXNbZV0gPSBzKHQsIG9bZV1bMF0sIHRoaXNbZV0pO1xuICAgICAgICB9cmV0dXJuIHRoaXMudXBkYXRlKCEwKTtcbiAgICAgIH0sIHNldEZvbnQ6IGZ1bmN0aW9uIHNldEZvbnQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb250ID0gdCwgdGhpcy51cGRhdGUoITApO1xuICAgICAgfSwgc2V0Rml4ZWRTaXplOiBmdW5jdGlvbiBzZXRGaXhlZFNpemUodCwgZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5maXhlZFdpZHRoID0gdCwgdGhpcy5maXhlZEhlaWdodCA9IGUsIHQgJiYgKHRoaXMudGV4dC53aWR0aCA9IHQpLCBlICYmICh0aGlzLnRleHQuaGVpZ2h0ID0gZSksIHRoaXMudXBkYXRlKCExKTtcbiAgICAgIH0sIHNldEJhY2tncm91bmRDb2xvcjogZnVuY3Rpb24gc2V0QmFja2dyb3VuZENvbG9yKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZENvbG9yID0gdCwgdGhpcy51cGRhdGUoITEpO1xuICAgICAgfSwgc2V0RmlsbDogZnVuY3Rpb24gc2V0RmlsbCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGwgPSB0LCB0aGlzLnVwZGF0ZSghMSk7XG4gICAgICB9LCBzZXRTdHJva2U6IGZ1bmN0aW9uIHNldFN0cm9rZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgPyB0aGlzLnN0cm9rZVRoaWNrbmVzcyA9IDAgOiAodm9pZCAwID09PSBlICYmIChlID0gdGhpcy5zdHJva2VUaGlja25lc3MpLCB0aGlzLnN0cm9rZSA9IHQsIHRoaXMuc3Ryb2tlVGhpY2tuZXNzID0gZSksIHRoaXMudXBkYXRlKCEwKTtcbiAgICAgIH0sIHNldFNoYWRvdzogZnVuY3Rpb24gc2V0U2hhZG93KHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB2b2lkIDAgPT09IGUgJiYgKGUgPSAwKSwgdm9pZCAwID09PSBpICYmIChpID0gXCIjMDAwXCIpLCB2b2lkIDAgPT09IG4gJiYgKG4gPSAwKSwgdm9pZCAwID09PSByICYmIChyID0gITEpLCB2b2lkIDAgPT09IHMgJiYgKHMgPSAhMCksIHRoaXMuc2hhZG93T2Zmc2V0WCA9IHQsIHRoaXMuc2hhZG93T2Zmc2V0WSA9IGUsIHRoaXMuc2hhZG93Q29sb3IgPSBpLCB0aGlzLnNoYWRvd0JsdXIgPSBuLCB0aGlzLnNoYWRvd1N0cm9rZSA9IHIsIHRoaXMuc2hhZG93RmlsbCA9IHMsIHRoaXMudXBkYXRlKCExKTtcbiAgICAgIH0sIHNldFNoYWRvd09mZnNldDogZnVuY3Rpb24gc2V0U2hhZG93T2Zmc2V0KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB2b2lkIDAgPT09IGUgJiYgKGUgPSB0KSwgdGhpcy5zaGFkb3dPZmZzZXRYID0gdCwgdGhpcy5zaGFkb3dPZmZzZXRZID0gZSwgdGhpcy51cGRhdGUoITEpO1xuICAgICAgfSwgc2V0U2hhZG93Q29sb3I6IGZ1bmN0aW9uIHNldFNoYWRvd0NvbG9yKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IFwiIzAwMFwiKSwgdGhpcy5zaGFkb3dDb2xvciA9IHQsIHRoaXMudXBkYXRlKCExKTtcbiAgICAgIH0sIHNldFNoYWRvd0JsdXI6IGZ1bmN0aW9uIHNldFNoYWRvd0JsdXIodCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHRoaXMuc2hhZG93Qmx1ciA9IHQsIHRoaXMudXBkYXRlKCExKTtcbiAgICAgIH0sIHNldFNoYWRvd1N0cm9rZTogZnVuY3Rpb24gc2V0U2hhZG93U3Ryb2tlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZG93U3Ryb2tlID0gdCwgdGhpcy51cGRhdGUoITEpO1xuICAgICAgfSwgc2V0U2hhZG93RmlsbDogZnVuY3Rpb24gc2V0U2hhZG93RmlsbCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRvd0ZpbGwgPSB0LCB0aGlzLnVwZGF0ZSghMSk7XG4gICAgICB9LCBzZXRBbGlnbjogZnVuY3Rpb24gc2V0QWxpZ24odCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gXCJsZWZ0XCIpLCB0aGlzLmFsaWduID0gdCwgdGhpcy51cGRhdGUoITEpO1xuICAgICAgfSwgc2V0TWF4TGluZXM6IGZ1bmN0aW9uIHNldE1heExpbmVzKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCB0aGlzLm1heExpbmVzID0gdCwgdGhpcy51cGRhdGUoITEpO1xuICAgICAgfSwgZ2V0VGV4dE1ldHJpY3M6IGZ1bmN0aW9uIGdldFRleHRNZXRyaWNzKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMubWV0cmljcztyZXR1cm4geyBhc2NlbnQ6IHQuYXNjZW50LCBkZXNjZW50OiB0LmRlc2NlbnQsIGZvbnRTaXplOiB0LmZvbnRTaXplIH07XG4gICAgICB9LCB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgdmFyIHQgPSB7fTtmb3IgKHZhciBlIGluIG8pIHtcbiAgICAgICAgICB0W2VdID0gdGhpc1tlXTtcbiAgICAgICAgfXJldHVybiB0Lm1ldHJpY3MgPSB0aGlzLmdldFRleHRNZXRyaWNzKCksIHQ7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHZvaWQgMDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gaDtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTEpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSBcInxNw4lxZ3lcIik7dmFyIGkgPSBuLmNyZWF0ZSh0aGlzKSxcbiAgICAgICAgICByID0gaS5nZXRDb250ZXh0KFwiMmRcIik7dC5zeW5jRm9udChpLCByKTt2YXIgcyA9IE1hdGguY2VpbCgxLjIgKiByLm1lYXN1cmVUZXh0KGUpLndpZHRoKSxcbiAgICAgICAgICBhID0gcyxcbiAgICAgICAgICBvID0gMiAqIGE7YSA9IDEuNCAqIGEgfCAwLCBpLndpZHRoID0gcywgaS5oZWlnaHQgPSBvLCByLmZpbGxTdHlsZSA9IFwiI2YwMFwiLCByLmZpbGxSZWN0KDAsIDAsIHMsIG8pLCByLmZvbnQgPSB0LmZvbnQsIHIudGV4dEJhc2VsaW5lID0gXCJhbHBoYWJldGljXCIsIHIuZmlsbFN0eWxlID0gXCIjMDAwXCIsIHIuZmlsbFRleHQoZSwgMCwgYSk7dmFyIGggPSB7IGFzY2VudDogMCwgZGVzY2VudDogMCwgZm9udFNpemU6IDAgfTtpZiAoIXIuZ2V0SW1hZ2VEYXRhKDAsIDAsIHMsIG8pKSByZXR1cm4gaC5hc2NlbnQgPSBhLCBoLmRlc2NlbnQgPSBhICsgNiwgaC5mb250U2l6ZSA9IGguYXNjZW50ICsgaC5kZXNjZW50LCBuLnJlbW92ZShpKSwgaDt2YXIgdSxcbiAgICAgICAgICBjLFxuICAgICAgICAgIGwgPSByLmdldEltYWdlRGF0YSgwLCAwLCBzLCBvKS5kYXRhLFxuICAgICAgICAgIGYgPSBsLmxlbmd0aCxcbiAgICAgICAgICBkID0gNCAqIHMsXG4gICAgICAgICAgcCA9IDAsXG4gICAgICAgICAgdiA9ICExO2ZvciAodSA9IDA7IHUgPCBhOyB1KyspIHtcbiAgICAgICAgZm9yIChjID0gMDsgYyA8IGQ7IGMgKz0gNCkge1xuICAgICAgICAgIGlmICgyNTUgIT09IGxbcCArIGNdKSB7XG4gICAgICAgICAgICB2ID0gITA7YnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9aWYgKHYpIGJyZWFrO3AgKz0gZDtcbiAgICAgIH1mb3IgKGguYXNjZW50ID0gYSAtIHUsIHAgPSBmIC0gZCwgdiA9ICExLCB1ID0gbzsgdSA+IGE7IHUtLSkge1xuICAgICAgICBmb3IgKGMgPSAwOyBjIDwgZDsgYyArPSA0KSB7XG4gICAgICAgICAgaWYgKDI1NSAhPT0gbFtwICsgY10pIHtcbiAgICAgICAgICAgIHYgPSAhMDticmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1pZiAodikgYnJlYWs7cCAtPSBkO1xuICAgICAgfXJldHVybiBoLmRlc2NlbnQgPSB1IC0gYSwgaC5mb250U2l6ZSA9IGguYXNjZW50ICsgaC5kZXNjZW50LCBuLnJlbW92ZShpKSwgaDtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTE0KSB7XG4gICAgICB2YXIgbiA9IHQuY2FudmFzLFxuICAgICAgICAgIHIgPSB0LmNvbnRleHQsXG4gICAgICAgICAgcyA9IHQuc3R5bGUsXG4gICAgICAgICAgYSA9IFtdLFxuICAgICAgICAgIG8gPSAwLFxuICAgICAgICAgIGggPSBfaTExNC5sZW5ndGg7cy5tYXhMaW5lcyA+IDAgJiYgcy5tYXhMaW5lcyA8IF9pMTE0Lmxlbmd0aCAmJiAoaCA9IHMubWF4TGluZXMpLCBzLnN5bmNGb250KG4sIHIpO2ZvciAodmFyIHUgPSAwOyB1IDwgaDsgdSsrKSB7XG4gICAgICAgIHZhciBjID0gcy5zdHJva2VUaGlja25lc3M7YyArPSByLm1lYXN1cmVUZXh0KF9pMTE0W3VdKS53aWR0aCwgcy53b3JkV3JhcCAmJiAoYyAtPSByLm1lYXN1cmVUZXh0KFwiIFwiKS53aWR0aCksIGFbdV0gPSBNYXRoLmNlaWwoYyksIG8gPSBNYXRoLm1heChvLCBhW3VdKTtcbiAgICAgIH12YXIgbCA9IGUuZm9udFNpemUgKyBzLnN0cm9rZVRoaWNrbmVzcyxcbiAgICAgICAgICBmID0gbCAqIGgsXG4gICAgICAgICAgZCA9IHQuX2xpbmVTcGFjaW5nIHx8IDA7cmV0dXJuIGQgPCAwICYmIE1hdGguYWJzKGQpID4gbCAmJiAoZCA9IC1sKSwgMCAhPT0gZCAmJiAoZiArPSBkID4gMCA/IGQgKiBfaTExNC5sZW5ndGggOiBkICogKF9pMTE0Lmxlbmd0aCAtIDEpKSwgeyB3aWR0aDogbywgaGVpZ2h0OiBmLCBsaW5lczogaCwgbGluZVdpZHRoczogYSwgbGluZVNwYWNpbmc6IGQsIGxpbmVIZWlnaHQ6IGwgfTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDg4KSxcbiAgICAgICAgciA9IGkoNSksXG4gICAgICAgIHMgPSBpKDkpLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IHIoZSwgXCJ4XCIsIDApLFxuICAgICAgICAgIGEgPSByKGUsIFwieVwiLCAwKSxcbiAgICAgICAgICBvID0gcihlLCBcIndpZHRoXCIsIDUxMiksXG4gICAgICAgICAgaCA9IHIoZSwgXCJoZWlnaHRcIiwgNTEyKSxcbiAgICAgICAgICB1ID0gcihlLCBcImtleVwiLCBcIlwiKSxcbiAgICAgICAgICBjID0gcihlLCBcImZyYW1lXCIsIFwiXCIpLFxuICAgICAgICAgIGwgPSBuZXcgbih0LCBpLCBhLCBvLCBoLCB1LCBjKTtyZXR1cm4gcyh0LCBsLCBlKSwgbDtcbiAgICB9O3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyByZW5kZXJDYW52YXM6IGkoNTc4KSwgcmVuZGVyV2ViR0w6IGkoNTc5KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTExNSwgbikge1xuICAgICAgaWYgKCEoZS5yZW5kZXJNYXNrICE9PSBlLnJlbmRlckZsYWdzIHx8IGUuY2FtZXJhRmlsdGVyID4gMCAmJiBlLmNhbWVyYUZpbHRlciAmIG4uX2lkKSkge1xuICAgICAgICB2YXIgciA9IHQuY3VycmVudENvbnRleHQsXG4gICAgICAgICAgICBzID0gZS5mcmFtZTt0LmN1cnJlbnRCbGVuZE1vZGUgIT09IGUuYmxlbmRNb2RlICYmICh0LmN1cnJlbnRCbGVuZE1vZGUgPSBlLmJsZW5kTW9kZSwgci5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0LmJsZW5kTW9kZXNbZS5ibGVuZE1vZGVdKSwgdC5jdXJyZW50QWxwaGEgIT09IGUuYWxwaGEgJiYgKHQuY3VycmVudEFscGhhID0gZS5hbHBoYSwgci5nbG9iYWxBbHBoYSA9IGUuYWxwaGEpLCB0LmN1cnJlbnRTY2FsZU1vZGUgIT09IGUuc2NhbGVNb2RlICYmICh0LmN1cnJlbnRTY2FsZU1vZGUgPSBlLnNjYWxlTW9kZSk7dmFyIGEgPSBzLnggLSBlLm9yaWdpblggKiBlLndpZHRoLFxuICAgICAgICAgICAgbyA9IHMueSAtIGUub3JpZ2luWSAqIGUuaGVpZ2h0O3Iuc2F2ZSgpLCByLnRyYW5zbGF0ZShhLCBvKSwgci50cmFuc2xhdGUoZS54IC0gbi5zY3JvbGxYICogZS5zY3JvbGxGYWN0b3JYLCBlLnkgLSBuLnNjcm9sbFkgKiBlLnNjcm9sbEZhY3RvclkpLCByLmZpbGxTdHlsZSA9IGUuY2FudmFzUGF0dGVybiwgci50cmFuc2xhdGUoLXRoaXMudGlsZVBvc2l0aW9uWCwgLXRoaXMudGlsZVBvc2l0aW9uWSksIHIuZmlsbFJlY3QodGhpcy50aWxlUG9zaXRpb25YLCB0aGlzLnRpbGVQb3NpdGlvblksIGUud2lkdGgsIGUuaGVpZ2h0KSwgci5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTExNiwgbikge1xuICAgICAgZS5yZW5kZXJNYXNrICE9PSBlLnJlbmRlckZsYWdzIHx8IGUuY2FtZXJhRmlsdGVyID4gMCAmJiBlLmNhbWVyYUZpbHRlciAmIG4uX2lkIHx8IChlLnVwZGF0ZVRpbGVUZXh0dXJlKCksIHQudGlsZUJhdGNoLmFkZFRpbGVTcHJpdGUoZSwgbikpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNTgxKSxcbiAgICAgICAgciA9IGkoMCksXG4gICAgICAgIHMgPSBpKDU4MiksXG4gICAgICAgIGEgPSBpKDU4MyksXG4gICAgICAgIG8gPSBpKDU4NCksXG4gICAgICAgIGggPSBpKDU4NSksXG4gICAgICAgIHUgPSBpKDU4NiksXG4gICAgICAgIGMgPSBpKDU4NyksXG4gICAgICAgIGwgPSBpKDU4OCksXG4gICAgICAgIGYgPSBpKDU5NyksXG4gICAgICAgIGQgPSBpKDU5OCksXG4gICAgICAgIHAgPSBpKDU5OSksXG4gICAgICAgIHYgPSBpKDYwMCksXG4gICAgICAgIGcgPSBpKDYwMSksXG4gICAgICAgIHggPSBpKDYwMiksXG4gICAgICAgIG0gPSBpKDYwMyksXG4gICAgICAgIHkgPSBpKDYwNCksXG4gICAgICAgIHcgPSBpKDYwNSksXG4gICAgICAgIEUgPSBuZXcgcih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLnNjZW5lID0gdCwgdGhpcy5kaXNwbGF5TGlzdCwgdGhpcy51cGRhdGVMaXN0O1xuICAgICAgfSwgYm9vdDogZnVuY3Rpb24gYm9vdCgpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5TGlzdCA9IHRoaXMuc2NlbmUuc3lzLmRpc3BsYXlMaXN0LCB0aGlzLnVwZGF0ZUxpc3QgPSB0aGlzLnNjZW5lLnN5cy51cGRhdGVMaXN0O1xuICAgICAgfSwgZXhpc3Rpbmc6IGZ1bmN0aW9uIGV4aXN0aW5nKHQpIHtcbiAgICAgICAgcmV0dXJuICh0LnJlbmRlckNhbnZhcyB8fCB0LnJlbmRlcldlYkdMKSAmJiB0aGlzLmRpc3BsYXlMaXN0LmFkZCh0KSwgdC5wcmVVcGRhdGUgJiYgdGhpcy51cGRhdGVMaXN0LmFkZCh0KSwgdDtcbiAgICAgIH0sIGJpdG1hcFRleHQ6IGZ1bmN0aW9uIGJpdG1hcFRleHQodCwgZSwgaSwgbiwgciwgcykge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQoZyh0aGlzLnNjZW5lLCB0LCBlLCBpLCBuLCByLCBzKSk7XG4gICAgICB9LCBkeW5hbWljQml0bWFwVGV4dDogZnVuY3Rpb24gZHluYW1pY0JpdG1hcFRleHQodCwgZSwgaSwgbiwgciwgYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQocyh0aGlzLnNjZW5lLCB0LCBlLCBpLCBuLCByLCBhKSk7XG4gICAgICB9LCBibGl0dGVyOiBmdW5jdGlvbiBibGl0dGVyKHQsIGUsIGksIHIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKG4odGhpcy5zY2VuZSwgdCwgZSwgaSwgcikpO1xuICAgICAgfSwgZWZmZWN0TGF5ZXI6IGZ1bmN0aW9uIGVmZmVjdExheWVyKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKG8odGhpcy5zY2VuZSwgdCwgZSwgaSwgbiwgciwgcykpO1xuICAgICAgfSwgZ3JhcGhpY3M6IGZ1bmN0aW9uIGdyYXBoaWNzKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKGgodGhpcy5zY2VuZSwgdCkpO1xuICAgICAgfSwgZ3JvdXA6IGZ1bmN0aW9uIGdyb3VwKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHUodGhpcy5zY2VuZSwgdCwgZSk7XG4gICAgICB9LCBpbWFnZTogZnVuY3Rpb24gaW1hZ2UodCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQoYyh0aGlzLnNjZW5lLCB0LCBlLCBpLCBuKSk7XG4gICAgICB9LCBtZXNoOiBmdW5jdGlvbiBtZXNoKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKGYodGhpcy5zY2VuZSwgdCwgZSwgaSwgbiwgciwgcykpO1xuICAgICAgfSwgcXVhZDogZnVuY3Rpb24gcXVhZCh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZChkKHRoaXMuc2NlbmUsIHQsIGUsIGksIG4pKTtcbiAgICAgIH0sIHJlbmRlclBhc3M6IGZ1bmN0aW9uIHJlbmRlclBhc3ModCwgZSwgaSwgbiwgciwgcykge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQocCh0aGlzLnNjZW5lLCB0LCBlLCBpLCBuLCByLCBzKSk7XG4gICAgICB9LCBzcHJpdGU6IGZ1bmN0aW9uIHNwcml0ZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gdih0aGlzLnNjZW5lLCB0LCBlLCBpLCBuKTtyZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQociksIHRoaXMudXBkYXRlTGlzdC5hZGQociksIHI7XG4gICAgICB9LCB0ZXh0OiBmdW5jdGlvbiB0ZXh0KHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKG0odGhpcy5zY2VuZSwgdCwgZSwgaSwgbikpO1xuICAgICAgfSwgdGlsZW1hcDogZnVuY3Rpb24gdGlsZW1hcCh0LCBlLCBpLCBuLCByLCBzLCBvLCBoLCB1LCBjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZChhKHRoaXMuc2NlbmUsIHQsIGUsIGksIG4sIHIsIHMsIG8sIGgsIHUsIGMpKTtcbiAgICAgIH0sIHN0YXRpY1RpbGVtYXA6IGZ1bmN0aW9uIHN0YXRpY1RpbGVtYXAodCwgZSwgaSwgbiwgciwgcywgYSwgbywgaCwgdSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQoeCh0aGlzLnNjZW5lLCB0LCBlLCBpLCBuLCByLCBzLCBhLCBvLCBoLCB1KSk7XG4gICAgICB9LCB0aWxlU3ByaXRlOiBmdW5jdGlvbiB0aWxlU3ByaXRlKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKHkodGhpcy5zY2VuZSwgdCwgZSwgaSwgbiwgciwgcykpO1xuICAgICAgfSwgem9uZTogZnVuY3Rpb24gem9uZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZCh3KHRoaXMuc2NlbmUsIHQsIGUsIGksIG4pKTtcbiAgICAgIH0sIHR3ZWVuOiBmdW5jdGlvbiB0d2Vlbih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLnN5cy50d2VlbnMuYWRkKHQpO1xuICAgICAgfSwgbGlnaHRMYXllcjogZnVuY3Rpb24gbGlnaHRMYXllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKGwodGhpcy5zY2VuZSkpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBFO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3NiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yNywgcykge1xuICAgICAgcmV0dXJuIG5ldyBuKHQsIGUsIGksIF9yNywgcyk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3NyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yOCwgcywgYSkge1xuICAgICAgcmV0dXJuIG5ldyBuKHQsIGUsIGksIF9yOCwgcywgYSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3OCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yOSwgcywgYSwgbywgaCwgdSwgYywgbCkge1xuICAgICAgcmV0dXJuIG5ldyBuKHQsIGUsIGksIF9yOSwgcywgYSwgbywgaCwgdSwgYywgbCk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3OSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMTAsIHMsIGEsIG8pIHtcbiAgICAgIHJldHVybiBuZXcgbih0LCBlLCBpLCBfcjEwLCBzLCBhLCBvKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDgwKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgcmV0dXJuIG5ldyBuKHQsIGUpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoODIpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpKSB7XG4gICAgICByZXR1cm4gXCJvYmplY3RcIiA9PSAodHlwZW9mIGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihlKSkgJiYgdm9pZCAwID09PSBpICYmIChpID0gZSwgZSA9IFtdKSwgbmV3IG4odCwgZSwgaSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg1NSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMTEsIHMpIHtcbiAgICAgIHJldHVybiBuZXcgbih0LCBlLCBpLCBfcjExLCBzKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE4MiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiBuZXcgbih0KTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyByZW5kZXJDYW52YXM6IGkoNTkwKSwgcmVuZGVyV2ViR0w6IGkoNTkxKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTExNywgbikge307dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTgzKTt0LmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaShuLmhhcyhcIldFQkdMX2RyYXdfYnVmZmVyc1wiKSA/IDU5MiA6IDU5Myk7XG4gICAgfSgpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3MyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMTIpIHtcbiAgICAgIHZhciBzID0gZS5zcHJpdGVzLFxuICAgICAgICAgIGEgPSBzLmxlbmd0aCxcbiAgICAgICAgICBvID0gdC5zcHJpdGVCYXRjaCxcbiAgICAgICAgICBoID0gdC5nbDtpZiAoISh0aGlzLnJlbmRlck1hc2sgIT09IHRoaXMucmVuZGVyRmxhZ3MgfHwgMCA9PT0gYSB8fCBlLmNhbWVyYUZpbHRlciA+IDAgJiYgZS5jYW1lcmFGaWx0ZXIgJiBfcjEyLl9pZCkpIHtcbiAgICAgICAgbnVsbCAhPT0gdC5jdXJyZW50UmVuZGVyZXIgJiYgdC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKSwgby5iaW5kKGUuZ0J1ZmZlclNoYWRlclBhc3MpLCBvLmluZGV4QnVmZmVyT2JqZWN0LmJpbmQoKSwgZS51cGRhdGVMaWdodHModCwgX3IxMiwgdGhpcy5saWdodFBhc3NTaGFkZXIpLCBoLmJpbmRGcmFtZWJ1ZmZlcihoLkZSQU1FQlVGRkVSLCBlLmdCdWZmZXJGYm8pLCBoLmNsZWFyQ29sb3IoMCwgMCwgMCwgMCksIGguY2xlYXIoaC5DT0xPUl9CVUZGRVJfQklUKTtmb3IgKHZhciB1ID0gMDsgdSA8IGE7ICsrdSkge1xuICAgICAgICAgIHZhciBjLFxuICAgICAgICAgICAgICBsLFxuICAgICAgICAgICAgICBmLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICB2LFxuICAgICAgICAgICAgICBnLFxuICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICBtLFxuICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICB3LFxuICAgICAgICAgICAgICBFLFxuICAgICAgICAgICAgICBULFxuICAgICAgICAgICAgICBiLFxuICAgICAgICAgICAgICBfLFxuICAgICAgICAgICAgICBBLFxuICAgICAgICAgICAgICBTLFxuICAgICAgICAgICAgICBSLFxuICAgICAgICAgICAgICBNLFxuICAgICAgICAgICAgICBPLFxuICAgICAgICAgICAgICBDLFxuICAgICAgICAgICAgICBMLFxuICAgICAgICAgICAgICBGLFxuICAgICAgICAgICAgICBJLFxuICAgICAgICAgICAgICBELFxuICAgICAgICAgICAgICBCLFxuICAgICAgICAgICAgICBQID0gc1t1XSxcbiAgICAgICAgICAgICAgayA9IFAuc3ByaXRlUmVmLFxuICAgICAgICAgICAgICBOID0gby50ZW1wTWF0cml4LFxuICAgICAgICAgICAgICBYID0gay5mcmFtZSxcbiAgICAgICAgICAgICAgVSA9ICEhWC50ZXh0dXJlLnNvdXJjZVtYLnNvdXJjZUluZGV4XS5nbFRleHR1cmUuaXNSZW5kZXJUZXh0dXJlLFxuICAgICAgICAgICAgICBZID0gay5mbGlwWCxcbiAgICAgICAgICAgICAgViA9IGsuZmxpcFkgXiBVLFxuICAgICAgICAgICAgICB6ID0gby52ZXJ0ZXhEYXRhQnVmZmVyLFxuICAgICAgICAgICAgICBHID0gei5mbG9hdFZpZXcsXG4gICAgICAgICAgICAgIEggPSB6LnVpbnRWaWV3LFxuICAgICAgICAgICAgICBqID0gMCxcbiAgICAgICAgICAgICAgVyA9IFgudXZzLFxuICAgICAgICAgICAgICBxID0gWC53aWR0aCAqIChZID8gLTEgOiAxKSxcbiAgICAgICAgICAgICAgSyA9IFguaGVpZ2h0ICogKFYgPyAtMSA6IDEpLFxuICAgICAgICAgICAgICBaID0gay54IC0gX3IxMi5zY3JvbGxYICogay5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgICBKID0gay55IC0gX3IxMi5zY3JvbGxZICogay5zY3JvbGxGYWN0b3JZLFxuICAgICAgICAgICAgICBRID0gay5zY2FsZVgsXG4gICAgICAgICAgICAgICQgPSBrLnNjYWxlWSxcbiAgICAgICAgICAgICAgdHQgPSAtay5yb3RhdGlvbixcbiAgICAgICAgICAgICAgZXQgPSBOLm1hdHJpeCxcbiAgICAgICAgICAgICAgaXQgPSAtay5kaXNwbGF5T3JpZ2luWCArIFgueCArIFgud2lkdGggKiAoWSA/IDEgOiAwKSxcbiAgICAgICAgICAgICAgbnQgPSAtay5kaXNwbGF5T3JpZ2luWSArIFgueSArIFguaGVpZ2h0ICogKFYgPyAxIDogMCksXG4gICAgICAgICAgICAgIHJ0ID0gaXQgKyBxLFxuICAgICAgICAgICAgICBzdCA9IG50ICsgSyxcbiAgICAgICAgICAgICAgYXQgPSBfcjEyLm1hdHJpeC5tYXRyaXgsXG4gICAgICAgICAgICAgIG90ID0gay5fYWxwaGFUTCxcbiAgICAgICAgICAgICAgaHQgPSBrLl9hbHBoYVRSLFxuICAgICAgICAgICAgICB1dCA9IGsuX2FscGhhQkwsXG4gICAgICAgICAgICAgIGN0ID0gay5fYWxwaGFCUixcbiAgICAgICAgICAgICAgbHQgPSBrLl90aW50VEwsXG4gICAgICAgICAgICAgIGZ0ID0gay5fdGludFRSLFxuICAgICAgICAgICAgICBkdCA9IGsuX3RpbnRCTCxcbiAgICAgICAgICAgICAgcHQgPSBrLl90aW50QlI7Ti5hcHBseUlUUlMoWiwgSiwgdHQsIFEsICQpLCBfID0gZXRbMF0sIEEgPSBldFsxXSwgUyA9IGV0WzJdLCBSID0gZXRbM10sIE0gPSBldFs0XSwgTyA9IGV0WzVdLCBDID0gYXRbMF0sIEwgPSBhdFsxXSwgRiA9IGF0WzJdLCBJID0gYXRbM10sIEQgPSBhdFs0XSwgQiA9IGF0WzVdLCBjID0gXyAqIEMgKyBBICogRiwgbCA9IF8gKiBMICsgQSAqIEksIGYgPSBTICogQyArIFIgKiBGLCBkID0gUyAqIEwgKyBSICogSSwgcCA9IE0gKiBDICsgTyAqIEYgKyBELCB2ID0gTSAqIEwgKyBPICogSSArIEIsIGcgPSBpdCAqIGMgKyBudCAqIGYgKyBwLCB4ID0gaXQgKiBsICsgbnQgKiBkICsgdiwgbSA9IGl0ICogYyArIHN0ICogZiArIHAsIHkgPSBpdCAqIGwgKyBzdCAqIGQgKyB2LCB3ID0gcnQgKiBjICsgc3QgKiBmICsgcCwgRSA9IHJ0ICogbCArIHN0ICogZCArIHYsIFQgPSBydCAqIGMgKyBudCAqIGYgKyBwLCBiID0gcnQgKiBsICsgbnQgKiBkICsgdiwgKHQuY3VycmVudFRleHR1cmVbMF0gIT09IFgudGV4dHVyZS5zb3VyY2VbWC5zb3VyY2VJbmRleF0uZ2xUZXh0dXJlIHx8IHQuY3VycmVudFRleHR1cmVbMV0gIT09IFAubm9ybWFsVGV4dHVyZVJlZi5zb3VyY2VbUC5zcHJpdGVSZWYuZnJhbWUuc291cmNlSW5kZXhdLmdsVGV4dHVyZSB8fCBvLnNob3VsZEZsdXNoKCkpICYmIChvLmZsdXNoKGUuZ0J1ZmZlclNoYWRlclBhc3MsIGUucmVuZGVyVGFyZ2V0KSwgdC5zZXRUZXh0dXJlKFgudGV4dHVyZS5zb3VyY2VbWC5zb3VyY2VJbmRleF0uZ2xUZXh0dXJlLCAwKSwgdC5zZXRUZXh0dXJlKFAubm9ybWFsVGV4dHVyZVJlZi5zb3VyY2VbUC5zcHJpdGVSZWYuZnJhbWUuc291cmNlSW5kZXhdLmdsVGV4dHVyZSwgMSkpLCBvLmRyYXdJbmRleGVkID0gITAsIG8uZHJhd2luZ01lc2ggPSAhMSwgaiA9IHouYWxsb2NhdGUoMjQpLCBvLmVsZW1lbnRDb3VudCArPSA2LCBHW2orK10gPSBnLCBHW2orK10gPSB4LCBHW2orK10gPSBXLngwLCBHW2orK10gPSBXLnkwLCBIW2orK10gPSBsdCwgR1tqKytdID0gb3QsIEdbaisrXSA9IG0sIEdbaisrXSA9IHksIEdbaisrXSA9IFcueDEsIEdbaisrXSA9IFcueTEsIEhbaisrXSA9IGR0LCBHW2orK10gPSB1dCwgR1tqKytdID0gdywgR1tqKytdID0gRSwgR1tqKytdID0gVy54MiwgR1tqKytdID0gVy55MiwgSFtqKytdID0gcHQsIEdbaisrXSA9IGN0LCBHW2orK10gPSBULCBHW2orK10gPSBiLCBHW2orK10gPSBXLngzLCBHW2orK10gPSBXLnkzLCBIW2orK10gPSBmdCwgR1tqKytdID0gaHQ7XG4gICAgICAgIH1vLmZsdXNoKGUuZ0J1ZmZlclNoYWRlclBhc3MsIGUucmVuZGVyVGFyZ2V0KSwgdC5zZXRUZXh0dXJlKHsgdGV4dHVyZTogZS5nQnVmZmVyQ29sb3JUZXggfSwgMCksIHQuc2V0VGV4dHVyZSh7IHRleHR1cmU6IGUuZ0J1ZmZlck5vcm1hbFRleCB9LCAxKSwgaC5iaW5kRnJhbWVidWZmZXIoaC5GUkFNRUJVRkZFUiwgbnVsbCksIGUubGlnaHRQYXNzU2hhZGVyLmJpbmQoKSwgaC5iaW5kQnVmZmVyKGguQVJSQVlfQlVGRkVSLCBlLmxpZ2h0UGFzc1ZCTyksIGguZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoMCksIGgudmVydGV4QXR0cmliUG9pbnRlcigwLCAyLCBoLkZMT0FULCAhMSwgRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULCAwKSwgaC5kcmF3QXJyYXlzKGguVFJJQU5HTEVTLCAwLCAzKSwgbi5TZXREaXJ0eSgpLCBvLmJpbmQoKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTE4LCBuKSB7XG4gICAgICB2YXIgciA9IGUuc3ByaXRlcyxcbiAgICAgICAgICBzID0gci5sZW5ndGgsXG4gICAgICAgICAgYSA9IHQuc3ByaXRlQmF0Y2g7aWYgKCEodGhpcy5yZW5kZXJNYXNrICE9PSB0aGlzLnJlbmRlckZsYWdzIHx8IDAgPT09IHMgfHwgZS5jYW1lcmFGaWx0ZXIgPiAwICYmIGUuY2FtZXJhRmlsdGVyICYgbi5faWQpKSB7XG4gICAgICAgIG51bGwgIT09IHQuY3VycmVudFJlbmRlcmVyICYmIHQuY3VycmVudFJlbmRlcmVyLmZsdXNoKCksIGEuYmluZChlLnBhc3NTaGFkZXIpLCBhLmluZGV4QnVmZmVyT2JqZWN0LmJpbmQoKSwgZS51cGRhdGVMaWdodHModCwgbiwgdGhpcy5wYXNzU2hhZGVyKTtmb3IgKHZhciBvID0gMDsgbyA8IHM7ICsrbykge1xuICAgICAgICAgIHZhciBoLFxuICAgICAgICAgICAgICB1LFxuICAgICAgICAgICAgICBjLFxuICAgICAgICAgICAgICBsLFxuICAgICAgICAgICAgICBmLFxuICAgICAgICAgICAgICBkLFxuICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICB2LFxuICAgICAgICAgICAgICBnLFxuICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICBtLFxuICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICB3LFxuICAgICAgICAgICAgICBFLFxuICAgICAgICAgICAgICBULFxuICAgICAgICAgICAgICBiLFxuICAgICAgICAgICAgICBfLFxuICAgICAgICAgICAgICBBLFxuICAgICAgICAgICAgICBTLFxuICAgICAgICAgICAgICBSLFxuICAgICAgICAgICAgICBNLFxuICAgICAgICAgICAgICBPLFxuICAgICAgICAgICAgICBDLFxuICAgICAgICAgICAgICBMLFxuICAgICAgICAgICAgICBGLFxuICAgICAgICAgICAgICBJLFxuICAgICAgICAgICAgICBEID0gcltvXSxcbiAgICAgICAgICAgICAgQiA9IEQuc3ByaXRlUmVmLFxuICAgICAgICAgICAgICBQID0gYS50ZW1wTWF0cml4LFxuICAgICAgICAgICAgICBrID0gQi5mcmFtZSxcbiAgICAgICAgICAgICAgTiA9ICEhay50ZXh0dXJlLnNvdXJjZVtrLnNvdXJjZUluZGV4XS5nbFRleHR1cmUuaXNSZW5kZXJUZXh0dXJlLFxuICAgICAgICAgICAgICBYID0gQi5mbGlwWCxcbiAgICAgICAgICAgICAgVSA9IEIuZmxpcFkgXiBOLFxuICAgICAgICAgICAgICBZID0gYS52ZXJ0ZXhEYXRhQnVmZmVyLFxuICAgICAgICAgICAgICBWID0gWS5mbG9hdFZpZXcsXG4gICAgICAgICAgICAgIHogPSBZLnVpbnRWaWV3LFxuICAgICAgICAgICAgICBHID0gMCxcbiAgICAgICAgICAgICAgSCA9IGsudXZzLFxuICAgICAgICAgICAgICBqID0gay53aWR0aCAqIChYID8gLTEgOiAxKSxcbiAgICAgICAgICAgICAgVyA9IGsuaGVpZ2h0ICogKFUgPyAtMSA6IDEpLFxuICAgICAgICAgICAgICBxID0gQi54IC0gbi5zY3JvbGxYICogQi5zY3JvbGxGYWN0b3JYLFxuICAgICAgICAgICAgICBLID0gQi55IC0gbi5zY3JvbGxZICogQi5zY3JvbGxGYWN0b3JZLFxuICAgICAgICAgICAgICBaID0gQi5zY2FsZVgsXG4gICAgICAgICAgICAgIEogPSBCLnNjYWxlWSxcbiAgICAgICAgICAgICAgUSA9IC1CLnJvdGF0aW9uLFxuICAgICAgICAgICAgICAkID0gUC5tYXRyaXgsXG4gICAgICAgICAgICAgIHR0ID0gLUIuZGlzcGxheU9yaWdpblggKyBrLnggKyBrLndpZHRoICogKFggPyAxIDogMCksXG4gICAgICAgICAgICAgIGV0ID0gLUIuZGlzcGxheU9yaWdpblkgKyBrLnkgKyBrLmhlaWdodCAqIChVID8gMSA6IDApLFxuICAgICAgICAgICAgICBpdCA9IHR0ICsgaixcbiAgICAgICAgICAgICAgbnQgPSBldCArIFcsXG4gICAgICAgICAgICAgIHJ0ID0gbi5tYXRyaXgubWF0cml4LFxuICAgICAgICAgICAgICBzdCA9IEIuX2FscGhhVEwsXG4gICAgICAgICAgICAgIGF0ID0gQi5fYWxwaGFUUixcbiAgICAgICAgICAgICAgb3QgPSBCLl9hbHBoYUJMLFxuICAgICAgICAgICAgICBodCA9IEIuX2FscGhhQlIsXG4gICAgICAgICAgICAgIHV0ID0gQi5fdGludFRMLFxuICAgICAgICAgICAgICBjdCA9IEIuX3RpbnRUUixcbiAgICAgICAgICAgICAgbHQgPSBCLl90aW50QkwsXG4gICAgICAgICAgICAgIGZ0ID0gQi5fdGludEJSO1AuYXBwbHlJVFJTKHEsIEssIFEsIFosIEopLCBUID0gJFswXSwgYiA9ICRbMV0sIF8gPSAkWzJdLCBBID0gJFszXSwgUyA9ICRbNF0sIFIgPSAkWzVdLCBNID0gcnRbMF0sIE8gPSBydFsxXSwgQyA9IHJ0WzJdLCBMID0gcnRbM10sIEYgPSBydFs0XSwgSSA9IHJ0WzVdLCBoID0gVCAqIE0gKyBiICogQywgdSA9IFQgKiBPICsgYiAqIEwsIGMgPSBfICogTSArIEEgKiBDLCBsID0gXyAqIE8gKyBBICogTCwgZiA9IFMgKiBNICsgUiAqIEMgKyBGLCBkID0gUyAqIE8gKyBSICogTCArIEksIHAgPSB0dCAqIGggKyBldCAqIGMgKyBmLCB2ID0gdHQgKiB1ICsgZXQgKiBsICsgZCwgZyA9IHR0ICogaCArIG50ICogYyArIGYsIHggPSB0dCAqIHUgKyBudCAqIGwgKyBkLCBtID0gaXQgKiBoICsgbnQgKiBjICsgZiwgeSA9IGl0ICogdSArIG50ICogbCArIGQsIHcgPSBpdCAqIGggKyBldCAqIGMgKyBmLCBFID0gaXQgKiB1ICsgZXQgKiBsICsgZCwgKHQuY3VycmVudFRleHR1cmVbMF0gIT09IGsudGV4dHVyZS5zb3VyY2Vbay5zb3VyY2VJbmRleF0uZ2xUZXh0dXJlIHx8IHQuY3VycmVudFRleHR1cmVbMV0gIT09IEQubm9ybWFsVGV4dHVyZVJlZi5zb3VyY2VbRC5zcHJpdGVSZWYuZnJhbWUuc291cmNlSW5kZXhdLmdsVGV4dHVyZSB8fCBhLnNob3VsZEZsdXNoKCkpICYmIChhLmZsdXNoKGUucGFzc1NoYWRlciwgZS5yZW5kZXJUYXJnZXQpLCB0LnNldFRleHR1cmUoay50ZXh0dXJlLnNvdXJjZVtrLnNvdXJjZUluZGV4XS5nbFRleHR1cmUsIDApLCB0LnNldFRleHR1cmUoRC5ub3JtYWxUZXh0dXJlUmVmLnNvdXJjZVtELnNwcml0ZVJlZi5mcmFtZS5zb3VyY2VJbmRleF0uZ2xUZXh0dXJlLCAxKSksIGEuZHJhd0luZGV4ZWQgPSAhMCwgYS5kcmF3aW5nTWVzaCA9ICExLCBHID0gWS5hbGxvY2F0ZSgyNCksIGEuZWxlbWVudENvdW50ICs9IDYsIFZbRysrXSA9IHAsIFZbRysrXSA9IHYsIFZbRysrXSA9IEgueDAsIFZbRysrXSA9IEgueTAsIHpbRysrXSA9IHV0LCBWW0crK10gPSBzdCwgVltHKytdID0gZywgVltHKytdID0geCwgVltHKytdID0gSC54MSwgVltHKytdID0gSC55MSwgeltHKytdID0gbHQsIFZbRysrXSA9IG90LCBWW0crK10gPSBtLCBWW0crK10gPSB5LCBWW0crK10gPSBILngyLCBWW0crK10gPSBILnkyLCB6W0crK10gPSBmdCwgVltHKytdID0gaHQsIFZbRysrXSA9IHcsIFZbRysrXSA9IEUsIFZbRysrXSA9IEgueDMsIFZbRysrXSA9IEgueTMsIHpbRysrXSA9IGN0LCBWW0crK10gPSBhdDtcbiAgICAgICAgfWEuZmx1c2goZS5wYXNzU2hhZGVyLCBlLnJlbmRlclRhcmdldCk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuLCByLCBzLCBhLCBvKSB7XG4gICAgICAgIHRoaXMueCA9IHQsIHRoaXMueSA9IGUsIHRoaXMueiA9IGksIHRoaXMucmFkaXVzID0gbiwgdGhpcy5yID0gciwgdGhpcy5nID0gcywgdGhpcy5iID0gYSwgdGhpcy5hdHRlbnVhdGlvbiA9IG8sIHRoaXMuc2Nyb2xsRmFjdG9yWCA9IDEsIHRoaXMuc2Nyb2xsRmFjdG9yWSA9IDE7XG4gICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0LCBlLCBpLCBuLCByLCBzLCBhLCBvKSB7XG4gICAgICAgIHRoaXMueCA9IHQsIHRoaXMueSA9IGUsIHRoaXMueiA9IGksIHRoaXMucmFkaXVzID0gbiwgdGhpcy5yID0gciwgdGhpcy5nID0gcywgdGhpcy5iID0gYSwgdGhpcy5hdHRlbnVhdGlvbiA9IG8sIHRoaXMuc2Nyb2xsRmFjdG9yWCA9IDEsIHRoaXMuc2Nyb2xsRmFjdG9yWSA9IDE7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgdGhpcy5zcHJpdGVSZWYgPSB0LCB0aGlzLm5vcm1hbFRleHR1cmVSZWYgPSBlO1xuICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCwgZSkge1xuICAgICAgICB0aGlzLnNwcml0ZVJlZiA9IHQsIHRoaXMubm9ybWFsVGV4dHVyZVJlZiA9IGU7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdC5leHBvcnRzID0geyBNQVhfTElHSFRTOiAxMCwgREVGRVJSRURfTUFYX0xJR0hUUzogMTAwIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDU2KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3IxMywgcywgYSwgbykge1xuICAgICAgcmV0dXJuIG5ldyBuKHQsIGUsIGksIF9yMTMsIHMsIGEsIG8pO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoODMpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpLCBfcjE0LCBzKSB7XG4gICAgICByZXR1cm4gbmV3IG4odCwgZSwgaSwgX3IxNCwgcyk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4NCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMTUsIHMsIGEsIG8pIHtcbiAgICAgIHJldHVybiBuZXcgbih0LCBlLCBpLCBfcjE1LCBzLCBhLCBvKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDM5KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3IxNiwgcykge1xuICAgICAgcmV0dXJuIG5ldyBuKHQsIGUsIGksIF9yMTYsIHMpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoODUpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpLCBfcjE3LCBzLCBhKSB7XG4gICAgICByZXR1cm4gbmV3IG4odCwgZSwgaSwgX3IxNywgcywgYSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4NiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMTgsIHMsIGEsIG8sIGgsIHUsIGMsIGwpIHtcbiAgICAgIHJldHVybiBuZXcgbih0LCBlLCBpLCBfcjE4LCBzLCBhLCBvLCBoLCB1LCBjLCBsKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDg3KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3IxOSwgcykge1xuICAgICAgcmV0dXJuIG5ldyBuKHQsIGUsIGksIF9yMTksIHMpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoODgpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpLCBfcjIwLCBzLCBhLCBvKSB7XG4gICAgICByZXR1cm4gbmV3IG4odCwgZSwgaSwgX3IyMCwgcywgYSwgbyk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg2NCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMjEsIHMpIHtcbiAgICAgIHJldHVybiBuZXcgbih0LCBlLCBpLCBfcjIxLCBzKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gKGkoNDApLCBpKDYyNCkpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIHQpO1xuICAgICAgfSwgcG9pbnRTY3JlZW5Ub1dvcmxkSGl0VGVzdDogZnVuY3Rpb24gcG9pbnRTY3JlZW5Ub1dvcmxkSGl0VGVzdCh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hbmFnZXIucG9pbnRTY3JlZW5Ub1dvcmxkSGl0VGVzdCh0LCBlLCBpLCBuKTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiRFJBR19FVkVOVFwiKSwgdGhpcy5wb2ludGVyID0gdCwgdGhpcy5ldmVudCA9IHQuZXZlbnQsIHRoaXMuZ2FtZU9iamVjdCA9IGUsIHRoaXMuY2FtZXJhID0gdC5jYW1lcmEsIHRoaXMueCA9IHQueCwgdGhpcy55ID0gdC55LCB0aGlzLmRyYWdYID0gdC54IC0gZS5pbnB1dC5kcmFnWCwgdGhpcy5kcmFnWSA9IHQueSAtIGUuaW5wdXQuZHJhZ1k7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIkRSQUdfRU5EX0VWRU5UXCIpLCB0aGlzLnBvaW50ZXIgPSB0LCB0aGlzLmV2ZW50ID0gdC5ldmVudCwgdGhpcy5nYW1lT2JqZWN0ID0gZSwgdGhpcy5jYW1lcmEgPSB0LmNhbWVyYSwgdGhpcy54ID0gdC54LCB0aGlzLnkgPSB0LnksIHRoaXMuZHJvcHBlZCA9IGksIHRoaXMuZHJhZ1ggPSBlLmlucHV0LmRyYWdYLCB0aGlzLmRyYWdZID0gZS5pbnB1dC5kcmFnWTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGkpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiRFJBR19FTlRFUl9FVkVOVFwiKSwgdGhpcy5wb2ludGVyID0gdCwgdGhpcy5ldmVudCA9IHQuZXZlbnQsIHRoaXMuZ2FtZU9iamVjdCA9IGUsIHRoaXMuY2FtZXJhID0gdC5jYW1lcmEsIHRoaXMuZHJvcFpvbmUgPSBpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJEUkFHX0xFQVZFX0VWRU5UXCIpLCB0aGlzLnBvaW50ZXIgPSB0LCB0aGlzLmV2ZW50ID0gdC5ldmVudCwgdGhpcy5nYW1lT2JqZWN0ID0gZSwgdGhpcy5jYW1lcmEgPSB0LmNhbWVyYSwgdGhpcy5kcm9wWm9uZSA9IGk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpKSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIkRSQUdfT1ZFUl9FVkVOVFwiKSwgdGhpcy5wb2ludGVyID0gdCwgdGhpcy5ldmVudCA9IHQuZXZlbnQsIHRoaXMuZ2FtZU9iamVjdCA9IGUsIHRoaXMuY2FtZXJhID0gdC5jYW1lcmEsIHRoaXMuZHJvcFpvbmUgPSBpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJEUkFHX1NUQVJUX0VWRU5UXCIpLCB0aGlzLnBvaW50ZXIgPSB0LCB0aGlzLmV2ZW50ID0gdC5ldmVudCwgdGhpcy5nYW1lT2JqZWN0ID0gZSwgdGhpcy5jYW1lcmEgPSB0LmNhbWVyYSwgdGhpcy54ID0gdC54LCB0aGlzLnkgPSB0LnksIHRoaXMuZHJhZ1ggPSBlLmlucHV0LmRyYWdYLCB0aGlzLmRyYWdZID0gZS5pbnB1dC5kcmFnWTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGkpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiRFJPUF9FVkVOVFwiKSwgdGhpcy5wb2ludGVyID0gdCwgdGhpcy5ldmVudCA9IHQuZXZlbnQsIHRoaXMuZ2FtZU9iamVjdCA9IGUsIHRoaXMuY2FtZXJhID0gdC5jYW1lcmEsIHRoaXMuZHJvcFpvbmUgPSBpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJHQU1FX09CSkVDVF9ET1dOX0VWRU5UXCIpLCB0aGlzLnBvaW50ZXIgPSB0LCB0aGlzLmV2ZW50ID0gdC5ldmVudCwgdGhpcy5nYW1lT2JqZWN0ID0gZSwgdGhpcy5jYW1lcmEgPSB0LmNhbWVyYSwgdGhpcy54ID0gZS5pbnB1dC5sb2NhbFgsIHRoaXMueSA9IGUuaW5wdXQubG9jYWxZO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJHQU1FX09CSkVDVF9NT1ZFX0VWRU5UXCIpLCB0aGlzLnBvaW50ZXIgPSB0LCB0aGlzLmV2ZW50ID0gdC5ldmVudCwgdGhpcy5nYW1lT2JqZWN0ID0gZSwgdGhpcy5jYW1lcmEgPSB0LmNhbWVyYSwgdGhpcy54ID0gZS5pbnB1dC5sb2NhbFgsIHRoaXMueSA9IGUuaW5wdXQubG9jYWxZO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJHQU1FX09CSkVDVF9PVVRfRVZFTlRcIiksIHRoaXMucG9pbnRlciA9IHQsIHRoaXMuZXZlbnQgPSB0LmV2ZW50LCB0aGlzLmdhbWVPYmplY3QgPSBlLCB0aGlzLmNhbWVyYSA9IHQuY2FtZXJhO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJHQU1FX09CSkVDVF9PVkVSX0VWRU5UXCIpLCB0aGlzLnBvaW50ZXIgPSB0LCB0aGlzLmV2ZW50ID0gdC5ldmVudCwgdGhpcy5nYW1lT2JqZWN0ID0gZSwgdGhpcy5jYW1lcmEgPSB0LmNhbWVyYSwgdGhpcy54ID0gZS5pbnB1dC5sb2NhbFgsIHRoaXMueSA9IGUuaW5wdXQubG9jYWxZO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJHQU1FX09CSkVDVF9VUF9FVkVOVFwiKSwgdGhpcy5wb2ludGVyID0gdCwgdGhpcy5ldmVudCA9IHQuZXZlbnQsIHRoaXMuZ2FtZU9iamVjdCA9IGUsIHRoaXMuY2FtZXJhID0gdC5jYW1lcmEsIHRoaXMueCA9IGUuaW5wdXQubG9jYWxYLCB0aGlzLnkgPSBlLmlucHV0LmxvY2FsWTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiUE9JTlRFUl9ET1dOX0VWRU5UXCIpLCB0aGlzLnBvaW50ZXIgPSB0LCB0aGlzLmV2ZW50ID0gdC5ldmVudCwgdGhpcy5jYW1lcmEgPSB0LmNhbWVyYSwgdGhpcy54ID0gdC54LCB0aGlzLnkgPSB0LnksIHRoaXMubGlzdCA9IGUsIHRoaXMuZ2FtZU9iamVjdCA9IGVbMF07XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgRXh0ZW5kczogciwgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHIuY2FsbCh0aGlzLCBcIlBPSU5URVJfTU9WRV9FVkVOVFwiKSwgdGhpcy5wb2ludGVyID0gdCwgdGhpcy5ldmVudCA9IHQuZXZlbnQsIHRoaXMuY2FtZXJhID0gdC5jYW1lcmEsIHRoaXMueCA9IHQueCwgdGhpcy55ID0gdC55LCB0aGlzLmxpc3QgPSBlLCB0aGlzLmdhbWVPYmplY3QgPSBlWzBdO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJQT0lOVEVSX09VVF9FVkVOVFwiKSwgdGhpcy5wb2ludGVyID0gdCwgdGhpcy5ldmVudCA9IHQuZXZlbnQsIHRoaXMuY2FtZXJhID0gdC5jYW1lcmEsIHRoaXMueCA9IHQueCwgdGhpcy55ID0gdC55LCB0aGlzLmxpc3QgPSBlLCB0aGlzLmdhbWVPYmplY3QgPSBlWzBdO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJQT0lOVEVSX09WRVJfRVZFTlRcIiksIHRoaXMucG9pbnRlciA9IHQsIHRoaXMuZXZlbnQgPSB0LmV2ZW50LCB0aGlzLmNhbWVyYSA9IHQuY2FtZXJhLCB0aGlzLnggPSB0LngsIHRoaXMueSA9IHQueSwgdGhpcy5saXN0ID0gZSwgdGhpcy5nYW1lT2JqZWN0ID0gZVswXTtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiUE9JTlRFUl9VUF9FVkVOVFwiKSwgdGhpcy5wb2ludGVyID0gdCwgdGhpcy5ldmVudCA9IHQuZXZlbnQsIHRoaXMuY2FtZXJhID0gdC5jYW1lcmEsIHRoaXMueCA9IHQueCwgdGhpcy55ID0gdC55LCB0aGlzLmxpc3QgPSBlLCB0aGlzLmdhbWVPYmplY3QgPSBlWzBdO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSB0LCB0aGlzLm1hbmFnZXIgPSB0LnN5cy5nYW1lLmlucHV0LCB0aGlzLmRpc3BsYXlMaXN0LCB0aGlzLmNhbWVyYXMsIHRoaXMuZXZlbnRzID0gdGhpcy5tYW5hZ2VyLmV2ZW50cywgdGhpcy5rZXlib2FyZCA9IHRoaXMubWFuYWdlci5rZXlib2FyZCwgdGhpcy5tb3VzZSA9IHRoaXMubWFuYWdlci5tb3VzZSwgdGhpcy50b3BPbmx5ID0gITAsIHRoaXMucG9sbFJhdGUgPSAtMSwgdGhpcy5fcG9sbFRpbWVyID0gMCwgdGhpcy5kcmFnRGlzdGFuY2VUaHJlc2hvbGQgPSAwLCB0aGlzLmRyYWdUaW1lVGhyZXNob2xkID0gMCwgdGhpcy5fdGVtcCA9IFtdLCB0aGlzLl9saXN0ID0gW10sIHRoaXMuX3BlbmRpbmdJbnNlcnRpb24gPSBbXSwgdGhpcy5fcGVuZGluZ1JlbW92YWwgPSBbXSwgdGhpcy5fZHJhZ2dhYmxlID0gW10sIHRoaXMuX2RyYWcgPSB7IDA6IFtdLCAxOiBbXSwgMjogW10sIDM6IFtdLCA0OiBbXSwgNTogW10sIDY6IFtdLCA3OiBbXSwgODogW10sIDk6IFtdIH0sIHRoaXMuX292ZXIgPSB7IDA6IFtdLCAxOiBbXSwgMjogW10sIDM6IFtdLCA0OiBbXSwgNTogW10sIDY6IFtdLCA3OiBbXSwgODogW10sIDk6IFtdIH0sIHRoaXMuX3ZhbGlkVHlwZXMgPSBbXCJvbkRvd25cIiwgXCJvblVwXCIsIFwib25PdmVyXCIsIFwib25PdXRcIiwgXCJvbk1vdmVcIiwgXCJvbkRyYWdTdGFydFwiLCBcIm9uRHJhZ1wiLCBcIm9uRHJhZ0VuZFwiLCBcIm9uRHJhZ0VudGVyXCIsIFwib25EcmFnTGVhdmVcIiwgXCJvbkRyYWdPdmVyXCIsIFwib25Ecm9wXCJdO1xuICAgICAgfSwgYm9vdDogaSg2MjUpLCBiZWdpbjogaSg2MjYpLCBjbGVhcjogaSg2MjcpLCB1cGRhdGU6IGkoNjI4KSwgaGl0VGVzdFBvaW50ZXI6IGkoNjI5KSwgZGlzYWJsZTogaSg2MzApLCBlbmFibGU6IGkoNjMxKSwgcXVldWVGb3JJbnNlcnRpb246IGkoNjMyKSwgcXVldWVGb3JSZW1vdmFsOiBpKDYzMyksIHNldHBvbGxSYXRlOiBpKDYzNCksIHNldHBvbGxBbHdheXM6IGkoNjM1KSwgc2V0cG9sbE9uTW92ZTogaSg2MzYpLCBzZXRIaXRBcmVhOiBpKDYzNyksIHNldEhpdEFyZWFDaXJjbGU6IGkoNjM4KSwgc2V0SGl0QXJlYUVsbGlwc2U6IGkoNjM5KSwgc2V0SGl0QXJlYUZyb21UZXh0dXJlOiBpKDY0MCksIHNldEhpdEFyZWFSZWN0YW5nbGU6IGkoNjQxKSwgc2V0SGl0QXJlYVRyaWFuZ2xlOiBpKDY0MiksIHNldERyYWdnYWJsZTogaSg2NDMpLCBzZXRDYWxsYmFjazogaSg2NDQpLCBzZXRDYWxsYmFja3M6IGkoNjQ1KSwgc2V0T25Eb3duQ2FsbGJhY2s6IGkoNjQ2KSwgc2V0T25PdXRDYWxsYmFjazogaSg2NDcpLCBzZXRPbk92ZXJDYWxsYmFjazogaSg2NDgpLCBzZXRPblVwQ2FsbGJhY2s6IGkoNjQ5KSwgc2V0T25Nb3ZlQ2FsbGJhY2s6IGkoNjUwKSwgcHJvY2Vzc092ZXJPdXRFdmVudHM6IGkoNjUxKSwgcHJvY2Vzc0Rvd25FdmVudHM6IGkoNjUyKSwgcHJvY2Vzc0RyYWdFdmVudHM6IGkoNjUzKSwgcHJvY2Vzc1VwRXZlbnRzOiBpKDY1NCksIHByb2Nlc3NNb3ZlRXZlbnRzOiBpKDY1NSksIHNvcnRHYW1lT2JqZWN0czogaSg2NTYpLCBzb3J0SW50ZXJhY3RpdmVPYmplY3RzOiBpKDY1NyksIHNvcnRIYW5kbGVyR086IGkoNjU4KSwgc29ydEhhbmRsZXJJTzogaSg2NTkpLCBzaHV0ZG93bjogZnVuY3Rpb24gc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuX3RlbXAubGVuZ3RoID0gMCwgdGhpcy5fbGlzdC5sZW5ndGggPSAwLCB0aGlzLl9kcmFnZ2FibGUubGVuZ3RoID0gMCwgdGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoID0gMCwgdGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGggPSAwO2ZvciAodmFyIHQgPSAwOyB0IDwgMTA7IHQrKykge1xuICAgICAgICAgIHRoaXMuX2RyYWdbdF0gPSBbXSwgdGhpcy5fb3Zlclt0XSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNodXRkb3duKCksIHRoaXMuc2NlbmUgPSB2b2lkIDAsIHRoaXMuY2FtZXJhcyA9IHZvaWQgMCwgdGhpcy5tYW5hZ2VyID0gdm9pZCAwLCB0aGlzLmV2ZW50cyA9IHZvaWQgMCwgdGhpcy5rZXlib2FyZCA9IHZvaWQgMCwgdGhpcy5tb3VzZSA9IHZvaWQgMDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICB0aGlzLmNhbWVyYXMgPSB0aGlzLnNjZW5lLnN5cy5jYW1lcmFzLCB0aGlzLmRpc3BsYXlMaXN0ID0gdGhpcy5zY2VuZS5zeXMuZGlzcGxheUxpc3Q7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIHZhciB0ID0gdGhpcy5fcGVuZGluZ1JlbW92YWwsXG4gICAgICAgICAgZSA9IHRoaXMuX3BlbmRpbmdJbnNlcnRpb24sXG4gICAgICAgICAgaSA9IHQubGVuZ3RoLFxuICAgICAgICAgIG4gPSBlLmxlbmd0aDtpZiAoMCAhPT0gaSB8fCAwICE9PSBuKSB7XG4gICAgICAgIGZvciAodmFyIHIgPSB0aGlzLl9saXN0LCBzID0gMDsgcyA8IGk7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gdFtzXSxcbiAgICAgICAgICAgICAgbyA9IHIuaW5kZXhPZihhKTtvID4gLTEgJiYgKHIuc3BsaWNlKG8sIDEpLCB0aGlzLmNsZWFyKGEpKTtcbiAgICAgICAgfXQubGVuZ3RoID0gMCwgdGhpcy5fbGlzdCA9IHIuY29uY2F0KGUuc3BsaWNlKDApKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gdC5pbnB1dDtyZXR1cm4gZS5nYW1lT2JqZWN0ID0gdm9pZCAwLCBlLnRhcmdldCA9IHZvaWQgMCwgZS5oaXRBcmVhID0gdm9pZCAwLCBlLmhpdEFyZWFDYWxsYmFjayA9IHZvaWQgMCwgZS5jYWxsYmFja0NvbnRleHQgPSB2b2lkIDAsIHQuaW5wdXQgPSBudWxsLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdmFyIGkgPSB0aGlzLm1hbmFnZXIuYWN0aXZlUG9pbnRlcixcbiAgICAgICAgICBuID0gaS5kaXJ0eSB8fCAwID09PSB0aGlzLnBvbGxSYXRlO3RoaXMucG9sbFJhdGUgPiAtMSAmJiAodGhpcy5fcG9sbFRpbWVyIC09IGUsIHRoaXMuX3BvbGxUaW1lciA8IDAgJiYgKG4gPSAhMCwgdGhpcy5fcG9sbFRpbWVyID0gdGhpcy5wb2xsUmF0ZSkpLCBuICYmICh0aGlzLl90ZW1wID0gdGhpcy5oaXRUZXN0UG9pbnRlcihpKSwgdGhpcy5zb3J0R2FtZU9iamVjdHModGhpcy5fdGVtcCksIHRoaXMucHJvY2Vzc0RyYWdFdmVudHMoaSwgdCksIHRoaXMucHJvY2Vzc092ZXJPdXRFdmVudHMoaSksIGkuanVzdERvd24gJiYgdGhpcy5wcm9jZXNzRG93bkV2ZW50cyhpKSwgaS5qdXN0VXAgJiYgdGhpcy5wcm9jZXNzVXBFdmVudHMoaSksIGkuanVzdE1vdmVkICYmIHRoaXMucHJvY2Vzc01vdmVFdmVudHMoaSkpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB0aGlzLmNhbWVyYXMuZ2V0Q2FtZXJhQmVsb3dQb2ludGVyKHQpO3JldHVybiBlID8gKHQuY2FtZXJhID0gZSwgdGhpcy5tYW5hZ2VyLmhpdFRlc3QodGhpcy5fbGlzdCwgdC54LCB0LnksIGUpKSA6IFtdO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdC5pbnB1dC5lbmFibGVkID0gITE7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTExOSkge1xuICAgICAgcmV0dXJuIHQuaW5wdXQgPyB0LmlucHV0LmVuYWJsZWQgPSAhMCA6IHRoaXMuc2V0SGl0QXJlYSh0LCBlLCBfaTExOSksIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gLTEgPT09IHRoaXMuX3BlbmRpbmdJbnNlcnRpb24uaW5kZXhPZih0KSAmJiAtMSA9PT0gdGhpcy5fbGlzdC5pbmRleE9mKHQpICYmIHRoaXMuX3BlbmRpbmdJbnNlcnRpb24ucHVzaCh0KSwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nUmVtb3ZhbC5wdXNoKHQpLCB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHRoaXMucG9sbFJhdGUgPSB0LCB0aGlzLl9wb2xsVGltZXIgPSAwLCB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wb2xsUmF0ZSA9IDAsIHRoaXMuX3BvbGxUaW1lciA9IDAsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvbGxSYXRlID0gLTEsIHRoaXMuX3BvbGxUaW1lciA9IDAsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxODQpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBlKSByZXR1cm4gdGhpcy5zZXRIaXRBcmVhRnJvbVRleHR1cmUodCk7QXJyYXkuaXNBcnJheSh0KSB8fCAodCA9IFt0XSk7Zm9yICh2YXIgciA9IDA7IHIgPCB0Lmxlbmd0aDsgcisrKSB7XG4gICAgICAgIHZhciBzID0gdFtyXTtzLmlucHV0ID0gbihzLCBlLCBpKSwgdGhpcy5xdWV1ZUZvckluc2VydGlvbihzKTtcbiAgICAgIH1yZXR1cm4gdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQ4KSxcbiAgICAgICAgciA9IGkoMzYpLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlLCBpLCBfczQsIGEpIHtcbiAgICAgIHZvaWQgMCA9PT0gYSAmJiAoYSA9IHIpO3ZhciBvID0gbmV3IG4oZSwgaSwgX3M0KTtyZXR1cm4gdGhpcy5zZXRIaXRBcmVhKHQsIG8sIGEpO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoODkpLFxuICAgICAgICByID0gaSg1NyksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUsIGksIF9zNSwgYSwgbykge1xuICAgICAgdm9pZCAwID09PSBvICYmIChvID0gcik7dmFyIGggPSBuZXcgbihlLCBpLCBfczUsIGEpO3JldHVybiB0aGlzLnNldEhpdEFyZWEodCwgaCwgbyk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxODQpLFxuICAgICAgICByID0gaSgxNSksXG4gICAgICAgIHMgPSBpKDI3KSxcbiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCwgZSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gcyksIEFycmF5LmlzQXJyYXkodCkgfHwgKHQgPSBbdF0pO2ZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYSA9IHRbaV0sXG4gICAgICAgICAgICBvID0gYS5mcmFtZSxcbiAgICAgICAgICAgIGggPSAwLFxuICAgICAgICAgICAgdSA9IDA7byA/IChoID0gby53aWR0aCwgdSA9IG8uaGVpZ2h0KSA6IGEud2lkdGggJiYgKGggPSBhLndpZHRoLCB1ID0gYS5oZWlnaHQpLCAwICE9PSBoICYmIDAgIT09IHUgJiYgKGEuaW5wdXQgPSBuKGEsIG5ldyByKDAsIDAsIGgsIHUpLCBlKSwgdGhpcy5xdWV1ZUZvckluc2VydGlvbihhKSk7XG4gICAgICB9cmV0dXJuIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNSksXG4gICAgICAgIHIgPSBpKDI3KSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSwgX3M2LCBhLCBvKSB7XG4gICAgICB2b2lkIDAgPT09IG8gJiYgKG8gPSByKTt2YXIgaCA9IG5ldyBuKGUsIGksIF9zNiwgYSk7cmV0dXJuIHRoaXMuc2V0SGl0QXJlYSh0LCBoLCBvKTtcbiAgICB9O3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQxKSxcbiAgICAgICAgciA9IGkoNDcpLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlLCBpLCBfczcsIGEsIG8sIGgsIHUpIHtcbiAgICAgIHZvaWQgMCA9PT0gdSAmJiAodSA9IHIpO3ZhciBjID0gbmV3IG4oZSwgaSwgX3M3LCBhLCBvLCBoKTtyZXR1cm4gdGhpcy5zZXRIaXRBcmVhKHQsIGMsIHUpO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gITApLCBBcnJheS5pc0FycmF5KHQpIHx8ICh0ID0gW3RdKTtmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG4gPSB0W2ldO24uaW5wdXQuZHJhZ2dhYmxlID0gZTt2YXIgciA9IHRoaXMuX2RyYWdnYWJsZS5pbmRleE9mKG4pO2UgJiYgLTEgPT09IHIgPyB0aGlzLl9kcmFnZ2FibGUucHVzaChuKSA6ICFlICYmIHIgPiAtMSAmJiB0aGlzLl9kcmFnZ2FibGUuc3BsaWNlKHIsIDEpO1xuICAgICAgfXJldHVybiB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMjAsIG4pIHtcbiAgICAgIGlmICgtMSA9PT0gdGhpcy5fdmFsaWRUeXBlcy5pbmRleE9mKGUpKSByZXR1cm4gdGhpcztBcnJheS5pc0FycmF5KHQpIHx8ICh0ID0gW3RdKTtmb3IgKHZhciByID0gMDsgciA8IHQubGVuZ3RoOyByKyspIHtcbiAgICAgICAgdmFyIHMgPSB0W3JdO3MuaW5wdXQgJiYgKHMuaW5wdXRbZV0gPSBfaTEyMCwgbiAmJiAocy5pbnB1dC5jYWxsYmFja0NvbnRleHQgPSBuKSk7XG4gICAgICB9cmV0dXJuIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgdmFyIGkgPSBuKGUsIFwib25Eb3duXCIsIG51bGwpLFxuICAgICAgICAgIHIgPSBuKGUsIFwib25VcFwiLCBudWxsKSxcbiAgICAgICAgICBzID0gbihlLCBcIm9uT3ZlclwiLCBudWxsKSxcbiAgICAgICAgICBhID0gbihlLCBcIm9uT3V0XCIsIG51bGwpLFxuICAgICAgICAgIG8gPSBuKGUsIFwib25Nb3ZlXCIsIG51bGwpLFxuICAgICAgICAgIGggPSBuKGUsIFwiY29udGV4dFwiLCBudWxsKTtyZXR1cm4gaSAmJiB0aGlzLnNldE9uRG93bkNhbGxiYWNrKHQsIGksIGgpLCByICYmIHRoaXMuc2V0T25Eb3duQ2FsbGJhY2sodCwgciwgaCksIHMgJiYgdGhpcy5zZXRPbkRvd25DYWxsYmFjayh0LCBzLCBoKSwgYSAmJiB0aGlzLnNldE9uRG93bkNhbGxiYWNrKHQsIGEsIGgpLCBvICYmIHRoaXMuc2V0T25Nb3ZlQ2FsbGJhY2sodCwgbywgaCksIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEyMSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0Q2FsbGJhY2sodCwgXCJvbkRvd25cIiwgZSwgX2kxMjEpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMjIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldENhbGxiYWNrKHQsIFwib25PdXRcIiwgZSwgX2kxMjIpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMjMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldENhbGxiYWNrKHQsIFwib25PdmVyXCIsIGUsIF9pMTIzKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTI0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXRDYWxsYmFjayh0LCBcIm9uVXBcIiwgZSwgX2kxMjQpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMjUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldENhbGxiYWNrKHQsIFwib25Nb3ZlXCIsIGUsIF9pMTI1KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQwKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgdmFyIGUsXG4gICAgICAgICAgaSxcbiAgICAgICAgICByID0gdGhpcy5fdGVtcCxcbiAgICAgICAgICBzID0gW10sXG4gICAgICAgICAgYSA9IFtdLFxuICAgICAgICAgIG8gPSBbXSxcbiAgICAgICAgICBoID0gdGhpcy5fb3Zlclt0LmlkXTtmb3IgKGUgPSAwOyBlIDwgaC5sZW5ndGg7IGUrKykge1xuICAgICAgICBpID0gaFtlXSwgLTEgPT09IHIuaW5kZXhPZihpKSA/IHMucHVzaChpKSA6IG8ucHVzaChpKTtcbiAgICAgIH1mb3IgKGUgPSAwOyBlIDwgci5sZW5ndGg7IGUrKykge1xuICAgICAgICBpID0gcltlXSwgLTEgPT09IGguaW5kZXhPZihpKSAmJiBhLnB1c2goaSk7XG4gICAgICB9dmFyIHUgPSBzLmxlbmd0aDtpZiAodSA+IDApIGZvciAodGhpcy5zb3J0R2FtZU9iamVjdHMocyksIHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBuLlBPSU5URVJfT1VUKHQsIHMpKSwgZSA9IDA7IGUgPCB1ICYmIChpID0gc1tlXSwgdGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IG4uR0FNRV9PQkpFQ1RfT1VUKHQsIGkpKSwgaS5pbnB1dC5vbk91dChpLCB0KSwgIXRoaXMudG9wT25seSk7IGUrKykge31pZiAoKHUgPSBhLmxlbmd0aCkgPiAwKSBmb3IgKHRoaXMuc29ydEdhbWVPYmplY3RzKGEpLCB0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgbi5QT0lOVEVSX09WRVIodCwgYSkpLCBlID0gMDsgZSA8IHUgJiYgKGkgPSBhW2VdLCB0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgbi5HQU1FX09CSkVDVF9PVkVSKHQsIGkpKSwgaS5pbnB1dC5vbk92ZXIoaSwgdCwgaS5pbnB1dC5sb2NhbFgsIGkuaW5wdXQubG9jYWxZKSwgIXRoaXMudG9wT25seSk7IGUrKykge31oID0gby5jb25jYXQoYSksIHRoaXMuX292ZXJbdC5pZF0gPSB0aGlzLnNvcnRHYW1lT2JqZWN0cyhoKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQwKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgdmFyIGUgPSB0aGlzLl90ZW1wO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBuLlBPSU5URVJfRE9XTih0LCBlKSk7Zm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByID0gZVtpXTtpZiAodGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IG4uR0FNRV9PQkpFQ1RfRE9XTih0LCByKSksIHIuaW5wdXQub25Eb3duKHIsIHQsIHIuaW5wdXQubG9jYWxYLCByLmlucHV0LmxvY2FsWSksIHRoaXMudG9wT25seSkgYnJlYWs7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg1MSksXG4gICAgICAgIHIgPSBpKDQwKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgaWYgKDAgIT09IHRoaXMuX2RyYWdnYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBzLFxuICAgICAgICAgICAgYSxcbiAgICAgICAgICAgIG8sXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgdSA9IHRoaXMuX3RlbXA7aWYgKDAgPT09IHQuZHJhZ1N0YXRlICYmIHQucHJpbWFyeURvd24gJiYgdC5qdXN0RG93biAmJiB1Lmxlbmd0aCA+IDAgPyB0LmRyYWdTdGF0ZSA9IDEgOiB0LmRyYWdTdGF0ZSA+IDAgJiYgIXQucHJpbWFyeURvd24gJiYgdC5qdXN0VXAgJiYgKHQuZHJhZ1N0YXRlID0gNSksIDEgPT09IHQuZHJhZ1N0YXRlKSB7XG4gICAgICAgICAgdmFyIGMgPSBbXTtmb3IgKGkgPSAwOyBpIDwgdS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYSA9IHVbaV0sIGEuaW5wdXQuZHJhZ2dhYmxlICYmIGMucHVzaChhKTtcbiAgICAgICAgICB9aWYgKDAgPT09IGMubGVuZ3RoKSByZXR1cm4gdm9pZCAodC5kcmFnU3RhdGUgPSAwKTtjLmxlbmd0aCA+IDEgJiYgKHRoaXMuc29ydEdhbWVPYmplY3RzKGMpLCB0aGlzLnRvcE9ubHkgJiYgYy5zcGxpY2UoMSkpLCB0aGlzLl9kcmFnW3QuaWRdID0gYywgMCA9PT0gdGhpcy5kcmFnRGlzdGFuY2VUaHJlc2hvbGQgJiYgMCA9PT0gdGhpcy5kcmFnVGltZVRocmVzaG9sZCA/IHQuZHJhZ1N0YXRlID0gMyA6IHQuZHJhZ1N0YXRlID0gMjtcbiAgICAgICAgfWlmICgyID09PSB0LmRyYWdTdGF0ZSAmJiAodGhpcy5kcmFnRGlzdGFuY2VUaHJlc2hvbGQgPiAwICYmIG4odC54LCB0LnksIHQuZG93blgsIHQuZG93blkpID49IHRoaXMuZHJhZ0Rpc3RhbmNlVGhyZXNob2xkICYmICh0LmRyYWdTdGF0ZSA9IDMpLCB0aGlzLmRyYWdUaW1lVGhyZXNob2xkID4gMCAmJiBlID49IHQuZG93blRpbWUgKyB0aGlzLmRyYWdUaW1lVGhyZXNob2xkICYmICh0LmRyYWdTdGF0ZSA9IDMpKSwgMyA9PT0gdC5kcmFnU3RhdGUpIHtcbiAgICAgICAgICBmb3IgKG8gPSB0aGlzLl9kcmFnW3QuaWRdLCBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGEgPSBvW2ldLCBoID0gYS5pbnB1dCwgaC5kcmFnU3RhdGUgPSAyLCBoLmRyYWdYID0gdC54IC0gYS54LCBoLmRyYWdZID0gdC55IC0gYS55LCBoLmRyYWdTdGFydFggPSBhLngsIGguZHJhZ1N0YXJ0WSA9IGEueSwgdGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IHIuRFJBR19TVEFSVCh0LCBhKSksIGgub25EcmFnU3RhcnQoYSwgdCwgaC5kcmFnWCwgaC5kcmFnWSk7XG4gICAgICAgICAgfXJldHVybiB2b2lkICh0LmRyYWdTdGF0ZSA9IDQpO1xuICAgICAgICB9aWYgKDQgPT09IHQuZHJhZ1N0YXRlICYmIHQuanVzdE1vdmVkKSB7XG4gICAgICAgICAgdmFyIGwgPSBbXTtmb3IgKHMgPSAwOyBzIDwgdS5sZW5ndGg7IHMrKykge1xuICAgICAgICAgICAgdVtzXS5pbnB1dC5kcm9wWm9uZSAmJiBsLnB1c2godVtzXSk7XG4gICAgICAgICAgfWZvciAobyA9IHRoaXMuX2RyYWdbdC5pZF0sIGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGEgPSBvW2ldLCBoID0gYS5pbnB1dCwgaC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgdmFyIGYgPSBsLmluZGV4T2YoaC50YXJnZXQpOzAgPT09IGYgPyB0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgci5EUkFHX09WRVIodCwgYSwgaC50YXJnZXQpKSA6IGYgPiAwID8gKHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyByLkRSQUdfTEVBVkUodCwgYSwgaC50YXJnZXQpKSwgaC50YXJnZXQgPSBsWzBdLCB0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgci5EUkFHX0VOVEVSKHQsIGEsIGgudGFyZ2V0KSkpIDogKHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyByLkRSQUdfTEVBVkUodCwgYSwgaC50YXJnZXQpKSwgbFswXSA/IChoLnRhcmdldCA9IGxbMF0sIHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyByLkRSQUdfRU5URVIodCwgYSwgaC50YXJnZXQpKSkgOiBoLnRhcmdldCA9IG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlICFoLnRhcmdldCAmJiBsWzBdICYmIChoLnRhcmdldCA9IGxbMF0sIHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyByLkRSQUdfRU5URVIodCwgYSwgaC50YXJnZXQpKSk7dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IHIuRFJBRyh0LCBhKSksIGgub25EcmFnKGEsIHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfWlmICg1ID09PSB0LmRyYWdTdGF0ZSkge1xuICAgICAgICAgIGZvciAobyA9IHRoaXMuX2RyYWdbdC5pZF0sIGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYSA9IG9baV0sIGggPSBhLmlucHV0LCBoLmRyYWdTdGF0ZSA9IDAsIGguZHJhZ1ggPSBoLmxvY2FsWCAtIGEuZGlzcGxheU9yaWdpblgsIGguZHJhZ1kgPSBoLmxvY2FsWSAtIGEuZGlzcGxheU9yaWdpblk7dmFyIGQgPSAhMTtoLnRhcmdldCAmJiAodGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IHIuRFJPUCh0LCBhLCBoLnRhcmdldCkpLCBoLnRhcmdldCA9IG51bGwsIGQgPSAhMCksIHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyByLkRSQUdfRU5EKHQsIGEsIGQpKSwgaC5vbkRyYWdFbmQoYSwgdCwgaC5kcmFnWCwgaC5kcmFnWSk7XG4gICAgICAgICAgfXQuZHJhZ1N0YXRlID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDApLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICB2YXIgZSA9IHRoaXMuX3RlbXA7dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IG4uUE9JTlRFUl9VUCh0LCBlKSk7Zm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByID0gZVtpXTtpZiAodGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IG4uR0FNRV9PQkpFQ1RfVVAodCwgcikpLCByLmlucHV0Lm9uVXAociwgdCwgci5pbnB1dC5sb2NhbFgsIHIuaW5wdXQubG9jYWxZKSwgdGhpcy50b3BPbmx5KSBicmVhaztcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQwKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgdmFyIGUgPSB0aGlzLl90ZW1wO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBuLlBPSU5URVJfTU9WRSh0LCBlKSk7Zm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByID0gZVtpXTtpZiAodGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IG4uR0FNRV9PQkpFQ1RfTU9WRSh0LCByKSksIHIuaW5wdXQub25Nb3ZlKHIsIHQsIHIuaW5wdXQubG9jYWxYLCByLmlucHV0LmxvY2FsWSksIHRoaXMudG9wT25seSkgYnJlYWs7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC5sZW5ndGggPCAyID8gdCA6ICh0aGlzLnNjZW5lLnN5cy5kZXB0aFNvcnQoKSwgdC5zb3J0KHRoaXMuc29ydEhhbmRsZXJHTy5iaW5kKHRoaXMpKSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC5sZW5ndGggPCAyID8gdCA6ICh0aGlzLnNjZW5lLnN5cy5kZXB0aFNvcnQoKSwgdC5zb3J0KHRoaXMuc29ydEhhbmRsZXJJTy5iaW5kKHRoaXMpKSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IHRoaXMuZGlzcGxheUxpc3QuZ2V0SW5kZXgodCksXG4gICAgICAgICAgbiA9IHRoaXMuZGlzcGxheUxpc3QuZ2V0SW5kZXgoZSk7cmV0dXJuIGkgPCBuID8gMSA6IGkgPiBuID8gLTEgOiAwO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdmFyIGkgPSB0aGlzLmRpc3BsYXlMaXN0LmdldEluZGV4KHQuZ2FtZU9iamVjdCksXG4gICAgICAgICAgbiA9IHRoaXMuZGlzcGxheUxpc3QuZ2V0SW5kZXgoZS5nYW1lT2JqZWN0KTtyZXR1cm4gaSA8IG4gPyAxIDogaSA+IG4gPyAtMSA6IDA7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg2NjEpLFxuICAgICAgICByID0gaSgwKSxcbiAgICAgICAgcyA9IGkoMTg1KSxcbiAgICAgICAgYSA9IGkoNjY1KSxcbiAgICAgICAgbyA9IGkoNjY4KSxcbiAgICAgICAgaCA9IGkoNjY5KSxcbiAgICAgICAgdSA9IGkoNjcwKSxcbiAgICAgICAgYyA9IGkoNjcxKSxcbiAgICAgICAgbCA9IGkoNjcyKSxcbiAgICAgICAgZiA9IGkoNDIpLFxuICAgICAgICBkID0gaSg5MSksXG4gICAgICAgIHAgPSBpKDY3MyksXG4gICAgICAgIHYgPSBpKDY3NCksXG4gICAgICAgIGcgPSBpKDY3NSksXG4gICAgICAgIHggPSBpKDE4OCksXG4gICAgICAgIG0gPSBpKDY3NiksXG4gICAgICAgIHkgPSBpKDE4NyksXG4gICAgICAgIHcgPSBuZXcgcih7IEV4dGVuZHM6IG4sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICBuLmNhbGwodGhpcywgdCksIHRoaXMuX211bHRpbGlzdCA9IHt9O1xuICAgICAgfSwgaW1hZ2U6IGZ1bmN0aW9uIGltYWdlKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIGYuY3JlYXRlKHRoaXMsIHQsIGUsIGkpO1xuICAgICAgfSwgYW5pbWF0aW9uOiBmdW5jdGlvbiBhbmltYXRpb24odCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gYS5jcmVhdGUodGhpcywgdCwgZSwgaSk7XG4gICAgICB9LCBqc29uOiBmdW5jdGlvbiBqc29uKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIGQuY3JlYXRlKHRoaXMsIHQsIGUsIGkpO1xuICAgICAgfSwgc2NyaXB0OiBmdW5jdGlvbiBzY3JpcHQodCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gcC5jcmVhdGUodGhpcywgdCwgZSwgaSk7XG4gICAgICB9LCB4bWw6IGZ1bmN0aW9uIHhtbCh0LCBlLCBpKSB7XG4gICAgICAgIHJldHVybiB5LmNyZWF0ZSh0aGlzLCB0LCBlLCBpKTtcbiAgICAgIH0sIGJpbmFyeTogZnVuY3Rpb24gYmluYXJ5KHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIGguY3JlYXRlKHRoaXMsIHQsIGUsIGkpO1xuICAgICAgfSwgdGV4dDogZnVuY3Rpb24gdGV4dCh0LCBlLCBpKSB7XG4gICAgICAgIHJldHVybiB4LmNyZWF0ZSh0aGlzLCB0LCBlLCBpKTtcbiAgICAgIH0sIGdsc2w6IGZ1bmN0aW9uIGdsc2wodCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gYy5jcmVhdGUodGhpcywgdCwgZSwgaSk7XG4gICAgICB9LCBodG1sOiBmdW5jdGlvbiBodG1sKHQsIGUsIGksIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIGwuY3JlYXRlKHRoaXMsIHQsIGUsIGksIG4sIHIpO1xuICAgICAgfSwgc3ZnOiBmdW5jdGlvbiBzdmcodCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gZy5jcmVhdGUodGhpcywgdCwgZSwgaSk7XG4gICAgICB9LCBzcHJpdGVzaGVldDogZnVuY3Rpb24gc3ByaXRlc2hlZXQodCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdi5jcmVhdGUodGhpcywgdCwgZSwgaSwgbik7XG4gICAgICB9LCB1bml0eUF0bGFzOiBmdW5jdGlvbiB1bml0eUF0bGFzKHQsIGUsIGksIG4sIHIpIHtcbiAgICAgICAgdmFyIHMgPSBuZXcgbSh0LCBlLCBpLCB0aGlzLnBhdGgsIG4sIHIpO3JldHVybiB0aGlzLmFkZEZpbGUocy50ZXh0dXJlKSwgdGhpcy5hZGRGaWxlKHMuZGF0YSksIHRoaXM7XG4gICAgICB9LCBhdGxhczogZnVuY3Rpb24gYXRsYXModCwgZSwgaSwgbiwgcikge1xuICAgICAgICB2YXIgcyA9IG5ldyBvKHQsIGUsIGksIHRoaXMucGF0aCwgbiwgcik7cmV0dXJuIHRoaXMuYWRkRmlsZShzLnRleHR1cmUpLCB0aGlzLmFkZEZpbGUocy5kYXRhKSwgdGhpcztcbiAgICAgIH0sIGJpdG1hcEZvbnQ6IGZ1bmN0aW9uIGJpdG1hcEZvbnQodCwgZSwgaSwgbiwgcikge1xuICAgICAgICB2YXIgcyA9IG5ldyB1KHQsIGUsIGksIHRoaXMucGF0aCwgbiwgcik7cmV0dXJuIHRoaXMuYWRkRmlsZShzLnRleHR1cmUpLCB0aGlzLmFkZEZpbGUocy5kYXRhKSwgdGhpcztcbiAgICAgIH0sIG11bHRpYXRsYXM6IGZ1bmN0aW9uIG11bHRpYXRsYXModCwgZSwgaSwgbiwgcikge1xuICAgICAgICBpZiAoXCJudW1iZXJcIiA9PSB0eXBlb2YgZSkge1xuICAgICAgICAgIHZhciBhID0gZSxcbiAgICAgICAgICAgICAgbyA9IHZvaWQgMCA9PT0gaSA/IFwiXCIgOiBpO2UgPSBzKDAsIGEsIHQgKyBvLCBcIi5wbmdcIiksIGkgPSBzKDAsIGEsIHQgKyBvLCBcIi5qc29uXCIpO1xuICAgICAgICB9IGVsc2UgQXJyYXkuaXNBcnJheShlKSB8fCAoZSA9IFtlXSksIEFycmF5LmlzQXJyYXkoaSkgfHwgKGkgPSBbaV0pO3ZhciBoLFxuICAgICAgICAgICAgdSxcbiAgICAgICAgICAgIGMgPSAwO2ZvciAodGhpcy5fbXVsdGlsaXN0W3RdID0gW10sIGMgPSAwOyBjIDwgZS5sZW5ndGg7IGMrKykge1xuICAgICAgICAgIHUgPSBcIl9NQV9JTUdfXCIgKyB0ICsgXCJfXCIgKyBjLnRvU3RyaW5nKCksIGggPSBuZXcgZih1LCBlW2NdLCB0aGlzLnBhdGgsIG4pLCB0aGlzLmFkZEZpbGUoaCksIHRoaXMuX211bHRpbGlzdFt0XS5wdXNoKHUpO1xuICAgICAgICB9Zm9yIChjID0gMDsgYyA8IGkubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICB1ID0gXCJfTUFfSlNPTl9cIiArIHQgKyBcIl9cIiArIGMudG9TdHJpbmcoKSwgaCA9IG5ldyBkKHUsIGlbY10sIHRoaXMucGF0aCwgciksIHRoaXMuYWRkRmlsZShoKSwgdGhpcy5fbXVsdGlsaXN0W3RdLnB1c2godSk7XG4gICAgICAgIH1cbiAgICAgIH0gfSk7dC5leHBvcnRzID0gdztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTIpLFxuICAgICAgICByID0gaSg1NCksXG4gICAgICAgIHMgPSBpKDkwKSxcbiAgICAgICAgYSA9IGkoNjYyKSxcbiAgICAgICAgbyA9IGkoMCksXG4gICAgICAgIGggPSBpKDE4MSksXG4gICAgICAgIHUgPSBuZXcgbyh7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLnNjZW5lID0gdCwgdGhpcy5ldmVudHMgPSB0LnN5cy5ldmVudHMsIHRoaXMuYmFzZVVSTCA9IFwiXCIsIHRoaXMucGF0aCA9IFwiXCIsIHRoaXMuZW5hYmxlUGFyYWxsZWwgPSAhMCwgdGhpcy5tYXhQYXJhbGxlbERvd25sb2FkcyA9IDQsIHRoaXMueGhyID0gcygpLCB0aGlzLmNyb3NzT3JpZ2luID0gdm9pZCAwLCB0aGlzLmxpc3QgPSBuZXcgcigpLCB0aGlzLmluZmxpZ2h0ID0gbmV3IHIoKSwgdGhpcy5mYWlsZWQgPSBuZXcgcigpLCB0aGlzLnF1ZXVlID0gbmV3IHIoKSwgdGhpcy5zdG9yYWdlID0gbmV3IHIoKSwgdGhpcy5zdGF0ZSA9IG4uTE9BREVSX0lETEU7XG4gICAgICB9LCBzZXRQYXRoOiBmdW5jdGlvbiBzZXRQYXRoKHQpIHtcbiAgICAgICAgcmV0dXJuIFwiL1wiICE9PSB0LnN1YnN0cigtMSkgJiYgKHQgPSB0LmNvbmNhdChcIi9cIikpLCB0aGlzLnBhdGggPSB0LCB0aGlzO1xuICAgICAgfSwgYWRkRmlsZTogZnVuY3Rpb24gYWRkRmlsZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzUmVhZHkoKSA/ICh0LnBhdGggPSB0aGlzLnBhdGgsIHRoaXMubGlzdC5zZXQodCksIHRoaXMpIDogLTE7XG4gICAgICB9LCBpc0xvYWRpbmc6IGZ1bmN0aW9uIGlzTG9hZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IG4uTE9BREVSX0xPQURJTkcgfHwgdGhpcy5zdGF0ZSA9PT0gbi5MT0FERVJfUFJPQ0VTU0lORztcbiAgICAgIH0sIGlzUmVhZHk6IGZ1bmN0aW9uIGlzUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBuLkxPQURFUl9JRExFIHx8IHRoaXMuc3RhdGUgPT09IG4uTE9BREVSX0NPTVBMRVRFIHx8IHRoaXMuc3RhdGUgPT09IG4uTE9BREVSX0ZBSUxFRDtcbiAgICAgIH0sIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zY2VuZS5zeXMuc2V0dGluZ3Mua2V5LCBcIi0gQmFzZUxvYWRlciBzdGFydC4gRmlsZXMgdG8gbG9hZDpcIiwgdGhpcy5saXN0LnNpemUpLCB0aGlzLmlzUmVhZHkoKSAmJiAodGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IGEuTE9BREVSX1NUQVJUX0VWRU5UKHRoaXMpKSwgMCA9PT0gdGhpcy5saXN0LnNpemUgPyB0aGlzLmZpbmlzaGVkTG9hZGluZygpIDogKHRoaXMuc3RhdGUgPSBuLkxPQURFUl9MT0FESU5HLCB0aGlzLmZhaWxlZC5jbGVhcigpLCB0aGlzLmluZmxpZ2h0LmNsZWFyKCksIHRoaXMucXVldWUuY2xlYXIoKSwgdGhpcy5xdWV1ZS5kZWJ1ZyA9ICEwLCB0aGlzLnVwZGF0ZVByb2dyZXNzKCksIHRoaXMucHJvY2Vzc0xvYWRRdWV1ZSgpKSk7XG4gICAgICB9LCB1cGRhdGVQcm9ncmVzczogZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3MoKSB7fSwgcHJvY2Vzc0xvYWRRdWV1ZTogZnVuY3Rpb24gcHJvY2Vzc0xvYWRRdWV1ZSgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzO3RoaXMubGlzdC5lYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgaWYgKGUuc3RhdGUgPT09IG4uRklMRV9QRU5ESU5HICYmIHQuaW5mbGlnaHQuc2l6ZSA8IHQubWF4UGFyYWxsZWxEb3dubG9hZHMgJiYgKHQuaW5mbGlnaHQuc2V0KGUpLCB0Lmxpc3QuZGVsZXRlKGUpLCB0LmxvYWRGaWxlKGUpKSwgdC5pbmZsaWdodC5zaXplID09PSB0Lm1heFBhcmFsbGVsRG93bmxvYWRzKSByZXR1cm4gITE7XG4gICAgICAgIH0pO1xuICAgICAgfSwgbG9hZEZpbGU6IGZ1bmN0aW9uIGxvYWRGaWxlKHQpIHtcbiAgICAgICAgdC5jcm9zc09yaWdpbiB8fCAodC5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW4pLCB0LmxvYWQodGhpcy5uZXh0RmlsZS5iaW5kKHRoaXMpLCB0aGlzLmJhc2VVUkwpO1xuICAgICAgfSwgbmV4dEZpbGU6IGZ1bmN0aW9uIG5leHRGaWxlKHQsIGUpIHtcbiAgICAgICAgZSA/IHRoaXMucXVldWUuc2V0KHQpIDogdGhpcy5mYWlsZWQuc2V0KHQpLCB0aGlzLmluZmxpZ2h0LmRlbGV0ZSh0KSwgdGhpcy5saXN0LnNpemUgPiAwID8gdGhpcy5wcm9jZXNzTG9hZFF1ZXVlKCkgOiAwID09PSB0aGlzLmluZmxpZ2h0LnNpemUgJiYgdGhpcy5maW5pc2hlZExvYWRpbmcoKTtcbiAgICAgIH0sIGZpbmlzaGVkTG9hZGluZzogZnVuY3Rpb24gZmluaXNoZWRMb2FkaW5nKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gbi5MT0FERVJfUFJPQ0VTU0lORywgdGhpcy5zdG9yYWdlLmNsZWFyKCk7dmFyIHQgPSB0aGlzO3RoaXMucXVldWUuZWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUub25Qcm9jZXNzKHQucHJvY2Vzc1VwZGF0ZS5iaW5kKHQpKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBwcm9jZXNzVXBkYXRlOiBmdW5jdGlvbiBwcm9jZXNzVXBkYXRlKHQpIHtcbiAgICAgICAgaWYgKHQuc3RhdGUgPT09IG4uRklMRV9FUlJPUkVEKSByZXR1cm4gdGhpcy5mYWlsZWQuc2V0KHQpLCB0LmxpbmtGaWxlICYmIHRoaXMucXVldWUuZGVsZXRlKHQubGlua0ZpbGUpLCB0aGlzLnJlbW92ZUZyb21RdWV1ZSh0KTt0LmxpbmtGaWxlID8gdC5zdGF0ZSA9PT0gbi5GSUxFX0NPTVBMRVRFICYmIHQubGlua0ZpbGUuc3RhdGUgPT09IG4uRklMRV9DT01QTEVURSAmJiAodGhpcy5zdG9yYWdlLnNldCh7IHR5cGU6IHQubGlua1R5cGUsIGZpbGVBOiB0LCBmaWxlQjogdC5saW5rRmlsZSB9KSwgdGhpcy5xdWV1ZS5kZWxldGUodC5saW5rRmlsZSksIHRoaXMucmVtb3ZlRnJvbVF1ZXVlKHQpKSA6ICh0aGlzLnN0b3JhZ2Uuc2V0KHQpLCB0aGlzLnJlbW92ZUZyb21RdWV1ZSh0KSk7XG4gICAgICB9LCByZW1vdmVGcm9tUXVldWU6IGZ1bmN0aW9uIHJlbW92ZUZyb21RdWV1ZSh0KSB7XG4gICAgICAgIHRoaXMucXVldWUuZGVsZXRlKHQpLCAwID09PSB0aGlzLnF1ZXVlLnNpemUgJiYgdGhpcy5zdGF0ZSA9PT0gbi5MT0FERVJfUFJPQ0VTU0lORyAmJiB0aGlzLnByb2Nlc3NDb21wbGV0ZSgpO1xuICAgICAgfSwgcHJvY2Vzc0NvbXBsZXRlOiBmdW5jdGlvbiBwcm9jZXNzQ29tcGxldGUoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2NlbmUuc3lzLnNldHRpbmdzLmtleSwgXCItIExvYWRlciBDb21wbGV0ZS4gTG9hZGVkOlwiLCB0aGlzLnN0b3JhZ2Uuc2l6ZSwgXCJGYWlsZWQ6XCIsIHRoaXMuZmFpbGVkLnNpemUpLCB0aGlzLmxpc3QuY2xlYXIoKSwgdGhpcy5pbmZsaWdodC5jbGVhcigpLCB0aGlzLnF1ZXVlLmNsZWFyKCksIHRoaXMucHJvY2Vzc0NhbGxiYWNrKCksIHRoaXMuc3RhdGUgPSBuLkxPQURFUl9DT01QTEVURSwgdGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IGEuTE9BREVSX0NPTVBMRVRFX0VWRU5UKHRoaXMpKTtcbiAgICAgIH0sIHByb2Nlc3NDYWxsYmFjazogZnVuY3Rpb24gcHJvY2Vzc0NhbGxiYWNrKCkge1xuICAgICAgICBpZiAoMCAhPT0gdGhpcy5zdG9yYWdlLnNpemUpIHtcbiAgICAgICAgICB2YXIgdCxcbiAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgbiA9IHRoaXMuc2NlbmUuc3lzLmNhY2hlLFxuICAgICAgICAgICAgICByID0gdGhpcy5zY2VuZS5zeXMudGV4dHVyZXMsXG4gICAgICAgICAgICAgIHMgPSB0aGlzLnNjZW5lLnN5cy5hbmltcztmb3IgKHZhciBhIGluIHRoaXMuX211bHRpbGlzdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgbyA9IFtdLCB1ID0gW10sIGMgPSB0aGlzLl9tdWx0aWxpc3RbYV0sIGwgPSAwOyBsIDwgYy5sZW5ndGg7IGwrKykge1xuICAgICAgICAgICAgICAodCA9IHRoaXMuc3RvcmFnZS5nZXQoXCJrZXlcIiwgY1tsXSkpICYmIChcImltYWdlXCIgPT09IHQudHlwZSA/IHUucHVzaCh0LmRhdGEpIDogXCJqc29uXCIgPT09IHQudHlwZSAmJiBvLnB1c2godC5kYXRhKSwgdGhpcy5zdG9yYWdlLmRlbGV0ZSh0KSk7XG4gICAgICAgICAgICB9dS5sZW5ndGggKyBvLmxlbmd0aCA9PT0gYy5sZW5ndGggJiYgKEFycmF5LmlzQXJyYXkob1swXS5mcmFtZXMpID8gci5hZGRBdGxhc0pTT05BcnJheShhLCB1LCBvKSA6IHIuYWRkQXRsYXNKU09OSGFzaChhLCB1LCBvKSk7XG4gICAgICAgICAgfXZhciBmID0gW107dGhpcy5zdG9yYWdlLmVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodC50eXBlKSB7Y2FzZSBcImFuaW1hdGlvbkpTT05cIjpcbiAgICAgICAgICAgICAgICBmLnB1c2godCk7YnJlYWs7Y2FzZSBcImltYWdlXCI6Y2FzZSBcInN2Z1wiOmNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgICAgICAgci5hZGRJbWFnZSh0LmtleSwgdC5kYXRhKTticmVhaztjYXNlIFwiYXRsYXNqc29uXCI6XG4gICAgICAgICAgICAgICAgZSA9IHQuZmlsZUEsIGkgPSB0LmZpbGVCLCBcImltYWdlXCIgPT09IGUudHlwZSA/IHIuYWRkQXRsYXMoZS5rZXksIGUuZGF0YSwgaS5kYXRhKSA6IHIuYWRkQXRsYXMoaS5rZXksIGkuZGF0YSwgZS5kYXRhKTticmVhaztjYXNlIFwidW5pdHlhdGxhc1wiOlxuICAgICAgICAgICAgICAgIGUgPSB0LmZpbGVBLCBpID0gdC5maWxlQiwgXCJpbWFnZVwiID09PSBlLnR5cGUgPyByLmFkZFVuaXR5QXRsYXMoZS5rZXksIGUuZGF0YSwgaS5kYXRhKSA6IHIuYWRkVW5pdHlBdGxhcyhpLmtleSwgaS5kYXRhLCBlLmRhdGEpO2JyZWFrO2Nhc2UgXCJiaXRtYXBmb250XCI6XG4gICAgICAgICAgICAgICAgZSA9IHQuZmlsZUEsIGkgPSB0LmZpbGVCLCBcImltYWdlXCIgPT09IGUudHlwZSA/IChuLmJpdG1hcEZvbnQuYWRkKGkua2V5LCB7IGRhdGE6IGgoaS5kYXRhKSwgdGV4dHVyZTogZS5rZXksIGZyYW1lOiBudWxsIH0pLCByLmFkZEltYWdlKGUua2V5LCBlLmRhdGEpKSA6IChuLmJpdG1hcEZvbnQuYWRkKGUua2V5LCB7IGRhdGE6IGgoZS5kYXRhKSwgdGV4dHVyZTogaS5rZXksIGZyYW1lOiBudWxsIH0pLCByLmFkZEltYWdlKGkua2V5LCBpLmRhdGEpKTticmVhaztjYXNlIFwic3ByaXRlc2hlZXRcIjpcbiAgICAgICAgICAgICAgICByLmFkZFNwcml0ZVNoZWV0KHQua2V5LCB0LmRhdGEsIHQuY29uZmlnKTticmVhaztjYXNlIFwianNvblwiOlxuICAgICAgICAgICAgICAgIG4uanNvbi5hZGQodC5rZXksIHQuZGF0YSk7YnJlYWs7Y2FzZSBcInhtbFwiOlxuICAgICAgICAgICAgICAgIG4ueG1sLmFkZCh0LmtleSwgdC5kYXRhKTticmVhaztjYXNlIFwidGV4dFwiOlxuICAgICAgICAgICAgICAgIG4udGV4dC5hZGQodC5rZXksIHQuZGF0YSk7YnJlYWs7Y2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgICAgICAgIG4uYmluYXJ5LmFkZCh0LmtleSwgdC5kYXRhKTticmVhaztjYXNlIFwic291bmRcIjpcbiAgICAgICAgICAgICAgICBuLnNvdW5kLmFkZCh0LmtleSwgdC5kYXRhKTticmVhaztjYXNlIFwiZ2xzbFwiOlxuICAgICAgICAgICAgICAgIG4uc2hhZGVyLmFkZCh0LmtleSwgdC5kYXRhKTt9XG4gICAgICAgICAgfSksIGYuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcy5mcm9tSlNPTih0LmRhdGEpO1xuICAgICAgICAgIH0pLCB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmxpc3QuY2xlYXIoKSwgdGhpcy5pbmZsaWdodC5jbGVhcigpLCB0aGlzLmZhaWxlZC5jbGVhcigpLCB0aGlzLnF1ZXVlLmNsZWFyKCksIHRoaXMuc3RvcmFnZS5jbGVhcigpLCB0aGlzLmV2ZW50cy5yZW1vdmVBbGwoXCJMT0FERVJfU1RBUlRfRVZFTlRcIiksIHRoaXMuZXZlbnRzLnJlbW92ZUFsbChcIkxPQURFUl9DT01QTEVURV9FVkVOVFwiKSwgdGhpcy50YWcgPSBcIlwiLCB0aGlzLnBhdGggPSBcIlwiLCB0aGlzLmJhc2VVUkwgPSBcIlwiLCB0aGlzLnN0YXRlID0gbi5MT0FERVJfSURMRTtcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKSwgdGhpcy5zdGF0ZSA9IG4uTE9BREVSX0RFU1RST1lFRDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gdTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IExPQURFUl9TVEFSVF9FVkVOVDogaSg2NjMpLCBMT0FERVJfQ09NUExFVEVfRVZFTlQ6IGkoNjY0KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMSksXG4gICAgICAgIHMgPSBuZXcgbih7IEV4dGVuZHM6IHIsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICByLmNhbGwodGhpcywgXCJMT0FERVJfU1RBUlRfRVZFTlRcIiksIHRoaXMubG9hZGVyID0gdDtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiTE9BREVSX0NPTVBMRVRFX0VWRU5UXCIpLCB0aGlzLmxvYWRlciA9IHQ7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDkxKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3IyMikge1xuICAgICAgdmFyIHMgPSBuZXcgbih0LCBlLCBpLCBfcjIyKTtyZXR1cm4gcy50eXBlID0gXCJhbmltYXRpb25KU09OXCIsIHM7XG4gICAgfTtyLmNyZWF0ZSA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgZm9yICh2YXIgcyA9IDA7IHMgPCBlLmxlbmd0aDsgcysrKSB7XG4gICAgICAgIHQuYWRkRmlsZShuZXcgcihlW3NdLCBpLCB0LnBhdGgsIG4pKTtcbiAgICAgIH0gZWxzZSB0LmFkZEZpbGUobmV3IHIoZSwgaSwgdC5wYXRoLCBuKSk7cmV0dXJuIHQ7XG4gICAgfSwgdC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuICEhdC51cmwgJiYgKHQudXJsLm1hdGNoKC9eKD86YmxvYjp8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfFxcL1xcLykvKSA/IHQudXJsIDogZSArIHQudXJsKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE4NiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHZhciBpID0gbihlLCB0LnhoclNldHRpbmdzKSxcbiAgICAgICAgICByID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7cmV0dXJuIHIub3BlbihcIkdFVFwiLCB0LnNyYywgaS5hc3luYywgaS51c2VyLCBpLnBhc3N3b3JkKSwgci5yZXNwb25zZVR5cGUgPSB0LnhoclNldHRpbmdzLnJlc3BvbnNlVHlwZSwgci50aW1lb3V0ID0gaS50aW1lb3V0LCBpLmhlYWRlciAmJiBpLmhlYWRlclZhbHVlICYmIHIuc2V0UmVxdWVzdEhlYWRlcihpLmhlYWRlciwgaS5oZWFkZXJWYWx1ZSksIGkub3ZlcnJpZGVNaW1lVHlwZSAmJiByLm92ZXJyaWRlTWltZVR5cGUoaS5vdmVycmlkZU1pbWVUeXBlKSwgci5vbmxvYWQgPSB0Lm9uTG9hZC5iaW5kKHQpLCByLm9uZXJyb3IgPSB0Lm9uRXJyb3IuYmluZCh0KSwgci5vbnByb2dyZXNzID0gdC5vblByb2dyZXNzLmJpbmQodCksIHIuc2VuZCgpLCByO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDIpLFxuICAgICAgICByID0gaSg5MSksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUsIGksIF9zOCwgYSwgbykge1xuICAgICAgdmFyIGggPSBuZXcgbih0LCBlLCBfczgsIGEpLFxuICAgICAgICAgIHUgPSBuZXcgcih0LCBpLCBfczgsIG8pO3JldHVybiBoLmxpbmtGaWxlID0gdSwgdS5saW5rRmlsZSA9IGgsIGgubGlua1R5cGUgPSBcImF0bGFzanNvblwiLCB1LmxpbmtUeXBlID0gXCJhdGxhc2pzb25cIiwgeyB0ZXh0dXJlOiBoLCBkYXRhOiB1IH07XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMTIpLFxuICAgICAgICBzID0gaSgyNCksXG4gICAgICAgIGEgPSBpKDcpLFxuICAgICAgICBvID0gbmV3IG4oeyBFeHRlbmRzOiBzLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gdCA6IGEodCwgXCJrZXlcIiwgXCJcIiksXG4gICAgICAgICAgICBvID0geyB0eXBlOiBcImJpbmFyeVwiLCBleHRlbnNpb246IGEodCwgXCJleHRlbnNpb25cIiwgXCJiaW5cIiksIHJlc3BvbnNlVHlwZTogXCJhcnJheWJ1ZmZlclwiLCBrZXk6IHIsIHVybDogYSh0LCBcImZpbGVcIiwgZSksIHBhdGg6IGksIHhoclNldHRpbmdzOiBhKHQsIFwieGhyXCIsIG4pIH07cy5jYWxsKHRoaXMsIG8pO1xuICAgICAgfSwgb25Qcm9jZXNzOiBmdW5jdGlvbiBvblByb2Nlc3ModCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gci5GSUxFX1BST0NFU1NJTkcsIHRoaXMuZGF0YSA9IHRoaXMueGhyTG9hZGVyLnJlc3BvbnNlLCB0aGlzLm9uQ29tcGxldGUoKSwgdCh0aGlzKTtcbiAgICAgIH0gfSk7by5jcmVhdGUgPSBmdW5jdGlvbiAodCwgZSwgaSwgbikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIGZvciAodmFyIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykge1xuICAgICAgICB0LmFkZEZpbGUobmV3IG8oZVtyXSwgaSwgdC5wYXRoLCBuKSk7XG4gICAgICB9IGVsc2UgdC5hZGRGaWxlKG5ldyBvKGUsIGksIHQucGF0aCwgbikpO3JldHVybiB0O1xuICAgIH0sIHQuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQyKSxcbiAgICAgICAgciA9IGkoMTg3KSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSwgX3M5LCBhLCBvKSB7XG4gICAgICB2YXIgaCA9IG5ldyBuKHQsIGUsIF9zOSwgYSksXG4gICAgICAgICAgdSA9IG5ldyByKHQsIGksIF9zOSwgbyk7cmV0dXJuIGgubGlua0ZpbGUgPSB1LCB1LmxpbmtGaWxlID0gaCwgaC5saW5rVHlwZSA9IFwiYml0bWFwZm9udFwiLCB1LmxpbmtUeXBlID0gXCJiaXRtYXBmb250XCIsIHsgdGV4dHVyZTogaCwgZGF0YTogdSB9O1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEyKSxcbiAgICAgICAgcyA9IGkoMjQpLFxuICAgICAgICBhID0gaSg3KSxcbiAgICAgICAgbyA9IG5ldyBuKHsgRXh0ZW5kczogcywgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IHQgOiBhKHQsIFwia2V5XCIsIFwiXCIpLFxuICAgICAgICAgICAgbyA9IHsgdHlwZTogXCJnbHNsXCIsIGV4dGVuc2lvbjogYSh0LCBcImV4dGVuc2lvblwiLCBcImdsc2xcIiksIHJlc3BvbnNlVHlwZTogXCJ0ZXh0XCIsIGtleTogciwgdXJsOiBhKHQsIFwiZmlsZVwiLCBlKSwgcGF0aDogaSwgeGhyU2V0dGluZ3M6IGEodCwgXCJ4aHJcIiwgbikgfTtzLmNhbGwodGhpcywgbyk7XG4gICAgICB9LCBvblByb2Nlc3M6IGZ1bmN0aW9uIG9uUHJvY2Vzcyh0KSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSByLkZJTEVfUFJPQ0VTU0lORywgdGhpcy5kYXRhID0gdGhpcy54aHJMb2FkZXIucmVzcG9uc2VUZXh0LCB0aGlzLm9uQ29tcGxldGUoKSwgdCh0aGlzKTtcbiAgICAgIH0gfSk7by5jcmVhdGUgPSBmdW5jdGlvbiAodCwgZSwgaSwgbikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIGZvciAodmFyIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykge1xuICAgICAgICB0LmFkZEZpbGUobmV3IG8oZVtyXSwgaSwgdC5wYXRoLCBuKSk7XG4gICAgICB9IGVsc2UgdC5hZGRGaWxlKG5ldyBvKGUsIGksIHQucGF0aCwgbikpO3JldHVybiB0O1xuICAgIH0sIHQuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgxMiksXG4gICAgICAgIHMgPSBpKDI0KSxcbiAgICAgICAgYSA9IGkoNyksXG4gICAgICAgIG8gPSBuZXcgbih7IEV4dGVuZHM6IHMsIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgciwgbykge1xuICAgICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSA1MTIpLCB2b2lkIDAgPT09IG4gJiYgKG4gPSA1MTIpO3ZhciBoID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IHQgOiBhKHQsIFwia2V5XCIsIFwiXCIpLFxuICAgICAgICAgICAgdSA9IHsgdHlwZTogXCJodG1sXCIsIGV4dGVuc2lvbjogYSh0LCBcImV4dGVuc2lvblwiLCBcImh0bWxcIiksIHJlc3BvbnNlVHlwZTogXCJ0ZXh0XCIsIGtleTogaCwgdXJsOiBhKHQsIFwiZmlsZVwiLCBlKSwgcGF0aDogciwgeGhyU2V0dGluZ3M6IGEodCwgXCJ4aHJcIiwgbyksIGNvbmZpZzogeyB3aWR0aDogaSwgaGVpZ2h0OiBuIH0gfTtzLmNhbGwodGhpcywgdSk7XG4gICAgICB9LCBvblByb2Nlc3M6IGZ1bmN0aW9uIG9uUHJvY2Vzcyh0KSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSByLkZJTEVfUFJPQ0VTU0lORzt2YXIgZSA9IHRoaXMuY29uZmlnLndpZHRoLFxuICAgICAgICAgICAgaSA9IHRoaXMuY29uZmlnLmhlaWdodCxcbiAgICAgICAgICAgIG4gPSBbXTtuLnB1c2goJzxzdmcgd2lkdGg9XCInICsgZSArICdweFwiIGhlaWdodD1cIicgKyBpICsgJ3B4XCIgdmlld0JveD1cIjAgMCAnICsgZSArIFwiIFwiICsgaSArICdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+JyksIG4ucHVzaCgnPGZvcmVpZ25PYmplY3Qgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiPicpLCBuLnB1c2goJzxib2R5IHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiPicpLCBuLnB1c2godGhpcy54aHJMb2FkZXIucmVzcG9uc2VUZXh0KSwgbi5wdXNoKFwiPC9ib2R5PlwiKSwgbi5wdXNoKFwiPC9mb3JlaWduT2JqZWN0PlwiKSwgbi5wdXNoKFwiPC9zdmc+XCIpO3ZhciBzID0gW24uam9pbihcIlxcblwiKV0sXG4gICAgICAgICAgICBhID0gdGhpczt0cnkge1xuICAgICAgICAgIHZhciBvID0gbmV3IHdpbmRvdy5CbG9iKHMsIHsgdHlwZTogXCJpbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLThcIiB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBhLnN0YXRlID0gci5GSUxFX0VSUk9SRUQsIHZvaWQgdChhKTtcbiAgICAgICAgfXRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpLCB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luLCB0aGlzLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYS5kYXRhLnNyYyksIGEub25Db21wbGV0ZSgpLCB0KGEpO1xuICAgICAgICB9LCB0aGlzLmRhdGEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGEuZGF0YS5zcmMpLCBhLnN0YXRlID0gci5GSUxFX0VSUk9SRUQsIHQoYSk7XG4gICAgICAgIH0sIHRoaXMuZGF0YS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG8pO1xuICAgICAgfSB9KTtvLmNyZWF0ZSA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuLCByLCBzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgZm9yICh2YXIgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIHQuYWRkRmlsZShuZXcgbyhlW2FdLCBpLCBuLCByLCB0LnBhdGgsIHMpKTtcbiAgICAgIH0gZWxzZSB0LmFkZEZpbGUobmV3IG8oZSwgaSwgbiwgciwgdC5wYXRoLCBzKSk7cmV0dXJuIHQ7XG4gICAgfSwgdC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEyKSxcbiAgICAgICAgcyA9IGkoMjQpLFxuICAgICAgICBhID0gaSg3KSxcbiAgICAgICAgbyA9IG5ldyBuKHsgRXh0ZW5kczogcywgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IHQgOiBhKHQsIFwia2V5XCIsIFwiXCIpLFxuICAgICAgICAgICAgbyA9IHsgdHlwZTogXCJzY3JpcHRcIiwgZXh0ZW5zaW9uOiBhKHQsIFwiZXh0ZW5zaW9uXCIsIFwianNcIiksIHJlc3BvbnNlVHlwZTogXCJ0ZXh0XCIsIGtleTogciwgdXJsOiBhKHQsIFwiZmlsZVwiLCBlKSwgcGF0aDogaSwgeGhyU2V0dGluZ3M6IGEodCwgXCJ4aHJcIiwgbikgfTtzLmNhbGwodGhpcywgbyk7XG4gICAgICB9LCBvblByb2Nlc3M6IGZ1bmN0aW9uIG9uUHJvY2Vzcyh0KSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSByLkZJTEVfUFJPQ0VTU0lORywgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSwgdGhpcy5kYXRhLmxhbmd1YWdlID0gXCJqYXZhc2NyaXB0XCIsIHRoaXMuZGF0YS50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIiwgdGhpcy5kYXRhLmRlZmVyID0gITEsIHRoaXMuZGF0YS50ZXh0ID0gdGhpcy54aHJMb2FkZXIucmVzcG9uc2VUZXh0LCBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuZGF0YSksIHRoaXMub25Db21wbGV0ZSgpLCB0KHRoaXMpO1xuICAgICAgfSB9KTtvLmNyZWF0ZSA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgZm9yICh2YXIgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7XG4gICAgICAgIHQuYWRkRmlsZShuZXcgbyhlW3JdLCBpLCB0LnBhdGgsIG4pKTtcbiAgICAgIH0gZWxzZSB0LmFkZEZpbGUobmV3IG8oZSwgaSwgdC5wYXRoLCBuKSk7cmV0dXJuIHQ7XG4gICAgfSwgdC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDIpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpLCBfcjIzLCBzKSB7XG4gICAgICB2YXIgYSA9IG5ldyBuKHQsIGUsIF9yMjMsIHMsIGkpO3JldHVybiBhLnR5cGUgPSBcInNwcml0ZXNoZWV0XCIsIGE7XG4gICAgfTtyLmNyZWF0ZSA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuLCBzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgZm9yICh2YXIgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIHQuYWRkRmlsZShuZXcgcihlW2FdLCBpLCBudWxsLCB0LnBhdGgsIHMpKTtcbiAgICAgIH0gZWxzZSB0LmFkZEZpbGUobmV3IHIoZSwgaSwgbiwgdC5wYXRoLCBzKSk7cmV0dXJuIHQ7XG4gICAgfSwgdC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEyKSxcbiAgICAgICAgcyA9IGkoMjQpLFxuICAgICAgICBhID0gaSg3KSxcbiAgICAgICAgbyA9IG5ldyBuKHsgRXh0ZW5kczogcywgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IHQgOiBhKHQsIFwia2V5XCIsIFwiXCIpLFxuICAgICAgICAgICAgbyA9IHsgdHlwZTogXCJzdmdcIiwgZXh0ZW5zaW9uOiBhKHQsIFwiZXh0ZW5zaW9uXCIsIFwic3ZnXCIpLCByZXNwb25zZVR5cGU6IFwidGV4dFwiLCBrZXk6IHIsIHVybDogYSh0LCBcImZpbGVcIiwgZSksIHBhdGg6IGksIHhoclNldHRpbmdzOiBhKHQsIFwieGhyXCIsIG4pIH07cy5jYWxsKHRoaXMsIG8pO1xuICAgICAgfSwgb25Qcm9jZXNzOiBmdW5jdGlvbiBvblByb2Nlc3ModCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gci5GSUxFX1BST0NFU1NJTkc7dmFyIGUgPSBbdGhpcy54aHJMb2FkZXIucmVzcG9uc2VUZXh0XSxcbiAgICAgICAgICAgIGkgPSB0aGlzO3RyeSB7XG4gICAgICAgICAgdmFyIG4gPSBuZXcgd2luZG93LkJsb2IoZSwgeyB0eXBlOiBcImltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOFwiIH0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGkuc3RhdGUgPSByLkZJTEVfRVJST1JFRCwgdm9pZCB0KGkpO1xuICAgICAgICB9dGhpcy5kYXRhID0gbmV3IEltYWdlKCksIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47dmFyIHMgPSAhMTt0aGlzLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaS5kYXRhLnNyYyksIGkub25Db21wbGV0ZSgpLCB0KGkpO1xuICAgICAgICB9LCB0aGlzLmRhdGEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoVVJMLnJldm9rZU9iamVjdFVSTChpLmRhdGEuc3JjKSwgcykgaS5zdGF0ZSA9IHIuRklMRV9FUlJPUkVELCB0KGkpO2Vsc2Uge1xuICAgICAgICAgICAgcyA9ICEwO3ZhciBuID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsXCIgKyBlbmNvZGVVUklDb21wb25lbnQoZS5qb2luKFwiXCIpKTtpLmRhdGEuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuZGF0YS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG4pO1xuICAgICAgfSB9KTtvLmNyZWF0ZSA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgZm9yICh2YXIgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7XG4gICAgICAgIHQuYWRkRmlsZShuZXcgbyhlW3JdLCBpLCB0LnBhdGgsIG4pKTtcbiAgICAgIH0gZWxzZSB0LmFkZEZpbGUobmV3IG8oZSwgaSwgdC5wYXRoLCBuKSk7cmV0dXJuIHQ7XG4gICAgfSwgdC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDIpLFxuICAgICAgICByID0gaSgxODgpLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlLCBpLCBfczEwLCBhLCBvKSB7XG4gICAgICB2YXIgaCA9IG5ldyBuKHQsIGUsIF9zMTAsIGEpLFxuICAgICAgICAgIHUgPSBuZXcgcih0LCBpLCBfczEwLCBvKTtyZXR1cm4gaC5saW5rRmlsZSA9IHUsIHUubGlua0ZpbGUgPSBoLCBoLmxpbmtUeXBlID0gXCJ1bml0eWF0bGFzXCIsIHUubGlua1R5cGUgPSBcInVuaXR5YXRsYXNcIiwgeyB0ZXh0dXJlOiBoLCBkYXRhOiB1IH07XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoMiksXG4gICAgICAgIHMgPSBpKDkyKSxcbiAgICAgICAgYSA9IGkoMjUpLFxuICAgICAgICBvID0gaSg2NzgpLFxuICAgICAgICBoID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHQsIHRoaXMuZ2FtZUNvbmZpZyA9IHQuc3lzLmdhbWUuY29uZmlnLnBoeXNpY3MsIHRoaXMuZGVmYXVsdFN5c3RlbSA9IHQuc3lzLmdhbWUuY29uZmlnLmRlZmF1bHRQaHlzaWNzU3lzdGVtLCB0aGlzLnNjZW5lQ29uZmlnID0gdC5zeXMuc2V0dGluZ3MucGh5c2ljcywgdGhpcy5zeXN0ZW0sIHRoaXMud29ybGQgPSB7IHVwZGF0ZTogYSB9LCB0aGlzLmFkZDtcbiAgICAgIH0sIGJvb3Q6IGZ1bmN0aW9uIGJvb3QoKSB7XG4gICAgICAgIHZhciB0ID0gcih0aGlzLnNjZW5lQ29uZmlnLCBcInN5c3RlbVwiLCAhMSk7aWYgKHRoaXMuZGVmYXVsdFN5c3RlbSB8fCB0KSB7XG4gICAgICAgICAgdmFyIGUgPSAhMSAhPT0gdCA/IHQgOiB0aGlzLmRlZmF1bHRTeXN0ZW0sXG4gICAgICAgICAgICAgIGkgPSBzKHRoaXMuc2NlbmVDb25maWcsIHIodGhpcy5nYW1lQ29uZmlnLCBlLCB7fSkpO3N3aXRjaCAoZSkge2Nhc2UgXCJpbXBhY3RcIjpcbiAgICAgICAgICAgICAgdGhpcy5zeXN0ZW0gPSBuZXcgbyh0aGlzLCBpKTt9XG4gICAgICAgIH1cbiAgICAgIH0sIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHQsIGUpIHtcbiAgICAgICAgdGhpcy53b3JsZC51cGRhdGUodCwgZSk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGg7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gKGkoOTIpLCBpKDY3OSkpLFxuICAgICAgICBzID0gaSg2OTApLFxuICAgICAgICBhID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBlLCB0LndvcmxkID0gbmV3IHIodC5zY2VuZSwgZSksIHQuYWRkID0gbmV3IHModC53b3JsZCk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDY4MCksXG4gICAgICAgIHIgPSBpKDApLFxuICAgICAgICBzID0gaSg1OSksXG4gICAgICAgIGEgPSBpKDY4MyksXG4gICAgICAgIG8gPSBpKDcpLFxuICAgICAgICBoID0gaSg1NCksXG4gICAgICAgIHUgPSBpKDY4NSksXG4gICAgICAgIGMgPSBpKDYwKSxcbiAgICAgICAgbCA9IG5ldyByKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSB0LCB0aGlzLmV2ZW50cyA9IHQuc3lzLmV2ZW50cywgdGhpcy5ib2RpZXMgPSBuZXcgaCgpLCB0aGlzLmdyYXZpdHkgPSBvKGUsIFwiZ3Jhdml0eVwiLCAwKSwgdGhpcy5jZWxsU2l6ZSA9IG8oZSwgXCJjZWxsU2l6ZVwiLCA2NCksIHRoaXMuY29sbGlzaW9uTWFwID0gbmV3IGEoKSwgdGhpcy50aW1lU2NhbGUgPSBvKGUsIFwidGltZVNjYWxlXCIsIDEpLCB0aGlzLm1heFN0ZXAgPSBvKGUsIFwibWF4U3RlcFwiLCAuMDUpLCB0aGlzLmVuYWJsZWQgPSAhMCwgdGhpcy5kcmF3RGVidWcgPSBvKGUsIFwiZGVidWdcIiwgITEpLCB0aGlzLmRlYnVnR3JhcGhpYzt2YXIgaSA9IG8oZSwgXCJtYXhWZWxvY2l0eVwiLCAxMDApO2lmICh0aGlzLmRlZmF1bHRzID0geyBkZWJ1Z1Nob3dCb2R5OiBvKGUsIFwiZGVidWdTaG93Qm9keVwiLCAhMCksIGRlYnVnU2hvd1ZlbG9jaXR5OiBvKGUsIFwiZGVidWdTaG93VmVsb2NpdHlcIiwgITApLCBib2R5RGVidWdDb2xvcjogbyhlLCBcImRlYnVnQm9keUNvbG9yXCIsIDE2NzExOTM1KSwgdmVsb2NpdHlEZWJ1Z0NvbG9yOiBvKGUsIFwiZGVidWdWZWxvY2l0eUNvbG9yXCIsIDY1MjgwKSwgbWF4VmVsb2NpdHlYOiBvKGUsIFwibWF4VmVsb2NpdHlYXCIsIGkpLCBtYXhWZWxvY2l0eVk6IG8oZSwgXCJtYXhWZWxvY2l0eVlcIiwgaSksIG1pbkJvdW5jZVZlbG9jaXR5OiBvKGUsIFwibWluQm91bmNlVmVsb2NpdHlcIiwgNDApLCBncmF2aXR5RmFjdG9yOiBvKGUsIFwiZ3Jhdml0eUZhY3RvclwiLCAxKSwgYm91bmNpbmVzczogbyhlLCBcImJvdW5jaW5lc3NcIiwgMCkgfSwgdGhpcy53YWxscyA9IHsgbGVmdDogbnVsbCwgcmlnaHQ6IG51bGwsIHRvcDogbnVsbCwgYm90dG9tOiBudWxsIH0sIHRoaXMuZGVsdGEgPSAwLCB0aGlzLl9sYXN0SWQgPSAwLCBvKGUsIFwic2V0Qm91bmRzXCIsICExKSkge1xuICAgICAgICAgIHZhciBuID0gZS5zZXRCb3VuZHM7aWYgKFwiYm9vbGVhblwiID09IHR5cGVvZiBuKSB0aGlzLnNldEJvdW5kcygpO2Vsc2Uge1xuICAgICAgICAgICAgdmFyIHIgPSBvKG4sIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgICBzID0gbyhuLCBcInlcIiwgMCksXG4gICAgICAgICAgICAgICAgdSA9IG8obiwgXCJ3aWR0aFwiLCB0LnN5cy5nYW1lLmNvbmZpZy53aWR0aCksXG4gICAgICAgICAgICAgICAgYyA9IG8obiwgXCJoZWlnaHRcIiwgdC5zeXMuZ2FtZS5jb25maWcuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICBsID0gbyhuLCBcInRoaWNrbmVzc1wiLCA2NCksXG4gICAgICAgICAgICAgICAgZiA9IG8obiwgXCJsZWZ0XCIsICEwKSxcbiAgICAgICAgICAgICAgICBkID0gbyhuLCBcInJpZ2h0XCIsICEwKSxcbiAgICAgICAgICAgICAgICBwID0gbyhuLCBcInRvcFwiLCAhMCksXG4gICAgICAgICAgICAgICAgdiA9IG8obiwgXCJib3R0b21cIiwgITApO3RoaXMuc2V0Qm91bmRzKHIsIHMsIHUsIGMsIGwsIGYsIGQsIHAsIHYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfXRoaXMuZHJhd0RlYnVnICYmIHRoaXMuY3JlYXRlRGVidWdHcmFwaGljKCk7XG4gICAgICB9LCBzZXRDb2xsaXNpb25NYXA6IGZ1bmN0aW9uIHNldENvbGxpc2lvbk1hcCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbk1hcCA9IG5ldyBhKHQsIGUpLCB0aGlzO1xuICAgICAgfSwgc2V0Qm91bmRzOiBmdW5jdGlvbiBzZXRCb3VuZHModCwgZSwgaSwgbiwgciwgcywgYSwgbywgaCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IGkgJiYgKGkgPSB0aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aCksIHZvaWQgMCA9PT0gbiAmJiAobiA9IHRoaXMuc2NlbmUuc3lzLmdhbWUuY29uZmlnLmhlaWdodCksIHZvaWQgMCA9PT0gciAmJiAociA9IDY0KSwgdm9pZCAwID09PSBzICYmIChzID0gITApLCB2b2lkIDAgPT09IGEgJiYgKGEgPSAhMCksIHZvaWQgMCA9PT0gbyAmJiAobyA9ICEwKSwgdm9pZCAwID09PSBoICYmIChoID0gITApLCB0aGlzLnVwZGF0ZVdhbGwocywgXCJsZWZ0XCIsIHQgLSByLCBlLCByLCBuKSwgdGhpcy51cGRhdGVXYWxsKGEsIFwicmlnaHRcIiwgdCArIGksIGUsIHIsIG4pLCB0aGlzLnVwZGF0ZVdhbGwobywgXCJ0b3BcIiwgdCwgZSAtIHIsIGksIHIpLCB0aGlzLnVwZGF0ZVdhbGwoaCwgXCJib3R0b21cIiwgdCwgZSArIG4sIGksIHIpLCB0aGlzO1xuICAgICAgfSwgdXBkYXRlV2FsbDogZnVuY3Rpb24gdXBkYXRlV2FsbCh0LCBlLCBpLCBuLCByLCBhKSB7XG4gICAgICAgIHZhciBvID0gdGhpcy53YWxsc1tlXTt0ID8gbyA/IG8ucmVzZXRTaXplKGksIG4sIHIsIGEpIDogKHRoaXMud2FsbHNbZV0gPSB0aGlzLmNyZWF0ZShpLCBuLCByLCBhKSwgdGhpcy53YWxsc1tlXS5uYW1lID0gZSwgdGhpcy53YWxsc1tlXS5ncmF2aXR5RmFjdG9yID0gMCwgdGhpcy53YWxsc1tlXS5jb2xsaWRlcyA9IHMuRklYRUQpIDogKG8gJiYgdGhpcy5ib2RpZXMucmVtb3ZlKG8pLCB0aGlzLndhbGxzW2VdID0gbnVsbCk7XG4gICAgICB9LCBjcmVhdGVEZWJ1Z0dyYXBoaWM6IGZ1bmN0aW9uIGNyZWF0ZURlYnVnR3JhcGhpYygpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLnNjZW5lLnN5cy5hZGQuZ3JhcGhpY3MoeyB4OiAwLCB5OiAwIH0pO3JldHVybiB0LnNldFooTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpLCB0aGlzLmRlYnVnR3JhcGhpYyA9IHQsIHRoaXMuZHJhd0RlYnVnID0gITAsIHQ7XG4gICAgICB9LCBnZXROZXh0SUQ6IGZ1bmN0aW9uIGdldE5leHRJRCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RJZCsrO1xuICAgICAgfSwgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUodCwgZSwgaSwgcikge1xuICAgICAgICB2YXIgcyA9IG5ldyBuKHRoaXMsIHQsIGUsIGksIHIpO3JldHVybiB0aGlzLmJvZGllcy5zZXQocyksIHM7XG4gICAgICB9LCBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZWQgPSAhMSwgdGhpcztcbiAgICAgIH0sIHJlc3VtZTogZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVkID0gITAsIHRoaXM7XG4gICAgICB9LCB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh0LCBlKSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQgJiYgMCAhPT0gdGhpcy5ib2RpZXMuc2l6ZSkge1xuICAgICAgICAgIHRoaXMuZGVsdGEgPSBNYXRoLm1pbihlIC8gMWUzLCB0aGlzLm1heFN0ZXApICogdGhpcy50aW1lU2NhbGU7dmFyIGksXG4gICAgICAgICAgICAgIG4sXG4gICAgICAgICAgICAgIHIgPSB0aGlzLmJvZGllcy5lbnRyaWVzLFxuICAgICAgICAgICAgICBzID0gci5sZW5ndGgsXG4gICAgICAgICAgICAgIGEgPSB7fSxcbiAgICAgICAgICAgICAgbyA9IHRoaXMuY2VsbFNpemU7Zm9yIChpID0gMDsgaSA8IHM7IGkrKykge1xuICAgICAgICAgICAgbiA9IHJbaV0sIG4uZW5hYmxlZCAmJiBuLnVwZGF0ZSh0aGlzLmRlbHRhKTtcbiAgICAgICAgICB9Zm9yIChpID0gMDsgaSA8IHM7IGkrKykge1xuICAgICAgICAgICAgbiA9IHJbaV0sIG4uc2tpcEhhc2goKSB8fCB0aGlzLmNoZWNrSGFzaChuLCBhLCBvKTtcbiAgICAgICAgICB9aWYgKHRoaXMuZHJhd0RlYnVnKSB7XG4gICAgICAgICAgICB2YXIgaCA9IHRoaXMuZGVidWdHcmFwaGljO2ZvciAoaC5jbGVhcigpLCBpID0gMDsgaSA8IHM7IGkrKykge1xuICAgICAgICAgICAgICBuID0gcltpXSwgbi53aWxsRHJhd0RlYnVnKCkgJiYgbi5kcmF3RGVidWcoaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBjaGVja0hhc2g6IGZ1bmN0aW9uIGNoZWNrSGFzaCh0LCBlLCBpKSB7XG4gICAgICAgIGZvciAodmFyIG4gPSB7fSwgciA9IE1hdGguZmxvb3IodC5wb3MueCAvIGkpLCBzID0gTWF0aC5mbG9vcih0LnBvcy55IC8gaSksIGEgPSBNYXRoLmZsb29yKCh0LnBvcy54ICsgdC5zaXplLngpIC8gaSkgKyAxLCBvID0gTWF0aC5mbG9vcigodC5wb3MueSArIHQuc2l6ZS55KSAvIGkpICsgMSwgaCA9IHI7IGggPCBhOyBoKyspIHtcbiAgICAgICAgICBmb3IgKHZhciB1ID0gczsgdSA8IG87IHUrKykge1xuICAgICAgICAgICAgaWYgKGVbaF0pIHtcbiAgICAgICAgICAgICAgaWYgKGVbaF1bdV0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjID0gZVtoXVt1XSwgbCA9IDA7IGwgPCBjLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgICAgICAgICB0LnRvdWNoZXMoY1tsXSkgJiYgIW5bY1tsXS5pZF0gJiYgKG5bY1tsXS5pZF0gPSAhMCwgdGhpcy5jaGVja0JvZGllcyh0LCBjW2xdKSk7XG4gICAgICAgICAgICAgICAgfWMucHVzaCh0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGVbaF1bdV0gPSBbdF07XG4gICAgICAgICAgICB9IGVsc2UgZVtoXSA9IHt9LCBlW2hdW3VdID0gW3RdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgY2hlY2tCb2RpZXM6IGZ1bmN0aW9uIGNoZWNrQm9kaWVzKHQsIGUpIHtcbiAgICAgICAgdC5jb2xsaWRlcyA9PT0gcy5GSVhFRCAmJiBlLmNvbGxpZGVzID09PSBzLkZJWEVEIHx8ICh0LmNoZWNrQWdhaW5zdCAmIGUudHlwZSAmJiB0LmNoZWNrKGUpLCBlLmNoZWNrQWdhaW5zdCAmIHQudHlwZSAmJiBlLmNoZWNrKHQpLCB0LmNvbGxpZGVzICYmIGUuY29sbGlkZXMgJiYgdC5jb2xsaWRlcyArIGUuY29sbGlkZXMgPiBzLkFDVElWRSAmJiB1KHRoaXMsIHQsIGUpKTtcbiAgICAgIH0sIHNldENvbGxpZGVzTmV2ZXI6IGZ1bmN0aW9uIHNldENvbGxpZGVzTmV2ZXIodCkge1xuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0W2VdLmNvbGxpZGVzID0gcy5ORVZFUjtcbiAgICAgICAgfXJldHVybiB0aGlzO1xuICAgICAgfSwgc2V0TGl0ZTogZnVuY3Rpb24gc2V0TGl0ZSh0KSB7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIHRbZV0uY29sbGlkZXMgPSBzLkxJVEU7XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH0sIHNldFBhc3NpdmU6IGZ1bmN0aW9uIHNldFBhc3NpdmUodCkge1xuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0W2VdLmNvbGxpZGVzID0gcy5QQVNTSVZFO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBzZXRBY3RpdmU6IGZ1bmN0aW9uIHNldEFjdGl2ZSh0KSB7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIHRbZV0uY29sbGlkZXMgPSBzLkFDVElWRTtcbiAgICAgICAgfXJldHVybiB0aGlzO1xuICAgICAgfSwgc2V0Rml4ZWQ6IGZ1bmN0aW9uIHNldEZpeGVkKHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgdFtlXS5jb2xsaWRlcyA9IHMuRklYRUQ7XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH0sIHNldFR5cGVOb25lOiBmdW5jdGlvbiBzZXRUeXBlTm9uZSh0KSB7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIHRbZV0udHlwZSA9IGMuTk9ORTtcbiAgICAgICAgfXJldHVybiB0aGlzO1xuICAgICAgfSwgc2V0VHlwZUE6IGZ1bmN0aW9uIHNldFR5cGVBKHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgdFtlXS50eXBlID0gYy5BO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBzZXRUeXBlQjogZnVuY3Rpb24gc2V0VHlwZUIodCkge1xuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0W2VdLnR5cGUgPSBjLkI7XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH0sIHNldEF2c0I6IGZ1bmN0aW9uIHNldEF2c0IodCkge1xuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0W2VdLnR5cGUgPSBjLkEsIHRbZV0uY2hlY2tBZ2FpbnN0ID0gYy5CO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBzZXRCdnNBOiBmdW5jdGlvbiBzZXRCdnNBKHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgdFtlXS50eXBlID0gYy5CLCB0W2VdLmNoZWNrQWdhaW5zdCA9IGMuQTtcbiAgICAgICAgfXJldHVybiB0aGlzO1xuICAgICAgfSwgc2V0Q2hlY2tBZ2FpbnN0Tm9uZTogZnVuY3Rpb24gc2V0Q2hlY2tBZ2FpbnN0Tm9uZSh0KSB7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIHRbZV0uY2hlY2tBZ2FpbnN0ID0gYy5OT05FO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBzZXRDaGVja0FnYWluc3RBOiBmdW5jdGlvbiBzZXRDaGVja0FnYWluc3RBKHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgdFtlXS5jaGVja0FnYWluc3QgPSBjLkE7XG4gICAgICAgIH1yZXR1cm4gdGhpcztcbiAgICAgIH0sIHNldENoZWNrQWdhaW5zdEI6IGZ1bmN0aW9uIHNldENoZWNrQWdhaW5zdEIodCkge1xuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0W2VdLmNoZWNrQWdhaW5zdCA9IGMuQjtcbiAgICAgICAgfXJldHVybiB0aGlzO1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IG51bGwsIHRoaXMuZXZlbnRzID0gbnVsbCwgdGhpcy5ib2RpZXMuY2xlYXIoKSwgdGhpcy5ib2RpZXMgPSBudWxsLCB0aGlzLmNvbGxpc2lvbk1hcCA9IG51bGw7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGw7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg1OSksXG4gICAgICAgIHMgPSBpKDY4MSksXG4gICAgICAgIGEgPSBpKDYwKSxcbiAgICAgICAgbyA9IGkoNjgyKSxcbiAgICAgICAgaCA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuLCBzKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9IDE2KSwgdm9pZCAwID09PSBzICYmIChzID0gbiksIHRoaXMud29ybGQgPSB0LCB0aGlzLmdhbWVPYmplY3QgPSBudWxsLCB0aGlzLmVuYWJsZWQgPSAhMCwgdGhpcy5wYXJlbnQsIHRoaXMuaWQgPSB0LmdldE5leHRJRCgpLCB0aGlzLm5hbWUgPSBcIlwiLCB0aGlzLnNpemUgPSB7IHg6IG4sIHk6IHMgfSwgdGhpcy5vZmZzZXQgPSB7IHg6IDAsIHk6IDAgfSwgdGhpcy5wb3MgPSB7IHg6IGUsIHk6IGkgfSwgdGhpcy5sYXN0ID0geyB4OiBlLCB5OiBpIH0sIHRoaXMudmVsID0geyB4OiAwLCB5OiAwIH0sIHRoaXMuYWNjZWwgPSB7IHg6IDAsIHk6IDAgfSwgdGhpcy5mcmljdGlvbiA9IHsgeDogMCwgeTogMCB9LCB0aGlzLm1heFZlbCA9IHsgeDogdC5kZWZhdWx0cy5tYXhWZWxvY2l0eVgsIHk6IHQuZGVmYXVsdHMubWF4VmVsb2NpdHlZIH0sIHRoaXMuc3RhbmRpbmcgPSAhMSwgdGhpcy5ncmF2aXR5RmFjdG9yID0gdC5kZWZhdWx0cy5ncmF2aXR5RmFjdG9yLCB0aGlzLmJvdW5jaW5lc3MgPSB0LmRlZmF1bHRzLmJvdW5jaW5lc3MsIHRoaXMubWluQm91bmNlVmVsb2NpdHkgPSB0LmRlZmF1bHRzLm1pbkJvdW5jZVZlbG9jaXR5LCB0aGlzLmFjY2VsR3JvdW5kID0gMCwgdGhpcy5hY2NlbEFpciA9IDAsIHRoaXMuanVtcFNwZWVkID0gMCwgdGhpcy50eXBlID0gYS5OT05FLCB0aGlzLmNoZWNrQWdhaW5zdCA9IGEuTk9ORSwgdGhpcy5jb2xsaWRlcyA9IHIuTkVWRVIsIHRoaXMuZGVidWdTaG93Qm9keSA9IHQuZGVmYXVsdHMuZGVidWdTaG93Qm9keSwgdGhpcy5kZWJ1Z1Nob3dWZWxvY2l0eSA9IHQuZGVmYXVsdHMuZGVidWdTaG93VmVsb2NpdHksIHRoaXMuZGVidWdCb2R5Q29sb3IgPSB0LmRlZmF1bHRzLmJvZHlEZWJ1Z0NvbG9yLCB0aGlzLnVwZGF0ZUNhbGxiYWNrLCB0aGlzLnNsb3BlU3RhbmRpbmcgPSB7IG1pbjogLjc2Nzk0NDg3MDg3NzUwNSwgbWF4OiAyLjM3MzY0Nzc4MjcxMjI4ODQgfTtcbiAgICAgIH0sIHJlc2V0OiBmdW5jdGlvbiByZXNldCh0LCBlKSB7XG4gICAgICAgIHRoaXMucG9zID0geyB4OiB0LCB5OiBlIH0sIHRoaXMubGFzdCA9IHsgeDogdCwgeTogZSB9LCB0aGlzLnZlbCA9IHsgeDogMCwgeTogMCB9LCB0aGlzLmFjY2VsID0geyB4OiAwLCB5OiAwIH0sIHRoaXMuZnJpY3Rpb24gPSB7IHg6IDAsIHk6IDAgfSwgdGhpcy5tYXhWZWwgPSB7IHg6IDEwMCwgeTogMTAwIH0sIHRoaXMuc3RhbmRpbmcgPSAhMSwgdGhpcy5ncmF2aXR5RmFjdG9yID0gMSwgdGhpcy5ib3VuY2luZXNzID0gMCwgdGhpcy5taW5Cb3VuY2VWZWxvY2l0eSA9IDQwLCB0aGlzLmFjY2VsR3JvdW5kID0gMCwgdGhpcy5hY2NlbEFpciA9IDAsIHRoaXMuanVtcFNwZWVkID0gMCwgdGhpcy50eXBlID0gYS5OT05FLCB0aGlzLmNoZWNrQWdhaW5zdCA9IGEuTk9ORSwgdGhpcy5jb2xsaWRlcyA9IHIuTkVWRVI7XG4gICAgICB9LCB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5wb3M7dGhpcy5sYXN0LnggPSBlLngsIHRoaXMubGFzdC55ID0gZS55LCB0aGlzLnZlbC55ICs9IHRoaXMud29ybGQuZ3Jhdml0eSAqIHQgKiB0aGlzLmdyYXZpdHlGYWN0b3IsIHRoaXMudmVsLnggPSBzKHQsIHRoaXMudmVsLngsIHRoaXMuYWNjZWwueCwgdGhpcy5mcmljdGlvbi54LCB0aGlzLm1heFZlbC54KSwgdGhpcy52ZWwueSA9IHModCwgdGhpcy52ZWwueSwgdGhpcy5hY2NlbC55LCB0aGlzLmZyaWN0aW9uLnksIHRoaXMubWF4VmVsLnkpO3ZhciBpID0gdGhpcy52ZWwueCAqIHQsXG4gICAgICAgICAgICBuID0gdGhpcy52ZWwueSAqIHQsXG4gICAgICAgICAgICByID0gdGhpcy53b3JsZC5jb2xsaXNpb25NYXAudHJhY2UoZS54LCBlLnksIGksIG4sIHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSk7dGhpcy5oYW5kbGVNb3ZlbWVudFRyYWNlKHIpICYmIG8odGhpcywgcik7dmFyIGEgPSB0aGlzLmdhbWVPYmplY3Q7YSAmJiAoYS54ID0gZS54IC0gdGhpcy5vZmZzZXQueCArIGEuZGlzcGxheU9yaWdpblggKiBhLnNjYWxlWCwgYS55ID0gZS55IC0gdGhpcy5vZmZzZXQueSArIGEuZGlzcGxheU9yaWdpblkgKiBhLnNjYWxlWSksIHRoaXMudXBkYXRlQ2FsbGJhY2sgJiYgdGhpcy51cGRhdGVDYWxsYmFjayh0aGlzKTtcbiAgICAgIH0sIGRyYXdEZWJ1ZzogZnVuY3Rpb24gZHJhd0RlYnVnKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLnBvcztpZiAodGhpcy5kZWJ1Z1Nob3dCb2R5ICYmICh0LmxpbmVTdHlsZSgxLCB0aGlzLmRlYnVnQm9keUNvbG9yLCAxKSwgdC5zdHJva2VSZWN0KGUueCwgZS55LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpKSwgdGhpcy5kZWJ1Z1Nob3dWZWxvY2l0eSkge1xuICAgICAgICAgIHZhciBpID0gZS54ICsgdGhpcy5zaXplLnggLyAyLFxuICAgICAgICAgICAgICBuID0gZS55ICsgdGhpcy5zaXplLnkgLyAyO3QubGluZVN0eWxlKDEsIHRoaXMud29ybGQuZGVmYXVsdHMudmVsb2NpdHlEZWJ1Z0NvbG9yLCAxKSwgdC5saW5lQmV0d2VlbihpLCBuLCBpICsgdGhpcy52ZWwueCwgbiArIHRoaXMudmVsLnkpO1xuICAgICAgICB9XG4gICAgICB9LCB3aWxsRHJhd0RlYnVnOiBmdW5jdGlvbiB3aWxsRHJhd0RlYnVnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWJ1Z1Nob3dCb2R5IHx8IHRoaXMuZGVidWdTaG93VmVsb2NpdHk7XG4gICAgICB9LCBza2lwSGFzaDogZnVuY3Rpb24gc2tpcEhhc2goKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5lbmFibGVkIHx8IDAgPT09IHRoaXMudHlwZSAmJiAwID09PSB0aGlzLmNoZWNrQWdhaW5zdCAmJiAwID09PSB0aGlzLmNvbGxpZGVzO1xuICAgICAgfSwgdG91Y2hlczogZnVuY3Rpb24gdG91Y2hlcyh0KSB7XG4gICAgICAgIHJldHVybiAhKHRoaXMucG9zLnggPj0gdC5wb3MueCArIHQuc2l6ZS54IHx8IHRoaXMucG9zLnggKyB0aGlzLnNpemUueCA8PSB0LnBvcy54IHx8IHRoaXMucG9zLnkgPj0gdC5wb3MueSArIHQuc2l6ZS55IHx8IHRoaXMucG9zLnkgKyB0aGlzLnNpemUueSA8PSB0LnBvcy55KTtcbiAgICAgIH0sIHJlc2V0U2l6ZTogZnVuY3Rpb24gcmVzZXRTaXplKHQsIGUsIGksIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zLnggPSB0LCB0aGlzLnBvcy55ID0gZSwgdGhpcy5zaXplLnggPSBpLCB0aGlzLnNpemUueSA9IG4sIHRoaXM7XG4gICAgICB9LCB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHsgbmFtZTogdGhpcy5uYW1lLCBzaXplOiB7IHg6IHRoaXMuc2l6ZS54LCB5OiB0aGlzLnNpemUueSB9LCBwb3M6IHsgeDogdGhpcy5wb3MueCwgeTogdGhpcy5wb3MueSB9LCB2ZWw6IHsgeDogdGhpcy52ZWwueCwgeTogdGhpcy52ZWwueSB9LCBhY2NlbDogeyB4OiB0aGlzLmFjY2VsLngsIHk6IHRoaXMuYWNjZWwueSB9LCBmcmljdGlvbjogeyB4OiB0aGlzLmZyaWN0aW9uLngsIHk6IHRoaXMuZnJpY3Rpb24ueSB9LCBtYXhWZWw6IHsgeDogdGhpcy5tYXhWZWwueCwgeTogdGhpcy5tYXhWZWwueSB9LCBncmF2aXR5RmFjdG9yOiB0aGlzLmdyYXZpdHlGYWN0b3IsIGJvdW5jaW5lc3M6IHRoaXMuYm91bmNpbmVzcywgbWluQm91bmNlVmVsb2NpdHk6IHRoaXMubWluQm91bmNlVmVsb2NpdHksIHR5cGU6IHRoaXMudHlwZSwgY2hlY2tBZ2FpbnN0OiB0aGlzLmNoZWNrQWdhaW5zdCwgY29sbGlkZXM6IHRoaXMuY29sbGlkZXMgfTtcbiAgICAgIH0sIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTih0KSB7fSwgY2hlY2s6IGZ1bmN0aW9uIGNoZWNrKHQpIHt9LCBjb2xsaWRlV2l0aDogZnVuY3Rpb24gY29sbGlkZVdpdGgodCwgZSkge1xuICAgICAgICB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5fY29sbGlkZUNhbGxiYWNrICYmIHRoaXMucGFyZW50Ll9jb2xsaWRlQ2FsbGJhY2suY2FsbCh0aGlzLnBhcmVudC5fY2FsbGJhY2tTY29wZSwgdGhpcywgdCwgZSk7XG4gICAgICB9LCBoYW5kbGVNb3ZlbWVudFRyYWNlOiBmdW5jdGlvbiBoYW5kbGVNb3ZlbWVudFRyYWNlKHQpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gITEsIHRoaXMud29ybGQgPSBudWxsLCB0aGlzLmdhbWVPYmplY3QgPSBudWxsLCB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGg7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQ5KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3IyNCwgcykge1xuICAgICAgaWYgKGkpIHJldHVybiBuKGUgKyBpICogdCwgLXMsIHMpO2lmIChfcjI0KSB7XG4gICAgICAgIHZhciBhID0gX3IyNCAqIHQ7cmV0dXJuIGUgLSBhID4gMCA/IGUgLSBhIDogZSArIGEgPCAwID8gZSArIGEgOiAwO1xuICAgICAgfXJldHVybiBuKGUsIC1zLCBzKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGlmICh0LnN0YW5kaW5nID0gITEsIGUuY29sbGlzaW9uLnkgJiYgKHQuYm91bmNpbmVzcyA+IDAgJiYgTWF0aC5hYnModC52ZWwueSkgPiB0Lm1pbkJvdW5jZVZlbG9jaXR5ID8gdC52ZWwueSAqPSAtdC5ib3VuY2luZXNzIDogKHQudmVsLnkgPiAwICYmICh0LnN0YW5kaW5nID0gITApLCB0LnZlbC55ID0gMCkpLCBlLmNvbGxpc2lvbi54ICYmICh0LmJvdW5jaW5lc3MgPiAwICYmIE1hdGguYWJzKHQudmVsLngpID4gdC5taW5Cb3VuY2VWZWxvY2l0eSA/IHQudmVsLnggKj0gLXQuYm91bmNpbmVzcyA6IHQudmVsLnggPSAwKSwgZS5jb2xsaXNpb24uc2xvcGUpIHtcbiAgICAgICAgdmFyIGkgPSBlLmNvbGxpc2lvbi5zbG9wZTtpZiAodC5ib3VuY2luZXNzID4gMCkge1xuICAgICAgICAgIHZhciBuID0gdC52ZWwueCAqIGkubnggKyB0LnZlbC55ICogaS5ueTt0LnZlbC54ID0gKHQudmVsLnggLSBpLm54ICogbiAqIDIpICogdC5ib3VuY2luZXNzLCB0LnZlbC55ID0gKHQudmVsLnkgLSBpLm55ICogbiAqIDIpICogdC5ib3VuY2luZXNzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByID0gaS54ICogaS54ICsgaS55ICogaS55LFxuICAgICAgICAgICAgICBzID0gKHQudmVsLnggKiBpLnggKyB0LnZlbC55ICogaS55KSAvIHI7dC52ZWwueCA9IGkueCAqIHMsIHQudmVsLnkgPSBpLnkgKiBzO3ZhciBhID0gTWF0aC5hdGFuMihpLngsIGkueSk7YSA+IHQuc2xvcGVTdGFuZGluZy5taW4gJiYgYSA8IHQuc2xvcGVTdGFuZGluZy5tYXggJiYgKHQuc3RhbmRpbmcgPSAhMCk7XG4gICAgICAgIH1cbiAgICAgIH10LnBvcy54ID0gZS5wb3MueCwgdC5wb3MueSA9IGUucG9zLnk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNjg0KSxcbiAgICAgICAgcyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHRoaXMudGlsZXNpemUgPSB0LCB0aGlzLmRhdGEgPSBlLCB0aGlzLndpZHRoID0gQXJyYXkuaXNBcnJheShlKSA/IGVbMF0ubGVuZ3RoIDogMCwgdGhpcy5oZWlnaHQgPSBBcnJheS5pc0FycmF5KGUpID8gZS5sZW5ndGggOiAwLCB0aGlzLmxhc3RTbG9wZSA9IDU1LCB0aGlzLnRpbGVkZWYgPSByO1xuICAgICAgfSwgdHJhY2U6IGZ1bmN0aW9uIHRyYWNlKHQsIGUsIGksIG4sIHIsIHMpIHtcbiAgICAgICAgdmFyIGEgPSB7IGNvbGxpc2lvbjogeyB4OiAhMSwgeTogITEsIHNsb3BlOiAhMSB9LCBwb3M6IHsgeDogdCArIGksIHk6IGUgKyBuIH0sIHRpbGU6IHsgeDogMCwgeTogMCB9IH07aWYgKCF0aGlzLmRhdGEpIHJldHVybiBhO3ZhciBvID0gTWF0aC5jZWlsKE1hdGgubWF4KE1hdGguYWJzKGkpLCBNYXRoLmFicyhuKSkgLyB0aGlzLnRpbGVzaXplKTtpZiAobyA+IDEpIGZvciAodmFyIGggPSBpIC8gbywgdSA9IG4gLyBvLCBjID0gMDsgYyA8IG8gJiYgKGggfHwgdSkgJiYgKHRoaXMuc3RlcChhLCB0LCBlLCBoLCB1LCByLCBzLCBpLCBuLCBjKSwgdCA9IGEucG9zLngsIGUgPSBhLnBvcy55LCBhLmNvbGxpc2lvbi54ICYmIChoID0gMCwgaSA9IDApLCBhLmNvbGxpc2lvbi55ICYmICh1ID0gMCwgbiA9IDApLCAhYS5jb2xsaXNpb24uc2xvcGUpOyBjKyspIHt9IGVsc2UgdGhpcy5zdGVwKGEsIHQsIGUsIGksIG4sIHIsIHMsIGksIG4sIDApO3JldHVybiBhO1xuICAgICAgfSwgc3RlcDogZnVuY3Rpb24gc3RlcCh0LCBlLCBpLCBuLCByLCBzLCBhLCBvLCBoLCB1KSB7XG4gICAgICAgIHZhciBjLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGYgPSAwLFxuICAgICAgICAgICAgZCA9IHRoaXMudGlsZXNpemUsXG4gICAgICAgICAgICBwID0gdGhpcy53aWR0aCxcbiAgICAgICAgICAgIHYgPSB0aGlzLmhlaWdodDtpZiAobikge1xuICAgICAgICAgIHZhciBnID0gbiA+IDAgPyBzIDogMCxcbiAgICAgICAgICAgICAgeCA9IG4gPCAwID8gZCA6IDAsXG4gICAgICAgICAgICAgIG0gPSBNYXRoLm1heChNYXRoLmZsb29yKGkgLyBkKSwgMCksXG4gICAgICAgICAgICAgIHkgPSBNYXRoLm1pbihNYXRoLmNlaWwoKGkgKyBhKSAvIGQpLCB2KTtjID0gTWF0aC5mbG9vcigodC5wb3MueCArIGcpIC8gZCk7dmFyIHcgPSBNYXRoLmZsb29yKChlICsgZykgLyBkKTtpZiAoKHUgPiAwIHx8IGMgPT09IHcgfHwgdyA8IDAgfHwgdyA+PSBwKSAmJiAodyA9IC0xKSwgYyA+PSAwICYmIGMgPCBwKSBmb3IgKGwgPSBtOyBsIDwgeSAmJiAhKC0xICE9PSB3ICYmIChmID0gdGhpcy5kYXRhW2xdW3ddKSA+IDEgJiYgZiA8PSB0aGlzLmxhc3RTbG9wZSAmJiB0aGlzLmNoZWNrRGVmKHQsIGYsIGUsIGksIG8sIGgsIHMsIGEsIHcsIGwpKTsgbCsrKSB7XG4gICAgICAgICAgICBpZiAoMSA9PT0gKGYgPSB0aGlzLmRhdGFbbF1bY10pIHx8IGYgPiB0aGlzLmxhc3RTbG9wZSB8fCBmID4gMSAmJiB0aGlzLmNoZWNrRGVmKHQsIGYsIGUsIGksIG8sIGgsIHMsIGEsIGMsIGwpKSB7XG4gICAgICAgICAgICAgIGlmIChmID4gMSAmJiBmIDw9IHRoaXMubGFzdFNsb3BlICYmIHQuY29sbGlzaW9uLnNsb3BlKSBicmVhazt0LmNvbGxpc2lvbi54ID0gITAsIHQudGlsZS54ID0gZiwgdC5wb3MueCA9IGMgKiBkIC0gZyArIHgsIGUgPSB0LnBvcy54LCBvID0gMDticmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1pZiAocikge1xuICAgICAgICAgIHZhciBFID0gciA+IDAgPyBhIDogMCxcbiAgICAgICAgICAgICAgVCA9IHIgPCAwID8gZCA6IDAsXG4gICAgICAgICAgICAgIGIgPSBNYXRoLm1heChNYXRoLmZsb29yKHQucG9zLnggLyBkKSwgMCksXG4gICAgICAgICAgICAgIF8gPSBNYXRoLm1pbihNYXRoLmNlaWwoKHQucG9zLnggKyBzKSAvIGQpLCBwKTtsID0gTWF0aC5mbG9vcigodC5wb3MueSArIEUpIC8gZCk7dmFyIEEgPSBNYXRoLmZsb29yKChpICsgRSkgLyBkKTtpZiAoKHUgPiAwIHx8IGwgPT09IEEgfHwgQSA8IDAgfHwgQSA+PSB2KSAmJiAoQSA9IC0xKSwgbCA+PSAwICYmIGwgPCB2KSBmb3IgKGMgPSBiOyBjIDwgXyAmJiAhKC0xICE9PSBBICYmIChmID0gdGhpcy5kYXRhW0FdW2NdKSA+IDEgJiYgZiA8PSB0aGlzLmxhc3RTbG9wZSAmJiB0aGlzLmNoZWNrRGVmKHQsIGYsIGUsIGksIG8sIGgsIHMsIGEsIGMsIEEpKTsgYysrKSB7XG4gICAgICAgICAgICBpZiAoMSA9PT0gKGYgPSB0aGlzLmRhdGFbbF1bY10pIHx8IGYgPiB0aGlzLmxhc3RTbG9wZSB8fCBmID4gMSAmJiB0aGlzLmNoZWNrRGVmKHQsIGYsIGUsIGksIG8sIGgsIHMsIGEsIGMsIGwpKSB7XG4gICAgICAgICAgICAgIGlmIChmID4gMSAmJiBmIDw9IHRoaXMubGFzdFNsb3BlICYmIHQuY29sbGlzaW9uLnNsb3BlKSBicmVhazt0LmNvbGxpc2lvbi55ID0gITAsIHQudGlsZS55ID0gZiwgdC5wb3MueSA9IGwgKiBkIC0gRSArIFQ7YnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBjaGVja0RlZjogZnVuY3Rpb24gY2hlY2tEZWYodCwgZSwgaSwgbiwgciwgcywgYSwgbywgaCwgdSkge1xuICAgICAgICB2YXIgYyA9IHRoaXMudGlsZWRlZltlXTtpZiAoIWMpIHJldHVybiAhMTt2YXIgbCA9IHRoaXMudGlsZXNpemUsXG4gICAgICAgICAgICBmID0gKGggKyBjWzBdKSAqIGwsXG4gICAgICAgICAgICBkID0gKHUgKyBjWzFdKSAqIGwsXG4gICAgICAgICAgICBwID0gKGNbMl0gLSBjWzBdKSAqIGwsXG4gICAgICAgICAgICB2ID0gKGNbM10gLSBjWzFdKSAqIGwsXG4gICAgICAgICAgICBnID0gY1s0XSxcbiAgICAgICAgICAgIHggPSBpICsgciArICh2IDwgMCA/IGEgOiAwKSAtIGYsXG4gICAgICAgICAgICBtID0gbiArIHMgKyAocCA+IDAgPyBvIDogMCkgLSBkO2lmIChwICogbSAtIHYgKiB4ID4gMCkge1xuICAgICAgICAgIGlmIChyICogLXYgKyBzICogcCA8IDApIHJldHVybiBnO3ZhciB5ID0gTWF0aC5zcXJ0KHAgKiBwICsgdiAqIHYpLFxuICAgICAgICAgICAgICB3ID0gdiAvIHksXG4gICAgICAgICAgICAgIEUgPSAtcCAvIHksXG4gICAgICAgICAgICAgIFQgPSB4ICogdyArIG0gKiBFLFxuICAgICAgICAgICAgICBiID0gdyAqIFQsXG4gICAgICAgICAgICAgIF8gPSBFICogVDtyZXR1cm4gYiAqIGIgKyBfICogXyA+PSByICogciArIHMgKiBzID8gZyB8fCBwICogKG0gLSBzKSAtIHYgKiAoeCAtIHIpIDwgLjUgOiAodC5wb3MueCA9IGkgKyByIC0gYiwgdC5wb3MueSA9IG4gKyBzIC0gXywgdC5jb2xsaXNpb24uc2xvcGUgPSB7IHg6IHAsIHk6IHYsIG54OiB3LCBueTogRSB9LCAhMCk7XG4gICAgICAgIH1yZXR1cm4gITE7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSAuNSxcbiAgICAgICAgbiA9IDEgLyAzLFxuICAgICAgICByID0gMiAvIDM7dC5leHBvcnRzID0geyAyOiBbMCwgMSwgMSwgMCwgITBdLCAzOiBbMCwgMSwgMSwgaSwgITBdLCA0OiBbMCwgaSwgMSwgMCwgITBdLCA1OiBbMCwgMSwgMSwgciwgITBdLCA2OiBbMCwgciwgMSwgbiwgITBdLCA3OiBbMCwgbiwgMSwgMCwgITBdLCA4OiBbaSwgMSwgMCwgMCwgITBdLCA5OiBbMSwgMCwgaSwgMSwgITBdLCAxMDogW2ksIDEsIDEsIDAsICEwXSwgMTE6IFswLCAwLCBpLCAxLCAhMF0sIDEyOiBbMCwgMCwgMSwgMCwgITFdLCAxMzogWzEsIDEsIDAsIDAsICEwXSwgMTQ6IFsxLCBpLCAwLCAwLCAhMF0sIDE1OiBbMSwgMSwgMCwgaSwgITBdLCAxNjogWzEsIG4sIDAsIDAsICEwXSwgMTc6IFsxLCByLCAwLCBuLCAhMF0sIDE4OiBbMSwgMSwgMCwgciwgITBdLCAxOTogWzEsIDEsIGksIDAsICEwXSwgMjA6IFtpLCAwLCAwLCAxLCAhMF0sIDIxOiBbMCwgMSwgaSwgMCwgITBdLCAyMjogW2ksIDAsIDEsIDEsICEwXSwgMjM6IFsxLCAxLCAwLCAxLCAhMV0sIDI0OiBbMCwgMCwgMSwgMSwgITBdLCAyNTogWzAsIDAsIDEsIGksICEwXSwgMjY6IFswLCBpLCAxLCAxLCAhMF0sIDI3OiBbMCwgMCwgMSwgbiwgITBdLCAyODogWzAsIG4sIDEsIHIsICEwXSwgMjk6IFswLCByLCAxLCAxLCAhMF0sIDMwOiBbbiwgMSwgMCwgMCwgITBdLCAzMTogWzEsIDAsIHIsIDEsICEwXSwgMzI6IFtyLCAxLCAxLCAwLCAhMF0sIDMzOiBbMCwgMCwgbiwgMSwgITBdLCAzNDogWzEsIDAsIDEsIDEsICExXSwgMzU6IFsxLCAwLCAwLCAxLCAhMF0sIDM2OiBbMSwgaSwgMCwgMSwgITBdLCAzNzogWzEsIDAsIDAsIGksICEwXSwgMzg6IFsxLCByLCAwLCAxLCAhMF0sIDM5OiBbMSwgbiwgMCwgciwgITBdLCA0MDogWzEsIDAsIDAsIG4sICEwXSwgNDE6IFtyLCAxLCBuLCAwLCAhMF0sIDQyOiBbciwgMCwgbiwgMSwgITBdLCA0MzogW24sIDEsIHIsIDAsICEwXSwgNDQ6IFtuLCAwLCByLCAxLCAhMF0sIDQ1OiBbMCwgMSwgMCwgMCwgITFdLCA1MjogWzEsIDEsIHIsIDAsICEwXSwgNTM6IFtuLCAwLCAwLCAxLCAhMF0sIDU0OiBbMCwgMSwgbiwgMCwgITBdLCA1NTogW3IsIDAsIDEsIDEsICEwXSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg2ODYpLFxuICAgICAgICByID0gaSg2ODcpLFxuICAgICAgICBzID0gaSg1OSksXG4gICAgICAgIGEgPSBpKDY4OCksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUsIGkpIHtcbiAgICAgIHZhciBvID0gbnVsbDtlLmNvbGxpZGVzID09PSBzLkxJVEUgfHwgaS5jb2xsaWRlcyA9PT0gcy5GSVhFRCA/IG8gPSBlIDogaS5jb2xsaWRlcyAhPT0gcy5MSVRFICYmIGUuY29sbGlkZXMgIT09IHMuRklYRUQgfHwgKG8gPSBpKSwgZS5sYXN0LnggKyBlLnNpemUueCA+IGkubGFzdC54ICYmIGUubGFzdC54IDwgaS5sYXN0LnggKyBpLnNpemUueCA/IChlLmxhc3QueSA8IGkubGFzdC55ID8gcih0LCBlLCBpLCBvKSA6IHIodCwgaSwgZSwgbyksIGUuY29sbGlkZVdpdGgoaSwgXCJ5XCIpLCBpLmNvbGxpZGVXaXRoKGUsIFwieVwiKSwgdC5ldmVudHMuZGlzcGF0Y2gobmV3IGEuQ09MTElERShlLCBpLCBcInlcIikpKSA6IGUubGFzdC55ICsgZS5zaXplLnkgPiBpLmxhc3QueSAmJiBlLmxhc3QueSA8IGkubGFzdC55ICsgaS5zaXplLnkgJiYgKGUubGFzdC54IDwgaS5sYXN0LnggPyBuKHQsIGUsIGksIG8pIDogbih0LCBpLCBlLCBvKSwgZS5jb2xsaWRlV2l0aChpLCBcInhcIiksIGkuY29sbGlkZVdpdGgoZSwgXCJ4XCIpLCB0LmV2ZW50cy5kaXNwYXRjaChuZXcgYS5DT0xMSURFKGUsIGksIFwieFwiKSkpO1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMjYsIG4pIHtcbiAgICAgIHZhciByID0gZS5wb3MueCArIGUuc2l6ZS54IC0gX2kxMjYucG9zLng7aWYgKG4pIHtcbiAgICAgICAgdmFyIHMgPSBlID09PSBuID8gX2kxMjYgOiBlO24udmVsLnggPSAtbi52ZWwueCAqIG4uYm91bmNpbmVzcyArIHMudmVsLng7dmFyIGEgPSB0LmNvbGxpc2lvbk1hcC50cmFjZShuLnBvcy54LCBuLnBvcy55LCBuID09PSBlID8gLXIgOiByLCAwLCBuLnNpemUueCwgbi5zaXplLnkpO24ucG9zLnggPSBhLnBvcy54O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG8gPSAoZS52ZWwueCAtIF9pMTI2LnZlbC54KSAvIDI7ZS52ZWwueCA9IC1vLCBfaTEyNi52ZWwueCA9IG87dmFyIGggPSB0LmNvbGxpc2lvbk1hcC50cmFjZShlLnBvcy54LCBlLnBvcy55LCAtciAvIDIsIDAsIGUuc2l6ZS54LCBlLnNpemUueSk7ZS5wb3MueCA9IE1hdGguZmxvb3IoaC5wb3MueCk7dmFyIHUgPSB0LmNvbGxpc2lvbk1hcC50cmFjZShfaTEyNi5wb3MueCwgX2kxMjYucG9zLnksIHIgLyAyLCAwLCBfaTEyNi5zaXplLngsIF9pMTI2LnNpemUueSk7X2kxMjYucG9zLnggPSBNYXRoLmNlaWwodS5wb3MueCk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEyNywgbikge1xuICAgICAgdmFyIHIsXG4gICAgICAgICAgcyxcbiAgICAgICAgICBhID0gZS5wb3MueSArIGUuc2l6ZS55IC0gX2kxMjcucG9zLnk7aWYgKG4pIHtcbiAgICAgICAgdmFyIG8gPSBlID09PSBuID8gX2kxMjcgOiBlO24udmVsLnkgPSAtbi52ZWwueSAqIG4uYm91bmNpbmVzcyArIG8udmVsLnksIHIgPSAwLCBuID09PSBlICYmIE1hdGguYWJzKG4udmVsLnkgLSBvLnZlbC55KSA8IG4ubWluQm91bmNlVmVsb2NpdHkgJiYgKG4uc3RhbmRpbmcgPSAhMCwgciA9IG8udmVsLnggKiB0LmRlbHRhKTt2YXIgaCA9IHQuY29sbGlzaW9uTWFwLnRyYWNlKG4ucG9zLngsIG4ucG9zLnksIHIsIG4gPT09IGUgPyAtYSA6IGEsIG4uc2l6ZS54LCBuLnNpemUueSk7bi5wb3MueSA9IGgucG9zLnksIG4ucG9zLnggPSBoLnBvcy54O1xuICAgICAgfSBlbHNlIGlmICh0LmdyYXZpdHkgJiYgKF9pMTI3LnN0YW5kaW5nIHx8IGUudmVsLnkgPiAwKSkgcyA9IHQuY29sbGlzaW9uTWFwLnRyYWNlKGUucG9zLngsIGUucG9zLnksIDAsIC0oZS5wb3MueSArIGUuc2l6ZS55IC0gX2kxMjcucG9zLnkpLCBlLnNpemUueCwgZS5zaXplLnkpLCBlLnBvcy55ID0gcy5wb3MueSwgZS5ib3VuY2luZXNzID4gMCAmJiBlLnZlbC55ID4gZS5taW5Cb3VuY2VWZWxvY2l0eSA/IGUudmVsLnkgKj0gLWUuYm91bmNpbmVzcyA6IChlLnN0YW5kaW5nID0gITAsIGUudmVsLnkgPSAwKTtlbHNlIHtcbiAgICAgICAgdmFyIHUgPSAoZS52ZWwueSAtIF9pMTI3LnZlbC55KSAvIDI7ZS52ZWwueSA9IC11LCBfaTEyNy52ZWwueSA9IHUsIHIgPSBfaTEyNy52ZWwueCAqIHQuZGVsdGEsIHMgPSB0LmNvbGxpc2lvbk1hcC50cmFjZShlLnBvcy54LCBlLnBvcy55LCByLCAtYSAvIDIsIGUuc2l6ZS54LCBlLnNpemUueSksIGUucG9zLnkgPSBzLnBvcy55O3ZhciBjID0gdC5jb2xsaXNpb25NYXAudHJhY2UoX2kxMjcucG9zLngsIF9pMTI3LnBvcy55LCAwLCBhIC8gMiwgX2kxMjcuc2l6ZS54LCBfaTEyNy5zaXplLnkpO19pMTI3LnBvcy55ID0gYy5wb3MueTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBDT0xMSURFOiBpKDY4OSkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDEpLFxuICAgICAgICBzID0gbmV3IG4oeyBFeHRlbmRzOiByLCBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGkpIHtcbiAgICAgICAgci5jYWxsKHRoaXMsIFwiQ09MTElERV9FVkVOVFwiKSwgdGhpcy5ib2R5QSA9IHQsIHRoaXMuYm9keUIgPSBlLCB0aGlzLmdhbWVPYmplY3RBID0gdC5nYW1lT2JqZWN0LCB0aGlzLmdhbWVPYmplY3RCID0gZS5nYW1lT2JqZWN0LCB0aGlzLmF4aXMgPSBpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNjkxKSxcbiAgICAgICAgcyA9IGkoNzA0KSxcbiAgICAgICAgYSA9IGkoNzA1KSxcbiAgICAgICAgbyA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0KSB7XG4gICAgICAgIHRoaXMud29ybGQgPSB0LCB0aGlzLnN5cyA9IHQuc2NlbmUuc3lzO1xuICAgICAgfSwgYm9keTogZnVuY3Rpb24gYm9keSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgcih0aGlzLndvcmxkLCB0LCBlLCBpLCBuKTtcbiAgICAgIH0sIGltYWdlOiBmdW5jdGlvbiBpbWFnZSh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gbmV3IHModGhpcy53b3JsZCwgdCwgZSwgaSwgbik7cmV0dXJuIHRoaXMuc3lzLmRpc3BsYXlMaXN0LmFkZChyKSwgcjtcbiAgICAgIH0sIHNwcml0ZTogZnVuY3Rpb24gc3ByaXRlKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSBuZXcgYSh0aGlzLndvcmxkLCB0LCBlLCBpLCBuKTtyZXR1cm4gdGhpcy5zeXMuZGlzcGxheUxpc3QuYWRkKHIpLCB0aGlzLnN5cy51cGRhdGVMaXN0LmFkZChyKSwgcjtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMCksXG4gICAgICAgIHIgPSBpKDkzKSxcbiAgICAgICAgcyA9IG5ldyBuKHsgTWl4aW5zOiBbci5BY2NlbGVyYXRpb24sIHIuQm9keVNjYWxlLCByLkJvZHlUeXBlLCByLkJvdW5jZSwgci5DaGVja0FnYWluc3QsIHIuQ29sbGlkZXMsIHIuRGVidWcsIHIuRnJpY3Rpb24sIHIuR3Jhdml0eSwgci5PZmZzZXQsIHIuU2V0R2FtZU9iamVjdCwgci5WZWxvY2l0eV0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgcikge1xuICAgICAgICB0aGlzLmJvZHkgPSB0LmNyZWF0ZShlLCBpLCBuLCByKSwgdGhpcy5ib2R5LnBhcmVudCA9IHRoaXMsIHRoaXMuc2l6ZSA9IHRoaXMuYm9keS5zaXplLCB0aGlzLm9mZnNldCA9IHRoaXMuYm9keS5vZmZzZXQsIHRoaXMudmVsID0gdGhpcy5ib2R5LnZlbCwgdGhpcy5hY2NlbCA9IHRoaXMuYm9keS5hY2NlbCwgdGhpcy5mcmljdGlvbiA9IHRoaXMuYm9keS5mcmljdGlvbiwgdGhpcy5tYXhWZWwgPSB0aGlzLmJvZHkubWF4VmVsO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0geyBzZXRBY2NlbGVyYXRpb25YOiBmdW5jdGlvbiBzZXRBY2NlbGVyYXRpb25YKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZWwueCA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRBY2NlbGVyYXRpb25ZOiBmdW5jdGlvbiBzZXRBY2NlbGVyYXRpb25ZKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZWwueSA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRBY2NlbGVyYXRpb246IGZ1bmN0aW9uIHNldEFjY2VsZXJhdGlvbih0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VsLnggPSB0LCB0aGlzLmFjY2VsLnkgPSBlLCB0aGlzO1xuICAgICAgfSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IHNldEJvZHlTaXplOiBmdW5jdGlvbiBzZXRCb2R5U2l6ZSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSB0KSwgdGhpcy5ib2R5LnNpemUueCA9IE1hdGgucm91bmQodCksIHRoaXMuYm9keS5zaXplLnkgPSBNYXRoLnJvdW5kKGUpLCB0aGlzO1xuICAgICAgfSwgc2V0Qm9keVNjYWxlOiBmdW5jdGlvbiBzZXRCb2R5U2NhbGUodCwgZSkge1xuICAgICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSB0KTt2YXIgaSA9IHRoaXMuYm9keS5nYW1lT2JqZWN0O3JldHVybiBpID8gKGkuc2V0U2NhbGUodCwgZSksIHRoaXMuc2V0Qm9keVNpemUoaS53aWR0aCAqIGkuc2NhbGVYLCBpLmhlaWdodCAqIGkuc2NhbGVZKSkgOiB0aGlzLnNldEJvZHlTaXplKHRoaXMuYm9keS5zaXplLnggKiB0LCB0aGlzLmJvZHkuc2l6ZS55ICogZSk7XG4gICAgICB9IH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNjApLFxuICAgICAgICByID0geyBnZXRCb2R5VHlwZTogZnVuY3Rpb24gZ2V0Qm9keVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHkudHlwZTtcbiAgICAgIH0sIHNldFR5cGVOb25lOiBmdW5jdGlvbiBzZXRUeXBlTm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9keS50eXBlID0gbi5OT05FLCB0aGlzO1xuICAgICAgfSwgc2V0VHlwZUE6IGZ1bmN0aW9uIHNldFR5cGVBKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5LnR5cGUgPSBuLkEsIHRoaXM7XG4gICAgICB9LCBzZXRUeXBlQjogZnVuY3Rpb24gc2V0VHlwZUIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHkudHlwZSA9IG4uQiwgdGhpcztcbiAgICAgIH0gfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0geyBzZXRCb3VuY2U6IGZ1bmN0aW9uIHNldEJvdW5jZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHkuYm91bmNpbmVzcyA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRNaW5Cb3VuY2VWZWxvY2l0eTogZnVuY3Rpb24gc2V0TWluQm91bmNlVmVsb2NpdHkodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5Lm1pbkJvdW5jZVZlbG9jaXR5ID0gdCwgdGhpcztcbiAgICAgIH0sIGJvdW5jZTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5LmJvdW5jaW5lc3M7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLmJvZHkuYm91bmNpbmVzcyA9IHQ7XG4gICAgICAgIH0gfSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDYwKSxcbiAgICAgICAgciA9IHsgc2V0QXZzQjogZnVuY3Rpb24gc2V0QXZzQigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0VHlwZUEoKSwgdGhpcy5zZXRDaGVja0FnYWluc3RCKCk7XG4gICAgICB9LCBzZXRCdnNBOiBmdW5jdGlvbiBzZXRCdnNBKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRUeXBlQigpLCB0aGlzLnNldENoZWNrQWdhaW5zdEEoKTtcbiAgICAgIH0sIHNldENoZWNrQWdhaW5zdE5vbmU6IGZ1bmN0aW9uIHNldENoZWNrQWdhaW5zdE5vbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHkuY2hlY2tBZ2FpbnN0ID0gbi5OT05FLCB0aGlzO1xuICAgICAgfSwgc2V0Q2hlY2tBZ2FpbnN0QTogZnVuY3Rpb24gc2V0Q2hlY2tBZ2FpbnN0QSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9keS5jaGVja0FnYWluc3QgPSBuLkEsIHRoaXM7XG4gICAgICB9LCBzZXRDaGVja0FnYWluc3RCOiBmdW5jdGlvbiBzZXRDaGVja0FnYWluc3RCKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5LmNoZWNrQWdhaW5zdCA9IG4uQiwgdGhpcztcbiAgICAgIH0sIGNoZWNrQWdhaW5zdDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5LmNoZWNrQWdhaW5zdDtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuYm9keS5jaGVja0FnYWluc3QgPSB0O1xuICAgICAgICB9IH0gfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg1OSksXG4gICAgICAgIHIgPSB7IF9jb2xsaWRlQ2FsbGJhY2s6IG51bGwsIF9jYWxsYmFja1Njb3BlOiBudWxsLCBzZXRDb2xsaWRlQ2FsbGJhY2s6IGZ1bmN0aW9uIHNldENvbGxpZGVDYWxsYmFjayh0LCBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xsaWRlQ2FsbGJhY2sgPSB0LCBlICYmICh0aGlzLl9jYWxsYmFja1Njb3BlID0gZSksIHRoaXM7XG4gICAgICB9LCBzZXRDb2xsaWRlc05ldmVyOiBmdW5jdGlvbiBzZXRDb2xsaWRlc05ldmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5LmNvbGxpZGVzID0gbi5ORVZFUiwgdGhpcztcbiAgICAgIH0sIHNldExpdGU6IGZ1bmN0aW9uIHNldExpdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHkuY29sbGlkZXMgPSBuLkxJVEUsIHRoaXM7XG4gICAgICB9LCBzZXRQYXNzaXZlOiBmdW5jdGlvbiBzZXRQYXNzaXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5LmNvbGxpZGVzID0gbi5QQVNTSVZFLCB0aGlzO1xuICAgICAgfSwgc2V0QWN0aXZlOiBmdW5jdGlvbiBzZXRBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHkuY29sbGlkZXMgPSBuLkFDVElWRSwgdGhpcztcbiAgICAgIH0sIHNldEZpeGVkOiBmdW5jdGlvbiBzZXRGaXhlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9keS5jb2xsaWRlcyA9IG4uRklYRUQsIHRoaXM7XG4gICAgICB9LCBjb2xsaWRlczogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5LmNvbGxpZGVzO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uIHNldCh0KSB7XG4gICAgICAgICAgdGhpcy5ib2R5LmNvbGxpZGVzID0gdDtcbiAgICAgICAgfSB9IH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgc2V0RGVidWc6IGZ1bmN0aW9uIHNldERlYnVnKHQsIGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVidWdTaG93Qm9keSA9IHQsIHRoaXMuZGVidWdTaG93VmVsb2NpdHkgPSBlLCB0aGlzLmRlYnVnQm9keUNvbG9yID0gaSwgdGhpcztcbiAgICAgIH0sIHNldERlYnVnQm9keUNvbG9yOiBmdW5jdGlvbiBzZXREZWJ1Z0JvZHlDb2xvcih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHkuZGVidWdCb2R5Q29sb3IgPSB0LCB0aGlzO1xuICAgICAgfSwgZGVidWdTaG93Qm9keTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5LmRlYnVnU2hvd0JvZHk7XG4gICAgICAgIH0sIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcbiAgICAgICAgICB0aGlzLmJvZHkuZGVidWdTaG93Qm9keSA9IHQ7XG4gICAgICAgIH0gfSwgZGVidWdTaG93VmVsb2NpdHk6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYm9keS5kZWJ1Z1Nob3dWZWxvY2l0eTtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuYm9keS5kZWJ1Z1Nob3dWZWxvY2l0eSA9IHQ7XG4gICAgICAgIH0gfSwgZGVidWdCb2R5Q29sb3I6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYm9keS5kZWJ1Z0JvZHlDb2xvcjtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuYm9keS5kZWJ1Z0JvZHlDb2xvciA9IHQ7XG4gICAgICAgIH0gfSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IHNldEZyaWN0aW9uWDogZnVuY3Rpb24gc2V0RnJpY3Rpb25YKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJpY3Rpb24ueCA9IHQsIHRoaXM7XG4gICAgICB9LCBzZXRGcmljdGlvblk6IGZ1bmN0aW9uIHNldEZyaWN0aW9uWSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyaWN0aW9uLnkgPSB0LCB0aGlzO1xuICAgICAgfSwgc2V0RnJpY3Rpb246IGZ1bmN0aW9uIHNldEZyaWN0aW9uKHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJpY3Rpb24ueCA9IHQsIHRoaXMuZnJpY3Rpb24ueSA9IGUsIHRoaXM7XG4gICAgICB9IH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgc2V0R3Jhdml0eTogZnVuY3Rpb24gc2V0R3Jhdml0eSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHkuZ3Jhdml0eUZhY3RvciA9IHQsIHRoaXM7XG4gICAgICB9LCBncmF2aXR5OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJvZHkuZ3Jhdml0eUZhY3RvcjtcbiAgICAgICAgfSwgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgICAgIHRoaXMuYm9keS5ncmF2aXR5RmFjdG9yID0gdDtcbiAgICAgICAgfSB9IH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgc2V0T2Zmc2V0OiBmdW5jdGlvbiBzZXRPZmZzZXQodCwgZSwgaSwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5Lm9mZnNldC54ID0gdCwgdGhpcy5ib2R5Lm9mZnNldC55ID0gZSwgaSAmJiB0aGlzLnNldEJvZHlTaXplKGksIG4pLCB0aGlzO1xuICAgICAgfSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSB7IHNldEdhbWVPYmplY3Q6IGZ1bmN0aW9uIHNldEdhbWVPYmplY3QodCwgZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gITApLCB0ID8gKHRoaXMuYm9keS5nYW1lT2JqZWN0ID0gdCwgZSAmJiB0aGlzLnN5bmNHYW1lT2JqZWN0KCkpIDogdGhpcy5ib2R5LmdhbWVPYmplY3QgPSBudWxsLCB0aGlzO1xuICAgICAgfSwgc3luY0dhbWVPYmplY3Q6IGZ1bmN0aW9uIHN5bmNHYW1lT2JqZWN0KCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuYm9keS5nYW1lT2JqZWN0O3JldHVybiB0ICYmIHRoaXMuc2V0Qm9keVNpemUodC53aWR0aCAqIHQuc2NhbGVYLCB0LmhlaWdodCAqIHQuc2NhbGVZKSwgdGhpcztcbiAgICAgIH0gfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0geyBzZXRWZWxvY2l0eVg6IGZ1bmN0aW9uIHNldFZlbG9jaXR5WCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlbC54ID0gdCwgdGhpcztcbiAgICAgIH0sIHNldFZlbG9jaXR5WTogZnVuY3Rpb24gc2V0VmVsb2NpdHlZKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVsLnkgPSB0LCB0aGlzO1xuICAgICAgfSwgc2V0VmVsb2NpdHk6IGZ1bmN0aW9uIHNldFZlbG9jaXR5KHQsIGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVsLnggPSB0LCB0aGlzLnZlbC55ID0gZSwgdGhpcztcbiAgICAgIH0sIHNldE1heFZlbG9jaXR5OiBmdW5jdGlvbiBzZXRNYXhWZWxvY2l0eSh0LCBlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSB0KSwgdGhpcy5tYXhWZWwueCA9IHQsIHRoaXMubWF4VmVsLnkgPSBlLCB0aGlzO1xuICAgICAgfSB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg5MyksXG4gICAgICAgIHMgPSBpKDU1KSxcbiAgICAgICAgYSA9IG5ldyBuKHsgRXh0ZW5kczogcywgTWl4aW5zOiBbci5BY2NlbGVyYXRpb24sIHIuQm9keVNjYWxlLCByLkJvZHlUeXBlLCByLkJvdW5jZSwgci5DaGVja0FnYWluc3QsIHIuQ29sbGlkZXMsIHIuRGVidWcsIHIuRnJpY3Rpb24sIHIuR3Jhdml0eSwgci5PZmZzZXQsIHIuU2V0R2FtZU9iamVjdCwgci5WZWxvY2l0eV0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgcikge1xuICAgICAgICBzLmNhbGwodGhpcywgdC5zY2VuZSwgZSwgaSwgbiwgciksIHRoaXMuYm9keSA9IHQuY3JlYXRlKGUgLSB0aGlzLmZyYW1lLmNlbnRlclgsIGkgLSB0aGlzLmZyYW1lLmNlbnRlclksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSwgdGhpcy5ib2R5LnBhcmVudCA9IHRoaXMsIHRoaXMuYm9keS5nYW1lT2JqZWN0ID0gdGhpcywgdGhpcy5zaXplID0gdGhpcy5ib2R5LnNpemUsIHRoaXMub2Zmc2V0ID0gdGhpcy5ib2R5Lm9mZnNldCwgdGhpcy52ZWwgPSB0aGlzLmJvZHkudmVsLCB0aGlzLmFjY2VsID0gdGhpcy5ib2R5LmFjY2VsLCB0aGlzLmZyaWN0aW9uID0gdGhpcy5ib2R5LmZyaWN0aW9uLCB0aGlzLm1heFZlbCA9IHRoaXMuYm9keS5tYXhWZWw7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg5MyksXG4gICAgICAgIHMgPSBpKDM5KSxcbiAgICAgICAgYSA9IG5ldyBuKHsgRXh0ZW5kczogcywgTWl4aW5zOiBbci5BY2NlbGVyYXRpb24sIHIuQm9keVNjYWxlLCByLkJvZHlUeXBlLCByLkJvdW5jZSwgci5DaGVja0FnYWluc3QsIHIuQ29sbGlkZXMsIHIuRGVidWcsIHIuRnJpY3Rpb24sIHIuR3Jhdml0eSwgci5PZmZzZXQsIHIuU2V0R2FtZU9iamVjdCwgci5WZWxvY2l0eV0sIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbiwgcikge1xuICAgICAgICBzLmNhbGwodGhpcywgdC5zY2VuZSwgZSwgaSwgbiwgciksIHRoaXMuYm9keSA9IHQuY3JlYXRlKGUgLSB0aGlzLmZyYW1lLmNlbnRlclgsIGkgLSB0aGlzLmZyYW1lLmNlbnRlclksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSwgdGhpcy5ib2R5LnBhcmVudCA9IHRoaXMsIHRoaXMuYm9keS5nYW1lT2JqZWN0ID0gdGhpcywgdGhpcy5zaXplID0gdGhpcy5ib2R5LnNpemUsIHRoaXMub2Zmc2V0ID0gdGhpcy5ib2R5Lm9mZnNldCwgdGhpcy52ZWwgPSB0aGlzLmJvZHkudmVsLCB0aGlzLmFjY2VsID0gdGhpcy5ib2R5LmFjY2VsLCB0aGlzLmZyaWN0aW9uID0gdGhpcy5ib2R5LmZyaWN0aW9uLCB0aGlzLm1heFZlbCA9IHRoaXMuYm9keS5tYXhWZWw7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg5NCksXG4gICAgICAgIHMgPSBpKDcwNyksXG4gICAgICAgIGEgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLnNjZW5lID0gdCwgdGhpcy5fYWN0aXZlID0gW10sIHRoaXMuX3BlbmRpbmdJbnNlcnRpb24gPSBbXSwgdGhpcy5fcGVuZGluZ1JlbW92YWwgPSBbXSwgdGhpcy5wcm9jZXNzaW5nID0gITE7XG4gICAgICB9LCBhZGQ6IGZ1bmN0aW9uIGFkZCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NpbmcgPyB0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLnB1c2godCkgOiB0aGlzLl9hY3RpdmUucHVzaCh0KSwgdGhpcztcbiAgICAgIH0sIGNyZWF0ZVNwcml0ZVBvb2w6IGZ1bmN0aW9uIGNyZWF0ZVNwcml0ZVBvb2wodCwgZSwgaSkge1xuICAgICAgICB2YXIgbiA9IG5ldyBzKHRoaXMsIHQsIGUsIGkpO3JldHVybiB0aGlzLmFkZChuKSwgbjtcbiAgICAgIH0sIGNyZWF0ZU9iamVjdFBvb2w6IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdFBvb2wodCwgZSkge1xuICAgICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAtMSk7dmFyIGkgPSBuZXcgcih0aGlzLCB0LCBlKTtyZXR1cm4gdGhpcy5hZGQoaSksIGk7XG4gICAgICB9LCBiZWdpbjogZnVuY3Rpb24gYmVnaW4oKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoLFxuICAgICAgICAgICAgZSA9IHRoaXMuX3BlbmRpbmdJbnNlcnRpb24ubGVuZ3RoO2lmICgwICE9PSB0IHx8IDAgIT09IGUpIHtcbiAgICAgICAgICB2YXIgaSwgbjtmb3IgKGkgPSAwOyBpIDwgdDsgaSsrKSB7XG4gICAgICAgICAgICBuID0gdGhpcy5fcGVuZGluZ1JlbW92YWxbaV07dmFyIHIgPSB0aGlzLl9hY3RpdmUuaW5kZXhPZihuKTtyID4gLTEgJiYgdGhpcy5fYWN0aXZlLnNwbGljZShyLCAxKSwgbi5kZXN0cm95KCk7XG4gICAgICAgICAgfXRoaXMuX2FjdGl2ZSA9IHRoaXMuX2FjdGl2ZS5jb25jYXQodGhpcy5fcGVuZGluZ0luc2VydGlvbi5zcGxpY2UoMCkpLCB0aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGggPSAwLCB0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0sIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHQsIGUpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nID0gITA7Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgbiA9IHRoaXMuX2FjdGl2ZVtpXTtuLnVwZGF0ZS5jYWxsKG4sIHQsIGUpO1xuICAgICAgICB9dGhpcy5wcm9jZXNzaW5nID0gITE7XG4gICAgICB9LCBzaHV0ZG93bjogZnVuY3Rpb24gc2h1dGRvd24oKSB7XG4gICAgICAgIHZhciB0O2ZvciAodCA9IDA7IHQgPCB0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgdGhpcy5fcGVuZGluZ0luc2VydGlvblt0XS5kZXN0cm95KCk7XG4gICAgICAgIH1mb3IgKHQgPSAwOyB0IDwgdGhpcy5fYWN0aXZlLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgdGhpcy5fYWN0aXZlW3RdLmRlc3Ryb3koKTtcbiAgICAgICAgfWZvciAodCA9IDA7IHQgPCB0aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGg7IHQrKykge1xuICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZW1vdmFsW3RdLmRlc3Ryb3koKTtcbiAgICAgICAgfXRoaXMuX2FjdGl2ZS5sZW5ndGggPSAwLCB0aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGggPSAwLCB0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aCA9IDA7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNodXRkb3duKCksIHRoaXMuc2NlbmUgPSB2b2lkIDA7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgzOSksXG4gICAgICAgIHMgPSBpKDk0KSxcbiAgICAgICAgYSA9IG5ldyBuKHsgRXh0ZW5kczogcywgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuLCBhKSB7XG4gICAgICAgIHMuY2FsbCh0aGlzLCB0LCByLCBlLCB0aGlzLm1ha2VTcHJpdGUsIHRoaXMpLCB0aGlzLmRlZmF1bHRLZXkgPSBuLCB0aGlzLmRlZmF1bHRGcmFtZSA9IGE7XG4gICAgICB9LCBtYWtlU3ByaXRlOiBmdW5jdGlvbiBtYWtlU3ByaXRlKCkge1xuICAgICAgICB2YXIgdCA9IG5ldyB0aGlzLmNsYXNzVHlwZSh0aGlzLnNjZW5lLCAwLCAwLCB0aGlzLmRlZmF1bHRLZXksIHRoaXMuZGVmYXVsdEZyYW1lKTtyZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQodCksIHRoaXMudXBkYXRlTGlzdC5hZGQodCksIHQuc2V0QWN0aXZlKCExKSwgdC5zZXRWaXNpYmxlKCExKSwgdDtcbiAgICAgIH0sIGdldDogZnVuY3Rpb24gZ2V0KHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmdldEZyZWVHYW1lT2JqZWN0KCk7cmV0dXJuIGkuc2V0UG9zaXRpb24odCwgZSksIGk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHQsIHRoaXMuc2V0dGluZ3MgPSB0LnN5cy5zZXR0aW5ncywgdGhpcy5rZXkgPSB0LnN5cy5zZXR0aW5ncy5rZXksIHRoaXMubWFuYWdlciA9IHQuc3lzLmdhbWUuc2NlbmUsIHRoaXMuX3F1ZXVlID0gW107XG4gICAgICB9LCB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLl9xdWV1ZS5sZW5ndGg7aWYgKDAgIT09IHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBlID0gdGhpcy5tYW5hZ2VyLCBpID0gMDsgaSA8IHQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIG4gPSB0aGlzLl9xdWV1ZVtpXTtzd2l0Y2ggKG4udHlwZSkge2Nhc2UgXCJhZGRcIjpcbiAgICAgICAgICAgICAgICBlLmFkZChuLmtleSwgbi5kYXRhLCBuLmF1dG9TdGFydCk7YnJlYWs7Y2FzZSBcInN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgZS5zdG9wKHRoaXMua2V5KSwgZS5zdGFydChuLmtleSwgbi5kYXRhKTticmVhaztjYXNlIFwibGF1bmNoXCI6XG4gICAgICAgICAgICAgICAgZS5zdGFydChuLmtleSwgbi5kYXRhKTticmVhaztjYXNlIFwicGF1c2VcIjpcbiAgICAgICAgICAgICAgICBlLnBhdXNlKG4ua2V5KTticmVhaztjYXNlIFwicmVzdW1lXCI6XG4gICAgICAgICAgICAgICAgZS5yZXN1bWUobi5rZXkpO2JyZWFrO2Nhc2UgXCJzdG9wXCI6XG4gICAgICAgICAgICAgICAgZS5zdG9wKG4ua2V5KTticmVhaztjYXNlIFwic3dhcFwiOlxuICAgICAgICAgICAgICAgIGUuc3dhcCh0aGlzLmtleSwgbi5rZXkpO2JyZWFrO2Nhc2UgXCJtb3ZlVXBcIjpcbiAgICAgICAgICAgICAgICBlLm1vdmVVcCh0aGlzLmtleSk7YnJlYWs7Y2FzZSBcIm1vdmVEb3duXCI6XG4gICAgICAgICAgICAgICAgZS5tb3ZlRG93bih0aGlzLmtleSk7YnJlYWs7Y2FzZSBcImJyaW5nVG9Ub3BcIjpcbiAgICAgICAgICAgICAgICBlLmJyaW5nVG9Ub3AodGhpcy5rZXkpO2JyZWFrO2Nhc2UgXCJzZW5kVG9CYWNrXCI6XG4gICAgICAgICAgICAgICAgZS5zZW5kVG9CYWNrKHRoaXMua2V5KTticmVhaztjYXNlIFwic3dhcFBvc2l0aW9uXCI6XG4gICAgICAgICAgICAgICAgZS5zd2FwUG9zaXRpb24odGhpcy5rZXksIG4ua2V5KTticmVhaztjYXNlIFwic2xlZXBcIjpcbiAgICAgICAgICAgICAgICBlLnNsZWVwKG4ua2V5KTticmVhaztjYXNlIFwid2FrZVwiOlxuICAgICAgICAgICAgICAgIGUud2FrZShuLmtleSk7fVxuICAgICAgICAgIH10aGlzLl9xdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICB9LCBzdGFydDogZnVuY3Rpb24gc3RhcnQodCwgZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gdGhpcy5rZXkpLCB0aGlzLl9xdWV1ZS5wdXNoKHsgdHlwZTogXCJzdGFydFwiLCBrZXk6IHQsIGRhdGE6IGUgfSksIHRoaXM7XG4gICAgICB9LCBhZGQ6IGZ1bmN0aW9uIGFkZCh0LCBlLCBpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5wdXNoKHsgdHlwZTogXCJhZGRcIiwga2V5OiB0LCBkYXRhOiBlLCBhdXRvU3RhcnQ6IGkgfSksIHRoaXM7XG4gICAgICB9LCBsYXVuY2g6IGZ1bmN0aW9uIGxhdW5jaCh0LCBlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSB0aGlzLmtleSksIHRoaXMuX3F1ZXVlLnB1c2goeyB0eXBlOiBcImxhdW5jaFwiLCBrZXk6IHQsIGRhdGE6IGUgfSksIHRoaXM7XG4gICAgICB9LCBwYXVzZTogZnVuY3Rpb24gcGF1c2UodCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gdGhpcy5rZXkpLCB0aGlzLl9xdWV1ZS5wdXNoKHsgdHlwZTogXCJwYXVzZVwiLCBrZXk6IHQgfSksIHRoaXM7XG4gICAgICB9LCByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSh0KSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSB0aGlzLmtleSksIHRoaXMuX3F1ZXVlLnB1c2goeyB0eXBlOiBcInJlc3VtZVwiLCBrZXk6IHQgfSksIHRoaXM7XG4gICAgICB9LCBzbGVlcDogZnVuY3Rpb24gc2xlZXAodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUucHVzaCh7IHR5cGU6IFwic2xlZXBcIiwga2V5OiB0IH0pLCB0aGlzO1xuICAgICAgfSwgd2FrZTogZnVuY3Rpb24gd2FrZSh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5wdXNoKHsgdHlwZTogXCJ3YWtlXCIsIGtleTogdCB9KSwgdGhpcztcbiAgICAgIH0sIHN3YXA6IGZ1bmN0aW9uIHN3YXAodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUucHVzaCh7IHR5cGU6IFwic3dhcFwiLCBrZXk6IHQgfSksIHRoaXM7XG4gICAgICB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IHRoaXMua2V5KSwgdGhpcy5fcXVldWUucHVzaCh7IHR5cGU6IFwic3RvcFwiLCBrZXk6IHQgfSksIHRoaXM7XG4gICAgICB9LCBzZXRWaXNpYmxlOiBmdW5jdGlvbiBzZXRWaXNpYmxlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MudmlzaWJsZSA9IHQsIHRoaXM7XG4gICAgICB9LCBzd2FwUG9zaXRpb246IGZ1bmN0aW9uIHN3YXBQb3NpdGlvbih0KSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goeyB0eXBlOiBcInN3YXBQb3NpdGlvblwiLCBrZXk6IHQgfSk7XG4gICAgICB9LCBtb3ZlVXA6IGZ1bmN0aW9uIG1vdmVVcCgpIHtcbiAgICAgICAgdGhpcy5fcXVldWUucHVzaCh7IHR5cGU6IFwibW92ZVVwXCIgfSk7XG4gICAgICB9LCBtb3ZlRG93bjogZnVuY3Rpb24gbW92ZURvd24oKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goeyB0eXBlOiBcIm1vdmVEb3duXCIgfSk7XG4gICAgICB9LCBicmluZ1RvVG9wOiBmdW5jdGlvbiBicmluZ1RvVG9wKCkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHsgdHlwZTogXCJicmluZ1RvVG9wXCIgfSk7XG4gICAgICB9LCBzZW5kVG9CYWNrOiBmdW5jdGlvbiBzZW5kVG9CYWNrKCkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHsgdHlwZTogXCJzZW5kVG9CYWNrXCIgfSk7XG4gICAgICB9LCBnZXQ6IGZ1bmN0aW9uIGdldCh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hbmFnZXIuZ2V0U2NlbmUodCk7XG4gICAgICB9LCB0cmFuc2l0aW9uVG86IGZ1bmN0aW9uIHRyYW5zaXRpb25Ubyh0LCBlKSB7fSwgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IHRoaXMua2V5KSwgdGhpcy5tYW5hZ2VyLmlzQWN0aXZlKHQpO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3MTApLFxuICAgICAgICByID0gaSgyNiksXG4gICAgICAgIHMgPSBpKDIpLFxuICAgICAgICBhID0gaSg3MTEpLFxuICAgICAgICBvID0geyBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSh0KSB7XG4gICAgICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gdCA9IHsga2V5OiB0IH0gOiB2b2lkIDAgPT09IHQgJiYgKHQgPSB7fSksIHsgc3RhdHVzOiBuLlBFTkRJTkcsIG9wOiBuLkJPT1QsIGtleTogcyh0LCBcImtleVwiLCBcIlwiKSwgYWN0aXZlOiBzKHQsIFwiYWN0aXZlXCIsICExKSwgdmlzaWJsZTogcyh0LCBcInZpc2libGVcIiwgITApLCBkYXRhOiB7fSwgZmlsZXM6IHModCwgXCJmaWxlc1wiLCAhMSksIGNhbWVyYXM6IHModCwgXCJjYW1lcmFzXCIsIG51bGwpLCBtYXA6IHModCwgXCJtYXBcIiwgYSksIHBoeXNpY3M6IHModCwgXCJwaHlzaWNzXCIsIHt9KSwgc2NhbGVNb2RlOiBzKHQsIFwic2NhbGVNb2RlXCIsIHIuREVGQVVMVCksIHJvdW5kUGl4ZWxzOiBzKHQsIFwicm91bmRQaXhlbHNcIiwgITEpLCBkaXJ0eVJlbmRlcjogcyh0LCBcImRpcnR5UmVuZGVyXCIsICExKSwgcmVuZGVyVG9UZXh0dXJlOiBzKHQsIFwicmVuZGVyVG9UZXh0dXJlXCIsICExKSwgYXV0b1Jlc2l6ZTogcyh0LCBcImF1dG9SZXNpemVcIiwgITEpIH07XG4gICAgICB9IH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB0LmV4cG9ydHMgPSB7IFBFTkRJTkc6IDAsIElOU1RBTExFRDogMSwgQk9PVDogMCwgSU5JVDogMSwgUFJFTE9BRDogMiwgQ1JFQVRFOiAzLCBVUERBVEU6IDQsIFJFTkRFUjogNSwgU0hVVERPV046IDYgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IHsgZ2FtZTogXCJnYW1lXCIsIGFuaW1zOiBcImFuaW1zXCIsIGNhY2hlOiBcImNhY2hlXCIsIHJlZ2lzdHJ5OiBcInJlZ2lzdHJ5XCIsIHRleHR1cmVzOiBcInRleHR1cmVzXCIsIGFkZDogXCJhZGRcIiwgY2FtZXJhczogXCJjYW1lcmFzXCIsIGRhdGE6IFwiZGF0YVwiLCBkaXNwbGF5TGlzdDogXCJjaGlsZHJlblwiLCBldmVudHM6IFwiZXZlbnRzXCIsIGlucHV0TWFuYWdlcjogXCJpbnB1dFwiLCBsb2FkOiBcImxvYWRcIiwgbWFrZTogXCJtYWtlXCIsIHBoeXNpY3NNYW5hZ2VyOiBcInBoeXNpY3NcIiwgcG9vbDogXCJwb29sXCIsIHNjZW5lTWFuYWdlcjogXCJzY2VuZVwiLCB0aW1lOiBcInRpbWVcIiwgdHdlZW5zOiBcInR3ZWVuc1wiIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICAhZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZSh0LCBlKSB7XG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiAoZSA9IGZ1bmN0aW9uIGUodCwgX2U1KSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh0KS5sb2NhbGVDb21wYXJlKF9lNSk7XG4gICAgICAgIH0pO3ZhciBpID0gdC5sZW5ndGg7aWYgKGkgPD0gMSkgcmV0dXJuIHQ7Zm9yICh2YXIgciA9IG5ldyBBcnJheShpKSwgcyA9IDE7IHMgPCBpOyBzICo9IDIpIHtcbiAgICAgICAgICBuKHQsIGUsIHMsIHIpO3ZhciBhID0gdDt0ID0gciwgciA9IGE7XG4gICAgICAgIH1yZXR1cm4gdDtcbiAgICAgIH12YXIgaSA9IGZ1bmN0aW9uIGkodCwgX2kxMjgpIHtcbiAgICAgICAgcmV0dXJuIGUodC5zbGljZSgpLCBfaTEyOCk7XG4gICAgICB9O2kuaW5wbGFjZSA9IGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgICAgIHZhciByID0gZSh0LCBpKTtyZXR1cm4gciAhPT0gdCAmJiBuKHIsIG51bGwsIHQubGVuZ3RoLCB0KSwgdDtcbiAgICAgIH07dmFyIG4gPSBmdW5jdGlvbiBuKHQsIGUsIGksIF9uMikge1xuICAgICAgICB2YXIgcixcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgbyxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICB1ID0gdC5sZW5ndGgsXG4gICAgICAgICAgICBjID0gMCxcbiAgICAgICAgICAgIGwgPSAyICogaTtmb3IgKHIgPSAwOyByIDwgdTsgciArPSBsKSB7XG4gICAgICAgICAgZm9yIChzID0gciArIGksIGEgPSBzICsgaSwgcyA+IHUgJiYgKHMgPSB1KSwgYSA+IHUgJiYgKGEgPSB1KSwgbyA9IHIsIGggPSBzOzspIHtcbiAgICAgICAgICAgIGlmIChvIDwgcyAmJiBoIDwgYSkgZSh0W29dLCB0W2hdKSA8PSAwID8gX24yW2MrK10gPSB0W28rK10gOiBfbjJbYysrXSA9IHRbaCsrXTtlbHNlIGlmIChvIDwgcykgX24yW2MrK10gPSB0W28rK107ZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghKGggPCBhKSkgYnJlYWs7X24yW2MrK10gPSB0W2grK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O3QuZXhwb3J0cyA9IGk7XG4gICAgfSgpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNzE0KSxcbiAgICAgICAgcyA9IGkoOTUpLFxuICAgICAgICBhID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHQsIHRoaXMudGltZVNjYWxlID0gMSwgdGhpcy5fYWRkID0gW10sIHRoaXMuX3BlbmRpbmcgPSBbXSwgdGhpcy5fYWN0aXZlID0gW10sIHRoaXMuX2Rlc3Ryb3kgPSBbXSwgdGhpcy5fdG9Qcm9jZXNzID0gMDtcbiAgICAgIH0sIGJvb3Q6IGZ1bmN0aW9uIGJvb3QoKSB7XG4gICAgICAgIHRoaXMudGltZVNjYWxlID0gMTtcbiAgICAgIH0sIGNyZWF0ZVRpbWVsaW5lOiBmdW5jdGlvbiBjcmVhdGVUaW1lbGluZSh0KSB7XG4gICAgICAgIHJldHVybiByKHRoaXMsIHQpO1xuICAgICAgfSwgdGltZWxpbmU6IGZ1bmN0aW9uIHRpbWVsaW5lKHQpIHtcbiAgICAgICAgdmFyIGUgPSByKHRoaXMsIHQpO3JldHVybiB0aGlzLl9hZGQucHVzaChlKSwgdGhpcy5fdG9Qcm9jZXNzKyssIGU7XG4gICAgICB9LCBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSh0KSB7XG4gICAgICAgIHJldHVybiBzKHRoaXMsIHQpO1xuICAgICAgfSwgYWRkOiBmdW5jdGlvbiBhZGQodCkge1xuICAgICAgICB2YXIgZSA9IHModGhpcywgdCk7cmV0dXJuIHRoaXMuX2FkZC5wdXNoKGUpLCB0aGlzLl90b1Byb2Nlc3MrKywgZTtcbiAgICAgIH0sIGV4aXN0aW5nOiBmdW5jdGlvbiBleGlzdGluZyh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGQucHVzaCh0KSwgdGhpcy5fdG9Qcm9jZXNzKyssIHRoaXM7XG4gICAgICB9LCBiZWdpbjogZnVuY3Rpb24gYmVnaW4oKSB7XG4gICAgICAgIGlmICgwICE9PSB0aGlzLl90b1Byb2Nlc3MpIHtcbiAgICAgICAgICB2YXIgdCxcbiAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgaSA9IHRoaXMuX2Rlc3Ryb3ksXG4gICAgICAgICAgICAgIG4gPSB0aGlzLl9hY3RpdmU7Zm9yICh0ID0gMDsgdCA8IGkubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgIGUgPSBpW3RdO3ZhciByID0gbi5pbmRleE9mKGUpOy0xICE9PSByICYmIG4uc3BsaWNlKHIsIDEpO1xuICAgICAgICAgIH1mb3IgKGkubGVuZ3RoID0gMCwgaSA9IHRoaXMuX2FkZCwgdCA9IDA7IHQgPCBpLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgICBlID0gaVt0XSwgZS5pbml0KCkgPyAoZS5wbGF5KCksIHRoaXMuX2FjdGl2ZS5wdXNoKGUpKSA6IHRoaXMuX3BlbmRpbmcucHVzaChlKTtcbiAgICAgICAgICB9aS5sZW5ndGggPSAwLCB0aGlzLl90b1Byb2Nlc3MgPSAwO1xuICAgICAgICB9XG4gICAgICB9LCB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh0LCBlKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgbiA9IHRoaXMuX2FjdGl2ZTtlICo9IHRoaXMudGltZVNjYWxlO2ZvciAodmFyIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykge1xuICAgICAgICAgIGkgPSBuW3JdLCBpLnVwZGF0ZSh0LCBlKSAmJiAodGhpcy5fZGVzdHJveS5wdXNoKGkpLCB0aGlzLl90b1Byb2Nlc3MrKyk7XG4gICAgICAgIH1cbiAgICAgIH0sIG1ha2VBY3RpdmU6IGZ1bmN0aW9uIG1ha2VBY3RpdmUodCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuX3BlbmRpbmcuaW5kZXhPZih0KTstMSAhPT0gZSAmJiB0aGlzLl9wZW5kaW5nLnNwbGljZShlLCAxKSwgdGhpcy5fYWRkLnB1c2godCksIHRoaXMuX3RvUHJvY2VzcysrO1xuICAgICAgfSwgc2V0R2xvYmFsVGltZVNjYWxlOiBpKDczNSksIGdldEdsb2JhbFRpbWVTY2FsZTogaSg3MzYpLCBnZXRBbGxUd2VlbnM6IGkoNzM3KSwgZ2V0VHdlZW5zT2Y6IGkoNzM4KSwgaXNUd2VlbmluZzogaSg3MzkpLCBraWxsQWxsOiBpKDc0MCksIGtpbGxUd2VlbnNPZjogaSg3NDEpLCBwYXVzZUFsbDogaSg3NDIpLCByZXN1bWVBbGw6IGkoNzQzKSwgZWFjaDogaSg3NDQpLCBzaHV0ZG93bjogaSg3NDUpLCBkZXN0cm95OiBpKDc0NikgfSk7dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNTgpLFxuICAgICAgICByID0gaSgxODkpLFxuICAgICAgICBzID0gaSgxOTApLFxuICAgICAgICBhID0gaSgxOTEpLFxuICAgICAgICBvID0gaSgxOTIpLFxuICAgICAgICBoID0gaSgxOTMpLFxuICAgICAgICB1ID0gaSg3MTYpLFxuICAgICAgICBjID0gaSgyKSxcbiAgICAgICAgbCA9IGkoNzE3KSxcbiAgICAgICAgZiA9IGkoOTUpLFxuICAgICAgICBkID0gZnVuY3Rpb24gZCh0LCBlKSB7XG4gICAgICB2YXIgaSA9IG4ociksXG4gICAgICAgICAgZCA9IHUoZSk7aWYgKDAgPT09IGQubGVuZ3RoKSByZXR1cm4gbnVsbDtpLnRhcmdldHMgPSBoKGUpLCBpLmRlbGF5ID0gbyhlLCBcImRlbGF5XCIsIGkuZGVsYXkpLCBpLmR1cmF0aW9uID0gbyhlLCBcImR1cmF0aW9uXCIsIGkuZHVyYXRpb24pLCBpLmVhc2VQYXJhbXMgPSBjKGUsIFwiZWFzZVBhcmFtc1wiLCBpLmVhc2VQYXJhbXMpLCBpLmVhc2UgPSBhKGMoZSwgXCJlYXNlXCIsIGkuZWFzZSksIGkuZWFzZVBhcmFtcyksIGkuaG9sZCA9IG8oZSwgXCJob2xkXCIsIGkuaG9sZCksIGkucmVwZWF0ID0gbyhlLCBcInJlcGVhdFwiLCBpLnJlcGVhdCksIGkucmVwZWF0RGVsYXkgPSBvKGUsIFwicmVwZWF0RGVsYXlcIiwgaS5yZXBlYXREZWxheSksIGkuc3RhcnRBdCA9IG8oZSwgXCJzdGFydEF0XCIsIGkuc3RhcnRBdCksIGkueW95byA9IHMoZSwgXCJ5b3lvXCIsIGkueW95byksIGkuZmxpcFggPSBzKGUsIFwiZmxpcFhcIiwgaS5mbGlwWCksIGkuZmxpcFkgPSBzKGUsIFwiZmxpcFlcIiwgaS5mbGlwWSk7Zm9yICh2YXIgcCA9IG5ldyBsKHQpLCB2ID0gMDsgdiA8IGQubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgcC5xdWV1ZShmKHQsIGRbdl0sIGkpKTtcbiAgICAgIH1yZXR1cm4gcDtcbiAgICB9O3QuZXhwb3J0cyA9IGQ7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEzNSksXG4gICAgICAgIHIgPSBpKDEzNiksXG4gICAgICAgIHMgPSBpKDEzNyksXG4gICAgICAgIGEgPSBpKDEzOCksXG4gICAgICAgIG8gPSBpKDEzOSksXG4gICAgICAgIGggPSBpKDE0MCksXG4gICAgICAgIHUgPSBpKDE0MSksXG4gICAgICAgIGMgPSBpKDE0MiksXG4gICAgICAgIGwgPSBpKDE0MyksXG4gICAgICAgIGYgPSBpKDE0NCksXG4gICAgICAgIGQgPSBpKDE0NSk7dC5leHBvcnRzID0geyBQb3dlcjA6IHUsIFBvd2VyMTogYy5PdXQsIFBvd2VyMjogYS5PdXQsIFBvd2VyMzogbC5PdXQsIFBvd2VyNDogZi5PdXQsIExpbmVhcjogdSwgUXVhZDogYy5PdXQsIEN1YmljOiBhLk91dCwgUXVhcnQ6IGwuT3V0LCBRdWludDogZi5PdXQsIFNpbmU6IGQuT3V0LCBFeHBvOiBoLk91dCwgQ2lyYzogcy5PdXQsIEVsYXN0aWM6IG8uT3V0LCBCYWNrOiBuLk91dCwgQm91bmNlOiByLk91dCwgXCJRdWFkLmVhc2VJblwiOiBjLkluLCBcIkN1YmljLmVhc2VJblwiOiBhLkluLCBcIlF1YXJ0LmVhc2VJblwiOiBsLkluLCBcIlF1aW50LmVhc2VJblwiOiBmLkluLCBcIlNpbmUuZWFzZUluXCI6IGQuSW4sIFwiRXhwby5lYXNlSW5cIjogaC5JbiwgXCJDaXJjLmVhc2VJblwiOiBzLkluLCBcIkVsYXN0aWMuZWFzZUluXCI6IG8uSW4sIFwiQmFjay5lYXNlSW5cIjogbi5JbiwgXCJCb3VuY2UuZWFzZUluXCI6IHIuSW4sIFwiUXVhZC5lYXNlT3V0XCI6IGMuT3V0LCBcIkN1YmljLmVhc2VPdXRcIjogYS5PdXQsIFwiUXVhcnQuZWFzZU91dFwiOiBsLk91dCwgXCJRdWludC5lYXNlT3V0XCI6IGYuT3V0LCBcIlNpbmUuZWFzZU91dFwiOiBkLk91dCwgXCJFeHBvLmVhc2VPdXRcIjogaC5PdXQsIFwiQ2lyYy5lYXNlT3V0XCI6IHMuT3V0LCBcIkVsYXN0aWMuZWFzZU91dFwiOiBvLk91dCwgXCJCYWNrLmVhc2VPdXRcIjogbi5PdXQsIFwiQm91bmNlLmVhc2VPdXRcIjogci5PdXQsIFwiUXVhZC5lYXNlSW5PdXRcIjogYy5Jbk91dCwgXCJDdWJpYy5lYXNlSW5PdXRcIjogYS5Jbk91dCwgXCJRdWFydC5lYXNlSW5PdXRcIjogbC5Jbk91dCwgXCJRdWludC5lYXNlSW5PdXRcIjogZi5Jbk91dCwgXCJTaW5lLmVhc2VJbk91dFwiOiBkLkluT3V0LCBcIkV4cG8uZWFzZUluT3V0XCI6IGguSW5PdXQsIFwiQ2lyYy5lYXNlSW5PdXRcIjogcy5Jbk91dCwgXCJFbGFzdGljLmVhc2VJbk91dFwiOiBvLkluT3V0LCBcIkJhY2suZWFzZUluT3V0XCI6IG4uSW5PdXQsIFwiQm91bmNlLmVhc2VJbk91dFwiOiByLkluT3V0IH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICB2YXIgZSA9IG4odCwgXCJ0d2VlbnNcIiwgbnVsbCk7cmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSAmJiAoZSA9IGUuY2FsbCgpKSwgQXJyYXkuaXNBcnJheShlKSB8fCAoZSA9IFtlXSksIGU7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoOTUpLFxuICAgICAgICBzID0gaSgxMyksXG4gICAgICAgIGEgPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSB0LCB0aGlzLmRhdGEgPSBbXSwgdGhpcy50b3RhbERhdGEgPSAwLCB0aGlzLnVzZUZyYW1lcyA9ICExLCB0aGlzLnRpbWVTY2FsZSA9IDEsIHRoaXMubG9vcCA9IDAsIHRoaXMubG9vcERlbGF5ID0gMCwgdGhpcy5sb29wQ291bnRlciA9IDAsIHRoaXMuY29tcGxldGVEZWxheSA9IDAsIHRoaXMuY291bnRkb3duID0gMCwgdGhpcy5zdGF0ZSA9IHMuUEVORElOR19BREQsIHRoaXMuX3BhdXNlZFN0YXRlID0gcy5QRU5ESU5HX0FERCwgdGhpcy5wYXVzZWQgPSAhMSwgdGhpcy5lbGFwc2VkID0gMCwgdGhpcy50b3RhbEVsYXBzZWQgPSAwLCB0aGlzLmR1cmF0aW9uID0gMCwgdGhpcy5wcm9ncmVzcyA9IDAsIHRoaXMudG90YWxEdXJhdGlvbiA9IDAsIHRoaXMudG90YWxQcm9ncmVzcyA9IDAsIHRoaXMuY2FsbGJhY2tzID0geyBvbkNvbXBsZXRlOiBudWxsLCBvbkxvb3A6IG51bGwsIG9uUmVwZWF0OiBudWxsLCBvblN0YXJ0OiBudWxsLCBvblVwZGF0ZTogbnVsbCwgb25Zb3lvOiBudWxsIH0sIHRoaXMuY2FsbGJhY2tTY29wZTtcbiAgICAgIH0sIHNldFRpbWVTY2FsZTogZnVuY3Rpb24gc2V0VGltZVNjYWxlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZVNjYWxlID0gdCwgdGhpcztcbiAgICAgIH0sIGdldFRpbWVTY2FsZTogZnVuY3Rpb24gZ2V0VGltZVNjYWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lU2NhbGU7XG4gICAgICB9LCBpc1BsYXlpbmc6IGZ1bmN0aW9uIGlzUGxheWluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IHMuQUNUSVZFO1xuICAgICAgfSwgYWRkOiBmdW5jdGlvbiBhZGQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZShyKHRoaXMsIHQpKTtcbiAgICAgIH0sIHF1ZXVlOiBmdW5jdGlvbiBxdWV1ZSh0KSB7XG4gICAgICAgIHJldHVybiB0LnRpbWVsaW5lID0gdGhpcywgdGhpcy5kYXRhLnB1c2godCksIHRoaXMudG90YWxEYXRhID0gdGhpcy5kYXRhLmxlbmd0aCwgdGhpcztcbiAgICAgIH0sIGhhc09mZnNldDogZnVuY3Rpb24gaGFzT2Zmc2V0KHQpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHQub2Zmc2V0O1xuICAgICAgfSwgaXNPZmZzZXRBYnNvbHV0ZTogZnVuY3Rpb24gaXNPZmZzZXRBYnNvbHV0ZSh0KSB7XG4gICAgICAgIHJldHVybiBcIm51bWJlclwiID09IHR5cGVvZiB0O1xuICAgICAgfSwgaXNPZmZzZXRSZWxhdGl2ZTogZnVuY3Rpb24gaXNPZmZzZXRSZWxhdGl2ZSh0KSB7XG4gICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB0KSB7XG4gICAgICAgICAgdmFyIGUgPSB0WzBdO2lmIChcIi1cIiA9PT0gZSB8fCBcIitcIiA9PT0gZSkgcmV0dXJuICEwO1xuICAgICAgICB9cmV0dXJuICExO1xuICAgICAgfSwgZ2V0UmVsYXRpdmVPZmZzZXQ6IGZ1bmN0aW9uIGdldFJlbGF0aXZlT2Zmc2V0KHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0WzBdLFxuICAgICAgICAgICAgbiA9IHBhcnNlRmxvYXQodC5zdWJzdHIoMikpLFxuICAgICAgICAgICAgciA9IGU7c3dpdGNoIChpKSB7Y2FzZSBcIitcIjpcbiAgICAgICAgICAgIHIgKz0gbjticmVhaztjYXNlIFwiLVwiOlxuICAgICAgICAgICAgciAtPSBuO31yZXR1cm4gTWF0aC5tYXgoMCwgcik7XG4gICAgICB9LCBjYWxjRHVyYXRpb246IGZ1bmN0aW9uIGNhbGNEdXJhdGlvbigpIHtcbiAgICAgICAgdmFyIHQgPSAwO3RoaXMudG90YWxEdXJhdGlvbiA9IDA7Zm9yICh2YXIgZSA9IDA7IGUgPCB0aGlzLnRvdGFsRGF0YTsgZSsrKSB7XG4gICAgICAgICAgdmFyIGkgPSB0aGlzLmRhdGFbZV07aS5pbml0KCksIHRoaXMuaGFzT2Zmc2V0KGkpID8gdGhpcy5pc09mZnNldEFic29sdXRlKGkub2Zmc2V0KSA/IGkuY2FsY3VsYXRlZE9mZnNldCA9IGkub2Zmc2V0IDogdGhpcy5pc09mZnNldFJlbGF0aXZlKGkub2Zmc2V0KSAmJiAoaS5jYWxjdWxhdGVkT2Zmc2V0ID0gdGhpcy5nZXRSZWxhdGl2ZU9mZnNldChpLm9mZnNldCwgdCkpIDogaS5jYWxjdWxhdGVkT2Zmc2V0ID0gdGhpcy50b3RhbER1cmF0aW9uLCB0ID0gaS50b3RhbER1cmF0aW9uICsgaS5jYWxjdWxhdGVkT2Zmc2V0LCB0aGlzLnRvdGFsRHVyYXRpb24gKz0gaS50b3RhbER1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICB9LCBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxjRHVyYXRpb24oKSwgdGhpcy5wcm9ncmVzcyA9IDAsIHRoaXMudG90YWxQcm9ncmVzcyA9IDAsICF0aGlzLnBhdXNlZCB8fCAodGhpcy5zdGF0ZSA9IHMuUEFVU0VELCAhMSk7XG4gICAgICB9LCBwbGF5OiBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gcy5BQ1RJVkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHJldHVybiB0aGlzLnBhdXNlZCA9ICExLCB2b2lkIHRoaXMubWFuYWdlci5tYWtlQWN0aXZlKHRoaXMpO2ZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy50b3RhbERhdGE7IHQrKykge1xuICAgICAgICAgICAgdGhpcy5kYXRhW3RdLnBsYXkoKTtcbiAgICAgICAgICB9dGhpcy5zdGF0ZSA9IHMuQUNUSVZFO3ZhciBlID0gdGhpcy5jYWxsYmFja3Mub25TdGFydDtlICYmIGUuZnVuYy5hcHBseShlLnNjb3BlLCBlLnBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHQsIGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHMuUEFVU0VEKSB7XG4gICAgICAgICAgdmFyIGkgPSBlO3N3aXRjaCAodGhpcy51c2VGcmFtZXMgJiYgKGUgPSAxICogdGhpcy5tYW5hZ2VyLnRpbWVTY2FsZSksIGUgKj0gdGhpcy50aW1lU2NhbGUsIHRoaXMuZWxhcHNlZCArPSBlLCB0aGlzLnByb2dyZXNzID0gTWF0aC5taW4odGhpcy5lbGFwc2VkIC8gdGhpcy5kdXJhdGlvbiwgMSksIHRoaXMudG90YWxFbGFwc2VkICs9IGUsIHRoaXMudG90YWxQcm9ncmVzcyA9IE1hdGgubWluKHRoaXMudG90YWxFbGFwc2VkIC8gdGhpcy50b3RhbER1cmF0aW9uLCAxKSwgdGhpcy5zdGF0ZSkge2Nhc2Ugcy5BQ1RJVkU6XG4gICAgICAgICAgICAgIGZvciAodmFyIG4gPSB0aGlzLnRvdGFsRGF0YSwgciA9IDA7IHIgPCB0aGlzLnRvdGFsRGF0YTsgcisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhW3JdLnVwZGF0ZSh0LCBpKSAmJiBuLS07XG4gICAgICAgICAgICAgIH0wID09PSBuICYmICh0aGlzLnN0YXRlID0gcy5QRU5ESU5HX1JFTU9WRSk7YnJlYWs7Y2FzZSBzLkxPT1BfREVMQVk6XG4gICAgICAgICAgICAgIHRoaXMuY291bnRkb3duIC09IGUsIHRoaXMuY291bnRkb3duIDw9IDAgJiYgKHRoaXMuc3RhdGUgPSBzLkFDVElWRSk7YnJlYWs7Y2FzZSBzLkNPTVBMRVRFX0RFTEFZOlxuICAgICAgICAgICAgICBpZiAodGhpcy5jb3VudGRvd24gLT0gZSwgdGhpcy5jb3VudGRvd24gPD0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcy5jYWxsYmFja3Mub25Db21wbGV0ZTthICYmIGEuZnVuYy5hcHBseShhLnNjb3BlLCBhLnBhcmFtcyksIHRoaXMuc3RhdGUgPSBzLlBFTkRJTkdfUkVNT1ZFO1xuICAgICAgICAgICAgICB9fXJldHVybiB0aGlzLnN0YXRlID09PSBzLlBFTkRJTkdfUkVNT1ZFO1xuICAgICAgICB9XG4gICAgICB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gcy5QRU5ESU5HX1JFTU9WRTtcbiAgICAgIH0sIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IHMuUEFVU0VEKSByZXR1cm4gdGhpcy5wYXVzZWQgPSAhMCwgdGhpcy5fcGF1c2VkU3RhdGUgPSB0aGlzLnN0YXRlLCB0aGlzLnN0YXRlID0gcy5QQVVTRUQsIHRoaXM7XG4gICAgICB9LCByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IHMuUEFVU0VEICYmICh0aGlzLnBhdXNlZCA9ICExLCB0aGlzLnN0YXRlID0gdGhpcy5fcGF1c2VkU3RhdGUpLCB0aGlzO1xuICAgICAgfSwgaGFzVGFyZ2V0OiBmdW5jdGlvbiBoYXNUYXJnZXQoKSB7fSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHt9IH0pO3QuZXhwb3J0cyA9IGE7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDcxOSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHZhciBlLFxuICAgICAgICAgIGkgPSBbXTtpZiAodC5oYXNPd25Qcm9wZXJ0eShcInByb3BzXCIpKSBmb3IgKGUgaW4gdC5wcm9wcykge1xuICAgICAgICBcIl9cIiAhPT0gZS5zdWJzdHIoMCwgMSkgJiYgaS5wdXNoKHsga2V5OiBlLCB2YWx1ZTogdC5wcm9wc1tlXSB9KTtcbiAgICAgIH0gZWxzZSBmb3IgKGUgaW4gdCkge1xuICAgICAgICAtMSA9PT0gbi5pbmRleE9mKGUpICYmIFwiX1wiICE9PSBlLnN1YnN0cigwLCAxKSAmJiBpLnB1c2goeyBrZXk6IGUsIHZhbHVlOiB0W2VdIH0pO1xuICAgICAgfXJldHVybiBpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB0LmV4cG9ydHMgPSBbXCJjYWxsYmFja1Njb3BlXCIsIFwiY29tcGxldGVEZWxheVwiLCBcImRlbGF5XCIsIFwiZHVyYXRpb25cIiwgXCJlYXNlXCIsIFwiZWFzZVBhcmFtc1wiLCBcImZsaXBYXCIsIFwiZmxpcFlcIiwgXCJob2xkXCIsIFwibG9vcFwiLCBcImxvb3BEZWxheVwiLCBcIm9mZnNldFwiLCBcIm9uQ29tcGxldGVcIiwgXCJvbkNvbXBsZXRlUGFyYW1zXCIsIFwib25Db21wbGV0ZVNjb3BlXCIsIFwib25Mb29wXCIsIFwib25Mb29wUGFyYW1zXCIsIFwib25Mb29wU2NvcGVcIiwgXCJvblJlcGVhdFwiLCBcIm9uUmVwZWF0UGFyYW1zXCIsIFwib25SZXBlYXRTY29wZVwiLCBcIm9uU3RhcnRcIiwgXCJvblN0YXJ0UGFyYW1zXCIsIFwib25TdGFydFNjb3BlXCIsIFwib25VcGRhdGVcIiwgXCJvblVwZGF0ZVBhcmFtc1wiLCBcIm9uVXBkYXRlU2NvcGVcIiwgXCJvbllveW9cIiwgXCJvbllveW9QYXJhbXNcIiwgXCJvbllveW9TY29wZVwiLCBcInBhdXNlZFwiLCBcInByb3BzXCIsIFwicmVwZWF0XCIsIFwicmVwZWF0RGVsYXlcIiwgXCJzdGFydEF0XCIsIFwidGFyZ2V0c1wiLCBcInVzZUZyYW1lc1wiLCBcInlveW9cIl07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHZhciBuLFxuICAgICAgICAgIHIgPSB0eXBlb2YgZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGUpO2lmIChcIm51bWJlclwiID09PSByKSBuID0gZnVuY3Rpb24gbigpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9O2Vsc2UgaWYgKFwic3RyaW5nXCIgPT09IHIpIHtcbiAgICAgICAgdmFyIHMgPSBlWzBdLFxuICAgICAgICAgICAgYSA9IHBhcnNlRmxvYXQoZS5zdWJzdHIoMikpO3N3aXRjaCAocykge2Nhc2UgXCIrXCI6XG4gICAgICAgICAgICBuID0gZnVuY3Rpb24gbih0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0ICsgYTtcbiAgICAgICAgICAgIH07YnJlYWs7Y2FzZSBcIi1cIjpcbiAgICAgICAgICAgIG4gPSBmdW5jdGlvbiBuKHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQgLSBhO1xuICAgICAgICAgICAgfTticmVhaztjYXNlIFwiKlwiOlxuICAgICAgICAgICAgbiA9IGZ1bmN0aW9uIG4odCkge1xuICAgICAgICAgICAgICByZXR1cm4gdCAqIGE7XG4gICAgICAgICAgICB9O2JyZWFrO2Nhc2UgXCIvXCI6XG4gICAgICAgICAgICBuID0gZnVuY3Rpb24gbih0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0IC8gYTtcbiAgICAgICAgICAgIH07YnJlYWs7ZGVmYXVsdDpcbiAgICAgICAgICAgIG4gPSBmdW5jdGlvbiBuKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChlKTtcbiAgICAgICAgICAgIH07fVxuICAgICAgfSBlbHNlIFwiZnVuY3Rpb25cIiA9PT0gciA/IG4gPSBmdW5jdGlvbiBuKHQsIGksIF9uMywgcikge1xuICAgICAgICByZXR1cm4gZSh0LCBpLCBfbjMsIHIpO1xuICAgICAgfSA6IGUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSAmJiAobiA9IGkodCwgZS52YWx1ZSkpO3JldHVybiBuO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICBmb3IgKHZhciB0ID0gMCwgZSA9IHRoaXMuZGF0YSwgaSA9IDA7IGkgPCB0aGlzLnRvdGFsRGF0YTsgaSsrKSB7XG4gICAgICAgIHZhciBuID0gZVtpXTtuLnQxID0gbi5kdXJhdGlvbiArIG4uaG9sZCwgbi55b3lvICYmIChuLnQxICs9IG4uZHVyYXRpb24pLCBuLnQyID0gbi50MSArIG4ucmVwZWF0RGVsYXksIG4udG90YWxEdXJhdGlvbiA9IG4uZGVsYXkgKyBuLnQxLCAtMSA9PT0gbi5yZXBlYXQgPyBuLnRvdGFsRHVyYXRpb24gKz0gOTk5OTk5OTk5OTk5ICogbi50MiA6IG4ucmVwZWF0ID4gMCAmJiAobi50b3RhbER1cmF0aW9uICs9IG4udDIgKiBuLnJlcGVhdCksIG4udG90YWxEdXJhdGlvbiA+IHQgJiYgKHQgPSBuLnRvdGFsRHVyYXRpb24pO1xuICAgICAgfXRoaXMuZHVyYXRpb24gPSB0LCB0aGlzLmxvb3BDb3VudGVyID0gLTEgPT09IHRoaXMubG9vcCA/IDk5OTk5OTk5OTk5OSA6IHRoaXMubG9vcCwgdGhpcy5sb29wQ291bnRlciA+IDAgPyB0aGlzLnRvdGFsRHVyYXRpb24gPSB0aGlzLmR1cmF0aW9uICsgdGhpcy5jb21wbGV0ZURlbGF5ICsgKHRoaXMuZHVyYXRpb24gKyB0aGlzLmxvb3BEZWxheSkgKiB0aGlzLmxvb3BDb3VudGVyIDogdGhpcy50b3RhbER1cmF0aW9uID0gdGhpcy5kdXJhdGlvbiArIHRoaXMuY29tcGxldGVEZWxheTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEzKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIoKSB7XG4gICAgICBmb3IgKHZhciB0ID0gdGhpcy5kYXRhLCBlID0gdGhpcy50b3RhbFRhcmdldHMsIGkgPSAwOyBpIDwgdGhpcy50b3RhbERhdGE7IGkrKykge1xuICAgICAgICB2YXIgciA9IHRbaV0sXG4gICAgICAgICAgICBzID0gci50YXJnZXQsXG4gICAgICAgICAgICBhID0gci5nZW47ci5kZWxheSA9IGEuZGVsYXkoaSwgZSwgcyksIHIuZHVyYXRpb24gPSBhLmR1cmF0aW9uKGksIGUsIHMpLCByLmhvbGQgPSBhLmhvbGQoaSwgZSwgcyksIHIucmVwZWF0ID0gYS5yZXBlYXQoaSwgZSwgcyksIHIucmVwZWF0RGVsYXkgPSBhLnJlcGVhdERlbGF5KGksIGUsIHMpO1xuICAgICAgfXJldHVybiB0aGlzLmNhbGNEdXJhdGlvbigpLCB0aGlzLnByb2dyZXNzID0gMCwgdGhpcy50b3RhbFByb2dyZXNzID0gMCwgISh0aGlzLnBhdXNlZCAmJiAhdGhpcy50aW1lbGluZSkgfHwgKHRoaXMuc3RhdGUgPSBuLlBBVVNFRCwgITEpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgZm9yICh2YXIgZSA9IHRoaXMudGFyZ2V0cywgaSA9IHQua2V5LCBuID0gMDsgbiA8IHRoaXMudG90YWxUYXJnZXRzOyBuKyspIHtcbiAgICAgICAgdmFyIHIgPSBlW25dLmtleXMsXG4gICAgICAgICAgICBzID0gcltpXSxcbiAgICAgICAgICAgIGEgPSBlW25dLnJlZjtudWxsID09PSBzLnN0YXJ0Q2FjaGUgPyAocy5zdGFydCA9IGFbaV0sIHMuY3VycmVudCA9IHMuc3RhcnQsIHMuZW5kID0gdC52YWx1ZShzLnN0YXJ0KSwgcy5zdGFydENhY2hlID0gcy5zdGFydCwgcy5lbmRDYWNoZSA9IHMuZW5kKSA6IChzLnN0YXJ0ID0gcy5zdGFydENhY2hlLCBzLmN1cnJlbnQgPSBzLnN0YXJ0LCBzLmVuZCA9IHMuZW5kQ2FjaGUsIGFbaV0gPSBzLnN0YXJ0KTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEzKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIoKSB7XG4gICAgICBpZiAodGhpcy5sb29wQ291bnRlciA+IDApIHtcbiAgICAgICAgdGhpcy5yZXNldFR3ZWVuRGF0YSghMCksIHRoaXMuZWxhcHNlZCA9IDAsIHRoaXMucHJvZ3Jlc3MgPSAwLCB0aGlzLmxvb3BDb3VudGVyLS07dmFyIHQgPSB0aGlzLmNhbGxiYWNrcy5vbkxvb3A7dCAmJiB0LmZ1bmMuYXBwbHkodC5zY29wZSwgdC5wYXJhbXMpLCB0aGlzLmxvb3BEZWxheSA+IDAgPyAodGhpcy5jb3VudGRvd24gPSB0aGlzLmxvb3BEZWxheSwgdGhpcy5zdGF0ZSA9IG4uTE9PUF9ERUxBWSkgOiB0aGlzLnN0YXRlID0gbi5BQ1RJVkU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29tcGxldGVEZWxheSA+IDApIHRoaXMuY291bnRkb3duID0gdGhpcy5jb21wbGV0ZURlbGF5LCB0aGlzLnN0YXRlID0gbi5DT01QTEVURV9ERUxBWTtlbHNlIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmNhbGxiYWNrcy5vbkNvbXBsZXRlO2UgJiYgZS5mdW5jLmFwcGx5KGUuc2NvcGUsIGUucGFyYW1zKSwgdGhpcy5zdGF0ZSA9IG4uUEVORElOR19SRU1PVkU7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IG4uUEFVU0VEKSByZXR1cm4gdGhpcy5wYXVzZWQgPSAhMCwgdGhpcy5fcGF1c2VkU3RhdGUgPSB0aGlzLnN0YXRlLCB0aGlzLnN0YXRlID0gbi5QQVVTRUQsIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IG4uQUNUSVZFKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVsaW5lKSB0aGlzLnJlc2V0VHdlZW5EYXRhKCksIDAgPT09IHRoaXMuY2FsY3VsYXRlZE9mZnNldCA/IHRoaXMuc3RhdGUgPSBuLkFDVElWRSA6ICh0aGlzLmNvdW50ZG93biA9IHRoaXMuY2FsY3VsYXRlZE9mZnNldCwgdGhpcy5zdGF0ZSA9IG4uT0ZGU0VUX0RFTEFZKTtlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHJldHVybiB0aGlzLnBhdXNlZCA9ICExLCB2b2lkIHRoaXMubWFuYWdlci5tYWtlQWN0aXZlKHRoaXMpO3RoaXMucmVzZXRUd2VlbkRhdGEoKSwgdGhpcy5zdGF0ZSA9IG4uQUNUSVZFO1xuICAgICAgICB9dmFyIHQgPSB0aGlzLmNhbGxiYWNrcy5vblN0YXJ0O3QgJiYgdC5mdW5jLmFwcGx5KHQuc2NvcGUsIHQucGFyYW1zKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEzKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgZm9yICh2YXIgZSA9IHRoaXMuZGF0YSwgaSA9IDA7IGkgPCB0aGlzLnRvdGFsRGF0YTsgaSsrKSB7XG4gICAgICAgIHZhciByID0gZVtpXTtyLnByb2dyZXNzID0gMCwgci5lbGFwc2VkID0gMCwgci5yZXBlYXRDb3VudGVyID0gLTEgPT09IHIucmVwZWF0ID8gOTk5OTk5OTk5OTk5IDogci5yZXBlYXQsIHQgPyAoci5zdGFydCA9IHIuc3RhcnRDYWNoZSwgci5jdXJyZW50ID0gci5zdGFydCwgci5lbmQgPSByLmVuZENhY2hlLCByLnN0YXRlID0gbi5QTEFZSU5HX0ZPUldBUkQpIDogci5kZWxheSA+IDAgPyAoci5lbGFwc2VkID0gci5kZWxheSwgci5zdGF0ZSA9IG4uREVMQVkpIDogci5zdGF0ZSA9IG4uUEVORElOR19SRU5ERVI7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IG4uUEFVU0VEICYmICh0aGlzLnBhdXNlZCA9ICExLCB0aGlzLnN0YXRlID0gdGhpcy5fcGF1c2VkU3RhdGUpLCB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgZm9yICh2YXIgZSA9IHRoaXMuZGF0YSwgaSA9IDA7IGkgPCB0aGlzLnRvdGFsRGF0YTsgaSsrKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy50b3RhbER1cmF0aW9uICogdCxcbiAgICAgICAgICAgIHIgPSBlW2ldLFxuICAgICAgICAgICAgcyA9IDAsXG4gICAgICAgICAgICBhID0gMDtpZiAobiA8PSByLmRlbGF5KSBzID0gMCwgYSA9IDA7ZWxzZSBpZiAobiA+PSByLnRvdGFsRHVyYXRpb24pIHMgPSAxLCBhID0gci5kdXJhdGlvbjtlbHNlIGlmIChuID4gci5kZWxheSAmJiBuIDw9IHIudDEpIG4gPSBNYXRoLm1heCgwLCBuIC0gci5kZWxheSksIHMgPSBuIC8gci50MSwgYSA9IHIuZHVyYXRpb24gKiBzO2Vsc2UgaWYgKG4gPiByLnQxICYmIG4gPCByLnRvdGFsRHVyYXRpb24pIHtcbiAgICAgICAgICBuIC09IHIuZGVsYXksIG4gLT0gci50MTtNYXRoLmZsb29yKG4gLyByLnQyKTtuID0gbiAvIHIudDIgJSAxICogci50MiwgbiA+IHIucmVwZWF0RGVsYXkgJiYgKHMgPSBuIC8gci50MSwgYSA9IHIuZHVyYXRpb24gKiBzKTtcbiAgICAgICAgfXIucHJvZ3Jlc3MgPSBzLCByLmVsYXBzZWQgPSBhO3ZhciBvID0gci5lYXNlKHIucHJvZ3Jlc3MpO3IuY3VycmVudCA9IHIuc3RhcnQgKyAoci5lbmQgLSByLnN0YXJ0KSAqIG8sIHIudGFyZ2V0W3Iua2V5XSA9IHIuY3VycmVudDtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE5NCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMjUpIHtcbiAgICAgIHJldHVybiAtMSAhPT0gbi5UWVBFUy5pbmRleE9mKHQpICYmICh0aGlzLmNhbGxiYWNrc1t0XSA9IHsgZnVuYzogZSwgc2NvcGU6IF9yMjUsIHBhcmFtczogaSB9KSwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEzKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIoKSB7XG4gICAgICB0aGlzLnN0YXRlID0gbi5QRU5ESU5HX1JFTU9WRTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEzKSxcbiAgICAgICAgciA9IGkoNzMzKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IG4uUEFVU0VEKSByZXR1cm4gITE7c3dpdGNoICh0aGlzLnVzZUZyYW1lcyAmJiAoZSA9IDEgKiB0aGlzLm1hbmFnZXIudGltZVNjYWxlKSwgZSAqPSB0aGlzLnRpbWVTY2FsZSwgdGhpcy5lbGFwc2VkICs9IGUsIHRoaXMucHJvZ3Jlc3MgPSBNYXRoLm1pbih0aGlzLmVsYXBzZWQgLyB0aGlzLmR1cmF0aW9uLCAxKSwgdGhpcy50b3RhbEVsYXBzZWQgKz0gZSwgdGhpcy50b3RhbFByb2dyZXNzID0gTWF0aC5taW4odGhpcy50b3RhbEVsYXBzZWQgLyB0aGlzLnRvdGFsRHVyYXRpb24sIDEpLCB0aGlzLnN0YXRlKSB7Y2FzZSBuLkFDVElWRTpcbiAgICAgICAgICBmb3IgKHZhciBpID0gITEsIHMgPSAwOyBzIDwgdGhpcy50b3RhbERhdGE7IHMrKykge1xuICAgICAgICAgICAgcih0aGlzLCB0aGlzLmRhdGFbc10sIGUpICYmIChpID0gITApO1xuICAgICAgICAgIH1pIHx8IHRoaXMubmV4dFN0YXRlKCk7YnJlYWs7Y2FzZSBuLkxPT1BfREVMQVk6Y2FzZSBuLk9GRlNFVF9ERUxBWTpcbiAgICAgICAgICB0aGlzLmNvdW50ZG93biAtPSBlLCB0aGlzLmNvdW50ZG93biA8PSAwICYmICh0aGlzLnN0YXRlID0gbi5BQ1RJVkUpO2JyZWFrO2Nhc2Ugbi5DT01QTEVURV9ERUxBWTpcbiAgICAgICAgICBpZiAodGhpcy5jb3VudGRvd24gLT0gZSwgdGhpcy5jb3VudGRvd24gPD0gMCkge1xuICAgICAgICAgICAgdmFyIGEgPSB0aGlzLmNhbGxiYWNrcy5vbkNvbXBsZXRlO2EgJiYgYS5mdW5jLmFwcGx5KGEuc2NvcGUsIGEucGFyYW1zKSwgdGhpcy5zdGF0ZSA9IG4uUEVORElOR19SRU1PVkU7XG4gICAgICAgICAgfX1yZXR1cm4gdGhpcy5zdGF0ZSA9PT0gbi5QRU5ESU5HX1JFTU9WRTtcbiAgICB9O3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEzKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgaWYgKGUueW95bykge1xuICAgICAgICBlLnByb2dyZXNzID0gMCwgZS5lbGFwc2VkID0gMCwgZS5mbGlwWCAmJiBlLnRhcmdldC50b2dnbGVGbGlwWCgpLCBlLmZsaXBZICYmIGUudGFyZ2V0LnRvZ2dsZUZsaXBZKCk7dmFyIGkgPSB0LmNhbGxiYWNrcy5vbllveW87cmV0dXJuIGkgJiYgKGkucGFyYW1zWzFdID0gZS50YXJnZXQsIGkuZnVuYy5hcHBseShpLnNjb3BlLCBpLnBhcmFtcykpLCBuLlBMQVlJTkdfQkFDS1dBUkQ7XG4gICAgICB9aWYgKGUucmVwZWF0Q291bnRlciA+IDApIHtcbiAgICAgICAgZS5yZXBlYXRDb3VudGVyLS0sIGUuZWxhcHNlZCA9IDAsIGUucHJvZ3Jlc3MgPSAwLCBlLmZsaXBYICYmIGUudGFyZ2V0LnRvZ2dsZUZsaXBYKCksIGUuZmxpcFkgJiYgZS50YXJnZXQudG9nZ2xlRmxpcFkoKTt2YXIgciA9IHQuY2FsbGJhY2tzLm9uUmVwZWF0O3JldHVybiByICYmIChyLnBhcmFtc1sxXSA9IGUudGFyZ2V0LCByLmZ1bmMuYXBwbHkoci5zY29wZSwgci5wYXJhbXMpKSwgZS5yZXBlYXREZWxheSA+IDAgPyAoZS5lbGFwc2VkID0gZS5yZXBlYXREZWxheSwgZS5jdXJyZW50ID0gZS5zdGFydCwgZS50YXJnZXRbZS5rZXldID0gZS5jdXJyZW50LCBuLlJFUEVBVF9ERUxBWSkgOiBuLlBMQVlJTkdfRk9SV0FSRDtcbiAgICAgIH1yZXR1cm4gbi5DT01QTEVURTtcbiAgICB9LFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlKSB7XG4gICAgICBpZiAoZS5yZXBlYXRDb3VudGVyID4gMCkge1xuICAgICAgICBlLnJlcGVhdENvdW50ZXItLSwgZS5lbGFwc2VkID0gMCwgZS5wcm9ncmVzcyA9IDAsIGUuZmxpcFggJiYgZS50YXJnZXQudG9nZ2xlRmxpcFgoKSwgZS5mbGlwWSAmJiBlLnRhcmdldC50b2dnbGVGbGlwWSgpO3ZhciBpID0gdC5jYWxsYmFja3Mub25SZXBlYXQ7cmV0dXJuIGkgJiYgKGkucGFyYW1zWzFdID0gZS50YXJnZXQsIGkuZnVuYy5hcHBseShpLnNjb3BlLCBpLnBhcmFtcykpLCBlLnJlcGVhdERlbGF5ID4gMCA/IChlLmVsYXBzZWQgPSBlLnJlcGVhdERlbGF5LCBlLmN1cnJlbnQgPSBlLnN0YXJ0LCBlLnRhcmdldFtlLmtleV0gPSBlLmN1cnJlbnQsIG4uUkVQRUFUX0RFTEFZKSA6IG4uUExBWUlOR19GT1JXQVJEO1xuICAgICAgfXJldHVybiBuLkNPTVBMRVRFO1xuICAgIH0sXG4gICAgICAgIGEgPSBmdW5jdGlvbiBhKHQsIGUsIGkpIHtcbiAgICAgIHN3aXRjaCAoZS5zdGF0ZSkge2Nhc2Ugbi5QTEFZSU5HX0ZPUldBUkQ6Y2FzZSBuLlBMQVlJTkdfQkFDS1dBUkQ6XG4gICAgICAgICAgdmFyIGEgPSBlLmVsYXBzZWQsXG4gICAgICAgICAgICAgIG8gPSBlLmR1cmF0aW9uO2EgKz0gaSwgYSA+IG8gJiYgKGEgPSBvKTt2YXIgaCxcbiAgICAgICAgICAgICAgdSA9IGUuc3RhdGUgPT09IG4uUExBWUlOR19GT1JXQVJELFxuICAgICAgICAgICAgICBjID0gYSAvIG87aCA9IHUgPyBlLmVhc2UoYykgOiBlLmVhc2UoMSAtIGMpLCBlLmN1cnJlbnQgPSBlLnN0YXJ0ICsgKGUuZW5kIC0gZS5zdGFydCkgKiBoLCBlLnRhcmdldFtlLmtleV0gPSBlLmN1cnJlbnQsIGUuZWxhcHNlZCA9IGEsIGUucHJvZ3Jlc3MgPSBjO3ZhciBsID0gdC5jYWxsYmFja3Mub25VcGRhdGU7bCAmJiBsLmZ1bmMuYXBwbHkobC5zY29wZSwgbC5wYXJhbXMpLCAxID09PSBjICYmICh1ID8gZS5ob2xkID4gMCA/IChlLmVsYXBzZWQgPSBlLmhvbGQsIGUuc3RhdGUgPSBuLkhPTERfREVMQVkpIDogZS5zdGF0ZSA9IHIodCwgZSkgOiBlLnN0YXRlID0gcyh0LCBlKSk7YnJlYWs7Y2FzZSBuLkRFTEFZOlxuICAgICAgICAgIGUuZWxhcHNlZCAtPSBpLCBlLmVsYXBzZWQgPD0gMCAmJiAoZS5lbGFwc2VkID0gTWF0aC5hYnMoZS5lbGFwc2VkKSwgZS5zdGF0ZSA9IG4uUEVORElOR19SRU5ERVIpO2JyZWFrO2Nhc2Ugbi5SRVBFQVRfREVMQVk6XG4gICAgICAgICAgZS5lbGFwc2VkIC09IGksIGUuZWxhcHNlZCA8PSAwICYmIChlLmVsYXBzZWQgPSBNYXRoLmFicyhlLmVsYXBzZWQpLCBlLnN0YXRlID0gbi5QTEFZSU5HX0ZPUldBUkQpO2JyZWFrO2Nhc2Ugbi5IT0xEX0RFTEFZOlxuICAgICAgICAgIGUuZWxhcHNlZCAtPSBpLCBlLmVsYXBzZWQgPD0gMCAmJiAoZS5zdGF0ZSA9IHIodCwgZSkpO2JyZWFrO2Nhc2Ugbi5QRU5ESU5HX1JFTkRFUjpcbiAgICAgICAgICBlLnN0YXJ0ID0gZS50YXJnZXRbZS5rZXldLCBlLmN1cnJlbnQgPSBlLnN0YXJ0LCBlLmVuZCA9IGUudmFsdWUoZS5zdGFydCksIGUuc3RhcnRDYWNoZSA9IGUuc3RhcnQsIGUuZW5kQ2FjaGUgPSBlLmVuZCwgZS50YXJnZXRbZS5rZXldID0gZS5jdXJyZW50LCBlLnN0YXRlID0gbi5QTEFZSU5HX0ZPUldBUkQ7fXJldHVybiBlLnN0YXRlICE9PSBuLkNPTVBMRVRFO1xuICAgIH07dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMjksIG4sIHIsIHMsIGEsIG8sIGgsIHUsIGMsIGwsIGYpIHtcbiAgICAgIHJldHVybiB7IHRhcmdldDogdCwga2V5OiBlLCB2YWx1ZTogX2kxMjksIGVhc2U6IG4sIGR1cmF0aW9uOiAwLCB0b3RhbER1cmF0aW9uOiAwLCBkZWxheTogMCwgeW95bzogYSwgaG9sZDogMCwgcmVwZWF0OiAwLCByZXBlYXREZWxheTogMCwgc3RhcnRBdDogYywgZmxpcFg6IGwsIGZsaXBZOiBmLCBwcm9ncmVzczogMCwgZWxhcHNlZDogMCwgcmVwZWF0Q291bnRlcjogMCwgc3RhcnQ6IDAsIGN1cnJlbnQ6IDAsIGVuZDogMCwgc3RhcnRDYWNoZTogMCwgZW5kQ2FjaGU6IDAsIHQxOiAwLCB0MjogMCwgZ2VuOiB7IGRlbGF5OiByLCBkdXJhdGlvbjogcywgaG9sZDogbywgcmVwZWF0OiBoLCByZXBlYXREZWxheTogdSB9LCBzdGF0ZTogMCB9O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHRoaXMudGltZVNjYWxlID0gdCwgdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGltZVNjYWxlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkoKSB7XG4gICAgICBmb3IgKHZhciB0ID0gdGhpcy5fYWN0aXZlLCBlID0gW10sIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBlLnB1c2godFtpXSk7XG4gICAgICB9cmV0dXJuIGU7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSxcbiAgICAgICAgICBpLFxuICAgICAgICAgIG4gPSB0aGlzLl9hY3RpdmUsXG4gICAgICAgICAgciA9IFtdO2lmIChBcnJheS5pc0FycmF5KHQpKSBmb3IgKGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBlID0gbltpXTtmb3IgKDsgMCA8IHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBlLmhhc1RhcmdldCh0WzBdKSAmJiByLnB1c2goZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBmb3IgKGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBlID0gbltpXSwgZS5oYXNUYXJnZXQodCkgJiYgci5wdXNoKGUpO1xuICAgICAgfXJldHVybiByO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgZm9yICh2YXIgZSwgaSA9IHRoaXMuX2FjdGl2ZSwgbiA9IDA7IG4gPCBpLmxlbmd0aDsgbisrKSB7XG4gICAgICAgIGlmIChlID0gaVtuXSwgZS5oYXNUYXJnZXQodCkgJiYgZS5pc1BsYXlpbmcoKSkgcmV0dXJuICEwO1xuICAgICAgfXJldHVybiAhMTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKCkge1xuICAgICAgZm9yICh2YXIgdCA9IHRoaXMuZ2V0QWxsVHdlZW5zKCksIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICB0W2VdLnN0b3AoKTtcbiAgICAgIH1yZXR1cm4gdGhpcztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIGZvciAodmFyIGUgPSB0aGlzLmdldFR3ZWVuc09mKHQpLCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZVtpXS5zdG9wKCk7XG4gICAgICB9cmV0dXJuIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIGZvciAodmFyIHQgPSB0aGlzLl9hY3RpdmUsIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICB0W2VdLnBhdXNlKCk7XG4gICAgICB9cmV0dXJuIHRoaXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIGZvciAodmFyIHQgPSB0aGlzLl9hY3RpdmUsIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICB0W2VdLnJlc3VtZSgpO1xuICAgICAgfXJldHVybiB0aGlzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgZm9yICh2YXIgaSA9IFtudWxsXSwgbiA9IDE7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgaS5wdXNoKGFyZ3VtZW50c1tuXSk7XG4gICAgICB9Zm9yICh2YXIgciBpbiB0aGlzLmxpc3QpIHtcbiAgICAgICAgaVswXSA9IHRoaXMubGlzdFtyXSwgdC5hcHBseShlLCBpKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKCkge1xuICAgICAgdGhpcy5raWxsQWxsKCksIHRoaXMuX2FkZCA9IFtdLCB0aGlzLl9wZW5kaW5nID0gW10sIHRoaXMuX2FjdGl2ZSA9IFtdLCB0aGlzLl9kZXN0cm95ID0gW10sIHRoaXMuX3RvUHJvY2VzcyA9IDA7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIHRoaXMuc2h1dGRvd24oKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHQsIHRoaXMuX2xpc3QgPSBbXSwgdGhpcy5fcGVuZGluZ0luc2VydGlvbiA9IFtdLCB0aGlzLl9wZW5kaW5nUmVtb3ZhbCA9IFtdO1xuICAgICAgfSwgYWRkOiBmdW5jdGlvbiBhZGQodCkge1xuICAgICAgICB0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLnB1c2godCk7XG4gICAgICB9LCBiZWdpbjogZnVuY3Rpb24gYmVnaW4oKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoLFxuICAgICAgICAgICAgZSA9IHRoaXMuX3BlbmRpbmdJbnNlcnRpb24ubGVuZ3RoO2lmICgwICE9PSB0IHx8IDAgIT09IGUpIHtcbiAgICAgICAgICB2YXIgaSwgbjtmb3IgKGkgPSAwOyBpIDwgdDsgaSsrKSB7XG4gICAgICAgICAgICBuID0gdGhpcy5fcGVuZGluZ1JlbW92YWxbaV07dmFyIHIgPSB0aGlzLl9saXN0LmluZGV4T2Yobik7ciA+IC0xICYmIHRoaXMuX2xpc3Quc3BsaWNlKHIsIDEpO1xuICAgICAgICAgIH10aGlzLl9saXN0ID0gdGhpcy5fbGlzdC5jb25jYXQodGhpcy5fcGVuZGluZ0luc2VydGlvbi5zcGxpY2UoMCkpLCB0aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGggPSAwLCB0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0sIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHQsIGUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG4gPSB0aGlzLl9saXN0W2ldO24uYWN0aXZlICYmIG4ucHJlVXBkYXRlLmNhbGwobiwgdCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLl9saXN0LmluZGV4T2YodCk7cmV0dXJuIC0xICE9PSBlICYmIHRoaXMuX2xpc3Quc3BsaWNlKGUsIDEpLCB0O1xuICAgICAgfSwgcmVtb3ZlQWxsOiBmdW5jdGlvbiByZW1vdmVBbGwoKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSB0aGlzLl9saXN0Lmxlbmd0aDsgdC0tOykge1xuICAgICAgICAgIHRoaXMucmVtb3ZlKHRoaXMuX2xpc3RbdF0pO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCBzaHV0ZG93bjogZnVuY3Rpb24gc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKCksIHRoaXMuX2xpc3QubGVuZ3RoID0gMCwgdGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoID0gMCwgdGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGggPSAwO1xuICAgICAgfSwgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zaHV0ZG93bigpLCB0aGlzLnNjZW5lID0gdm9pZCAwO1xuICAgICAgfSB9KTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHtcbiAgICAgIHZhciB0LCBlO2ZvciAodCA9IDA7IHQgPCB0aGlzLl9wZW5kaW5nLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgIGUgPSB0aGlzLl9wZW5kaW5nW3RdLCB0aGlzLmFkZChlLmtleSwgZS5zY2VuZSwgZS5hdXRvU3RhcnQpO1xuICAgICAgfWZvciAodCA9IDA7IHQgPCB0aGlzLl9zdGFydC5sZW5ndGg7IHQrKykge1xuICAgICAgICBlID0gdGhpcy5fc3RhcnRbdF0sIHRoaXMuc3RhcnQoZSk7XG4gICAgICB9dGhpcy5fc3RhcnQgPSBbXSwgdGhpcy5fcGVuZGluZyA9IFtdO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdC5pbml0ICYmIHQuaW5pdC5jYWxsKHQsIHQuc3lzLnNldHRpbmdzLmRhdGEpO3ZhciBlID0gdC5zeXMubG9hZDtlLnJlc2V0KCksIHQucHJlbG9hZCA/ICh0LnByZWxvYWQodGhpcy5nYW1lKSwgMCA9PT0gZS5saXN0LnNpemUgPyB0aGlzLmNyZWF0ZSh0KSA6IChlLmV2ZW50cy5vbmNlKFwiTE9BREVSX0NPTVBMRVRFX0VWRU5UXCIsIHRoaXMubG9hZENvbXBsZXRlLmJpbmQodGhpcykpLCBlLnN0YXJ0KCkpKSA6IHRoaXMuY3JlYXRlKHQpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gdGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4QnlLZXkodCkgOiB0aGlzLmdldEFjdGl2ZVNjZW5lSW5kZXgodCk7aWYgKGUgPCB0aGlzLmFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGkgPSAwLFxuICAgICAgICAgICAgbiA9IHRoaXMuYWN0aXZlLnNwbGljZShlLCAxKTtmb3IgKGkgPSAwOyBpIDwgdGhpcy5hY3RpdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVtpXS5pbmRleCA9IGk7XG4gICAgICAgIH10aGlzLmFjdGl2ZS5wdXNoKHsgaW5kZXg6IGksIHNjZW5lOiBuWzBdLnNjZW5lIH0pO1xuICAgICAgfVxuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNjEpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICB2YXIgZSA9IHRoaXMuZ2V0U2NlbmVJbmRleCh0KTt0aGlzLmFjdGl2ZS5wdXNoKHsgaW5kZXg6IGUsIHNjZW5lOiB0IH0pLCB0aGlzLmFjdGl2ZS5zb3J0KG4pLCB0LmNyZWF0ZSAmJiB0LmNyZWF0ZS5jYWxsKHQsIHQuc3lzLnNldHRpbmdzLmRhdGEpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTEpLFxuICAgICAgICByID0gaSg0KSxcbiAgICAgICAgcyA9IGkoMTY0KSxcbiAgICAgICAgYSA9IGkoNjgpLFxuICAgICAgICBvID0gZnVuY3Rpb24gbyh0KSB7XG4gICAgICB2YXIgZSA9IHQuc3lzLnNldHRpbmdzLFxuICAgICAgICAgIGkgPSBlLndpZHRoLFxuICAgICAgICAgIG8gPSBlLmhlaWdodCxcbiAgICAgICAgICBoID0gdGhpcy5nYW1lLmNvbmZpZztoLnJlbmRlclR5cGUgPT09IHIuQ0FOVkFTICYmIChlLnJlbmRlclRvVGV4dHVyZSA/ICh0LnN5cy5jYW52YXMgPSBuLmNyZWF0ZSh0LCBpLCBvKSwgdC5zeXMuY29udGV4dCA9IHModC5zeXMuY2FudmFzKSkgOiAodC5zeXMuY2FudmFzID0gdGhpcy5nYW1lLmNhbnZhcywgdC5zeXMuY29udGV4dCA9IHRoaXMuZ2FtZS5jb250ZXh0KSwgaC5waXhlbEFydCAmJiBhLnNldENyaXNwKHQuc3lzLmNhbnZhcykpO1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDYpLFxuICAgICAgICByID0gaSgxNzUpLFxuICAgICAgICBzID0gaSgyNSksXG4gICAgICAgIGEgPSBmdW5jdGlvbiBhKHQsIGUpIHtcbiAgICAgIHZhciBpID0gbmV3IGUoKTtpZiAoaSBpbnN0YW5jZW9mIG4pIHtcbiAgICAgICAgdmFyIGEgPSBpLnN5cy5zZXR0aW5ncy5rZXk7aWYgKFwiXCIgIT09IGEgJiYgKHQgPSBhKSwgdGhpcy5rZXlzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYWRkIGEgU2NlbmUgd2l0aCBkdXBsaWNhdGUga2V5OiBcIiArIHQpO3JldHVybiB0aGlzLmNyZWF0ZVNjZW5lRnJvbUluc3RhbmNlKHQsIGkpO1xuICAgICAgfXJldHVybiBpLnN5cyA9IG5ldyByKGkpLCBpLnN5cy5zZXR0aW5ncy5rZXkgPSB0LCBpLnN5cy5pbml0KHRoaXMuZ2FtZSksIHRoaXMuY3JlYXRlU2NlbmVEaXNwbGF5KGkpLCBpLmluaXQgfHwgKGkuaW5pdCA9IHMpLCBpLnByZWxvYWQgfHwgKGkucHJlbG9hZCA9IHMpLCBpLmNyZWF0ZSB8fCAoaS5jcmVhdGUgPSBzKSwgaS5zaHV0ZG93biB8fCAoaS5zaHV0ZG93biA9IHMpLCBpLnVwZGF0ZSB8fCAoaS51cGRhdGUgPSBzKSwgaS5yZW5kZXIgfHwgKGkucmVuZGVyID0gcyksIGk7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IGUuc3lzLnNldHRpbmdzLmtleTtyZXR1cm4gXCJcIiAhPT0gaSA/IHQgPSBpIDogZS5zeXMuc2V0dGluZ3Mua2V5ID0gdCwgZS5zeXMuaW5pdCh0aGlzLmdhbWUpLCB0aGlzLmNyZWF0ZVNjZW5lRGlzcGxheShlKSwgZTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQ2KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgdmFyIGkgPSBuZXcgbihlKSxcbiAgICAgICAgICByID0gaS5zeXMuc2V0dGluZ3Mua2V5O3JldHVybiBcIlwiICE9PSByID8gdCA9IHIgOiBpLnN5cy5zZXR0aW5ncy5rZXkgPSB0LCBpLnN5cy5pbml0KHRoaXMuZ2FtZSksIHRoaXMuY3JlYXRlU2NlbmVEaXNwbGF5KGkpLCB0aGlzLnNldHVwQ2FsbGJhY2tzKGksIGUpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgZm9yICh2YXIgZSA9IHRoaXMuZ2V0U2NlbmUodCksIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlW2ldLnNjZW5lID09PSBlKSByZXR1cm4gdGhpcy5hY3RpdmVbaV07XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMuYWN0aXZlLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVtlXS5zY2VuZSA9PT0gdCkgcmV0dXJuIHRoaXMuYWN0aXZlW2VdLmluZGV4O1xuICAgICAgfXJldHVybiAtMTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIGZvciAodmFyIGUgPSB0aGlzLmtleXNbdF0sIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlW2ldLnNjZW5lID09PSBlKSByZXR1cm4gdGhpcy5hY3RpdmVbaV0uaW5kZXg7XG4gICAgICB9cmV0dXJuIC0xO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDYpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICBpZiAodCB8fCAodCA9IFwiZGVmYXVsdFwiKSwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlKSByZXR1cm4gdDtpZiAoZSBpbnN0YW5jZW9mIG4gPyB0ID0gZS5zeXMuc2V0dGluZ3Mua2V5IDogXCJvYmplY3RcIiA9PSAodHlwZW9mIGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihlKSkgJiYgZS5oYXNPd25Qcm9wZXJ0eShcImtleVwiKSAmJiAodCA9IGUua2V5KSwgdGhpcy5rZXlzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYWRkIGEgU2NlbmUgd2l0aCBkdXBsaWNhdGUga2V5OiBcIiArIHQpO3JldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHRoaXMua2V5c1t0XTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVt0XSkgcmV0dXJuIHRoaXMuYWN0aXZlW3RdLnNjZW5lO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2NlbmVzLmluZGV4T2YodCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IHRoaXMua2V5c1t0XTtyZXR1cm4gdGhpcy5zY2VuZXMuaW5kZXhPZihlKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gdGhpcy5nZXRBY3RpdmVTY2VuZSh0KTtyZXR1cm4gZSAmJiBlLnNjZW5lLnN5cy5zZXR0aW5ncy5hY3RpdmU7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IHRoaXMuZ2V0QWN0aXZlU2NlbmUodCk7cmV0dXJuICEhZSAmJiAhZS5zY2VuZS5zeXMuc2V0dGluZ3MuYWN0aXZlICYmICFlLnNjZW5lLnN5cy5zZXR0aW5ncy52aXNpYmxlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB0LmxvYWRlci5zY2VuZTt0aGlzLmNyZWF0ZShlKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IHRoaXMuZ2V0QWN0aXZlU2NlbmVJbmRleEJ5S2V5KHQpIDogdGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4KHQpO2lmIChlID4gMCkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZ2V0U2NlbmVBdChlIC0gMSk7aSAmJiB0aGlzLnN3YXBQb3NpdGlvbih0LCBpKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IHRoaXMuZ2V0QWN0aXZlU2NlbmVJbmRleEJ5S2V5KHQpIDogdGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4KHQpO2lmICgtMSAhPT0gZSAmJiBlIDwgdGhpcy5hY3RpdmUubGVuZ3RoIC0gMSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuZ2V0U2NlbmVBdChlICsgMSk7aSAmJiB0aGlzLnN3YXBQb3NpdGlvbih0LCBpKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gdGhpcy5nZXRBY3RpdmVTY2VuZSh0KTtlICYmIGUuc2NlbmUuc3lzLnBhdXNlKCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IHQubG9hZGVyLnNjZW5lO3RoaXMuYm9vdFNjZW5lKGUpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB0aGlzLmdldEFjdGl2ZVNjZW5lKHQpO2UgJiYgZS5zY2VuZS5zeXMucmVzdW1lKCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgPyB0aGlzLmdldEFjdGl2ZVNjZW5lSW5kZXhCeUtleSh0KSA6IHRoaXMuZ2V0QWN0aXZlU2NlbmVJbmRleCh0KTtpZiAoZSA+IDApIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmFjdGl2ZS5zcGxpY2UoZSwgMSk7dGhpcy5hY3RpdmUudW5zaGlmdCh7IGluZGV4OiAwLCBzY2VuZTogaVswXS5zY2VuZSB9KTtmb3IgKHZhciBuID0gMDsgbiA8IHRoaXMuYWN0aXZlLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgdGhpcy5hY3RpdmVbbl0uaW5kZXggPSBuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyKSxcbiAgICAgICAgciA9IGkoMjUpLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gdCksIHQuaW5pdCA9IG4oZSwgXCJpbml0XCIsIHIpLCB0LnByZWxvYWQgPSBuKGUsIFwicHJlbG9hZFwiLCByKSwgdC5jcmVhdGUgPSBuKGUsIFwiY3JlYXRlXCIsIHIpLCB0LnNodXRkb3duID0gbihlLCBcInNodXRkb3duXCIsIHIpLCB0LnVwZGF0ZSA9IG4oZSwgXCJ1cGRhdGVcIiwgciksIHQucmVuZGVyID0gbihlLCBcInJlbmRlclwiLCByKSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gdGhpcy5nZXRBY3RpdmVTY2VuZSh0KTtlICYmIGUuc2NlbmUuc3lzLnNsZWVwKCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBlICYmIChlID0ge30pLCB0aGlzLmdhbWUuaXNCb290ZWQpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmdldFNjZW5lKHQpO2lmIChpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUodCkpIHJldHVybjtpLnN5cy5zdGFydChlKTt2YXIgbiA9IGkuc3lzLmxvYWQ7biAmJiBBcnJheS5pc0FycmF5KGkuc3lzLnNldHRpbmdzLmZpbGVzKSA/IChuLnJlc2V0KCksIG4ubG9hZEFycmF5KGkuc3lzLnNldHRpbmdzLmZpbGVzKSA/IChuLmV2ZW50cy5vbmNlKFwiTE9BREVSX0NPTVBMRVRFX0VWRU5UXCIsIHRoaXMucGF5bG9hZENvbXBsZXRlLmJpbmQodGhpcykpLCBuLnN0YXJ0KCkpIDogdGhpcy5ib290U2NlbmUoaSkpIDogdGhpcy5ib290U2NlbmUoaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBmb3IgKHZhciByID0gMDsgciA8IHRoaXMuX3BlbmRpbmcubGVuZ3RoOyByKyspIHtcbiAgICAgICAgdmFyIHMgPSB0aGlzLl9wZW5kaW5nW3JdO3Mua2V5ID09PSB0ICYmIChzLmF1dG9TdGFydCA9ICEwLCBzLmRhdGEgPSBlKTtcbiAgICAgIH1cbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDYxKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgdmFyIGUgPSB0aGlzLmdldEFjdGl2ZVNjZW5lKHQpO2lmIChlKSB7XG4gICAgICAgIGUuc2NlbmUuc3lzLnNodXRkb3duKCk7dmFyIGkgPSB0aGlzLmFjdGl2ZS5pbmRleE9mKGUpOy0xICE9PSBpICYmICh0aGlzLmFjdGl2ZS5zcGxpY2UoaSwgMSksIHRoaXMuYWN0aXZlLnNvcnQobikpO1xuICAgICAgfVxuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdGhpcy5zbGVlcCh0KSwgdGhpcy5pc1NsZWVwaW5nKGUpID8gdGhpcy53YWtlKGUpIDogdGhpcy5zdGFydChlKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDYxKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgaWYgKHQgIT09IGUpIHtcbiAgICAgICAgdmFyIGkgPSBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gdGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4QnlLZXkodCkgOiB0aGlzLmdldEFjdGl2ZVNjZW5lSW5kZXgodCksXG4gICAgICAgICAgICByID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSA/IHRoaXMuZ2V0QWN0aXZlU2NlbmVJbmRleEJ5S2V5KGUpIDogdGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4KGUpOy0xICE9PSBpICYmIC0xICE9PSByICYmICh0aGlzLmFjdGl2ZVtpXS5pbmRleCA9IHIsIHRoaXMuYWN0aXZlW3JdLmluZGV4ID0gaSwgdGhpcy5hY3RpdmUuc29ydChuKSk7XG4gICAgICB9XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICB2YXIgZSA9IHRoaXMuZ2V0QWN0aXZlU2NlbmUodCk7ZSAmJiBlLnNjZW5lLnN5cy53YWtlKCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMSksXG4gICAgICAgIHIgPSBpKDApLFxuICAgICAgICBzID0gaSgyOCksXG4gICAgICAgIGEgPSBpKDEyOCksXG4gICAgICAgIG8gPSBpKDIpLFxuICAgICAgICBoID0gaSg3ODEpLFxuICAgICAgICB1ID0gaSg3OTEpLFxuICAgICAgICBjID0gbmV3IHIoeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gdCwgdGhpcy5saXN0ID0ge30sIHRoaXMuX3RlbXBDYW52YXMgPSBuLmNyZWF0ZTJEKHRoaXMsIDEsIDEpLCB0aGlzLl90ZW1wQ29udGV4dCA9IHRoaXMuX3RlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLCB0aGlzLmFkZEJhc2U2NChcIl9fREVGQVVMVFwiLCB0LmNvbmZpZy5kZWZhdWx0SW1hZ2UpLCB0aGlzLmFkZEJhc2U2NChcIl9fTUlTU0lOR1wiLCB0LmNvbmZpZy5taXNzaW5nSW1hZ2UpO1xuICAgICAgfSwgYWRkQmFzZTY0OiBmdW5jdGlvbiBhZGRCYXNlNjQodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMsXG4gICAgICAgICAgICBuID0gbmV3IEltYWdlKCk7bi5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGUgPSBpLmNyZWF0ZSh0LCBuKTtoLkltYWdlKGUsIDApO1xuICAgICAgICB9LCBuLnNyYyA9IGU7XG4gICAgICB9LCBhZGRJbWFnZTogZnVuY3Rpb24gYWRkSW1hZ2UodCwgZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuY3JlYXRlKHQsIGUpO3JldHVybiBoLkltYWdlKGksIDApLCBpO1xuICAgICAgfSwgZ2VuZXJhdGU6IGZ1bmN0aW9uIGdlbmVyYXRlKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSBuLmNyZWF0ZSh0aGlzLCAxLCAxKTtyZXR1cm4gZS5jYW52YXMgPSBpLCBhKGUpLCB0aGlzLmFkZENhbnZhcyh0LCBpKTtcbiAgICAgIH0sIGNyZWF0ZUNhbnZhczogZnVuY3Rpb24gY3JlYXRlQ2FudmFzKHQsIGUsIGkpIHtcbiAgICAgICAgdm9pZCAwID09PSBlICYmIChlID0gMjU2KSwgdm9pZCAwID09PSBpICYmIChpID0gMjU2KTt2YXIgciA9IG4uY3JlYXRlKHRoaXMsIGUsIGkpO3JldHVybiB0aGlzLmFkZENhbnZhcyh0LCByKTtcbiAgICAgIH0sIGFkZENhbnZhczogZnVuY3Rpb24gYWRkQ2FudmFzKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmNyZWF0ZSh0LCBlKTtyZXR1cm4gaC5DYW52YXMoaSwgMCksIGk7XG4gICAgICB9LCBhZGRBdGxhczogZnVuY3Rpb24gYWRkQXRsYXModCwgZSwgaSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpLmZyYW1lcykgPyB0aGlzLmFkZEF0bGFzSlNPTkFycmF5KHQsIGUsIGkpIDogdGhpcy5hZGRBdGxhc0pTT05IYXNoKHQsIGUsIGkpO1xuICAgICAgfSwgYWRkQXRsYXNKU09OQXJyYXk6IGZ1bmN0aW9uIGFkZEF0bGFzSlNPTkFycmF5KHQsIGUsIGkpIHtcbiAgICAgICAgdmFyIG4gPSB0aGlzLmNyZWF0ZSh0LCBlKTtpZiAoQXJyYXkuaXNBcnJheShpKSkgZm9yICh2YXIgciA9IDA7IHIgPCBpLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgaC5KU09OQXJyYXkobiwgciwgaVtyXSk7XG4gICAgICAgIH0gZWxzZSBoLkpTT05BcnJheShuLCAwLCBpKTtyZXR1cm4gbjtcbiAgICAgIH0sIGFkZEF0bGFzSlNPTkhhc2g6IGZ1bmN0aW9uIGFkZEF0bGFzSlNPTkhhc2godCwgZSwgaSkge1xuICAgICAgICB2YXIgbiA9IHRoaXMuY3JlYXRlKHQsIGUpO2lmIChBcnJheS5pc0FycmF5KGkpKSBmb3IgKHZhciByID0gMDsgciA8IGkubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICBoLkpTT05IYXNoKG4sIHIsIGlbcl0pO1xuICAgICAgICB9IGVsc2UgaC5KU09OSGFzaChuLCAwLCBpKTtyZXR1cm4gbjtcbiAgICAgIH0sIGFkZFVuaXR5QXRsYXM6IGZ1bmN0aW9uIGFkZFVuaXR5QXRsYXModCwgZSwgaSkge1xuICAgICAgICB2YXIgbiA9IHRoaXMuY3JlYXRlKHQsIGUpO3JldHVybiBoLlVuaXR5WUFNTChuLCAwLCBpKSwgbjtcbiAgICAgIH0sIGFkZFNwcml0ZVNoZWV0OiBmdW5jdGlvbiBhZGRTcHJpdGVTaGVldCh0LCBlLCBpKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5jcmVhdGUodCwgZSksXG4gICAgICAgICAgICByID0gbi5zb3VyY2VbMF0ud2lkdGgsXG4gICAgICAgICAgICBzID0gbi5zb3VyY2VbMF0uaGVpZ2h0O3JldHVybiBoLlNwcml0ZVNoZWV0KG4sIDAsIDAsIDAsIHIsIHMsIGkpLCBuO1xuICAgICAgfSwgYWRkU3ByaXRlU2hlZXRGcm9tQXRsYXM6IGZ1bmN0aW9uIGFkZFNwcml0ZVNoZWV0RnJvbUF0bGFzKHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSBvKGUsIFwiYXRsYXNcIiwgbnVsbCksXG4gICAgICAgICAgICBuID0gbyhlLCBcImZyYW1lXCIsIG51bGwpO2lmIChpICYmIG4pIHtcbiAgICAgICAgICB2YXIgciA9IHRoaXMuZ2V0KGkpLFxuICAgICAgICAgICAgICBzID0gci5nZXQobik7aWYgKHMpIHtcbiAgICAgICAgICAgIHZhciBhID0gdGhpcy5jcmVhdGUodCwgcy5zb3VyY2UuaW1hZ2UpO3JldHVybiBjb25zb2xlLmxvZyhzKSwgcy50cmltbWVkID8gaC5TcHJpdGVTaGVldEZyb21BdGxhcyhhLCBzLCBlKSA6IGguU3ByaXRlU2hlZXQoYSwgMCwgcy5jdXRYLCBzLmN1dFksIHMuY3V0V2lkdGgsIHMuY3V0SGVpZ2h0LCBlKSwgYTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGFkZEF0bGFzU3RhcmxpbmdYTUw6IGZ1bmN0aW9uIGFkZEF0bGFzU3RhcmxpbmdYTUwodCwgZSwgaSkge1xuICAgICAgICB2YXIgbiA9IHRoaXMuY3JlYXRlKHQsIGUpO2lmIChBcnJheS5pc0FycmF5KGkpKSBmb3IgKHZhciByID0gMDsgciA8IGkubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICBoLlN0YXJsaW5nWE1MKG4sIHIsIGlbcl0pO1xuICAgICAgICB9IGVsc2UgaC5TdGFybGluZ1hNTChuLCAwLCBpKTtyZXR1cm4gbjtcbiAgICAgIH0sIGFkZEF0bGFzUHl4ZWw6IGZ1bmN0aW9uIGFkZEF0bGFzUHl4ZWwodCwgZSwgaSkge1xuICAgICAgICB2YXIgbiA9IHRoaXMuY3JlYXRlKHQsIGUpO2lmIChBcnJheS5pc0FycmF5KGkpKSBmb3IgKHZhciByID0gMDsgciA8IGkubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICBoLlB5eGVsKG4sIHIsIGlbcl0pO1xuICAgICAgICB9IGVsc2UgaC5QeXhlbChuLCAwLCBpKTtyZXR1cm4gbjtcbiAgICAgIH0sIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKHQsIGUsIGksIG4pIHtcbiAgICAgICAgdmFyIHIgPSBuZXcgdSh0aGlzLCB0LCBlLCBpLCBuKTtyZXR1cm4gdGhpcy5saXN0W3RdID0gciwgcjtcbiAgICAgIH0sIGV4aXN0czogZnVuY3Rpb24gZXhpc3RzKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5oYXNPd25Qcm9wZXJ0eSh0KTtcbiAgICAgIH0sIGdldDogZnVuY3Rpb24gZ2V0KHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IFwiX19ERUZBVUxUXCIpLCB0aGlzLmxpc3RbdF0gPyB0aGlzLmxpc3RbdF0gOiB0aGlzLmxpc3QuX19NSVNTSU5HO1xuICAgICAgfSwgY2xvbmVGcmFtZTogZnVuY3Rpb24gY2xvbmVGcmFtZSh0LCBlKSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RbdF0pIHJldHVybiB0aGlzLmxpc3RbdF0uZ2V0KGUpLmNsb25lKCk7XG4gICAgICB9LCBnZXRGcmFtZTogZnVuY3Rpb24gZ2V0RnJhbWUodCwgZSkge1xuICAgICAgICBpZiAodGhpcy5saXN0W3RdKSByZXR1cm4gdGhpcy5saXN0W3RdLmdldChlKTtcbiAgICAgIH0sIGdldFBpeGVsOiBmdW5jdGlvbiBnZXRQaXhlbCh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5nZXRGcmFtZShpLCBuKTtpZiAocikge1xuICAgICAgICAgIHZhciBhID0gci5zb3VyY2UuaW1hZ2U7aWYgKHQgPj0gMCAmJiB0IDw9IGEud2lkdGggJiYgZSA+PSAwICYmIGUgPD0gYS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHQgKz0gci5jdXRYLCBlICs9IHIuY3V0WTt2YXIgbyA9IHRoaXMuX3RlbXBDb250ZXh0O28uY2xlYXJSZWN0KDAsIDAsIDEsIDEpLCBvLmRyYXdJbWFnZShhLCB0LCBlLCAxLCAxLCAwLCAwLCAxLCAxKTt2YXIgaCA9IG8uZ2V0SW1hZ2VEYXRhKDAsIDAsIDEsIDEpO3JldHVybiBuZXcgcyhoLmRhdGFbMF0sIGguZGF0YVsxXSwgaC5kYXRhWzJdLCBoLmRhdGFbM10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfXJldHVybiBudWxsO1xuICAgICAgfSwgc2V0VGV4dHVyZTogZnVuY3Rpb24gc2V0VGV4dHVyZSh0LCBlLCBpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RbZV0gJiYgKHQudGV4dHVyZSA9IHRoaXMubGlzdFtlXSwgdC5mcmFtZSA9IHQudGV4dHVyZS5nZXQoaSkpLCB0O1xuICAgICAgfSwgZWFjaDogZnVuY3Rpb24gZWFjaCh0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBbbnVsbF0sIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgaS5wdXNoKGFyZ3VtZW50c1tuXSk7XG4gICAgICAgIH1mb3IgKHZhciByIGluIHRoaXMubGlzdCkge1xuICAgICAgICAgIGlbMF0gPSB0aGlzLmxpc3Rbcl0sIHQuYXBwbHkoZSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0gfSk7dC5leHBvcnRzID0gYztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IENhbnZhczogaSg3ODIpLCBJbWFnZTogaSg3ODMpLCBKU09OQXJyYXk6IGkoNzg0KSwgSlNPTkhhc2g6IGkoNzg1KSwgUHl4ZWw6IGkoNzg2KSwgU3ByaXRlU2hlZXQ6IGkoNzg3KSwgU3ByaXRlU2hlZXRGcm9tQXRsYXM6IGkoNzg4KSwgU3RhcmxpbmdYTUw6IGkoNzg5KSwgVW5pdHlZQU1MOiBpKDc5MCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdmFyIGkgPSB0LnNvdXJjZVtlXTtyZXR1cm4gdC5hZGQoXCJfX0JBU0VcIiwgZSwgMCwgMCwgaS53aWR0aCwgaS5oZWlnaHQpLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdmFyIGkgPSB0LnNvdXJjZVtlXTtyZXR1cm4gdC5hZGQoXCJfX0JBU0VcIiwgZSwgMCwgMCwgaS53aWR0aCwgaS5oZWlnaHQpLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMzApIHtcbiAgICAgIGlmICghX2kxMzAuZnJhbWVzKSByZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJJbnZhbGlkIFRleHR1cmUgQXRsYXMgSlNPTiBBcnJheSBnaXZlbiwgbWlzc2luZyAnZnJhbWVzJyBhcnJheVwiKTt2YXIgbiA9IHQuc291cmNlW2VdO3QuYWRkKFwiX19CQVNFXCIsIGUsIDAsIDAsIG4ud2lkdGgsIG4uaGVpZ2h0KTtmb3IgKHZhciByLCBzID0gX2kxMzAuZnJhbWVzLCBhID0gMDsgYSA8IHMubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgdmFyIG8gPSBzW2FdO3IgPSB0LmFkZChvLmZpbGVuYW1lLCBlLCBvLmZyYW1lLngsIG8uZnJhbWUueSwgby5mcmFtZS53LCBvLmZyYW1lLmgpLCBvLnRyaW1tZWQgJiYgci5zZXRUcmltKG8uc291cmNlU2l6ZS53LCBvLnNvdXJjZVNpemUuaCwgby5zcHJpdGVTb3VyY2VTaXplLngsIG8uc3ByaXRlU291cmNlU2l6ZS55LCBvLnNwcml0ZVNvdXJjZVNpemUudywgby5zcHJpdGVTb3VyY2VTaXplLmgpLCBvLnJvdGF0ZWQgJiYgKHIucm90YXRlZCA9ICEwLCByLnVwZGF0ZVVWc0ludmVydGVkKCkpO1xuICAgICAgfXJldHVybiB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMzEpIHtcbiAgICAgIGlmICghX2kxMzEuZnJhbWVzKSByZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJJbnZhbGlkIFRleHR1cmUgQXRsYXMgSlNPTiBIYXNoIGdpdmVuLCBtaXNzaW5nICdmcmFtZXMnIE9iamVjdFwiKTt2YXIgbiA9IHQuc291cmNlW2VdO3QuYWRkKFwiX19CQVNFXCIsIGUsIDAsIDAsIG4ud2lkdGgsIG4uaGVpZ2h0KTt2YXIgcixcbiAgICAgICAgICBzID0gX2kxMzEuZnJhbWVzO2ZvciAodmFyIGEgaW4gcykge1xuICAgICAgICB2YXIgbyA9IHNbYV07ciA9IHQuYWRkKGEsIGUsIG8uZnJhbWUueCwgby5mcmFtZS55LCBvLmZyYW1lLncsIG8uZnJhbWUuaCksIG8udHJpbW1lZCAmJiByLnNldFRyaW0oby5zb3VyY2VTaXplLncsIG8uc291cmNlU2l6ZS5oLCBvLnNwcml0ZVNvdXJjZVNpemUueCwgby5zcHJpdGVTb3VyY2VTaXplLnksIG8uc3ByaXRlU291cmNlU2l6ZS53LCBvLnNwcml0ZVNvdXJjZVNpemUuaCksIG8ucm90YXRlZCAmJiAoci5yb3RhdGVkID0gITAsIHIudXBkYXRlVVZzSW52ZXJ0ZWQoKSk7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICBpZiAoW1wibGF5ZXJzXCIsIFwidGlsZXdpZHRoXCIsIFwidGlsZWhlaWdodFwiLCBcInRpbGVzd2lkZVwiLCBcInRpbGVzaGlnaFwiXS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGVbdF07XG4gICAgICB9KSwgMSA9PT0gZS5sYXllcnMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGksIG4gPSBuZXcgUGhhc2VyLkZyYW1lRGF0YSgpLCByID0gZS50aWxlaGVpZ2h0LCBzID0gZS50aWxld2lkdGgsIGEgPSBlLmxheWVyc1swXS50aWxlcywgbyA9IDA7IG8gPCBhLmxlbmd0aDsgbysrKSB7XG4gICAgICAgICAgaSA9IG4uYWRkRnJhbWUobmV3IFBoYXNlci5GcmFtZShvLCBhW29dLngsIGFbb10ueSwgcywgciwgXCJmcmFtZV9cIiArIG8pKSwgaS5zZXRUcmltKCExKTtcbiAgICAgICAgfXJldHVybiBuO1xuICAgICAgfVxuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGksIF9yMjYsIHMsIGEsIG8pIHtcbiAgICAgIHZhciBoID0gbihvLCBcImZyYW1lV2lkdGhcIiwgbnVsbCksXG4gICAgICAgICAgdSA9IG4obywgXCJmcmFtZUhlaWdodFwiLCBoKTtpZiAobnVsbCA9PT0gaCkgdGhyb3cgbmV3IEVycm9yKFwiVGV4dHVyZU1hbmFnZXIuU3ByaXRlU2hlZXQ6IEludmFsaWQgZnJhbWVXaWR0aCBnaXZlbi5cIik7dmFyIGMgPSB0LnNvdXJjZVtlXTt0LmFkZChcIl9fQkFTRVwiLCBlLCAwLCAwLCBjLndpZHRoLCBjLmhlaWdodCk7dmFyIGwgPSBuKG8sIFwic3RhcnRGcmFtZVwiLCAwKSxcbiAgICAgICAgICBmID0gbihvLCBcImVuZEZyYW1lXCIsIC0xKSxcbiAgICAgICAgICBkID0gbihvLCBcIm1hcmdpblwiLCAwKSxcbiAgICAgICAgICBwID0gbihvLCBcInNwYWNpbmdcIiwgMCksXG4gICAgICAgICAgdiA9IE1hdGguZmxvb3IoKHMgLSBkKSAvIChoICsgcCkpLFxuICAgICAgICAgIGcgPSBNYXRoLmZsb29yKChhIC0gZCkgLyAodSArIHApKSxcbiAgICAgICAgICB4ID0gdiAqIGc7KGwgPiB4IHx8IGwgPCAteCkgJiYgKGwgPSAwKSwgbCA8IDAgJiYgKGwgPSB4ICsgbCksIC0xICE9PSBmICYmICh4ID0gbCArIChmICsgMSkpO2ZvciAodmFyIG0gPSBkLCB5ID0gZCwgdyA9IDAsIEUgPSAwLCBUID0gMDsgVCA8IHg7IFQrKykge1xuICAgICAgICB3ID0gMCwgRSA9IDA7dmFyIGIgPSBtICsgaCxcbiAgICAgICAgICAgIF8gPSB5ICsgdTtiID4gcyAmJiAodyA9IGIgLSBzKSwgXyA+IGEgJiYgKEUgPSBfIC0gYSksIHQuYWRkKFQsIGUsIGkgKyBtLCBfcjI2ICsgeSwgaCAtIHcsIHUgLSBFKSwgbSArPSBoICsgcCwgbSArIGggPiBzICYmIChtID0gZCwgeSArPSB1ICsgcCk7XG4gICAgICB9cmV0dXJuIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSkge1xuICAgICAgdmFyIHIgPSBuKGksIFwiZnJhbWVXaWR0aFwiLCBudWxsKSxcbiAgICAgICAgICBzID0gbihpLCBcImZyYW1lSGVpZ2h0XCIsIHIpO2lmICghcikgdGhyb3cgbmV3IEVycm9yKFwiVGV4dHVyZU1hbmFnZXIuU3ByaXRlU2hlZXRGcm9tQXRsYXM6IEludmFsaWQgZnJhbWVXaWR0aCBnaXZlbi5cIik7dmFyIGEgPSBuKGksIFwic3RhcnRGcmFtZVwiLCAwKSxcbiAgICAgICAgICBvID0gbihpLCBcImVuZEZyYW1lXCIsIC0xKSxcbiAgICAgICAgICBoID0gbihpLCBcIm1hcmdpblwiLCAwKSxcbiAgICAgICAgICB1ID0gbihpLCBcInNwYWNpbmdcIiwgMCksXG4gICAgICAgICAgYyA9IGUuY3V0WCxcbiAgICAgICAgICBsID0gZS5jdXRZLFxuICAgICAgICAgIGYgPSAoZS5jdXRXaWR0aCwgZS5jdXRIZWlnaHQsIGUucmVhbFdpZHRoKSxcbiAgICAgICAgICBkID0gZS5yZWFsSGVpZ2h0LFxuICAgICAgICAgIHAgPSBNYXRoLmZsb29yKChmIC0gaCkgLyAociArIHUpKSxcbiAgICAgICAgICB2ID0gTWF0aC5mbG9vcigoZCAtIGgpIC8gKHMgKyB1KSksXG4gICAgICAgICAgZyA9IHAgKiB2O2NvbnNvbGUubG9nKFwic3BsaXQgc2hlZXQgaW50byByb3dzL2NvbHM6XCIsIHAsIHYsIFwidG90YWwgZnJhbWVzOlwiLCBnKSwgKGEgPiBnIHx8IGEgPCAtZykgJiYgKGEgPSAwKSwgYSA8IDAgJiYgKGEgPSBnICsgYSksIC0xICE9PSBvICYmIChnID0gYSArIChvICsgMSkpO2ZvciAodmFyIHggPSBoLCBtID0gaCwgeSA9IDAsIHcgPSAwLCBFID0gMDsgRSA8IGc7IEUrKykge1xuICAgICAgICB5ID0gMCwgdyA9IDA7dmFyIFQgPSB4ICsgcixcbiAgICAgICAgICAgIGIgPSBtICsgcztUID4gd2lkdGggJiYgKHkgPSBUIC0gd2lkdGgpLCBiID4gaGVpZ2h0ICYmICh3ID0gYiAtIGhlaWdodCksIHQuYWRkKEUsIHNvdXJjZUluZGV4LCBjICsgeCwgbCArIG0sIHIgLSB5LCBzIC0gdyksIHggKz0gciArIHUsIHggKyByID4gd2lkdGggJiYgKHggPSBoLCBtICs9IHMgKyB1KTtcbiAgICAgIH1yZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIGlmIChlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiVGV4dHVyZUF0bGFzXCIpKSB7XG4gICAgICAgIGZvciAodmFyIGksIG4sIHIsIHMsIGEsIG8sIGgsIHUsIGMsIGwsIGYsIGQgPSBuZXcgUGhhc2VyLkZyYW1lRGF0YSgpLCBwID0gZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIlN1YlRleHR1cmVcIiksIHYgPSAwOyB2IDwgcC5sZW5ndGg7IHYrKykge1xuICAgICAgICAgIHIgPSBwW3ZdLmF0dHJpYnV0ZXMsIG4gPSByLm5hbWUudmFsdWUsIHMgPSBwYXJzZUludChyLngudmFsdWUsIDEwKSwgYSA9IHBhcnNlSW50KHIueS52YWx1ZSwgMTApLCBvID0gcGFyc2VJbnQoci53aWR0aC52YWx1ZSwgMTApLCBoID0gcGFyc2VJbnQoci5oZWlnaHQudmFsdWUsIDEwKSwgdSA9IG51bGwsIGMgPSBudWxsLCByLmZyYW1lWCAmJiAodSA9IE1hdGguYWJzKHBhcnNlSW50KHIuZnJhbWVYLnZhbHVlLCAxMCkpLCBjID0gTWF0aC5hYnMocGFyc2VJbnQoci5mcmFtZVkudmFsdWUsIDEwKSksIGwgPSBwYXJzZUludChyLmZyYW1lV2lkdGgudmFsdWUsIDEwKSwgZiA9IHBhcnNlSW50KHIuZnJhbWVIZWlnaHQudmFsdWUsIDEwKSksIGkgPSBkLmFkZEZyYW1lKG5ldyBQaGFzZXIuRnJhbWUodiwgcywgYSwgbywgaCwgbikpLCBudWxsID09PSB1ICYmIG51bGwgPT09IGMgfHwgaS5zZXRUcmltKCEwLCBvLCBoLCB1LCBjLCBsLCBmKTtcbiAgICAgICAgfXJldHVybiBkO1xuICAgICAgfVxuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAgIHZhciBpbWFnZUhlaWdodCA9IDAsXG4gICAgICAgIGFkZEZyYW1lID0gZnVuY3Rpb24gYWRkRnJhbWUodCwgZSwgaSwgbikge1xuICAgICAgdmFyIHIgPSBpbWFnZUhlaWdodCAtIG4ueSAtIG4uaGVpZ2h0O3QuYWRkKGksIGUsIG4ueCwgciwgbi53aWR0aCwgbi5oZWlnaHQpO1xuICAgIH0sXG4gICAgICAgIFVuaXR5WUFNTCA9IGZ1bmN0aW9uIFVuaXR5WUFNTCh0ZXh0dXJlLCBzb3VyY2VJbmRleCwgeWFtbCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRleHR1cmUuc291cmNlW3NvdXJjZUluZGV4XTt0ZXh0dXJlLmFkZChcIl9fQkFTRVwiLCBzb3VyY2VJbmRleCwgMCwgMCwgc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KSwgaW1hZ2VIZWlnaHQgPSBzb3VyY2UuaGVpZ2h0O2ZvciAodmFyIGRhdGEgPSB5YW1sLnNwbGl0KFwiXFxuXCIpLCBsaW5lUmVnRXhwID0gL15bIF0qKC0gKSooXFx3KykrWzogXSsoLiopLywgcHJldlNwcml0ZSA9IFwiXCIsIGN1cnJlbnRTcHJpdGUgPSBcIlwiLCByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH0sIHBpdm90ID0geyB4OiAwLCB5OiAwIH0sIGJvcmRlciA9IHsgeDogMCwgeTogMCwgejogMCwgdzogMCB9LCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBkYXRhW2ldLm1hdGNoKGxpbmVSZWdFeHApO2lmIChyZXN1bHRzKSB7XG4gICAgICAgICAgdmFyIGlzTGlzdCA9IFwiLSBcIiA9PT0gcmVzdWx0c1sxXSxcbiAgICAgICAgICAgICAga2V5ID0gcmVzdWx0c1syXSxcbiAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHRzWzNdO2lmIChpc0xpc3QgJiYgKGN1cnJlbnRTcHJpdGUgIT09IHByZXZTcHJpdGUgJiYgKGFkZEZyYW1lKHRleHR1cmUsIHNvdXJjZUluZGV4LCBjdXJyZW50U3ByaXRlLCByZWN0KSwgcHJldlNwcml0ZSA9IGN1cnJlbnRTcHJpdGUpLCByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pLCBcIm5hbWVcIiAhPT0ga2V5KSBzd2l0Y2ggKGtleSkge2Nhc2UgXCJ4XCI6Y2FzZSBcInlcIjpjYXNlIFwid2lkdGhcIjpjYXNlIFwiaGVpZ2h0XCI6XG4gICAgICAgICAgICAgIHJlY3Rba2V5XSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7YnJlYWs7Y2FzZSBcInBpdm90XCI6XG4gICAgICAgICAgICAgIHBpdm90ID0gZXZhbChcInZhciBvYmogPSBcIiArIHZhbHVlKTticmVhaztjYXNlIFwiYm9yZGVyXCI6XG4gICAgICAgICAgICAgIGJvcmRlciA9IGV2YWwoXCJ2YXIgb2JqID0gXCIgKyB2YWx1ZSk7fSBlbHNlIGN1cnJlbnRTcHJpdGUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfXJldHVybiBjdXJyZW50U3ByaXRlICE9PSBwcmV2U3ByaXRlICYmIGFkZEZyYW1lKHRleHR1cmUsIHNvdXJjZUluZGV4LCBjdXJyZW50U3ByaXRlLCByZWN0KSwgdGV4dHVyZTtcbiAgICB9O21vZHVsZS5leHBvcnRzID0gVW5pdHlZQU1MO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNzkyKSxcbiAgICAgICAgcyA9IGkoNzkzKSxcbiAgICAgICAgYSA9IG5ldyBuKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlLCBpLCBuLCByKSB7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IHQsIEFycmF5LmlzQXJyYXkoaSkgfHwgKGkgPSBbaV0pLCB0aGlzLmtleSA9IGUsIHRoaXMuc291cmNlID0gW10sIHRoaXMuZnJhbWVzID0ge30sIHRoaXMuZmlyc3RGcmFtZSA9IFwiX19CQVNFXCIsIHRoaXMuZnJhbWVUb3RhbCA9IDA7Zm9yICh2YXIgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgdGhpcy5zb3VyY2UucHVzaChuZXcgcyh0aGlzLCBpW2FdLCBuLCByKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGFkZDogZnVuY3Rpb24gYWRkKHQsIGUsIGksIG4sIHMsIGEpIHtcbiAgICAgICAgdmFyIG8gPSBuZXcgcih0aGlzLCB0LCBlLCBpLCBuLCBzLCBhKTtyZXR1cm4gdGhpcy5mcmFtZXNbdF0gPSBvLCAxID09PSB0aGlzLmZyYW1lVG90YWwgJiYgKHRoaXMuZmlyc3RGcmFtZSA9IHQpLCB0aGlzLmZyYW1lVG90YWwrKywgbztcbiAgICAgIH0sIGhhczogZnVuY3Rpb24gaGFzKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVzW3RdO1xuICAgICAgfSwgZ2V0OiBmdW5jdGlvbiBnZXQodCkge1xuICAgICAgICB2b2lkIDAgIT09IHQgJiYgbnVsbCAhPT0gdCB8fCAodCA9IDEgPT09IHRoaXMuZnJhbWVUb3RhbCA/IFwiX19CQVNFXCIgOiB0aGlzLmZpcnN0RnJhbWUpO3ZhciBlID0gdGhpcy5mcmFtZXNbdF07cmV0dXJuIGUgfHwgKGNvbnNvbGUud2FybihcIk5vIFRleHR1cmUuZnJhbWUgZm91bmQgd2l0aCBuYW1lIFwiICsgdCksIHRoaXMuZnJhbWVzLl9fQkFTRSk7XG4gICAgICB9LCBnZXRGcmFtZU5hbWVzOiBmdW5jdGlvbiBnZXRGcmFtZU5hbWVzKHQpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gITEpO3ZhciBlID0gT2JqZWN0LmtleXModGhpcy5mcmFtZXMpO2lmICghdCkge1xuICAgICAgICAgIHZhciBpID0gZS5pbmRleE9mKFwiX19CQVNFXCIpOy0xICE9PSBpICYmIGUuc3BsaWNlKGksIDEpO1xuICAgICAgICB9cmV0dXJuIGU7XG4gICAgICB9LCBnZXRTb3VyY2VJbWFnZTogZnVuY3Rpb24gZ2V0U291cmNlSW1hZ2UodCkge1xuICAgICAgICB2b2lkIDAgIT09IHQgJiYgbnVsbCAhPT0gdCAmJiAxICE9PSB0aGlzLmZyYW1lVG90YWwgfHwgKHQgPSBcIl9fQkFTRVwiKTt2YXIgZSA9IHRoaXMuZnJhbWVzW3RdO3JldHVybiBlID8gZS5zb3VyY2UuaW1hZ2UgOiAoY29uc29sZS53YXJuKFwiTm8gVGV4dHVyZS5mcmFtZSBmb3VuZCB3aXRoIG5hbWUgXCIgKyB0KSwgdGhpcy5mcmFtZXMuX19CQVNFLnNvdXJjZS5pbWFnZSk7XG4gICAgICB9LCBzZXRGaWx0ZXI6IGZ1bmN0aW9uIHNldEZpbHRlcih0KSB7XG4gICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5zb3VyY2UubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB0aGlzLnNvdXJjZVtlXS5zZXRGaWx0ZXIodCk7XG4gICAgICAgIH1cbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fSB9KTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgwKSxcbiAgICAgICAgciA9IGkoNjMpLFxuICAgICAgICBzID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUsIGksIG4sIHIsIHMsIGEpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdCwgdGhpcy5uYW1lID0gZSwgdGhpcy5zb3VyY2UgPSB0LnNvdXJjZVtpXSwgdGhpcy5zb3VyY2VJbmRleCA9IGksIHRoaXMuY3V0WCA9IG4sIHRoaXMuY3V0WSA9IHIsIHRoaXMuY3V0V2lkdGggPSBzLCB0aGlzLmN1dEhlaWdodCA9IGEsIHRoaXMueCA9IDAsIHRoaXMueSA9IDAsIHRoaXMud2lkdGggPSBzLCB0aGlzLmhlaWdodCA9IGEsIHRoaXMuY2VudGVyWCA9IE1hdGguZmxvb3IocyAvIDIpLCB0aGlzLmNlbnRlclkgPSBNYXRoLmZsb29yKGEgLyAyKSwgdGhpcy5yb3RhdGVkID0gITEsIHRoaXMuYXV0b1JvdW5kID0gLTEsIHRoaXMuZGF0YSA9IHsgY3V0OiB7IHg6IG4sIHk6IHIsIHc6IHMsIGg6IGEsIHI6IG4gKyBzLCBiOiByICsgYSB9LCB0cmltOiAhMSwgc291cmNlU2l6ZTogeyB3OiBzLCBoOiBhIH0sIHNwcml0ZVNvdXJjZVNpemU6IHsgeDogMCwgeTogMCwgdzogcywgaDogYSB9LCB1dnM6IHsgeDA6IDAsIHkwOiAwLCB4MTogMCwgeTE6IDAsIHgyOiAwLCB5MjogMCwgeDM6IDAsIHkzOiAwIH0sIHJhZGl1czogLjUgKiBNYXRoLnNxcnQocyAqIHMgKyBhICogYSksIGRyYXdJbWFnZTogeyBzeDogbiwgc3k6IHIsIHNXaWR0aDogcywgc0hlaWdodDogYSwgZFdpZHRoOiBzLCBkSGVpZ2h0OiBhIH0gfSwgdGhpcy51cGRhdGVVVnMoKTtcbiAgICAgIH0sIHNldFRyaW06IGZ1bmN0aW9uIHNldFRyaW0odCwgZSwgaSwgbiwgciwgcykge1xuICAgICAgICB2YXIgYSA9IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIG8gPSBhLnNwcml0ZVNvdXJjZVNpemU7cmV0dXJuIGEudHJpbSA9ICEwLCBhLnNvdXJjZVNpemUudyA9IHQsIGEuc291cmNlU2l6ZS5oID0gZSwgby54ID0gaSwgby55ID0gbiwgby53ID0gciwgby5oID0gcywgdGhpcy54ID0gaSwgdGhpcy55ID0gbiwgdGhpcy53aWR0aCA9IHIsIHRoaXMuaGVpZ2h0ID0gcywgdGhpcy5jZW50ZXJYID0gTWF0aC5mbG9vcihyIC8gMiksIHRoaXMuY2VudGVyWSA9IE1hdGguZmxvb3IocyAvIDIpLCB0aGlzLnVwZGF0ZVVWcygpLCB0aGlzO1xuICAgICAgfSwgdXBkYXRlVVZzOiBmdW5jdGlvbiB1cGRhdGVVVnMoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5zb3VyY2Uud2lkdGgsXG4gICAgICAgICAgICBlID0gdGhpcy5zb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgICAgaSA9IHRoaXMuZGF0YS51dnM7cmV0dXJuIGkueDAgPSB0aGlzLmN1dFggLyB0LCBpLnkwID0gdGhpcy5jdXRZIC8gZSwgaS54MSA9IHRoaXMuY3V0WCAvIHQsIGkueTEgPSAodGhpcy5jdXRZICsgdGhpcy5jdXRIZWlnaHQpIC8gZSwgaS54MiA9ICh0aGlzLmN1dFggKyB0aGlzLmN1dFdpZHRoKSAvIHQsIGkueTIgPSAodGhpcy5jdXRZICsgdGhpcy5jdXRIZWlnaHQpIC8gZSwgaS54MyA9ICh0aGlzLmN1dFggKyB0aGlzLmN1dFdpZHRoKSAvIHQsIGkueTMgPSB0aGlzLmN1dFkgLyBlLCB0aGlzO1xuICAgICAgfSwgdXBkYXRlVVZzSW52ZXJ0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZVVWc0ludmVydGVkKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuc291cmNlLndpZHRoLFxuICAgICAgICAgICAgZSA9IHRoaXMuc291cmNlLmhlaWdodCxcbiAgICAgICAgICAgIGkgPSB0aGlzLmRhdGEudXZzO3JldHVybiBpLngzID0gKHRoaXMuY3V0WCArIHRoaXMuY3V0SGVpZ2h0KSAvIHQsIGkueTMgPSAodGhpcy5jdXRZICsgdGhpcy5jdXRXaWR0aCkgLyBlLCBpLngyID0gdGhpcy5jdXRYIC8gdCwgaS55MiA9ICh0aGlzLmN1dFkgKyB0aGlzLmN1dFdpZHRoKSAvIGUsIGkueDEgPSB0aGlzLmN1dFggLyB0LCBpLnkxID0gdGhpcy5jdXRZIC8gZSwgaS54MCA9ICh0aGlzLmN1dFggKyB0aGlzLmN1dEhlaWdodCkgLyB0LCBpLnkwID0gdGhpcy5jdXRZIC8gZSwgdGhpcztcbiAgICAgIH0sIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIHQgPSBuZXcgcyh0aGlzLnRleHR1cmUsIHRoaXMubmFtZSwgdGhpcy5zb3VyY2VJbmRleCk7cmV0dXJuIHQuY3V0WCA9IHRoaXMuY3V0WCwgdC5jdXRZID0gdGhpcy5jdXRZLCB0LmN1dFdpZHRoID0gdGhpcy5jdXRXaWR0aCwgdC5jdXRIZWlnaHQgPSB0aGlzLmN1dEhlaWdodCwgdC54ID0gdGhpcy54LCB0LnkgPSB0aGlzLnksIHQud2lkdGggPSB0aGlzLndpZHRoLCB0LmhlaWdodCA9IHRoaXMuaGVpZ2h0LCB0LmNlbnRlclggPSB0aGlzLmNlbnRlclgsIHQuY2VudGVyWSA9IHRoaXMuY2VudGVyWSwgdC5yb3RhdGVkID0gdGhpcy5yb3RhdGVkLCB0LmRhdGEgPSByKCEwLCB0LmRhdGEsIHRoaXMuZGF0YSksIHQudXBkYXRlVVZzKCksIHQ7XG4gICAgICB9LCBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge30sIHJlYWxXaWR0aDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNvdXJjZVNpemUudztcbiAgICAgICAgfSB9LCByZWFsSGVpZ2h0OiB7IGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuc291cmNlU2l6ZS5oO1xuICAgICAgICB9IH0sIHV2czogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnV2cztcbiAgICAgICAgfSB9LCByYWRpdXM6IHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5yYWRpdXM7XG4gICAgICAgIH0gfSwgdHJpbW1lZDogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnRyaW07XG4gICAgICAgIH0gfSwgY2FudmFzRGF0YTogeyBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRyYXdJbWFnZTtcbiAgICAgICAgfSB9IH0pO3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSg0KSxcbiAgICAgICAgcyA9IGkoNzApLFxuICAgICAgICBhID0gaSgyNiksXG4gICAgICAgIG8gPSBuZXcgbih7IGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUodCwgZSwgaSwgbikge1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0LCB0aGlzLmltYWdlID0gZSwgdGhpcy5jb21wcmVzc2lvbkFsZ29yaXRobSA9IG51bGwsIHRoaXMucmVzb2x1dGlvbiA9IDEsIHRoaXMud2lkdGggPSBpIHx8IGUubmF0dXJhbFdpZHRoIHx8IGUud2lkdGggfHwgMCwgdGhpcy5oZWlnaHQgPSBuIHx8IGUubmF0dXJhbEhlaWdodCB8fCBlLmhlaWdodCB8fCAwLCB0aGlzLnNjYWxlTW9kZSA9IGEuREVGQVVMVCwgdGhpcy5pc1Bvd2VyT2YyID0gcyh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCksIHRoaXMuZ2xUZXh0dXJlID0gbnVsbDt2YXIgbyA9IHQubWFuYWdlci5nYW1lO28uY29uZmlnLnJlbmRlclR5cGUgPT09IHIuV0VCR0wgJiYgby5yZW5kZXJlci5jcmVhdGVUZXh0dXJlKHRoaXMsIGksIG4pLCBvLmNvbmZpZy5waXhlbEFydCAmJiB0aGlzLnNldEZpbHRlcigxKTtcbiAgICAgIH0sIHNldEZpbHRlcjogZnVuY3Rpb24gc2V0RmlsdGVyKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLnRleHR1cmUubWFuYWdlci5nYW1lO2UuY29uZmlnLnJlbmRlclR5cGUgPT09IHIuV0VCR0wgJiYgZS5yZW5kZXJlci5zZXRUZXh0dXJlRmlsdGVyTW9kZSh0aGlzLmdsVGV4dHVyZSwgdCk7XG4gICAgICB9IH0pO3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDApLFxuICAgICAgICByID0gaSgyKSxcbiAgICAgICAgcyA9IGkoMjUpLFxuICAgICAgICBhID0gaSgxMzMpLFxuICAgICAgICBvID0gbmV3IG4oeyBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHQsIGUpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gdCwgdGhpcy5yYWYgPSBuZXcgYSgpLCB0aGlzLnN0YXJ0ZWQgPSAhMSwgdGhpcy5ydW5uaW5nID0gITEsIHRoaXMubWluRnBzID0gcihlLCBcIm1pblwiLCA1KSwgdGhpcy50YXJnZXRGcHMgPSByKGUsIFwidGFyZ2V0XCIsIDYwKSwgdGhpcy5fbWluID0gMWUzIC8gdGhpcy5taW5GcHMsIHRoaXMuX3RhcmdldCA9IDFlMyAvIHRoaXMudGFyZ2V0RnBzLCB0aGlzLmFjdHVhbEZwcyA9IHRoaXMudGFyZ2V0RnBzLCB0aGlzLm5leHRGcHNVcGRhdGUgPSAwLCB0aGlzLmZyYW1lc1RoaXNTZWNvbmQgPSAwLCB0aGlzLmNhbGxiYWNrID0gcywgdGhpcy5mb3JjZVNldFRpbWVPdXQgPSByKGUsIFwiZm9yY2VTZXRUaW1lT3V0XCIsICExKSwgdGhpcy50aW1lID0gMCwgdGhpcy5zdGFydFRpbWUgPSAwLCB0aGlzLmxhc3RUaW1lID0gMCwgdGhpcy5mcmFtZSA9IDAsIHRoaXMuaW5Gb2N1cyA9ICEwLCB0aGlzLl9wYXVzZVRpbWUgPSAwLCB0aGlzLl9jb29sRG93biA9IDAsIHRoaXMuZGVsdGEgPSAwLCB0aGlzLmRlbHRhSW5kZXggPSAwLCB0aGlzLmRlbHRhSGlzdG9yeSA9IFtdLCB0aGlzLmRlbHRhU21vb3RoaW5nTWF4ID0gcihlLCBcImRlbHRhSGlzdG9yeVwiLCAxMCksIHRoaXMucGFuaWNNYXggPSByKGUsIFwicGFuaWNNYXhcIiwgMTIwKSwgdGhpcy5yYXdEZWx0YSA9IDA7XG4gICAgICB9LCBibHVyOiBmdW5jdGlvbiBibHVyKCkge1xuICAgICAgICB0aGlzLmluRm9jdXMgPSAhMTtcbiAgICAgIH0sIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICAgICAgdGhpcy5pbkZvY3VzID0gITAsIHRoaXMucmVzZXREZWx0YSgpO1xuICAgICAgfSwgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl9wYXVzZVRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB9LCByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgICAgdGhpcy5yZXNldERlbHRhKCksIHRoaXMuc3RhcnRUaW1lICs9IHRoaXMudGltZSAtIHRoaXMuX3BhdXNlVGltZTtcbiAgICAgIH0sIHJlc2V0RGVsdGE6IGZ1bmN0aW9uIHJlc2V0RGVsdGEoKSB7XG4gICAgICAgIHZhciB0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO3RoaXMudGltZSA9IHQsIHRoaXMubGFzdFRpbWUgPSB0LCB0aGlzLm5leHRGcHNVcGRhdGUgPSB0ICsgMWUzLCB0aGlzLmZyYW1lc1RoaXNTZWNvbmQgPSAwLCB0aGlzLmZyYW1lID0gMDtmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMuZGVsdGFTbW9vdGhpbmdNYXg7IGUrKykge1xuICAgICAgICAgIHRoaXMuZGVsdGFIaXN0b3J5W2VdID0gTWF0aC5taW4odGhpcy5fdGFyZ2V0LCB0aGlzLmRlbHRhSGlzdG9yeVtlXSk7XG4gICAgICAgIH10aGlzLmRlbHRhID0gMCwgdGhpcy5kZWx0YUluZGV4ID0gMCwgdGhpcy5fY29vbERvd24gPSB0aGlzLnBhbmljTWF4O1xuICAgICAgfSwgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KHQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkgcmV0dXJuIHRoaXM7dGhpcy5zdGFydGVkID0gITAsIHRoaXMucnVubmluZyA9ICEwO2ZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5kZWx0YVNtb290aGluZ01heDsgZSsrKSB7XG4gICAgICAgICAgdGhpcy5kZWx0YUhpc3RvcnlbZV0gPSB0aGlzLl90YXJnZXQ7XG4gICAgICAgIH10aGlzLnJlc2V0RGVsdGEoKSwgdGhpcy5zdGFydFRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCksIHRoaXMuY2FsbGJhY2sgPSB0LCB0aGlzLnJhZi5zdGFydCh0aGlzLnN0ZXAuYmluZCh0aGlzKSwgdGhpcy5mb3JjZVNldFRpbWVPdXQpO1xuICAgICAgfSwgc3RlcDogZnVuY3Rpb24gc3RlcCh0KSB7XG4gICAgICAgIHRoaXMuZnJhbWUrKywgdGhpcy5yYXdEZWx0YSA9IHQgLSB0aGlzLmxhc3RUaW1lO3ZhciBlID0gdGhpcy5kZWx0YUluZGV4LFxuICAgICAgICAgICAgaSA9IHRoaXMuZGVsdGFIaXN0b3J5LFxuICAgICAgICAgICAgbiA9IHRoaXMuZGVsdGFTbW9vdGhpbmdNYXgsXG4gICAgICAgICAgICByID0gdCAtIHRoaXMubGFzdFRpbWU7KHRoaXMuX2Nvb2xEb3duID4gMCB8fCAhdGhpcy5pbkZvY3VzKSAmJiAodGhpcy5fY29vbERvd24tLSwgciA9IE1hdGgubWluKHIsIHRoaXMuX3RhcmdldCkpLCByID4gdGhpcy5fbWluICYmIChyID0gaVtlXSwgciA9IE1hdGgubWluKHIsIHRoaXMuX21pbikpLCBpW2VdID0gciwgKyt0aGlzLmRlbHRhSW5kZXggPiBuICYmICh0aGlzLmRlbHRhSW5kZXggPSAwKTtmb3IgKHZhciBzID0gMCwgYSA9IDA7IGEgPCBuOyBhKyspIHtcbiAgICAgICAgICBzICs9IGlbYV07XG4gICAgICAgIH1zIC89IG4sIHRoaXMuZGVsdGEgPSBzLCB0aGlzLnRpbWUgKz0gdGhpcy5yYXdEZWx0YSwgdCA+IHRoaXMubmV4dEZwc1VwZGF0ZSAmJiAodGhpcy5hY3R1YWxGcHMgPSAuMjUgKiB0aGlzLmZyYW1lc1RoaXNTZWNvbmQgKyAuNzUgKiB0aGlzLmFjdHVhbEZwcywgdGhpcy5uZXh0RnBzVXBkYXRlID0gdCArIDFlMywgdGhpcy5mcmFtZXNUaGlzU2Vjb25kID0gMCksIHRoaXMuZnJhbWVzVGhpc1NlY29uZCsrO3ZhciBvID0gcyAvIHRoaXMuX3RhcmdldDt0aGlzLmNhbGxiYWNrKHQsIHMsIG8pLCB0aGlzLmxhc3RUaW1lID0gdDtcbiAgICAgIH0sIHRpY2s6IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgIHRoaXMuc3RlcCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgfSwgc2xlZXA6IGZ1bmN0aW9uIHNsZWVwKCkge1xuICAgICAgICB0aGlzLnJ1bm5pbmcgJiYgKHRoaXMucmFmLnN0b3AoKSwgdGhpcy5ydW5uaW5nID0gITEpO1xuICAgICAgfSwgd2FrZTogZnVuY3Rpb24gd2FrZSh0KSB7XG4gICAgICAgIHRoaXMucnVubmluZyA/IHRoaXMuc2xlZXAoKSA6IHQgJiYgKHRoaXMuc3RhcnRUaW1lICs9IC10aGlzLmxhc3RUaW1lICsgKHRoaXMubGFzdFRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpKSwgdGhpcy5yYWYuc3RhcnQodGhpcy5zdGVwLmJpbmQodGhpcyksIHRoaXMudXNlUkFGKSwgdGhpcy5ydW5uaW5nID0gITAsIHRoaXMuc3RlcCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgfSwgc2V0RnBzOiBmdW5jdGlvbiBzZXRGcHModCkge1xuICAgICAgICB0aGlzLmZwcyA9IHQsIHRoaXMud2FrZSgpO1xuICAgICAgfSwgZ2V0RnBzOiBmdW5jdGlvbiBnZXRGcHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZwcztcbiAgICAgIH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmcgPSAhMSwgdGhpcy5zdGFydGVkID0gITEsIHRoaXMucmFmLnN0b3AoKSwgdGhpcztcbiAgICAgIH0sIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fSB9KTt0LmV4cG9ydHMgPSBvO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQ2lyY2xlOiBpKDc5NiksIEVsbGlwc2U6IGkoODA4KSwgSW50ZXJzZWN0czogaSg4MTkpLCBMaW5lOiBpKDgzMCksIFBvaW50OiBpKDg1MCksIFBvbHlnb246IGkoODcwKSwgUmVjdGFuZ2xlOiBpKDg3NSksIFRyaWFuZ2xlOiBpKDkwMCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDgpO24uQXJlYSA9IGkoNzk3KSwgbi5DaXJjdW1mZXJlbmNlID0gaSg3OTgpLCBuLkNpcmN1bWZlcmVuY2VQb2ludCA9IGkoNzk5KSwgbi5DbG9uZSA9IGkoODAwKSwgbi5Db250YWlucyA9IGkoMzYpLCBuLkNvbnRhaW5zUG9pbnQgPSBpKDgwMSksIG4uQ29udGFpbnNSZWN0ID0gaSg4MDIpLCBuLkNvcHlGcm9tID0gaSg4MDMpLCBuLkVxdWFscyA9IGkoODA0KSwgbi5HZXRCb3VuZHMgPSBpKDgwNSksIG4uT2Zmc2V0ID0gaSg4MDYpLCBuLk9mZnNldFBvaW50ID0gaSg4MDcpLCBuLlJhbmRvbSA9IGkoMTIxKSwgdC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQucmFkaXVzID4gMCA/IE1hdGguUEkgKiB0LnJhZGl1cyAqIHQucmFkaXVzIDogMDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiBNYXRoLlBJICogdC5yYWRpdXMgKiAyO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMzIpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IF9pMTMyICYmIChfaTEzMiA9IHsgeDogMCwgeTogMCB9KSwgX2kxMzIueCA9IHQueCArIHQucmFkaXVzICogTWF0aC5jb3MoZSksIF9pMTMyLnkgPSB0LnkgKyB0LnJhZGl1cyAqIE1hdGguc2luKGUpLCBfaTEzMjtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQ4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgcmV0dXJuIG5ldyBuKHQueCwgdC55LCB0LnJhZGl1cyk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgzNiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiBuKHQsIGUueCwgZS55KTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDM2KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgcmV0dXJuIG4odCwgZS54LCBlLnkpICYmIG4odCwgZS5yaWdodCwgZS55KSAmJiBuKHQsIGUueCwgZS5ib3R0b20pICYmIG4odCwgZS5yaWdodCwgZS5ib3R0b20pO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIGUuc2V0VG8odC54LCB0LnksIHQucmFkaXVzKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB0LnggPT09IGUueCAmJiB0LnkgPT09IGUueSAmJiB0LnJhZGl1cyA9PT0gZS5yYWRpdXM7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSBuZXcgbigpKSwgZS54ID0gdC5sZWZ0LCBlLnkgPSB0LnRvcCwgZS53aWR0aCA9IHQuZGlhbWV0ZXIsIGUuaGVpZ2h0ID0gdC5kaWFtZXRlciwgZTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUsIF9pMTMzKSB7XG4gICAgICByZXR1cm4gdC54ICs9IGUsIHQueSArPSBfaTEzMywgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB0LnggKz0gZS54LCB0LnkgKz0gZS55LCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoODkpO24uQXJlYSA9IGkoODA5KSwgbi5DaXJjdW1mZXJlbmNlUG9pbnQgPSBpKDgxMCksIG4uQ2xvbmUgPSBpKDgxMSksIG4uQ29udGFpbnMgPSBpKDU3KSwgbi5Db250YWluc1BvaW50ID0gaSg4MTIpLCBuLkNvbnRhaW5zUmVjdCA9IGkoODEzKSwgbi5Db3B5RnJvbSA9IGkoODE0KSwgbi5FcXVhbHMgPSBpKDgxNSksIG4uR2V0Qm91bmRzID0gaSg4MTYpLCBuLk9mZnNldCA9IGkoODE3KSwgbi5PZmZzZXRQb2ludCA9IGkoODE4KSwgbi5SYW5kb20gPSBpKDEyMiksIHQuZXhwb3J0cyA9IG47XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0LmlzRW1wdHkoKSA/IDAgOiB0LmdldE1ham9yUmFkaXVzKCkgKiB0LmdldE1pbm9yUmFkaXVzKCkgKiBNYXRoLlBJO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMzQpIHtcbiAgICAgIHZvaWQgMCA9PT0gX2kxMzQgJiYgKF9pMTM0ID0geyB4OiAwLCB5OiAwIH0pO3ZhciBuID0gdC53aWR0aCAvIDIsXG4gICAgICAgICAgciA9IHQuaGVpZ2h0IC8gMjtyZXR1cm4gX2kxMzQueCA9IHQueCArIG4gKiBNYXRoLmNvcyhlKSwgX2kxMzQueSA9IHQueSArIHIgKiBNYXRoLnNpbihlKSwgX2kxMzQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4OSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiBuZXcgbih0LngsIHQueSwgdC53aWR0aCwgdC5oZWlnaHQpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNTcpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICByZXR1cm4gbih0LCBlLngsIGUueSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg1NyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiBuKHQsIGUueCwgZS55KSAmJiBuKHQsIGUucmlnaHQsIGUueSkgJiYgbih0LCBlLngsIGUuYm90dG9tKSAmJiBuKHQsIGUucmlnaHQsIGUuYm90dG9tKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBlLnNldFRvKHQueCwgdC55LCB0LndpZHRoLCB0LmhlaWdodCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdC54ID09PSBlLnggJiYgdC55ID09PSBlLnkgJiYgdC53aWR0aCA9PT0gZS53aWR0aCAmJiB0LmhlaWdodCA9PT0gZS5oZWlnaHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSBuZXcgbigpKSwgZS54ID0gdC54IC0gdC53aWR0aCwgZS55ID0gdC55IC0gdC5oZWlnaHQsIGUud2lkdGggPSB0LndpZHRoLCBlLmhlaWdodCA9IHQuaGVpZ2h0LCBlO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxMzUpIHtcbiAgICAgIHJldHVybiB0LnggKz0gZSwgdC55ICs9IF9pMTM1LCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQueCArPSBlLngsIHQueSArPSBlLnksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQ2lyY2xlVG9DaXJjbGU6IGkoODIwKSwgQ2lyY2xlVG9SZWN0YW5nbGU6IGkoODIxKSwgR2V0UmVjdGFuZ2xlSW50ZXJzZWN0aW9uOiBpKDgyMiksIExpbmVUb0NpcmNsZTogaSgxOTYpLCBMaW5lVG9MaW5lOiBpKDYyKSwgTGluZVRvUmVjdGFuZ2xlOiBpKDgyMyksIFBvaW50VG9MaW5lOiBpKDE5NyksIFBvaW50VG9MaW5lU2VnbWVudDogaSg4MjQpLCBSZWN0YW5nbGVUb1JlY3RhbmdsZTogaSgxOTUpLCBSZWN0YW5nbGVUb1RyaWFuZ2xlOiBpKDgyNSksIFJlY3RhbmdsZVRvVmFsdWVzOiBpKDgyNiksIFRyaWFuZ2xlVG9DaXJjbGU6IGkoODI3KSwgVHJpYW5nbGVUb0xpbmU6IGkoODI4KSwgVHJpYW5nbGVUb1RyaWFuZ2xlOiBpKDgyOSkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNTEpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICByZXR1cm4gbih0LngsIHQueSwgZS54LCBlLnkpIDw9IHQucmFkaXVzICsgZS5yYWRpdXM7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IGUud2lkdGggLyAyLFxuICAgICAgICAgIG4gPSBlLmhlaWdodCAvIDIsXG4gICAgICAgICAgciA9IE1hdGguYWJzKHQueCAtIGUueCAtIGkpLFxuICAgICAgICAgIHMgPSBpICsgdC5yYWRpdXM7aWYgKHIgPD0gaSB8fCByID4gcykgcmV0dXJuICExO3ZhciBhID0gTWF0aC5hYnModC55IC0gZS55IC0gbiksXG4gICAgICAgICAgbyA9IG4gKyB0LnJhZGl1cztpZiAoYSA8PSBuIHx8IGEgPiBvKSByZXR1cm4gITE7dmFyIGggPSByIC0gaSxcbiAgICAgICAgICB1ID0gYSAtIG47cmV0dXJuIGggKiBoICsgdSAqIHUgPD0gdC5yYWRpdXMgKiB0LnJhZGl1cztcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE1KSxcbiAgICAgICAgciA9IGkoMTk1KSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IG5ldyBuKCkpLCByKHQsIGUpICYmIChpLnggPSBNYXRoLm1heCh0LngsIGUueCksIGkueSA9IE1hdGgubWF4KHQueSwgZS55KSwgaS53aWR0aCA9IE1hdGgubWluKHQucmlnaHQsIGUucmlnaHQpIC0gaS54LCBpLmhlaWdodCA9IE1hdGgubWluKHQuYm90dG9tLCBlLmJvdHRvbSkgLSBpLnkpLCBpO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdmFyIGkgPSB0LngxLFxuICAgICAgICAgIG4gPSB0LnkyLFxuICAgICAgICAgIHIgPSB0LngyLFxuICAgICAgICAgIHMgPSB0LnkyLFxuICAgICAgICAgIGEgPSBlLngsXG4gICAgICAgICAgbyA9IGUueSxcbiAgICAgICAgICBoID0gZS5yaWdodCxcbiAgICAgICAgICB1ID0gZS5ib3R0b20sXG4gICAgICAgICAgYyA9IDA7aWYgKGkgPj0gYSAmJiBpIDw9IGggJiYgbiA+PSBvICYmIG4gPD0gdSB8fCByID49IGEgJiYgciA8PSBoICYmIHMgPj0gbyAmJiBzIDw9IHUpIHJldHVybiAhMDtpZiAoaSA8IGEgJiYgciA+PSBhKSB7XG4gICAgICAgIGlmICgoYyA9IG4gKyAocyAtIG4pICogKGEgLSBpKSAvIChyIC0gaSkpID4gbyAmJiBjIDw9IHUpIHJldHVybiAhMDtcbiAgICAgIH0gZWxzZSBpZiAoaSA+IGggJiYgciA8PSBoICYmIChjID0gbiArIChzIC0gbikgKiAoaCAtIGkpIC8gKHIgLSBpKSkgPj0gbyAmJiBjIDw9IHUpIHJldHVybiAhMDtpZiAobiA8IG8gJiYgcyA+PSBvKSB7XG4gICAgICAgIGlmICgoYyA9IGkgKyAociAtIGkpICogKG8gLSBuKSAvIChzIC0gbikpID49IGEgJiYgYyA8PSBoKSByZXR1cm4gITA7XG4gICAgICB9IGVsc2UgaWYgKG4gPiB1ICYmIHMgPD0gdSAmJiAoYyA9IGkgKyAociAtIGkpICogKHUgLSBuKSAvIChzIC0gbikpID49IGEgJiYgYyA8PSBoKSByZXR1cm4gITA7cmV0dXJuICExO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTk3KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgaWYgKCFuKHQsIGUpKSByZXR1cm4gITE7dmFyIGkgPSBNYXRoLm1pbihlLngxLCBlLngyKSxcbiAgICAgICAgICByID0gTWF0aC5tYXgoZS54MSwgZS54MiksXG4gICAgICAgICAgcyA9IE1hdGgubWluKGUueTEsIGUueTIpLFxuICAgICAgICAgIGEgPSBNYXRoLm1heChlLnkxLCBlLnkyKTtyZXR1cm4gdC54ID49IGkgJiYgdC54IDw9IHIgJiYgdC55ID49IHMgJiYgdC55IDw9IGE7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg2MiksXG4gICAgICAgIHIgPSBpKDI3KSxcbiAgICAgICAgcyA9IGkoOTYpLFxuICAgICAgICBhID0gaSgxOTgpLFxuICAgICAgICBvID0gZnVuY3Rpb24gbyh0LCBlKSB7XG4gICAgICBpZiAoZS5sZWZ0ID4gdC5yaWdodCB8fCBlLnJpZ2h0IDwgdC5sZWZ0IHx8IGUudG9wID4gdC5ib3R0b20gfHwgZS5ib3R0b20gPCB0LnRvcCkgcmV0dXJuICExO3ZhciBpID0gZS5nZXRMaW5lQSgpLFxuICAgICAgICAgIG8gPSBlLmdldExpbmVCKCksXG4gICAgICAgICAgaCA9IGUuZ2V0TGluZUMoKTtpZiAocih0LCBpLngxLCBpLnkxKSB8fCByKHQsIGkueDIsIGkueTIpKSByZXR1cm4gITA7aWYgKHIodCwgby54MSwgby55MSkgfHwgcih0LCBvLngyLCBvLnkyKSkgcmV0dXJuICEwO2lmIChyKHQsIGgueDEsIGgueTEpIHx8IHIodCwgaC54MiwgaC55MikpIHJldHVybiAhMDt2YXIgdSA9IHQuZ2V0TGluZUEoKSxcbiAgICAgICAgICBjID0gdC5nZXRMaW5lQigpLFxuICAgICAgICAgIGwgPSB0LmdldExpbmVDKCksXG4gICAgICAgICAgZiA9IHQuZ2V0TGluZUQoKTtpZiAobihpLCB1KSB8fCBuKGksIGMpIHx8IG4oaSwgbCkgfHwgbihpLCBmKSkgcmV0dXJuICEwO2lmIChuKG8sIHUpIHx8IG4obywgYykgfHwgbihvLCBsKSB8fCBuKG8sIGYpKSByZXR1cm4gITA7aWYgKG4oaCwgdSkgfHwgbihoLCBjKSB8fCBuKGgsIGwpIHx8IG4oaCwgZikpIHJldHVybiAhMDt2YXIgZCA9IGEodCk7cmV0dXJuIHMoZSwgZCwgITApLmxlbmd0aCA+IDA7XG4gICAgfTt0LmV4cG9ydHMgPSBvO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEzNiwgbiwgciwgcykge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gcyAmJiAocyA9IDApLCAhKGUgPiB0LnJpZ2h0ICsgcyB8fCBfaTEzNiA8IHQubGVmdCAtIHMgfHwgbiA+IHQuYm90dG9tICsgcyB8fCByIDwgdC50b3AgLSBzKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE5NiksXG4gICAgICAgIHIgPSBpKDQ3KSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgcmV0dXJuICEodC5sZWZ0ID4gZS5yaWdodCB8fCB0LnJpZ2h0IDwgZS5sZWZ0IHx8IHQudG9wID4gZS5ib3R0b20gfHwgdC5ib3R0b20gPCBlLnRvcCkgJiYgKCEhcih0LCBlLngsIGUueSkgfHwgISFuKHQuZ2V0TGluZUEoKSwgZSkgfHwgISFuKHQuZ2V0TGluZUIoKSwgZSkgfHwgISFuKHQuZ2V0TGluZUMoKSwgZSkpO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNjIpLFxuICAgICAgICByID0gaSg0NyksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUpIHtcbiAgICAgIHJldHVybiAhKCFyKHQsIGUuZ2V0UG9pbnRBKCkpICYmICFyKHQsIGUuZ2V0UG9pbnRCKCkpKSB8fCAhIW4odC5nZXRMaW5lQSgpLCBlKSB8fCAhIW4odC5nZXRMaW5lQigpLCBlKSB8fCAhIW4odC5nZXRMaW5lQygpLCBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDYyKSxcbiAgICAgICAgciA9IGkoOTYpLFxuICAgICAgICBzID0gaSgxOTkpLFxuICAgICAgICBhID0gZnVuY3Rpb24gYSh0LCBlKSB7XG4gICAgICBpZiAodC5sZWZ0ID4gZS5yaWdodCB8fCB0LnJpZ2h0IDwgZS5sZWZ0IHx8IHQudG9wID4gZS5ib3R0b20gfHwgdC5ib3R0b20gPCBlLnRvcCkgcmV0dXJuICExO3ZhciBpID0gdC5nZXRMaW5lQSgpLFxuICAgICAgICAgIGEgPSB0LmdldExpbmVCKCksXG4gICAgICAgICAgbyA9IHQuZ2V0TGluZUMoKSxcbiAgICAgICAgICBoID0gZS5nZXRMaW5lQSgpLFxuICAgICAgICAgIHUgPSBlLmdldExpbmVCKCksXG4gICAgICAgICAgYyA9IGUuZ2V0TGluZUMoKTtpZiAobihpLCBoKSB8fCBuKGksIHUpIHx8IG4oaSwgYykpIHJldHVybiAhMDtpZiAobihhLCBoKSB8fCBuKGEsIHUpIHx8IG4oYSwgYykpIHJldHVybiAhMDtpZiAobihvLCBoKSB8fCBuKG8sIHUpIHx8IG4obywgYykpIHJldHVybiAhMDt2YXIgbCA9IHModCksXG4gICAgICAgICAgZiA9IHIoZSwgbCwgITApO3JldHVybiBmLmxlbmd0aCA+IDAgfHwgKGwgPSBzKGUpLCBmID0gcih0LCBsLCAhMCksIGYubGVuZ3RoID4gMCk7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMDApO24uQW5nbGUgPSBpKDQzKSwgbi5DZW50ZXJPbiA9IGkoODMxKSwgbi5DbG9uZSA9IGkoODMyKSwgbi5Db3B5RnJvbSA9IGkoODMzKSwgbi5FcXVhbHMgPSBpKDgzNCksIG4uR2V0TWlkUG9pbnQgPSBpKDgzNSksIG4uR2V0Tm9ybWFsID0gaSg4MzYpLCBuLkdldFBvaW50ID0gaSg4MzcpLCBuLkdldFBvaW50c09uTGluZSA9IGkoNjUpLCBuLkhlaWdodCA9IGkoODM4KSwgbi5MZW5ndGggPSBpKDgzOSksIG4uTm9ybWFsQW5nbGUgPSBpKDIwMSksIG4uTm9ybWFsWCA9IGkoODQwKSwgbi5Ob3JtYWxZID0gaSg4NDEpLCBuLk9mZnNldCA9IGkoODQyKSwgbi5QZXJwU2xvcGUgPSBpKDg0MyksIG4uUmFuZG9tID0gaSgxMjMpLCBuLlJlZmxlY3RBbmdsZSA9IGkoODQ0KSwgbi5Sb3RhdGUgPSBpKDg0NSksIG4uUm90YXRlQXJvdW5kUG9pbnQgPSBpKDg0NiksIG4uUm90YXRlQXJvdW5kWFkgPSBpKDk3KSwgbi5TZXRUb0FuZ2xlID0gaSg4NDcpLCBuLlNsb3BlID0gaSg4NDgpLCBuLldpZHRoID0gaSg4NDkpLCB0LmV4cG9ydHMgPSBuO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEzNykge1xuICAgICAgdmFyIG4gPSBlIC0gKHQueDEgKyB0LngyKSAvIDIsXG4gICAgICAgICAgciA9IF9pMTM3IC0gKHQueTEgKyB0LnkyKSAvIDI7cmV0dXJuIHQueDEgKz0gbiwgdC55MSArPSByLCB0LngyICs9IG4sIHQueTIgKz0gciwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIwMCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiBuZXcgbih0LngxLCB0LnkxLCB0LngyLCB0LnkyKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBlLnNldFRvKHQueDEsIHQueTEsIHQueDIsIHQueTIpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQueDEgPT09IGUueDEgJiYgdC55MSA9PT0gZS55MSAmJiB0LngyID09PSBlLngyICYmIHQueTIgPT09IGUueTI7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IG5ldyBuKCkpLCBlLnggPSAodC54MSArIHQueDIpIC8gMiwgZS55ID0gKHQueTEgKyB0LnkyKSAvIDIsIGU7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMCksXG4gICAgICAgIHIgPSBpKDQzKSxcbiAgICAgICAgcyA9IGkoOCksXG4gICAgICAgIGEgPSBmdW5jdGlvbiBhKHQsIGUpIHtcbiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IG5ldyBzKCkpO3ZhciBpID0gcih0KSAtIG4uVEFVO3JldHVybiBlLnggPSBNYXRoLmNvcyhpKSwgZS55ID0gTWF0aC5zaW4oaSksIGU7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4geyB4OiB0LngxICsgKHQueDIgLSB0LngxKSAqIGUsIHk6IHQueTEgKyAodC55MiAtIHQueTEpICogZSB9O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKHQueTEgLSB0LnkyKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiBNYXRoLnNxcnQoKHQueDIgLSB0LngxKSAqICh0LngyIC0gdC54MSkgKyAodC55MiAtIHQueTEpICogKHQueTIgLSB0LnkxKSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMCksXG4gICAgICAgIHIgPSBpKDQzKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCkge1xuICAgICAgcmV0dXJuIE1hdGguY29zKHIodCkgLSBuLlRBVSk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMCksXG4gICAgICAgIHIgPSBpKDQzKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCkge1xuICAgICAgcmV0dXJuIE1hdGguc2luKHIodCkgLSBuLlRBVSk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEzOCkge1xuICAgICAgcmV0dXJuIHQueDEgKz0gZSwgdC55MSArPSBfaTEzOCwgdC54MiArPSBlLCB0LnkyICs9IF9pMTM4LCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIC0odC54MiAtIHQueDEpIC8gKHQueTIgLSB0LnkxKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQzKSxcbiAgICAgICAgciA9IGkoMjAxKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgcmV0dXJuIDIgKiByKGUpIC0gTWF0aC5QSSAtIG4odCk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg5NyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHZhciBpID0gKHQueDEgKyB0LngyKSAvIDIsXG4gICAgICAgICAgciA9ICh0LnkxICsgdC55MikgLyAyO3JldHVybiBuKHQsIGksIHIsIGUpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoOTcpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpKSB7XG4gICAgICByZXR1cm4gbih0LCBlLngsIGUueSwgaSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTEzOSwgbiwgcikge1xuICAgICAgcmV0dXJuIHQueDEgPSBlLCB0LnkxID0gX2kxMzksIHQueDIgPSBlICsgTWF0aC5jb3MobikgKiByLCB0LnkyID0gX2kxMzkgKyBNYXRoLnNpbihuKSAqIHIsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gKHQueTIgLSB0LnkxKSAvICh0LngyIC0gdC54MSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gTWF0aC5hYnModC54MSAtIHQueDIpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoOCk7bi5BZGQgPSBpKDg1MSksIG4uQ2VpbCA9IGkoODUyKSwgbi5DbG9uZSA9IGkoODUzKSwgbi5Db3B5RnJvbSA9IGkoODU0KSwgbi5Dcm9zcyA9IGkoODU1KSwgbi5EaXZpZGUgPSBpKDg1NiksIG4uRG90ID0gaSg5OCksIG4uRXF1YWxzID0gaSg4NTcpLCBuLkZsb29yID0gaSg4NTgpLCBuLkdldENlbnRyb2lkID0gaSg4NTkpLCBuLkdldE1hZ25pdHVkZSA9IGkoMjAyKSwgbi5HZXRNYWduaXR1ZGVTcSA9IGkoMjAzKSwgbi5JbnRlcnBvbGF0ZSA9IGkoODYwKSwgbi5JbnZlcnQgPSBpKDg2MSksIG4uTXVsdGlwbHkgPSBpKDIwNCksIG4uTmVnYXRpdmUgPSBpKDg2MiksIG4uTm9ybWFsaXplID0gaSgyMDUpLCBuLk5vcm1hbGl6ZVJpZ2h0SGFuZCA9IGkoODYzKSwgbi5QZXJwID0gaSg4NjQpLCBuLlByb2plY3QgPSBpKDg2NSksIG4uUHJvamVjdFVuaXQgPSBpKDg2NiksIG4uUlBlcnAgPSBpKDg2NyksIG4uU2V0TWFnbml0dWRlID0gaSg4NjgpLCBuLlN1YnRyYWN0ID0gaSg4NjkpLCB0LmV4cG9ydHMgPSBuO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTE0MCkge1xuICAgICAgcmV0dXJuIHQueCArPSBlLCB0LnkgKz0gX2kxNDAsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC5zZXRUbyhNYXRoLmNlaWwodC54KSwgTWF0aC5jZWlsKHQueSkpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoOCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiBuZXcgbih0LngsIHQueSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gZS5zZXRUbyh0LngsIHQueSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdC54ICogZS55IC0gdC55ICogZS54O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxNDEpIHtcbiAgICAgIHJldHVybiB0LnggLz0gZSwgdC55IC89IF9pMTQxLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQueCA9PT0gZS54ICYmIHQueSA9PT0gZS55O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQuc2V0VG8oTWF0aC5mbG9vcih0LngpLCBNYXRoLmZsb29yKHQueSkpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoOCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IGUgJiYgKGUgPSBuZXcgbigpKSwgIUFycmF5LmlzQXJyYXkodCkpIHRocm93IG5ldyBFcnJvcihcIkdldENlbnRyb2lkIHBvaW50cyBhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5XCIpO3ZhciBpID0gdC5sZW5ndGg7aWYgKGkgPCAxKSB0aHJvdyBuZXcgRXJyb3IoXCJHZXRDZW50cm9pZCBwb2ludHMgYXJyYXkgbXVzdCBub3QgYmUgZW1wdHlcIik7aWYgKDEgPT09IGkpIGUueCA9IHRbMF0ueCwgZS55ID0gdFswXS55O2Vsc2Uge1xuICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IGk7IHIrKykge1xuICAgICAgICAgIGUueCArPSB0W3JdLngsIGUueSArPSB0W3JdLnk7XG4gICAgICAgIH1lLnggLz0gaSwgZS55IC89IGk7XG4gICAgICB9cmV0dXJuIGU7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3IyNykge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IF9yMjcgJiYgKF9yMjcgPSBuZXcgbigpKSwgX3IyNy54ID0gdC54ICsgKGUueCAtIHQueCkgKiBpLCBfcjI3LnkgPSB0LnkgKyAoZS55IC0gdC55KSAqIGksIF9yMjc7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC5zZXRUbyh0LnksIHQueCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IG5ldyBuKCkpLCBlLnNldFRvKC10LngsIC10LnkpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQuc2V0VG8oLTEgKiB0LnksIHQueCk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC5zZXRUbygtdC55LCB0LngpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoOTgpLFxuICAgICAgICByID0gaSg4KSxcbiAgICAgICAgcyA9IGkoMjAzKSxcbiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCwgZSwgaSkge1xuICAgICAgdm9pZCAwID09PSBpICYmIChpID0gbmV3IHIoKSk7dmFyIGEgPSBuKHQsIGUpIC8gcyhlKTtyZXR1cm4gMCAhPT0gYSAmJiAoaS54ID0gYSAqIGUueCwgaS55ID0gYSAqIGUueSksIGk7XG4gICAgfTt0LmV4cG9ydHMgPSBhO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg5OCksXG4gICAgICAgIHIgPSBpKDgpLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlLCBpKSB7XG4gICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSBuZXcgcigpKTt2YXIgcyA9IG4odCwgZSk7cmV0dXJuIDAgIT09IHMgJiYgKGkueCA9IHMgKiBlLngsIGkueSA9IHMgKiBlLnkpLCBpO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQuc2V0VG8odC55LCAtdC54KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIwNSksXG4gICAgICAgIHIgPSBpKDIwNCksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUpIHtcbiAgICAgIHJldHVybiBuKHQpLCByKHQsIGUsIGUpO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxNDIpIHtcbiAgICAgIHJldHVybiB0LnggLT0gZSwgdC55IC09IF9pMTQyLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjA2KTtuLkNsb25lID0gaSg4NzEpLCBuLkNvbnRhaW5zID0gaSgyMDcpLCBuLkNvbnRhaW5zUG9pbnQgPSBpKDg3MiksIG4uR2V0QUFCQiA9IGkoODczKSwgbi5HZXROdW1iZXJBcnJheSA9IGkoODc0KSwgdC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjA2KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCkge1xuICAgICAgcmV0dXJuIG5ldyBuKHQucG9pbnRzKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIwNyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiBuKHQsIGUueCwgZS55KTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIGZvciAodmFyIGUsIGkgPSAxIC8gMCwgbiA9IDEgLyAwLCByID0gLWksIHMgPSAtbiwgYSA9IDA7IGEgPCB0LnBvaW50cy5sZW5ndGg7IGErKykge1xuICAgICAgICBlID0gdC5wb2ludHNbYV0sIGkgPSBNYXRoLm1pbihpLCBlLngpLCBuID0gTWF0aC5taW4obiwgZS55KSwgciA9IE1hdGgubWF4KHIsIGUueCksIHMgPSBNYXRoLm1heChzLCBlLnkpO1xuICAgICAgfXJldHVybiB7IHg6IGksIHk6IG4sIHdpZHRoOiByIC0gaSwgaGVpZ2h0OiBzIC0gbiB9O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gW10pO2ZvciAodmFyIGkgPSAwOyBpIDwgdC5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZS5wdXNoKHQucG9pbnRzW2ldLngpLCBlLnB1c2godC5wb2ludHNbaV0ueSk7XG4gICAgICB9cmV0dXJuIGU7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNSk7bi5BcmVhID0gaSg4NzYpLCBuLkNlaWwgPSBpKDg3NyksIG4uQ2VpbEFsbCA9IGkoODc4KSwgbi5DZW50ZXJPbiA9IGkoMjA4KSwgbi5DbG9uZSA9IGkoODc5KSwgbi5Db250YWlucyA9IGkoMjcpLCBuLkNvbnRhaW5zUG9pbnQgPSBpKDg4MCksIG4uQ29udGFpbnNSZWN0ID0gaSg4ODEpLCBuLkNvcHlGcm9tID0gaSg4ODIpLCBuLkRlY29tcG9zZSA9IGkoMTk4KSwgbi5FcXVhbHMgPSBpKDg4MyksIG4uRml0SW5zaWRlID0gaSg4ODQpLCBuLkZpdE91dHNpZGUgPSBpKDg4NSksIG4uRmxvb3IgPSBpKDg4NiksIG4uRmxvb3JBbGwgPSBpKDg4NyksIG4uR2V0QXNwZWN0UmF0aW8gPSBpKDk5KSwgbi5HZXRDZW50ZXIgPSBpKDg4OCksIG4uR2V0U2l6ZSA9IGkoODg5KSwgbi5JbmZsYXRlID0gaSg4OTApLCBuLk1hcmNoaW5nQW50cyA9IGkoMTE3KSwgbi5NZXJnZVBvaW50cyA9IGkoODkxKSwgbi5NZXJnZVJlY3QgPSBpKDg5MiksIG4uTWVyZ2VYWSA9IGkoODkzKSwgbi5PZmZzZXQgPSBpKDg5NCksIG4uT2Zmc2V0UG9pbnQgPSBpKDg5NSksIG4uT3ZlcmxhcHMgPSBpKDg5NiksIG4uUGVyaW1ldGVyID0gaSgxMTgpLCBuLlBlcmltZXRlclBvaW50ID0gaSg4OTcpLCBuLlJhbmRvbSA9IGkoMTI0KSwgbi5TY2FsZSA9IGkoODk4KSwgbi5VbmlvbiA9IGkoODk5KSwgdC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQud2lkdGggKiB0LmhlaWdodDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHJldHVybiB0LnggPSBNYXRoLmNlaWwodC54KSwgdC55ID0gTWF0aC5jZWlsKHQueSksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC54ID0gTWF0aC5jZWlsKHQueCksIHQueSA9IE1hdGguY2VpbCh0LnkpLCB0LndpZHRoID0gTWF0aC5jZWlsKHQud2lkdGgpLCB0LmhlaWdodCA9IE1hdGguY2VpbCh0LmhlaWdodCksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNSksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQpIHtcbiAgICAgIHJldHVybiBuZXcgbih0LngsIHQueSwgdC53aWR0aCwgdC5oZWlnaHQpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjcpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICByZXR1cm4gbih0LCBlLngsIGUueSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gIShlLndpZHRoICogZS5oZWlnaHQgPiB0LndpZHRoICogdC5oZWlnaHQpICYmIGUueCA+IHQueCAmJiBlLnggPCB0LnJpZ2h0ICYmIGUucmlnaHQgPiB0LnggJiYgZS5yaWdodCA8IHQucmlnaHQgJiYgZS55ID4gdC55ICYmIGUueSA8IHQuYm90dG9tICYmIGUuYm90dG9tID4gdC55ICYmIGUuYm90dG9tIDwgdC5ib3R0b207XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gZS5zZXRUbyh0LngsIHQueSwgdC53aWR0aCwgdC5oZWlnaHQpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQueCA9PT0gZS54ICYmIHQueSA9PT0gZS55ICYmIHQud2lkdGggPT09IGUud2lkdGggJiYgdC5oZWlnaHQgPT09IGUuaGVpZ2h0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoOTkpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2YXIgaSA9IG4odCk7cmV0dXJuIGkgPCBuKGUpID8gdC5zZXRTaXplKGUuaGVpZ2h0ICogaSwgZS5oZWlnaHQpIDogdC5zZXRTaXplKGUud2lkdGgsIGUud2lkdGggKiBpKSwgdC5zZXRQb3NpdGlvbihlLnJpZ2h0IC8gMiAtIHQud2lkdGggLyAyLCBlLmJvdHRvbSAvIDIgLSB0LmhlaWdodCAvIDIpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoOTkpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2YXIgaSA9IG4odCk7cmV0dXJuIGkgPiBuKGUpID8gdC5zZXRTaXplKGUuaGVpZ2h0ICogaSwgZS5oZWlnaHQpIDogdC5zZXRTaXplKGUud2lkdGgsIGUud2lkdGggKiBpKSwgdC5zZXRQb3NpdGlvbihlLnJpZ2h0IC8gMiAtIHQud2lkdGggLyAyLCBlLmJvdHRvbSAvIDIgLSB0LmhlaWdodCAvIDIpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQueCA9IE1hdGguZmxvb3IodC54KSwgdC55ID0gTWF0aC5mbG9vcih0LnkpLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQueCA9IE1hdGguZmxvb3IodC54KSwgdC55ID0gTWF0aC5mbG9vcih0LnkpLCB0LndpZHRoID0gTWF0aC5mbG9vcih0LndpZHRoKSwgdC5oZWlnaHQgPSBNYXRoLmZsb29yKHQuaGVpZ2h0KSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSB7IHg6IDAsIHk6IDAgfSksIGUueCA9IHQucmlnaHQgLyAyLCBlLnkgPSB0LmJvdHRvbSAvIDIsIGU7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0geyB4OiAwLCB5OiAwIH0pLCBlLnggPSB0LndpZHRoLCBlLnkgPSB0LmhlaWdodCwgZTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIwOCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGkpIHtcbiAgICAgIHZhciByID0gdC5jZW50ZXJYLFxuICAgICAgICAgIHMgPSB0LmNlbnRlclk7cmV0dXJuIHQuc2V0U2l6ZSh0LndpZHRoICsgMiAqIGUsIHQuaGVpZ2h0ICsgMiAqIGkpLCBuKHQsIHIsIHMpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgZm9yICh2YXIgaSA9IHQueCwgbiA9IHQucmlnaHQsIHIgPSB0LnksIHMgPSB0LmJvdHRvbSwgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIGkgPSBNYXRoLm1pbihpLCBlW2FdLngpLCBuID0gTWF0aC5tYXgobiwgZVthXS54KSwgciA9IE1hdGgubWluKHIsIGVbYV0ueSksIHMgPSBNYXRoLm1heChzLCBlW2FdLnkpO1xuICAgICAgfXJldHVybiB0LnggPSBpLCB0LnkgPSByLCB0LndpZHRoID0gbiAtIGksIHQuaGVpZ2h0ID0gcyAtIHIsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICB2YXIgaSA9IE1hdGgubWluKHQueCwgZS54KSxcbiAgICAgICAgICBuID0gTWF0aC5tYXgodC5yaWdodCwgZS5yaWdodCk7dC54ID0gaSwgdC53aWR0aCA9IG4gLSBpO3ZhciByID0gTWF0aC5taW4odC55LCBlLnkpLFxuICAgICAgICAgIHMgPSBNYXRoLm1heCh0LmJvdHRvbSwgZS5ib3R0b20pO3JldHVybiB0LnkgPSByLCB0LmhlaWdodCA9IHMgLSByLCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxNDMpIHtcbiAgICAgIHZhciBuID0gTWF0aC5taW4odC54LCBlKSxcbiAgICAgICAgICByID0gTWF0aC5tYXgodC5yaWdodCwgZSk7dC54ID0gbiwgdC53aWR0aCA9IHIgLSBuO3ZhciBzID0gTWF0aC5taW4odC55LCBfaTE0MyksXG4gICAgICAgICAgYSA9IE1hdGgubWF4KHQuYm90dG9tLCBfaTE0Myk7cmV0dXJuIHQueSA9IHMsIHQuaGVpZ2h0ID0gYSAtIHMsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTE0NCkge1xuICAgICAgcmV0dXJuIHQueCArPSBlLCB0LnkgKz0gX2kxNDQsIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gdC54ICs9IGUueCwgdC55ICs9IGUueSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB0LnggPCBlLnJpZ2h0ICYmIHQucmlnaHQgPiBlLnggJiYgdC55IDwgZS5ib3R0b20gJiYgdC5ib3R0b20gPiBlLnk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxMCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGkpIHtcbiAgICAgIHZvaWQgMCA9PT0gaSAmJiAoaSA9IHsgeDogMCwgeTogMCB9KTtmb3IgKHZhciByID0gZSAqIG4uREVHX1RPX1JBRDsgciA8IC1NYXRoLlBJOykge1xuICAgICAgICByICs9IG4uUEkyO1xuICAgICAgfWZvciAoOyByID4gTWF0aC5QSTspIHtcbiAgICAgICAgciAtPSBuLlBJMjtcbiAgICAgIH12YXIgcyxcbiAgICAgICAgICBhID0gTWF0aC5hdGFuMih0LmhlaWdodCwgdC53aWR0aCksXG4gICAgICAgICAgbyA9IE1hdGgudGFuKHIpLFxuICAgICAgICAgIGggPSBNYXRoLlBJIC0gYSxcbiAgICAgICAgICB1ID0gMSxcbiAgICAgICAgICBjID0gMTtyZXR1cm4gciA+IC1hICYmIHIgPD0gYSA/IChzID0gMSwgYyA9IC0xKSA6IHIgPiBhICYmIHIgPD0gaCA/IChzID0gMiwgYyA9IC0xKSA6IHIgPiBoIHx8IHIgPD0gLWggPyAocyA9IDMsIHUgPSAtMSkgOiAocyA9IDQsIHUgPSAtMSksIGkueCA9IHQueCArIHQud2lkdGggLyAyLCBpLnkgPSB0LnkgKyB0LmhlaWdodCAvIDIsIDEgPT09IHMgfHwgMyA9PT0gcyA/IChpLnggKz0gdSAqICh0LndpZHRoIC8gMiksIGkueSArPSBjICogKHQud2lkdGggLyAyKSAqIG8pIDogKGkueCArPSB1ICogKHQuaGVpZ2h0IC8gKDIgKiBvKSksIGkueSArPSBjICogKHQuaGVpZ2h0IC8gMikpLCBpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxNDUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IF9pMTQ1ICYmIChfaTE0NSA9IGUpLCB0LndpZHRoICo9IGUsIHQuaGVpZ2h0ICo9IF9pMTQ1LCB0O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTUpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpKSB7XG4gICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSBuKCkpO3ZhciByID0gTWF0aC5taW4odC54LCBlLngpLFxuICAgICAgICAgIHMgPSBNYXRoLm1pbih0LnksIGUueSk7cmV0dXJuIGkuc2V0KHIsIHMsIE1hdGgubWF4KHQucmlnaHQsIGUucmlnaHQpIC0gciwgTWF0aC5tYXgodC5ib3R0b20sIGUuYm90dG9tKSAtIHMpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDEpO24uQXJlYSA9IGkoOTAxKSwgbi5CdWlsZEVxdWlsYXRlcmFsID0gaSg5MDIpLCBuLkJ1aWxkRnJvbVBvbHlnb24gPSBpKDkwMyksIG4uQnVpbGRSaWdodCA9IGkoOTA0KSwgbi5DZW50ZXJPbiA9IGkoOTA1KSwgbi5DZW50cm9pZCA9IGkoMjA5KSwgbi5DaXJjdW1DZW50ZXIgPSBpKDkwNiksIG4uQ2lyY3VtQ2lyY2xlID0gaSg5MDcpLCBuLkNsb25lID0gaSg5MDgpLCBuLkNvbnRhaW5zID0gaSg0NyksIG4uQ29udGFpbnNBcnJheSA9IGkoOTYpLCBuLkNvbnRhaW5zUG9pbnQgPSBpKDkwOSksIG4uQ29weUZyb20gPSBpKDkxMCksIG4uRGVjb21wb3NlID0gaSgxOTkpLCBuLkVxdWFscyA9IGkoOTExKSwgbi5JbkNlbnRlciA9IGkoMjExKSwgbi5PZmZzZXQgPSBpKDIxMCksIG4uUmFuZG9tID0gaSgxMjUpLCBuLlJvdGF0ZSA9IGkoOTEyKSwgbi5Sb3RhdGVBcm91bmRQb2ludCA9IGkoOTEzKSwgbi5Sb3RhdGVBcm91bmRYWSA9IGkoMTAwKSwgdC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB0LngxLFxuICAgICAgICAgIGkgPSB0LnkxLFxuICAgICAgICAgIG4gPSB0LngyLFxuICAgICAgICAgIHIgPSB0LnkyLFxuICAgICAgICAgIHMgPSB0LngzLFxuICAgICAgICAgIGEgPSB0LnkzO3JldHVybiBNYXRoLmFicygoKHMgLSBlKSAqIChyIC0gaSkgLSAobiAtIGUpICogKGEgLSBpKSkgLyAyKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDQxKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSkge1xuICAgICAgdmFyIHIgPSBpICogKE1hdGguc3FydCgzKSAvIDIpO3JldHVybiBuZXcgbih0LCBlLCB0ICsgaSAvIDIsIGUgKyByLCB0IC0gaSAvIDIsIGUgKyByKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE2NiksXG4gICAgICAgIHIgPSBpKDQxKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSwgaSwgX3MxMSwgYSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gbnVsbCksIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDEpLCB2b2lkIDAgPT09IF9zMTEgJiYgKF9zMTEgPSAxKSwgdm9pZCAwID09PSBhICYmIChhID0gW10pO2ZvciAodmFyIG8sIGgsIHUsIGMsIGwsIGYsIGQsIHAsIHYsIGcgPSBuKHQsIGUpLCB4ID0gMDsgeCA8IGcubGVuZ3RoOyB4ICs9IDMpIHtcbiAgICAgICAgbyA9IGdbeF0sIGggPSBnW3ggKyAxXSwgdSA9IGdbeCArIDJdLCBjID0gdFsyICogb10gKiBpLCBsID0gdFsyICogbyArIDFdICogX3MxMSwgZiA9IHRbMiAqIGhdICogaSwgZCA9IHRbMiAqIGggKyAxXSAqIF9zMTEsIHAgPSB0WzIgKiB1XSAqIGksIHYgPSB0WzIgKiB1ICsgMV0gKiBfczExLCBhLnB1c2gobmV3IHIoYywgbCwgZiwgZCwgcCwgdikpO1xuICAgICAgfXJldHVybiBhO1xuICAgIH07dC5leHBvcnRzID0gcztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDEpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpLCBfcjI4KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBfcjI4ICYmIChfcjI4ID0gaSksIG5ldyBuKHQsIGUsIHQsIGUgLSBfcjI4LCB0ICsgaSwgZSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMDkpLFxuICAgICAgICByID0gaSgyMTApLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlLCBpLCBfczEyKSB7XG4gICAgICB2b2lkIDAgPT09IF9zMTIgJiYgKF9zMTIgPSBuKTt2YXIgYSA9IF9zMTIodCksXG4gICAgICAgICAgbyA9IGUgLSBhLngsXG4gICAgICAgICAgaCA9IGkgLSBhLnk7cmV0dXJuIHIodCwgbywgaCk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIGZ1bmN0aW9uIGkodCwgZSwgaSwgbikge1xuICAgICAgcmV0dXJuIHQgKiBuIC0gZSAqIGk7XG4gICAgfXZhciBuID0gZnVuY3Rpb24gbih0LCBlKSB7XG4gICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSB7IHg6IDAsIHk6IDAgfSk7dmFyIG4gPSB0LngzLFxuICAgICAgICAgIHIgPSB0LnkzLFxuICAgICAgICAgIHMgPSB0LngxIC0gbixcbiAgICAgICAgICBhID0gdC55MSAtIHIsXG4gICAgICAgICAgbyA9IHQueDIgLSBuLFxuICAgICAgICAgIGggPSB0LnkyIC0gcixcbiAgICAgICAgICB1ID0gMiAqIGkocywgYSwgbywgaCksXG4gICAgICAgICAgYyA9IGkoYSwgcyAqIHMgKyBhICogYSwgaCwgbyAqIG8gKyBoICogaCksXG4gICAgICAgICAgbCA9IGkocywgcyAqIHMgKyBhICogYSwgbywgbyAqIG8gKyBoICogaCk7cmV0dXJuIGUueCA9IG4gLSBjIC8gdSwgZS55ID0gciArIGwgLyB1LCBlO1xuICAgIH07dC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0geyB4OiAwLCB5OiAwLCByYWRpdXM6IDAgfSk7dmFyIGksXG4gICAgICAgICAgbixcbiAgICAgICAgICByID0gdC54MSxcbiAgICAgICAgICBzID0gdC55MSxcbiAgICAgICAgICBhID0gdC54MixcbiAgICAgICAgICBvID0gdC55MixcbiAgICAgICAgICBoID0gdC54MyxcbiAgICAgICAgICB1ID0gdC55MyxcbiAgICAgICAgICBjID0gYSAtIHIsXG4gICAgICAgICAgbCA9IG8gLSBzLFxuICAgICAgICAgIGYgPSBoIC0gcixcbiAgICAgICAgICBkID0gdSAtIHMsXG4gICAgICAgICAgcCA9IGMgKiAociArIGEpICsgbCAqIChzICsgbyksXG4gICAgICAgICAgdiA9IGYgKiAociArIGgpICsgZCAqIChzICsgdSksXG4gICAgICAgICAgZyA9IDIgKiAoYyAqICh1IC0gbykgLSBsICogKGggLSBhKSk7aWYgKE1hdGguYWJzKGcpIDwgMWUtNikge1xuICAgICAgICB2YXIgeCA9IE1hdGgubWluKHIsIGEsIGgpLFxuICAgICAgICAgICAgbSA9IE1hdGgubWluKHMsIG8sIHUpO2kgPSAuNSAqIChNYXRoLm1heChyLCBhLCBoKSAtIHgpLCBuID0gLjUgKiAoTWF0aC5tYXgocywgbywgdSkgLSBtKSwgZS54ID0geCArIGksIGUueSA9IG0gKyBuLCBlLnJhZGl1cyA9IE1hdGguc3FydChpICogaSArIG4gKiBuKTtcbiAgICAgIH0gZWxzZSBlLnggPSAoZCAqIHAgLSBsICogdikgLyBnLCBlLnkgPSAoYyAqIHYgLSBmICogcCkgLyBnLCBpID0gZS54IC0gciwgbiA9IGUueSAtIHMsIGUucmFkaXVzID0gTWF0aC5zcXJ0KGkgKiBpICsgbiAqIG4pO3JldHVybiBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNDEpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0KSB7XG4gICAgICByZXR1cm4gbmV3IG4odC54MSwgdC55MSwgdC54MiwgdC55MiwgdC54MywgdC55Myk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg0NyksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiBuKHQsIGUueCwgZS55KTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBlLnNldFRvKHQueDEsIHQueTEsIHQueDIsIHQueTIsIHQueDMsIHQueTMpO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQueDEgPT09IGUueDEgJiYgdC55MSA9PT0gZS55MSAmJiB0LngyID09PSBlLngyICYmIHQueTIgPT09IGUueTIgJiYgdC54MyA9PT0gZS54MyAmJiB0LnkzID09PSBlLnkzO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTAwKSxcbiAgICAgICAgciA9IGkoMjExKSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgdmFyIGkgPSByKHQpO3JldHVybiBuKHQsIGkueCwgaS55LCBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDEwMCksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUsIGkpIHtcbiAgICAgIHJldHVybiBuKHQsIGUueCwgZS55LCBpKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBCbGVuZE1vZGVzOiBpKDkxNSksIENvbG9yOiBpKDkzMCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IEFkZDogaSgyMTIpLCBBdmVyYWdlOiBpKDkxNiksIENvbG9yQnVybjogaSgyMTMpLCBDb2xvckRvZGdlOiBpKDIxNCksIERhcmtlbjogaSgyMTUpLCBEaWZmZXJlbmNlOiBpKDkxNyksIEV4Y2x1c2lvbjogaSg5MTgpLCBHbG93OiBpKDkxOSksIEhhcmRMaWdodDogaSg5MjApLCBIYXJkTWl4OiBpKDkyMSksIExpZ2h0ZW46IGkoMjE5KSwgTGluZWFyQnVybjogaSgyMjApLCBMaW5lYXJEb2RnZTogaSgyMjIpLCBMaW5lYXJMaWdodDogaSg5MjIpLCBNdWx0aXBseTogaSg5MjMpLCBOZWdhdGlvbjogaSg5MjQpLCBOb3JtYWw6IGkoOTI1KSwgT3ZlcmxheTogaSgyMTcpLCBQaG9lbml4OiBpKDkyNiksIFBpbkxpZ2h0OiBpKDkyNyksIFJlZmxlY3Q6IGkoMjE2KSwgU2NyZWVuOiBpKDkyOCksIFNvZnRMaWdodDogaSg5MjkpLCBTdWJ0cmFjdDogaSgyMjEpLCBWaXZpZExpZ2h0OiBpKDIxOCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuICh0ICsgZSkgLyAyO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKHQgLSBlKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB0ICsgZSAtIDIgKiB0ICogZSAvIDI1NTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIxNiksXG4gICAgICAgIHIgPSBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHJldHVybiBuKGUsIHQpO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjE3KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgcmV0dXJuIG4oZSwgdCk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMTgpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICByZXR1cm4gbih0LCBlKSA8IDEyOCA/IDAgOiAyNTU7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMjApLFxuICAgICAgICByID0gaSgyMjIpLFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlKSB7XG4gICAgICByZXR1cm4gZSA8IDEyOCA/IG4odCwgMiAqIGUpIDogcih0LCAyICogKGUgLSAxMjgpKTtcbiAgICB9O3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB0ICogZSAvIDI1NTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiAyNTUgLSBNYXRoLmFicygyNTUgLSB0IC0gZSk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdDtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBNYXRoLm1pbih0LCBlKSAtIE1hdGgubWF4KHQsIGUpICsgMjU1O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjE1KSxcbiAgICAgICAgciA9IGkoMjE5KSxcbiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCwgZSkge1xuICAgICAgcmV0dXJuIGUgPCAxMjggPyBuKHQsIDIgKiBlKSA6IHIodCwgMiAqIChlIC0gMTI4KSk7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlKSB7XG4gICAgICByZXR1cm4gMjU1IC0gKCgyNTUgLSB0KSAqICgyNTUgLSBlKSA+PiA4KTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiBlIDwgMTI4ID8gMiAqICg2NCArICh0ID4+IDEpKSAqIChlIC8gMjU1KSA6IDI1NSAtIDIgKiAoMjU1IC0gKDY0ICsgKHQgPj4gMSkpKSAqICgyNTUgLSBlKSAvIDI1NTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDI4KTtuLkNvbG9yVG9SR0JBID0gaSg5MzEpLCBuLkNvbXBvbmVudFRvSGV4ID0gaSgyMjMpLCBuLkNTU1RvQ29sb3IgPSBpKDkzMiksIG4uR2V0Q29sb3IgPSBpKDcyKSwgbi5HZXRDb2xvcjMyID0gaSgxNTQpLCBuLkhleFN0cmluZ1RvQ29sb3IgPSBpKDE1NSksIG4uSFNMVG9Db2xvciA9IGkoOTMzKSwgbi5IU1ZDb2xvcldoZWVsID0gaSg5MzUpLCBuLkhTVlRvUkdCID0gaSgyMjUpLCBuLkh1ZVRvQ29tcG9uZW50ID0gaSgyMjQpLCBuLkludGVnZXJUb0NvbG9yID0gaSgxNTYpLCBuLkludGVnZXJUb1JHQiA9IGkoMTU3KSwgbi5JbnRlcnBvbGF0ZSA9IGkoOTM2KSwgbi5SYW5kb21SR0IgPSBpKDkzNyksIG4uUkdCU3RyaW5nVG9Db2xvciA9IGkoMTUzKSwgbi5SR0JUb0hTViA9IGkoOTM4KSwgbi5SR0JUb1N0cmluZyA9IGkoOTM5KSwgbi5WYWx1ZVRvQ29sb3IgPSBpKDUyKSwgdC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSB7IHI6IHQgPj4gMTYgJiAyNTUsIGc6IHQgPj4gOCAmIDI1NSwgYjogMjU1ICYgdCwgYTogMjU1IH07cmV0dXJuIHQgPiAxNjc3NzIxNSAmJiAoZS5hID0gdCA+Pj4gMjQpLCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjgpLFxuICAgICAgICByID0geyBhbGljZWJsdWU6IFsyNDAsIDI0OCwgMjQ1XSwgYW50aXF1ZXdoaXRlOiBbMjUwLCAyMzUsIDIxNV0sIGFxdWE6IFswLCAyNTUsIDI1NV0sIGFxdWFtYXJpbmU6IFsxMjcsIDI1NSwgMjEyXSwgYXp1cmU6IFsyNDAsIDI1NSwgMjU1XSwgYmVpZ2U6IFsyNDUsIDI0NSwgMjIwXSwgYmlzcXVlOiBbMjU1LCAyMjgsIDE5Nl0sIGJsYWNrOiBbMCwgMCwgMF0sIGJsYW5jaGVkYWxtb25kOiBbMjU1LCAyMzUsIDIwNV0sIGJsdWU6IFswLCAwLCAyNTVdLCBibHVldmlvbGV0OiBbMTM4LCA0MywgMjI2XSwgYnJvd246IFsxNjUsIDQyLCA0Ml0sIGJ1cmx5d29vZDogWzIyMiwgMTg0LCAzNV0sIGNhZGV0Ymx1ZTogWzk1LCAxNTgsIDE2MF0sIGNoYXJ0cmV1c2U6IFsxMjcsIDI1NSwgMF0sIGNob2NvbGF0ZTogWzIxMCwgMTA1LCAzMF0sIGNvcmFsOiBbMjU1LCAxMjcsIDgwXSwgY29ybmZsb3dlcmJsdWU6IFsxMDAsIDE0OSwgMjM3XSwgY29ybnNpbGs6IFsyNTUsIDI0OCwgMjIwXSwgY3JpbXNvbjogWzIyMCwgMjAsIDYwXSwgZGFya2JsdWU6IFswLCAwLCAxMzldLCBkYXJrY3lhbjogWzAsIDEzOSwgMTM5XSwgZGFya2dvbGRlbnJvZDogWzE4NCwgMTM0LCAxMV0sIGRhcmtncmF5OiBbMTY5LCAxNjksIDE2OV0sIGRhcmtncmVlbjogWzAsIDEwMCwgMF0sIGRhcmtncmV5OiBbMTY5LCAxNjksIDE2OV0sIGRhcmtraGFraTogWzE4OSwgMTgzLCAxMDddLCBkYXJrbWFnZW50YTogWzEzOSwgMCwgMTM5XSwgZGFya29saXZlZ3JlZW46IFs4NSwgMTA3LCA0N10sIGRhcmtvcmFuZ2U6IFsyNTUsIDE0MCwgMF0sIGRhcmtvcmNoaWQ6IFsxNTMsIDUwLCAyMDRdLCBkYXJrcmVkOiBbMTM5LCAwLCAwXSwgZGFya3NhbG1vbjogWzIzMywgMTUwLCAxMjJdLCBkYXJrc2VhZ3JlZW46IFsxNDMsIDE4OCwgMTQzXSwgZGFya3NsYXRlYmx1ZTogWzcyLCA2MSwgMTM5XSwgZGFya3NsYXRlZ3JheTogWzQ3LCA3OSwgNzldLCBkYXJrc2xhdGVncmV5OiBbNDcsIDc5LCA3OV0sIGRhcmt0dXJxdW9pc2U6IFswLCAyMDYsIDIwOV0sIGRhcmt2aW9sZXQ6IFsxNDgsIDAsIDIxMV0sIGRlZXBwaW5rOiBbMjU1LCAyMCwgMTQ3XSwgZGVlcHNreWJsdWU6IFswLCAxOTEsIDI1NV0sIGRpbWdyYXk6IFsxMDUsIDEwNSwgMTA1XSwgZGltZ3JleTogWzEwNSwgMTA1LCAxMDVdLCBkb2RnZXJibHVlOiBbMzAsIDE0NCwgMjU1XSwgZmlyZWJyaWNrOiBbMTc4LCAzNCwgMzRdLCBmbG9yYWx3aGl0ZTogWzI1NSwgMjUwLCAyNDBdLCBmb3Jlc3RncmVlbjogWzM0LCAxMzksIDM0XSwgZnVjaHNpYTogWzI1NSwgMCwgMjU1XSwgZ2FpbnNib3JvOiBbMjIwLCAyMjAsIDIyMF0sIGdob3N0d2hpdGU6IFsyNDgsIDI0OCwgMjU1XSwgZ29sZDogWzI1NSwgMjE1LCAwXSwgZ29sZGVucm9kOiBbMjE4LCAxNjUsIDMyXSwgZ3JheTogWzEyOCwgMTI4LCAxMjhdLCBncmVlbjogWzAsIDEyOCwgMF0sIGdyZWVueWVsbG93OiBbMTczLCAyNTUsIDQ3XSwgZ3JleTogWzEyOCwgMTI4LCAxMjhdLCBob25leWRldzogWzI0MCwgMjU1LCAyNDBdLCBob3RwaW5rOiBbMjU1LCAxMDUsIDE4MF0sIGluZGlhbnJlZDogWzIwNSwgOTIsIDkyXSwgaW5kaWdvOiBbNzUsIDAsIDEzMF0sIGl2b3J5OiBbMjU1LCAyNTUsIDI0MF0sIGtoYWtpOiBbMjQwLCAyMzAsIDE0MF0sIGxhdmVuZGVyOiBbMjMwLCAyMzAsIDI1MF0sIGxhdmVuZGVyYmx1c2g6IFsyNTUsIDI0MCwgMjQ1XSwgbGF3bmdyZWVuOiBbMTI0LCAyNTIsIDBdLCBsZW1vbmNoaWZmb246IFsyNTUsIDI1MCwgMjA1XSwgbGlnaHRibHVlOiBbMTczLCAyMTYsIDIzMF0sIGxpZ2h0Y29yYWw6IFsyNDAsIDEyOCwgMTI4XSwgbGlnaHRjeWFuOiBbMjI0LCAyNTUsIDI1NV0sIGxpZ2h0Z29sZGVucm9keWVsbG93OiBbMjUwLCAyNTAsIDIxMF0sIGxpZ2h0Z3JheTogWzIxMSwgMjExLCAyMTFdLCBsaWdodGdyZWVuOiBbMTQ0LCAyMzgsIDE0NF0sIGxpZ2h0Z3JleTogWzIxMSwgMjExLCAyMTFdLCBsaWdodHBpbms6IFsyNTUsIDE4MiwgMTkzXSwgbGlnaHRzYWxtb246IFsyNTUsIDE2MCwgMTIyXSwgbGlnaHRzZWFncmVlbjogWzMyLCAxNzgsIDE3MF0sIGxpZ2h0c2t5Ymx1ZTogWzEzNSwgMjA2LCAyNTBdLCBsaWdodHNsYXRlZ3JheTogWzExOSwgMTM2LCAxNTNdLCBsaWdodHNsYXRlZ3JleTogWzExOSwgMTM2LCAxNTNdLCBsaWdodHN0ZWVsYmx1ZTogWzE3NiwgMTk2LCAyMjJdLCBsaWdodHllbGxvdzogWzI1NSwgMjU1LCAyMjRdLCBsaW1lOiBbMCwgMjU1LCAwXSwgbGltZWdyZWVuOiBbNTAsIDIwNSwgNTBdLCBsaW5lbjogWzI1MCwgMjQwLCAyMzBdLCBtYXJvb246IFsxMjgsIDAsIDBdLCBtZWRpdW1hcXVhbWFyaW5lOiBbMTAyLCAyMDUsIDE3MF0sIG1lZGl1bWJsdWU6IFswLCAwLCAyMDVdLCBtZWRpdW1vcmNoaWQ6IFsxODYsIDg1LCAyMTFdLCBtZWRpdW1wdXJwbGU6IFsxNDcsIDExMiwgMjE5XSwgbWVkaXVtc2VhZ3JlZW46IFs2MCwgMTc5LCAxMTNdLCBtZWRpdW1zbGF0ZWJsdWU6IFsxMjMsIDEwNCwgMjM4XSwgbWVkaXVtc3ByaW5nZ3JlZW46IFswLCAyNTAsIDE1NF0sIG1lZGl1bXR1cnF1b2lzZTogWzcyLCAyMDksIDIwNF0sIG1lZGl1bXZpb2xldHJlZDogWzE5OSwgMjEsIDEzM10sIG1pZG5pZ2h0Ymx1ZTogWzI1LCAyNSwgMTEyXSwgbWludGNyZWFtOiBbMjQ1LCAyNTUsIDI1MF0sIG1pc3R5cm9zZTogWzI1NSwgMjI4LCAyMjVdLCBtb2NjYXNpbjogWzI1NSwgMjI4LCAxODFdLCBuYXZham93aGl0ZTogWzI1NSwgMjIyLCAxNzNdLCBuYXZ5OiBbMCwgMCwgMTI4XSwgb2xkbGFjZTogWzI1MywgMjQ1LCAyMzBdLCBvbGl2ZTogWzEyOCwgMTI4LCAwXSwgb2xpdmVkcmFiOiBbMTA3LCAxNDIsIDM1XSwgb3JhbmdlOiBbMjU1LCAxNjUsIDBdLCBvcmFuZ2VyZWQ6IFsyNTUsIDY5LCAwXSwgb3JjaGlkOiBbMjE4LCAxMTIsIDIxNF0sIHBhbGVnb2xkZW5yb2Q6IFsyMzgsIDIzMiwgMTcwXSwgcGFsZWdyZWVuOiBbMTUyLCAyNTEsIDE1Ml0sIHBhbGV0dXJxdW9pc2U6IFsxNzUsIDIzOCwgMjM4XSwgcGFsZXZpb2xldHJlZDogWzIxOSwgMTEyLCAxNDddLCBwYXBheWF3aGlwOiBbMjU1LCAyMzksIDIxM10sIHBlYWNocHVmZjogWzI1NSwgMjE4LCAxODVdLCBwZXJ1OiBbMjA1LCAxMzMsIDYzXSwgcGluazogWzI1NSwgMTkyLCAyMDNdLCBwbHVtOiBbMjIxLCAxNjAsIDIyMV0sIHBvd2RlcmJsdWU6IFsxNzYsIDIyNCwgMjMwXSwgcHVycGxlOiBbMTI4LCAwLCAxMjhdLCByZWJlY2NhcHVycGxlOiBbMTAyLCA1MSwgMTUzXSwgcmVkOiBbMjU1LCAwLCAwXSwgcm9zeWJyb3duOiBbMTg4LCAxNDMsIDE0M10sIHJveWFsYmx1ZTogWzY1LCAxMDUsIDIyNV0sIHNhZGRsZWJyb3duOiBbMTM5LCA2OSwgMTldLCBzYWxtb246IFsyNTAsIDEyOCwgMTE0XSwgc2FuZHlicm93bjogWzI0NCwgMTY0LCA5Nl0sIHNlYWdyZWVuOiBbNDYsIDEzOSwgODddLCBzZWFzaGVsbDogWzI1NSwgMjQ1LCAyMzhdLCBzaWVubmE6IFsxNjAsIDgyLCA0NV0sIHNpbHZlcjogWzE5MiwgMTkyLCAxMjldLCBza3libHVlOiBbMTM1LCAyMDYsIDIzNV0sIHNsYXRlYmx1ZTogWzEwNiwgOTAsIDIwNV0sIHNsYXRlZ3JheTogWzExMiwgMTI4LCAxNDRdLCBzbGF0ZWdyZXk6IFsxMTIsIDEyOCwgMTQ0XSwgc25vdzogWzI1NSwgMjUwLCAyNTBdLCBzcHJpbmdncmVlbjogWzAsIDI1NSwgMTI3XSwgc3RlZWxibHVlOiBbNzAsIDEzMCwgMTgwXSwgdGFuOiBbMjEwLCAxODAsIDE0MF0sIHRlYWw6IFswLCAxMjgsIDEyOF0sIHRoaXN0bGU6IFsyMTYsIDE5MSwgMjE2XSwgdG9tYXRvOiBbMjU1LCA5OSwgNzFdLCB0dXJxdW9pc2U6IFs2NCwgMjI0LCAyMDhdLCB2aW9sZXQ6IFsyMzgsIDEzMCwgMjM4XSwgd2hlYXQ6IFsyNDUsIDIyMiwgMTc5XSwgd2hpdGU6IFsyNTUsIDI1NSwgMjU1XSwgd2hpdGVzbW9rZTogWzI0NSwgMjQ1LCAyNDVdLCB5ZWxsb3c6IFsyNTUsIDI1NSwgMF0sIHllbGxvd2dyZWVuOiBbMTU0LCAyMDUsIDUwXSB9LFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0KSB7XG4gICAgICB0ID0gdC50b0xvd2VyQ2FzZSgpO3ZhciBlID0gbmV3IG4oKSxcbiAgICAgICAgICBpID0gclt0XTtyZXR1cm4gaSAmJiBlLnNldFRvKGlbMF0sIGlbMV0sIGlbMl0sIDI1NSksIGU7XG4gICAgfTt0LmV4cG9ydHMgPSBzO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyOCksXG4gICAgICAgIHIgPSBpKDIyNCksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUsIGkpIHtcbiAgICAgIHZhciBzID0gaSxcbiAgICAgICAgICBhID0gaSxcbiAgICAgICAgICBvID0gaTtpZiAoMCAhPT0gZSkge1xuICAgICAgICB2YXIgaCA9IGkgPCAuNSA/IGkgKiAoMSArIGUpIDogaSArIGUgLSBpICogZSxcbiAgICAgICAgICAgIHUgPSAyICogaSAtIGg7cyA9IHIodSwgaCwgdCArIDEgLyAzKSwgYSA9IHIodSwgaCwgdCksIG8gPSByKHUsIGgsIHQgLSAxIC8gMyk7XG4gICAgICB9cmV0dXJuIG5ldyBuKCkuc2V0R0xUbyhzLCBhLCBvLCAxKTtcbiAgICB9O3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiB0LndlYnBhY2tQb2x5ZmlsbCB8fCAodC5kZXByZWNhdGUgPSBmdW5jdGlvbiAoKSB7fSwgdC5wYXRocyA9IFtdLCB0LmNoaWxkcmVuIHx8ICh0LmNoaWxkcmVuID0gW10pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJsb2FkZWRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHQubDtcbiAgICAgICAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiaWRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHQuaTtcbiAgICAgICAgfSB9KSwgdC53ZWJwYWNrUG9seWZpbGwgPSAxKSwgdDtcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMjUpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICB2b2lkIDAgPT09IHQgJiYgKHQgPSAxKSwgdm9pZCAwID09PSBlICYmIChlID0gMSk7Zm9yICh2YXIgaSA9IFtdLCByID0gMDsgciA8PSAzNTk7IHIrKykge1xuICAgICAgICBpLnB1c2gobihyIC8gMzU5LCB0LCBlKSk7XG4gICAgICB9cmV0dXJuIGk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNDkpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpLCBfcjI5LCBzLCBhLCBvLCBoKSB7XG4gICAgICB2b2lkIDAgPT09IG8gJiYgKG8gPSAxMDApLCB2b2lkIDAgPT09IGggJiYgKGggPSAwKTt2YXIgdSA9IGggLyBvO3JldHVybiB7IHI6IG4odCwgX3IyOSwgdSksIGc6IG4oZSwgcywgdSksIGI6IG4oaSwgYSwgdSkgfTtcbiAgICB9LFxuICAgICAgICBzID0gZnVuY3Rpb24gcyh0LCBlLCBpLCBuKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMTAwKSwgdm9pZCAwID09PSBuICYmIChuID0gMCksIHIodC5yLCB0LmcsIHQuYiwgZS5yLCBlLmcsIGUuYiwgaSwgbik7XG4gICAgfSxcbiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCwgZSwgaSwgbiwgcywgX2EyKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBzICYmIChzID0gMTAwKSwgdm9pZCAwID09PSBfYTIgJiYgKF9hMiA9IDApLCByKHQuciwgdC5nLCB0LmIsIGUsIGksIG4sIHMsIF9hMik7XG4gICAgfTt0LmV4cG9ydHMgPSB7IFJHQldpdGhSR0I6IHIsIENvbG9yV2l0aFJHQjogYSwgQ29sb3JXaXRoQ29sb3I6IHMgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoNzEpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSB0ICYmICh0ID0gMCksIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDI1NSksIHsgcjogbih0LCBlKSwgZzogbih0LCBlKSwgYjogbih0LCBlKSB9O1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSwgX2kxNDYpIHtcbiAgICAgIHQgLz0gMjU1LCBlIC89IDI1NSwgX2kxNDYgLz0gMjU1O3ZhciBuID0gTWF0aC5taW4odCwgZSwgX2kxNDYpLFxuICAgICAgICAgIHIgPSBNYXRoLm1heCh0LCBlLCBfaTE0NiksXG4gICAgICAgICAgcyA9IHIgLSBuLFxuICAgICAgICAgIGEgPSAwLFxuICAgICAgICAgIG8gPSAwID09PSByID8gMCA6IHMgLyByLFxuICAgICAgICAgIGggPSByO3JldHVybiByICE9PSBuICYmIChyID09PSB0ID8gYSA9IChlIC0gX2kxNDYpIC8gcyArIChlIDwgX2kxNDYgPyA2IDogMCkgOiByID09PSBlID8gYSA9IChfaTE0NiAtIHQpIC8gcyArIDIgOiByID09PSBfaTE0NiAmJiAoYSA9ICh0IC0gZSkgLyBzICsgNCksIGEgLz0gNiksIHsgaDogYSwgczogbywgdjogaCB9O1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjIzKSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSwgX3IzMCwgcykge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gX3IzMCAmJiAoX3IzMCA9IDI1NSksIHZvaWQgMCA9PT0gcyAmJiAocyA9IFwiI1wiKSwgXCIjXCIgPT09IHMgPyBcIiNcIiArICgoMSA8PCAyNCkgKyAodCA8PCAxNikgKyAoZSA8PCA4KSArIGkpLnRvU3RyaW5nKDE2KS5zbGljZSgxKSA6IFwiMHhcIiArIG4oX3IzMCkgKyBuKHQpICsgbihlKSArIG4oaSk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgS2V5Ym9hcmQ6IGkoOTQxKSwgTW91c2U6IGkoOTQ2KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgS2V5Ym9hcmRNYW5hZ2VyOiBpKDE2OSksIEtleTogaSgxNzApLCBLZXlDb2RlczogaSg3NSksIEtleUNvbWJvOiBpKDE3MSksIEp1c3REb3duOiBpKDk0MiksIEp1c3RVcDogaSg5NDMpLCBEb3duRHVyYXRpb246IGkoOTQ0KSwgVXBEdXJhdGlvbjogaSg5NDUpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQpIHtcbiAgICAgIHZhciBlID0gITE7cmV0dXJuIHQuaXNEb3duICYmIChlID0gdC5fanVzdERvd24sIHQuX2p1c3REb3duID0gITEpLCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgdmFyIGUgPSAhMTtyZXR1cm4gdC5pc0Rvd24gJiYgKGUgPSB0Ll9qdXN0VXAsIHQuX2p1c3RVcCA9ICExKSwgZTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH0sIGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiBpKHQsIGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGUgJiYgKGUgPSA1MCksIHQuaXNEb3duICYmIHQuZHVyYXRpb24gPCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDUwKSwgdC5pc1VwICYmIHQuZHVyYXRpb24gPCBlO1xuICAgIH07dC5leHBvcnRzID0gaTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IE1vdXNlTWFuYWdlcjogaSgxNzMpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBDb21wb25lbnRzOiBpKDMpLCBCaXRtYXBUZXh0OiBpKDg1KSwgQmxpdHRlcjogaSg3NiksIER5bmFtaWNCaXRtYXBUZXh0OiBpKDc3KSwgRWZmZWN0TGF5ZXI6IGkoNzkpLCBMaWdodExheWVyOiBpKDE4MiksIEdyYXBoaWNzOiBpKDgwKSwgR3JvdXA6IGkoODIpLCBJbWFnZTogaSg1NSksIE1lc2g6IGkoNTYpLCBPYmplY3RQb29sOiBpKDk0KSwgUXVhZDogaSg4MyksIFJlbmRlclBhc3M6IGkoODQpLCBTcHJpdGU6IGkoMzkpLCBTdGF0aWNUaWxlbWFwOiBpKDg2KSwgVGV4dDogaSg4NyksIFRpbGVtYXA6IGkoNzgpLCBUaWxlU3ByaXRlOiBpKDg4KSwgWm9uZTogaSg2NCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IER5bmFtaWM6IGkoOTQ5KSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgRlg6IGkoOTUwKSB9O1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSg3MSksXG4gICAgICAgIHIgPSBpKDApLFxuICAgICAgICBzID0gaSgyKSxcbiAgICAgICAgYSA9IG5ldyByKHsgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7XG4gICAgICAgIHRoaXMuYXVkaW9Db250ZXh0ID0gdCwgdGhpcy5mcmVxdWVuY3lWYWx1ZSA9IHMoZSwgXCJmcmVxdWVuY3lcIiwgMjAwKSwgdGhpcy5hdHRhY2sgPSBzKGUsIFwiYXR0YWNrXCIsIDApLCB0aGlzLmRlY2F5ID0gcyhlLCBcImRlY2F5XCIsIDEpLCB0aGlzLnR5cGUgPSBzKGUsIFwidHlwZVwiLCBcInNpbmVcIiksIHRoaXMudm9sdW1lVmFsdWUgPSBzKGUsIFwidm9sdW1lXCIsIDEpLCB0aGlzLnBhblZhbHVlID0gcyhlLCBcInBhblwiLCAwKSwgdGhpcy53YWl0ID0gcyhlLCBcIndhaXRcIiwgMCksIHRoaXMucGl0Y2hCZW5kQW1vdW50ID0gcyhlLCBcInBpdGNoQmVuZFwiLCAwKSwgdGhpcy5yZXZlcnNlID0gcyhlLCBcInJldmVyc2VcIiwgITEpLCB0aGlzLnJhbmRvbVZhbHVlID0gcyhlLCBcInJhbmRvbVwiLCAwKSwgdGhpcy5kaXNzb25hbmNlID0gcyhlLCBcImRpc3NvbmFuY2VcIiwgMCksIHRoaXMuZWNobyA9IHMoZSwgXCJlY2hvXCIsICExKSwgdGhpcy5lY2hvRGVsYXkgPSBzKGUsIFwiZWNoby5kZWxheVwiLCAwKSwgdGhpcy5lY2hvRmVlZGJhY2sgPSBzKGUsIFwiZWNoby5mZWVkYmFja1wiLCAwKSwgdGhpcy5lY2hvRmlsdGVyID0gcyhlLCBcImVjaG8uZmlsdGVyXCIsIDApLCB0aGlzLnJldmVyYiA9IHMoZSwgXCJyZXZlcmJcIiwgITEpLCB0aGlzLnJldmVyYkR1cmF0aW9uID0gcyhlLCBcInJldmVyYi5kdXJhdGlvblwiLCAwKSwgdGhpcy5yZXZlcmJEZWNheSA9IHMoZSwgXCJyZXZlcmIuZGVjYXlcIiwgMCksIHRoaXMucmV2ZXJiUmV2ZXJzZSA9IHMoZSwgXCJyZXZlcmIucmV2ZXJzZVwiLCAhMSksIHRoaXMudGltZW91dCA9IHMoZSwgXCJ0aW1lb3V0XCIsICExKSwgdGhpcy52b2x1bWUgPSB0LmNyZWF0ZUdhaW4oKSwgdGhpcy5wYW4gPSB0LmNyZWF0ZVN0ZXJlb1Bhbm5lciA/IHQuY3JlYXRlU3RlcmVvUGFubmVyKCkgOiB0LmNyZWF0ZVBhbm5lcigpLCB0aGlzLnZvbHVtZS5jb25uZWN0KHRoaXMucGFuKSwgdGhpcy5wYW4uY29ubmVjdCh0LmRlc3RpbmF0aW9uKSwgdGhpcy52b2x1bWUuZ2Fpbi52YWx1ZSA9IHRoaXMudm9sdW1lVmFsdWUsIHQuY3JlYXRlU3RlcmVvUGFubmVyID8gdGhpcy5wYW4ucGFuLnZhbHVlID0gdGhpcy5wYW5WYWx1ZSA6IHRoaXMucGFuLnNldFBvc2l0aW9uKHRoaXMucGFuVmFsdWUsIDAsIDEgLSBNYXRoLmFicyh0aGlzLnBhblZhbHVlKSk7dmFyIGkgPSB0LmNyZWF0ZU9zY2lsbGF0b3IoKTtpLmNvbm5lY3QodGhpcy52b2x1bWUpLCBpLnR5cGUgPSB0aGlzLnR5cGUsIHRoaXMucmFuZG9tVmFsdWUgPiAwID8gaS5mcmVxdWVuY3kudmFsdWUgPSBuKHRoaXMuZnJlcXVlbmN5VmFsdWUgLSB0aGlzLnJhbmRvbVZhbHVlIC8gMiwgdGhpcy5mcmVxdWVuY3lWYWx1ZSArIHRoaXMucmFuZG9tVmFsdWUgLyAyKSA6IGkuZnJlcXVlbmN5LnZhbHVlID0gdGhpcy5mcmVxdWVuY3lWYWx1ZSwgdGhpcy5hdHRhY2sgPiAwICYmIHRoaXMuZmFkZUluKHRoaXMudm9sdW1lKSwgdGhpcy5mYWRlT3V0KHRoaXMudm9sdW1lKSwgdGhpcy5waXRjaEJlbmRBbW91bnQgPiAwICYmIHRoaXMucGl0Y2hCZW5kKGkpLCB0aGlzLmVjaG8gJiYgdGhpcy5hZGRFY2hvKHRoaXMudm9sdW1lKSwgdGhpcy5yZXZlcmIgJiYgdGhpcy5hZGRSZXZlcmIodGhpcy52b2x1bWUpLCB0aGlzLmRpc3NvbmFuY2UgPiAwICYmIHRoaXMuYWRkRGlzc29uYW5jZSgpLCB0aGlzLnBsYXkoaSk7dmFyIHIgPSB0aGlzO2kub25lbmRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByLnBhbi5kaXNjb25uZWN0KCksIHIudm9sdW1lLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICAgIH0sIHBsYXk6IGZ1bmN0aW9uIHBsYXkodCkge1xuICAgICAgICB0LnN0YXJ0KHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lICsgdGhpcy53YWl0KSwgdC5zdG9wKHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lICsgdGhpcy53YWl0ICsgMik7XG4gICAgICB9LCBmYWRlSW46IGZ1bmN0aW9uIGZhZGVJbih0KSB7XG4gICAgICAgIHQuZ2Fpbi52YWx1ZSA9IDAsIHQuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCB0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSArIHRoaXMud2FpdCksIHQuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLnZvbHVtZVZhbHVlLCB0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSArIHRoaXMud2FpdCArIHRoaXMuYXR0YWNrKTtcbiAgICAgIH0sIGZhZGVPdXQ6IGZ1bmN0aW9uIGZhZGVPdXQodCkge1xuICAgICAgICB0LmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodGhpcy52b2x1bWVWYWx1ZSwgdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUgKyB0aGlzLndhaXQgKyB0aGlzLmF0dGFjayksIHQuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCB0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSArIHRoaXMud2FpdCArIHRoaXMuYXR0YWNrICsgdGhpcy5kZWNheSk7XG4gICAgICB9LCBhZGRSZXZlcmI6IGZ1bmN0aW9uIGFkZFJldmVyYih0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQ29udm9sdmVyKCk7ZS5idWZmZXIgPSB0aGlzLmltcHVsc2VSZXNwb25zZSh0aGlzLnJldmVyYkR1cmF0aW9uLCB0aGlzLnJldmVyYkRlY2F5LCB0aGlzLnJldmVyYlJldmVyc2UsIHRoaXMuYXVkaW9Db250ZXh0KSwgdC5jb25uZWN0KGUpLCBlLmNvbm5lY3QodGhpcy5wYW4pO1xuICAgICAgfSwgYWRkRWNobzogZnVuY3Rpb24gYWRkRWNobyh0KSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpLFxuICAgICAgICAgICAgaSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZURlbGF5KCksXG4gICAgICAgICAgICBuID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7ZS5nYWluLnZhbHVlID0gdGhpcy5lY2hvRmVlZGJhY2ssIGkuZGVsYXlUaW1lLnZhbHVlID0gdGhpcy5lY2hvRGVsYXksIHRoaXMuZWNob0ZpbHRlciAmJiAobi5mcmVxdWVuY3kudmFsdWUgPSB0aGlzLmVjaG9GaWx0ZXIpLCBpLmNvbm5lY3QoZSksIHRoaXMuZWNob0ZpbHRlciA/IChlLmNvbm5lY3QobiksIG4uY29ubmVjdChpKSkgOiBlLmNvbm5lY3QoaSksIHQuY29ubmVjdChpKSwgaS5jb25uZWN0KHRoaXMucGFuKTtcbiAgICAgIH0sIHBpdGNoQmVuZDogZnVuY3Rpb24gcGl0Y2hCZW5kKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0LmZyZXF1ZW5jeS52YWx1ZTt0aGlzLnJldmVyc2UgPyAodC5mcmVxdWVuY3kubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZSwgdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUgKyB0aGlzLndhaXQpLCB0LmZyZXF1ZW5jeS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShlICsgdGhpcy5waXRjaEJlbmRBbW91bnQsIHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lICsgdGhpcy53YWl0ICsgdGhpcy5hdHRhY2sgKyB0aGlzLmRlY2F5KSkgOiAodC5mcmVxdWVuY3kubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZSwgdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUgKyB0aGlzLndhaXQpLCB0LmZyZXF1ZW5jeS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShlIC0gdGhpcy5waXRjaEJlbmRBbW91bnQsIHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lICsgdGhpcy53YWl0ICsgdGhpcy5hdHRhY2sgKyB0aGlzLmRlY2F5KSk7XG4gICAgICB9LCBhZGREaXNzb25hbmNlOiBmdW5jdGlvbiBhZGREaXNzb25hbmNlKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuYXVkaW9Db250ZXh0LFxuICAgICAgICAgICAgZSA9IHQuY3JlYXRlT3NjaWxsYXRvcigpLFxuICAgICAgICAgICAgaSA9IHQuY3JlYXRlT3NjaWxsYXRvcigpLFxuICAgICAgICAgICAgbiA9IHQuY3JlYXRlR2FpbigpLFxuICAgICAgICAgICAgciA9IHQuY3JlYXRlR2FpbigpO24uZ2Fpbi52YWx1ZSA9IHRoaXMudm9sdW1lVmFsdWUsIHIuZ2Fpbi52YWx1ZSA9IHRoaXMudm9sdW1lVmFsdWUsIGUuY29ubmVjdChuKSwgaS5jb25uZWN0KHIpLCBuLmNvbm5lY3QodC5kZXN0aW5hdGlvbiksIHIuY29ubmVjdCh0LmRlc3RpbmF0aW9uKSwgZS50eXBlID0gXCJzYXd0b290aFwiLCBpLnR5cGUgPSBcInNhd3Rvb3RoXCIsIGUuZnJlcXVlbmN5LnZhbHVlID0gdGhpcy5mcmVxdWVuY3lWYWx1ZSArIHRoaXMuZGlzc29uYW5jZSwgaS5mcmVxdWVuY3kudmFsdWUgPSB0aGlzLmZyZXF1ZW5jeVZhbHVlIC0gdGhpcy5kaXNzb25hbmNlLCB0aGlzLmF0dGFjayA+IDAgJiYgKHRoaXMuZmFkZUluKG4pLCB0aGlzLmZhZGVJbihyKSksIHRoaXMuZGVjYXkgPiAwICYmICh0aGlzLmZhZGVPdXQobiksIHRoaXMuZmFkZU91dChyKSksIHRoaXMucGl0Y2hCZW5kQW1vdW50ID4gMCAmJiAodGhpcy5waXRjaEJlbmQoZSksIHRoaXMucGl0Y2hCZW5kKGkpKSwgdGhpcy5lY2hvICYmICh0aGlzLmFkZEVjaG8obiksIHRoaXMuYWRkRWNobyhyKSksIHRoaXMucmV2ZXJiICYmICh0aGlzLmFkZFJldmVyYihuKSwgdGhpcy5hZGRSZXZlcmIocikpLCB0aGlzLnBsYXkoZSksIHRoaXMucGxheShpKTtcbiAgICAgIH0sIGltcHVsc2VSZXNwb25zZTogZnVuY3Rpb24gaW1wdWxzZVJlc3BvbnNlKHQsIGUsIGkpIHtcbiAgICAgICAgZm9yICh2YXIgbiA9IHRoaXMuYXVkaW9Db250ZXh0LnNhbXBsZVJhdGUgKiB0LCByID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKDIsIG4sIHRoaXMuYXVkaW9Db250ZXh0LnNhbXBsZVJhdGUpLCBzID0gci5nZXRDaGFubmVsRGF0YSgwKSwgYSA9IHIuZ2V0Q2hhbm5lbERhdGEoMSksIG8gPSAwOyBvIDwgbjsgbysrKSB7XG4gICAgICAgICAgdmFyIGggPSBpID8gbiAtIG8gOiBvO3Nbb10gPSAoMiAqIE1hdGgucmFuZG9tKCkgLSAxKSAqIE1hdGgucG93KDEgLSBoIC8gbiwgZSksIGFbb10gPSAoMiAqIE1hdGgucmFuZG9tKCkgLSAxKSAqIE1hdGgucG93KDEgLSBoIC8gbiwgZSk7XG4gICAgICAgIH1yZXR1cm4gcjtcbiAgICAgIH0gfSk7dC5leHBvcnRzID0gYTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IE1hcDogaSgxNjMpLCBSVHJlZTogaSg5NTIpLCBTZXQ6IGkoNTQpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgZnVuY3Rpb24gbih0LCBlKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgbikpIHJldHVybiBuZXcgbih0LCBlKTt0aGlzLl9tYXhFbnRyaWVzID0gTWF0aC5tYXgoNCwgdCB8fCA5KSwgdGhpcy5fbWluRW50cmllcyA9IE1hdGgubWF4KDIsIE1hdGguY2VpbCguNCAqIHRoaXMuX21heEVudHJpZXMpKSwgZSAmJiB0aGlzLl9pbml0Rm9ybWF0KGUpLCB0aGlzLmNsZWFyKCk7XG4gICAgfWZ1bmN0aW9uIHIodCwgZSwgaSkge1xuICAgICAgaWYgKCFpKSByZXR1cm4gZS5pbmRleE9mKHQpO2ZvciAodmFyIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykge1xuICAgICAgICBpZiAoaSh0LCBlW25dKSkgcmV0dXJuIG47XG4gICAgICB9cmV0dXJuIC0xO1xuICAgIH1mdW5jdGlvbiBzKHQsIGUpIHtcbiAgICAgIGEodCwgMCwgdC5jaGlsZHJlbi5sZW5ndGgsIGUsIHQpO1xuICAgIH1mdW5jdGlvbiBhKHQsIGUsIGksIG4sIHIpIHtcbiAgICAgIHIgfHwgKHIgPSBnKG51bGwpKSwgci5taW5YID0gMSAvIDAsIHIubWluWSA9IDEgLyAwLCByLm1heFggPSAtMSAvIDAsIHIubWF4WSA9IC0xIC8gMDtmb3IgKHZhciBzLCBhID0gZTsgYSA8IGk7IGErKykge1xuICAgICAgICBzID0gdC5jaGlsZHJlblthXSwgbyhyLCB0LmxlYWYgPyBuKHMpIDogcyk7XG4gICAgICB9cmV0dXJuIHI7XG4gICAgfWZ1bmN0aW9uIG8odCwgZSkge1xuICAgICAgcmV0dXJuIHQubWluWCA9IE1hdGgubWluKHQubWluWCwgZS5taW5YKSwgdC5taW5ZID0gTWF0aC5taW4odC5taW5ZLCBlLm1pblkpLCB0Lm1heFggPSBNYXRoLm1heCh0Lm1heFgsIGUubWF4WCksIHQubWF4WSA9IE1hdGgubWF4KHQubWF4WSwgZS5tYXhZKSwgdDtcbiAgICB9ZnVuY3Rpb24gaCh0LCBlKSB7XG4gICAgICByZXR1cm4gdC5taW5YIC0gZS5taW5YO1xuICAgIH1mdW5jdGlvbiB1KHQsIGUpIHtcbiAgICAgIHJldHVybiB0Lm1pblkgLSBlLm1pblk7XG4gICAgfWZ1bmN0aW9uIGModCkge1xuICAgICAgcmV0dXJuICh0Lm1heFggLSB0Lm1pblgpICogKHQubWF4WSAtIHQubWluWSk7XG4gICAgfWZ1bmN0aW9uIGwodCkge1xuICAgICAgcmV0dXJuIHQubWF4WCAtIHQubWluWCArICh0Lm1heFkgLSB0Lm1pblkpO1xuICAgIH1mdW5jdGlvbiBmKHQsIGUpIHtcbiAgICAgIHJldHVybiAoTWF0aC5tYXgoZS5tYXhYLCB0Lm1heFgpIC0gTWF0aC5taW4oZS5taW5YLCB0Lm1pblgpKSAqIChNYXRoLm1heChlLm1heFksIHQubWF4WSkgLSBNYXRoLm1pbihlLm1pblksIHQubWluWSkpO1xuICAgIH1mdW5jdGlvbiBkKHQsIGUpIHtcbiAgICAgIHZhciBpID0gTWF0aC5tYXgodC5taW5YLCBlLm1pblgpLFxuICAgICAgICAgIG4gPSBNYXRoLm1heCh0Lm1pblksIGUubWluWSksXG4gICAgICAgICAgciA9IE1hdGgubWluKHQubWF4WCwgZS5tYXhYKSxcbiAgICAgICAgICBzID0gTWF0aC5taW4odC5tYXhZLCBlLm1heFkpO3JldHVybiBNYXRoLm1heCgwLCByIC0gaSkgKiBNYXRoLm1heCgwLCBzIC0gbik7XG4gICAgfWZ1bmN0aW9uIHAodCwgZSkge1xuICAgICAgcmV0dXJuIHQubWluWCA8PSBlLm1pblggJiYgdC5taW5ZIDw9IGUubWluWSAmJiBlLm1heFggPD0gdC5tYXhYICYmIGUubWF4WSA8PSB0Lm1heFk7XG4gICAgfWZ1bmN0aW9uIHYodCwgZSkge1xuICAgICAgcmV0dXJuIGUubWluWCA8PSB0Lm1heFggJiYgZS5taW5ZIDw9IHQubWF4WSAmJiBlLm1heFggPj0gdC5taW5YICYmIGUubWF4WSA+PSB0Lm1pblk7XG4gICAgfWZ1bmN0aW9uIGcodCkge1xuICAgICAgcmV0dXJuIHsgY2hpbGRyZW46IHQsIGhlaWdodDogMSwgbGVhZjogITAsIG1pblg6IDEgLyAwLCBtaW5ZOiAxIC8gMCwgbWF4WDogLTEgLyAwLCBtYXhZOiAtMSAvIDAgfTtcbiAgICB9ZnVuY3Rpb24geCh0LCBlLCBpLCBuLCByKSB7XG4gICAgICBmb3IgKHZhciBzLCBhID0gW2UsIGldOyBhLmxlbmd0aDspIHtcbiAgICAgICAgaSA9IGEucG9wKCksIGUgPSBhLnBvcCgpLCBpIC0gZSA8PSBuIHx8IChzID0gZSArIE1hdGguY2VpbCgoaSAtIGUpIC8gbiAvIDIpICogbiwgbSh0LCBzLCBlLCBpLCByKSwgYS5wdXNoKGUsIHMsIHMsIGkpKTtcbiAgICAgIH1cbiAgICB9dmFyIG0gPSBpKDIyNik7bi5wcm90b3R5cGUgPSB7IGFsbDogZnVuY3Rpb24gYWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsKHRoaXMuZGF0YSwgW10pO1xuICAgICAgfSwgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2godCkge1xuICAgICAgICB2YXIgZSA9IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIGkgPSBbXSxcbiAgICAgICAgICAgIG4gPSB0aGlzLnRvQkJveDtpZiAoIXYodCwgZSkpIHJldHVybiBpO2ZvciAodmFyIHIsIHMsIGEsIG8sIGggPSBbXTsgZTspIHtcbiAgICAgICAgICBmb3IgKHIgPSAwLCBzID0gZS5jaGlsZHJlbi5sZW5ndGg7IHIgPCBzOyByKyspIHtcbiAgICAgICAgICAgIGEgPSBlLmNoaWxkcmVuW3JdLCBvID0gZS5sZWFmID8gbihhKSA6IGEsIHYodCwgbykgJiYgKGUubGVhZiA/IGkucHVzaChhKSA6IHAodCwgbykgPyB0aGlzLl9hbGwoYSwgaSkgOiBoLnB1c2goYSkpO1xuICAgICAgICAgIH1lID0gaC5wb3AoKTtcbiAgICAgICAgfXJldHVybiBpO1xuICAgICAgfSwgY29sbGlkZXM6IGZ1bmN0aW9uIGNvbGxpZGVzKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmRhdGEsXG4gICAgICAgICAgICBpID0gdGhpcy50b0JCb3g7aWYgKCF2KHQsIGUpKSByZXR1cm4gITE7Zm9yICh2YXIgbiwgciwgcywgYSwgbyA9IFtdOyBlOykge1xuICAgICAgICAgIGZvciAobiA9IDAsIHIgPSBlLmNoaWxkcmVuLmxlbmd0aDsgbiA8IHI7IG4rKykge1xuICAgICAgICAgICAgaWYgKHMgPSBlLmNoaWxkcmVuW25dLCBhID0gZS5sZWFmID8gaShzKSA6IHMsIHYodCwgYSkpIHtcbiAgICAgICAgICAgICAgaWYgKGUubGVhZiB8fCBwKHQsIGEpKSByZXR1cm4gITA7by5wdXNoKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1lID0gby5wb3AoKTtcbiAgICAgICAgfXJldHVybiAhMTtcbiAgICAgIH0sIGxvYWQ6IGZ1bmN0aW9uIGxvYWQodCkge1xuICAgICAgICBpZiAoIXQgfHwgIXQubGVuZ3RoKSByZXR1cm4gdGhpcztpZiAodC5sZW5ndGggPCB0aGlzLl9taW5FbnRyaWVzKSB7XG4gICAgICAgICAgZm9yICh2YXIgZSA9IDAsIGkgPSB0Lmxlbmd0aDsgZSA8IGk7IGUrKykge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnQodFtlXSk7XG4gICAgICAgICAgfXJldHVybiB0aGlzO1xuICAgICAgICB9dmFyIG4gPSB0aGlzLl9idWlsZCh0LnNsaWNlKCksIDAsIHQubGVuZ3RoIC0gMSwgMCk7aWYgKHRoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAodGhpcy5kYXRhLmhlaWdodCA9PT0gbi5oZWlnaHQpIHRoaXMuX3NwbGl0Um9vdCh0aGlzLmRhdGEsIG4pO2Vsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5oZWlnaHQgPCBuLmhlaWdodCkge1xuICAgICAgICAgICAgICB2YXIgciA9IHRoaXMuZGF0YTt0aGlzLmRhdGEgPSBuLCBuID0gcjtcbiAgICAgICAgICAgIH10aGlzLl9pbnNlcnQobiwgdGhpcy5kYXRhLmhlaWdodCAtIG4uaGVpZ2h0IC0gMSwgITApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHRoaXMuZGF0YSA9IG47cmV0dXJuIHRoaXM7XG4gICAgICB9LCBpbnNlcnQ6IGZ1bmN0aW9uIGluc2VydCh0KSB7XG4gICAgICAgIHJldHVybiB0ICYmIHRoaXMuX2luc2VydCh0LCB0aGlzLmRhdGEuaGVpZ2h0IC0gMSksIHRoaXM7XG4gICAgICB9LCBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEgPSBnKFtdKSwgdGhpcztcbiAgICAgIH0sIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKHQsIGUpIHtcbiAgICAgICAgaWYgKCF0KSByZXR1cm4gdGhpcztmb3IgKHZhciBpLCBuLCBzLCBhLCBvID0gdGhpcy5kYXRhLCBoID0gdGhpcy50b0JCb3godCksIHUgPSBbXSwgYyA9IFtdOyBvIHx8IHUubGVuZ3RoOykge1xuICAgICAgICAgIGlmIChvIHx8IChvID0gdS5wb3AoKSwgbiA9IHVbdS5sZW5ndGggLSAxXSwgaSA9IGMucG9wKCksIGEgPSAhMCksIG8ubGVhZiAmJiAtMSAhPT0gKHMgPSByKHQsIG8uY2hpbGRyZW4sIGUpKSkgcmV0dXJuIG8uY2hpbGRyZW4uc3BsaWNlKHMsIDEpLCB1LnB1c2gobyksIHRoaXMuX2NvbmRlbnNlKHUpLCB0aGlzO2EgfHwgby5sZWFmIHx8ICFwKG8sIGgpID8gbiA/IChpKyssIG8gPSBuLmNoaWxkcmVuW2ldLCBhID0gITEpIDogbyA9IG51bGwgOiAodS5wdXNoKG8pLCBjLnB1c2goaSksIGkgPSAwLCBuID0gbywgbyA9IG8uY2hpbGRyZW5bMF0pO1xuICAgICAgICB9cmV0dXJuIHRoaXM7XG4gICAgICB9LCB0b0JCb3g6IGZ1bmN0aW9uIHRvQkJveCh0KSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgICAgfSwgY29tcGFyZU1pblg6IGgsIGNvbXBhcmVNaW5ZOiB1LCB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICAgIH0sIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTih0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEgPSB0LCB0aGlzO1xuICAgICAgfSwgX2FsbDogZnVuY3Rpb24gX2FsbCh0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBbXTsgdDspIHtcbiAgICAgICAgICB0LmxlYWYgPyBlLnB1c2guYXBwbHkoZSwgdC5jaGlsZHJlbikgOiBpLnB1c2guYXBwbHkoaSwgdC5jaGlsZHJlbiksIHQgPSBpLnBvcCgpO1xuICAgICAgICB9cmV0dXJuIGU7XG4gICAgICB9LCBfYnVpbGQ6IGZ1bmN0aW9uIF9idWlsZCh0LCBlLCBpLCBuKSB7XG4gICAgICAgIHZhciByLFxuICAgICAgICAgICAgYSA9IGkgLSBlICsgMSxcbiAgICAgICAgICAgIG8gPSB0aGlzLl9tYXhFbnRyaWVzO2lmIChhIDw9IG8pIHJldHVybiByID0gZyh0LnNsaWNlKGUsIGkgKyAxKSksIHMociwgdGhpcy50b0JCb3gpLCByO24gfHwgKG4gPSBNYXRoLmNlaWwoTWF0aC5sb2coYSkgLyBNYXRoLmxvZyhvKSksIG8gPSBNYXRoLmNlaWwoYSAvIE1hdGgucG93KG8sIG4gLSAxKSkpLCByID0gZyhbXSksIHIubGVhZiA9ICExLCByLmhlaWdodCA9IG47dmFyIGgsXG4gICAgICAgICAgICB1LFxuICAgICAgICAgICAgYyxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICBmID0gTWF0aC5jZWlsKGEgLyBvKSxcbiAgICAgICAgICAgIGQgPSBmICogTWF0aC5jZWlsKE1hdGguc3FydChvKSk7Zm9yICh4KHQsIGUsIGksIGQsIHRoaXMuY29tcGFyZU1pblgpLCBoID0gZTsgaCA8PSBpOyBoICs9IGQpIHtcbiAgICAgICAgICBmb3IgKGMgPSBNYXRoLm1pbihoICsgZCAtIDEsIGkpLCB4KHQsIGgsIGMsIGYsIHRoaXMuY29tcGFyZU1pblkpLCB1ID0gaDsgdSA8PSBjOyB1ICs9IGYpIHtcbiAgICAgICAgICAgIGwgPSBNYXRoLm1pbih1ICsgZiAtIDEsIGMpLCByLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCwgdSwgbCwgbiAtIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1yZXR1cm4gcyhyLCB0aGlzLnRvQkJveCksIHI7XG4gICAgICB9LCBfY2hvb3NlU3VidHJlZTogZnVuY3Rpb24gX2Nob29zZVN1YnRyZWUodCwgZSwgaSwgbikge1xuICAgICAgICBmb3IgKHZhciByLCBzLCBhLCBvLCBoLCB1LCBsLCBkOzspIHtcbiAgICAgICAgICBpZiAobi5wdXNoKGUpLCBlLmxlYWYgfHwgbi5sZW5ndGggLSAxID09PSBpKSBicmVhaztmb3IgKGwgPSBkID0gMSAvIDAsIHIgPSAwLCBzID0gZS5jaGlsZHJlbi5sZW5ndGg7IHIgPCBzOyByKyspIHtcbiAgICAgICAgICAgIGEgPSBlLmNoaWxkcmVuW3JdLCBoID0gYyhhKSwgdSA9IGYodCwgYSkgLSBoLCB1IDwgZCA/IChkID0gdSwgbCA9IGggPCBsID8gaCA6IGwsIG8gPSBhKSA6IHUgPT09IGQgJiYgaCA8IGwgJiYgKGwgPSBoLCBvID0gYSk7XG4gICAgICAgICAgfWUgPSBvIHx8IGUuY2hpbGRyZW5bMF07XG4gICAgICAgIH1yZXR1cm4gZTtcbiAgICAgIH0sIF9pbnNlcnQ6IGZ1bmN0aW9uIF9pbnNlcnQodCwgZSwgaSkge1xuICAgICAgICB2YXIgbiA9IHRoaXMudG9CQm94LFxuICAgICAgICAgICAgciA9IGkgPyB0IDogbih0KSxcbiAgICAgICAgICAgIHMgPSBbXSxcbiAgICAgICAgICAgIGEgPSB0aGlzLl9jaG9vc2VTdWJ0cmVlKHIsIHRoaXMuZGF0YSwgZSwgcyk7Zm9yIChhLmNoaWxkcmVuLnB1c2godCksIG8oYSwgcik7IGUgPj0gMCAmJiBzW2VdLmNoaWxkcmVuLmxlbmd0aCA+IHRoaXMuX21heEVudHJpZXM7KSB7XG4gICAgICAgICAgdGhpcy5fc3BsaXQocywgZSksIGUtLTtcbiAgICAgICAgfXRoaXMuX2FkanVzdFBhcmVudEJCb3hlcyhyLCBzLCBlKTtcbiAgICAgIH0sIF9zcGxpdDogZnVuY3Rpb24gX3NwbGl0KHQsIGUpIHtcbiAgICAgICAgdmFyIGkgPSB0W2VdLFxuICAgICAgICAgICAgbiA9IGkuY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICAgICAgciA9IHRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKGksIHIsIG4pO3ZhciBhID0gdGhpcy5fY2hvb3NlU3BsaXRJbmRleChpLCByLCBuKSxcbiAgICAgICAgICAgIG8gPSBnKGkuY2hpbGRyZW4uc3BsaWNlKGEsIGkuY2hpbGRyZW4ubGVuZ3RoIC0gYSkpO28uaGVpZ2h0ID0gaS5oZWlnaHQsIG8ubGVhZiA9IGkubGVhZiwgcyhpLCB0aGlzLnRvQkJveCksIHMobywgdGhpcy50b0JCb3gpLCBlID8gdFtlIC0gMV0uY2hpbGRyZW4ucHVzaChvKSA6IHRoaXMuX3NwbGl0Um9vdChpLCBvKTtcbiAgICAgIH0sIF9zcGxpdFJvb3Q6IGZ1bmN0aW9uIF9zcGxpdFJvb3QodCwgZSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBnKFt0LCBlXSksIHRoaXMuZGF0YS5oZWlnaHQgPSB0LmhlaWdodCArIDEsIHRoaXMuZGF0YS5sZWFmID0gITEsIHModGhpcy5kYXRhLCB0aGlzLnRvQkJveCk7XG4gICAgICB9LCBfY2hvb3NlU3BsaXRJbmRleDogZnVuY3Rpb24gX2Nob29zZVNwbGl0SW5kZXgodCwgZSwgaSkge1xuICAgICAgICB2YXIgbiwgciwgcywgbywgaCwgdSwgbCwgZjtmb3IgKHUgPSBsID0gMSAvIDAsIG4gPSBlOyBuIDw9IGkgLSBlOyBuKyspIHtcbiAgICAgICAgICByID0gYSh0LCAwLCBuLCB0aGlzLnRvQkJveCksIHMgPSBhKHQsIG4sIGksIHRoaXMudG9CQm94KSwgbyA9IGQociwgcyksIGggPSBjKHIpICsgYyhzKSwgbyA8IHUgPyAodSA9IG8sIGYgPSBuLCBsID0gaCA8IGwgPyBoIDogbCkgOiBvID09PSB1ICYmIGggPCBsICYmIChsID0gaCwgZiA9IG4pO1xuICAgICAgICB9cmV0dXJuIGY7XG4gICAgICB9LCBfY2hvb3NlU3BsaXRBeGlzOiBmdW5jdGlvbiBfY2hvb3NlU3BsaXRBeGlzKHQsIGUsIGkpIHtcbiAgICAgICAgdmFyIG4gPSB0LmxlYWYgPyB0aGlzLmNvbXBhcmVNaW5YIDogaCxcbiAgICAgICAgICAgIHIgPSB0LmxlYWYgPyB0aGlzLmNvbXBhcmVNaW5ZIDogdTt0aGlzLl9hbGxEaXN0TWFyZ2luKHQsIGUsIGksIG4pIDwgdGhpcy5fYWxsRGlzdE1hcmdpbih0LCBlLCBpLCByKSAmJiB0LmNoaWxkcmVuLnNvcnQobik7XG4gICAgICB9LCBfYWxsRGlzdE1hcmdpbjogZnVuY3Rpb24gX2FsbERpc3RNYXJnaW4odCwgZSwgaSwgbikge1xuICAgICAgICB0LmNoaWxkcmVuLnNvcnQobik7dmFyIHIsXG4gICAgICAgICAgICBzLFxuICAgICAgICAgICAgaCA9IHRoaXMudG9CQm94LFxuICAgICAgICAgICAgdSA9IGEodCwgMCwgZSwgaCksXG4gICAgICAgICAgICBjID0gYSh0LCBpIC0gZSwgaSwgaCksXG4gICAgICAgICAgICBmID0gbCh1KSArIGwoYyk7Zm9yIChyID0gZTsgciA8IGkgLSBlOyByKyspIHtcbiAgICAgICAgICBzID0gdC5jaGlsZHJlbltyXSwgbyh1LCB0LmxlYWYgPyBoKHMpIDogcyksIGYgKz0gbCh1KTtcbiAgICAgICAgfWZvciAociA9IGkgLSBlIC0gMTsgciA+PSBlOyByLS0pIHtcbiAgICAgICAgICBzID0gdC5jaGlsZHJlbltyXSwgbyhjLCB0LmxlYWYgPyBoKHMpIDogcyksIGYgKz0gbChjKTtcbiAgICAgICAgfXJldHVybiBmO1xuICAgICAgfSwgX2FkanVzdFBhcmVudEJCb3hlczogZnVuY3Rpb24gX2FkanVzdFBhcmVudEJCb3hlcyh0LCBlLCBpKSB7XG4gICAgICAgIGZvciAodmFyIG4gPSBpOyBuID49IDA7IG4tLSkge1xuICAgICAgICAgIG8oZVtuXSwgdCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jb25kZW5zZTogZnVuY3Rpb24gX2NvbmRlbnNlKHQpIHtcbiAgICAgICAgZm9yICh2YXIgZSwgaSA9IHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAwID09PSB0W2ldLmNoaWxkcmVuLmxlbmd0aCA/IGkgPiAwID8gKGUgPSB0W2kgLSAxXS5jaGlsZHJlbiwgZS5zcGxpY2UoZS5pbmRleE9mKHRbaV0pLCAxKSkgOiB0aGlzLmNsZWFyKCkgOiBzKHRbaV0sIHRoaXMudG9CQm94KTtcbiAgICAgICAgfVxuICAgICAgfSwgX2luaXRGb3JtYXQ6IGZ1bmN0aW9uIF9pbml0Rm9ybWF0KHQpIHtcbiAgICAgICAgdmFyIGUgPSBbXCJyZXR1cm4gYVwiLCBcIiAtIGJcIiwgXCI7XCJdO3RoaXMuY29tcGFyZU1pblggPSBuZXcgRnVuY3Rpb24oXCJhXCIsIFwiYlwiLCBlLmpvaW4odFswXSkpLCB0aGlzLmNvbXBhcmVNaW5ZID0gbmV3IEZ1bmN0aW9uKFwiYVwiLCBcImJcIiwgZS5qb2luKHRbMV0pKSwgdGhpcy50b0JCb3ggPSBuZXcgRnVuY3Rpb24oXCJhXCIsIFwicmV0dXJuIHttaW5YOiBhXCIgKyB0WzBdICsgXCIsIG1pblk6IGFcIiArIHRbMV0gKyBcIiwgbWF4WDogYVwiICsgdFsyXSArIFwiLCBtYXhZOiBhXCIgKyB0WzNdICsgXCJ9O1wiKTtcbiAgICAgIH0gfSwgdC5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IEFsaWduOiBpKDk1NCksIEFycmF5OiBpKDk2NyksIEJvdW5kczogaSg5NzIpLCBPYmplY3RzOiBpKDk3NSksIFN0cmluZzogaSg5NzgpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBJbkJvdHRvbUNlbnRlcjogaSgxMDUpLCBJbkJvdHRvbUxlZnQ6IGkoMTA2KSwgSW5Cb3R0b21SaWdodDogaSgxMDcpLCBJbkNlbnRlcjogaSgxMDgpLCBJbkxlZnRDZW50ZXI6IGkoMTEwKSwgSW5SaWdodENlbnRlcjogaSgxMTEpLCBJblRvcENlbnRlcjogaSgxMTIpLCBJblRvcExlZnQ6IGkoMTEzKSwgSW5Ub3BSaWdodDogaSgxMTQpLCBUb0JvdHRvbUNlbnRlcjogaSg5NTUpLCBUb0JvdHRvbUxlZnQ6IGkoOTU2KSwgVG9Cb3R0b21SaWdodDogaSg5NTcpLCBUb0xlZnRCb3R0b206IGkoOTU4KSwgVG9MZWZ0Q2VudGVyOiBpKDk1OSksIFRvTGVmdFRvcDogaSg5NjApLCBUb1JpZ2h0Qm90dG9tOiBpKDk2MSksIFRvUmlnaHRDZW50ZXI6IGkoOTYyKSwgVG9SaWdodFRvcDogaSg5NjMpLCBUb1RvcENlbnRlcjogaSg5NjQpLCBUb1RvcExlZnQ6IGkoOTY1KSwgVG9Ub3BSaWdodDogaSg5NjYpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDMyKSxcbiAgICAgICAgciA9IGkoMTYpLFxuICAgICAgICBzID0gaSgzMyksXG4gICAgICAgIGEgPSBpKDIzKSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSwgaSwgX285KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gX285ICYmIChfbzkgPSAwKSwgcyh0LCBuKGUpICsgaSksIGEodCwgcihlKSArIF9vOSksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBvO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxOCksXG4gICAgICAgIHIgPSBpKDE2KSxcbiAgICAgICAgcyA9IGkoMTkpLFxuICAgICAgICBhID0gaSgyMyksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUsIGksIF9vMTApIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBfbzEwICYmIChfbzEwID0gMCksIHModCwgbihlKSAtIGkpLCBhKHQsIHIoZSkgKyBfbzEwKSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIwKSxcbiAgICAgICAgciA9IGkoMTYpLFxuICAgICAgICBzID0gaSgyMSksXG4gICAgICAgIGEgPSBpKDIzKSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSwgaSwgX28xMSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IF9vMTEgJiYgKF9vMTEgPSAwKSwgcyh0LCBuKGUpICsgaSksIGEodCwgcihlKSArIF9vMTEpLCB0O1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMTgpLFxuICAgICAgICByID0gaSgxNiksXG4gICAgICAgIHMgPSBpKDIxKSxcbiAgICAgICAgYSA9IGkoMTcpLFxuICAgICAgICBvID0gZnVuY3Rpb24gbyh0LCBlLCBpLCBfbzEyKSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gX28xMiAmJiAoX28xMiA9IDApLCBzKHQsIG4oZSkgLSBpKSwgYSh0LCByKGUpICsgX28xMiksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBvO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxOCksXG4gICAgICAgIHIgPSBpKDM0KSxcbiAgICAgICAgcyA9IGkoMjEpLFxuICAgICAgICBhID0gaSgzNSksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUsIGksIF9vMTMpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBfbzEzICYmIChfbzEzID0gMCksIHModCwgbihlKSAtIGkpLCBhKHQsIHIoZSkgKyBfbzEzKSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDE4KSxcbiAgICAgICAgciA9IGkoMjIpLFxuICAgICAgICBzID0gaSgyMSksXG4gICAgICAgIGEgPSBpKDIzKSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSwgaSwgX28xNCkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IF9vMTQgJiYgKF9vMTQgPSAwKSwgcyh0LCBuKGUpIC0gaSksIGEodCwgcihlKSAtIF9vMTQpLCB0O1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjApLFxuICAgICAgICByID0gaSgxNiksXG4gICAgICAgIHMgPSBpKDE5KSxcbiAgICAgICAgYSA9IGkoMTcpLFxuICAgICAgICBvID0gZnVuY3Rpb24gbyh0LCBlLCBpLCBfbzE1KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gX28xNSAmJiAoX28xNSA9IDApLCBzKHQsIG4oZSkgKyBpKSwgYSh0LCByKGUpICsgX28xNSksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBvO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgyMCksXG4gICAgICAgIHIgPSBpKDM0KSxcbiAgICAgICAgcyA9IGkoMTkpLFxuICAgICAgICBhID0gaSgzNSksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUsIGksIF9vMTYpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBfbzE2ICYmIChfbzE2ID0gMCksIHModCwgbihlKSArIGkpLCBhKHQsIHIoZSkgKyBfbzE2KSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIwKSxcbiAgICAgICAgciA9IGkoMjIpLFxuICAgICAgICBzID0gaSgxOSksXG4gICAgICAgIGEgPSBpKDIzKSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSwgaSwgX28xNykge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IF9vMTcgJiYgKF9vMTcgPSAwKSwgcyh0LCBuKGUpICsgaSksIGEodCwgcihlKSAtIF9vMTcpLCB0O1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMzIpLFxuICAgICAgICByID0gaSgyMiksXG4gICAgICAgIHMgPSBpKDMzKSxcbiAgICAgICAgYSA9IGkoMTcpLFxuICAgICAgICBvID0gZnVuY3Rpb24gbyh0LCBlLCBpLCBfbzE4KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBpICYmIChpID0gMCksIHZvaWQgMCA9PT0gX28xOCAmJiAoX28xOCA9IDApLCBzKHQsIG4oZSkgKyBpKSwgYSh0LCByKGUpIC0gX28xOCksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBvO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxOCksXG4gICAgICAgIHIgPSBpKDIyKSxcbiAgICAgICAgcyA9IGkoMTkpLFxuICAgICAgICBhID0gaSgxNyksXG4gICAgICAgIG8gPSBmdW5jdGlvbiBvKHQsIGUsIGksIF9vMTkpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKSwgdm9pZCAwID09PSBfbzE5ICYmIChfbzE5ID0gMCksIHModCwgbihlKSAtIGkpLCBhKHQsIHIoZSkgLSBfbzE5KSwgdDtcbiAgICB9O3QuZXhwb3J0cyA9IG87XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIwKSxcbiAgICAgICAgciA9IGkoMjIpLFxuICAgICAgICBzID0gaSgyMSksXG4gICAgICAgIGEgPSBpKDE3KSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uIG8odCwgZSwgaSwgX28yMCkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDApLCB2b2lkIDAgPT09IF9vMjAgJiYgKF9vMjAgPSAwKSwgcyh0LCBuKGUpICsgaSksIGEodCwgcihlKSAtIF9vMjApLCB0O1xuICAgIH07dC5leHBvcnRzID0gbztcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB0LmV4cG9ydHMgPSB7IEZpbmRDbG9zZXN0SW5Tb3J0ZWQ6IGkoOTY4KSwgR2V0UmFuZG9tRWxlbWVudDogaSg5NjkpLCBOdW1iZXJBcnJheTogaSgxODUpLCBOdW1iZXJBcnJheVN0ZXA6IGkoOTcwKSwgUXVpY2tTZWxlY3Q6IGkoMjI2KSwgUmFuZ2U6IGkoMTc5KSwgUmVtb3ZlUmFuZG9tRWxlbWVudDogaSg5NzEpLCBSb3RhdGVMZWZ0OiBpKDExOSksIFJvdGF0ZVJpZ2h0OiBpKDEyMCksIFNodWZmbGU6IGkoMTgwKSwgU3BsaWNlT25lOiBpKDIyNykgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgaWYgKCFlLmxlbmd0aCkgcmV0dXJuIE5hTjtpZiAoMSA9PT0gZS5sZW5ndGggfHwgdCA8IGVbMF0pIHJldHVybiBlWzBdO2ZvciAodmFyIGkgPSAxOyBlW2ldIDwgdDspIHtcbiAgICAgICAgaSsrO1xuICAgICAgfXZhciBuID0gZVtpIC0gMV0sXG4gICAgICAgICAgciA9IGkgPCBlLmxlbmd0aCA/IGVbaV0gOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7cmV0dXJuIHIgLSB0IDw9IHQgLSBuID8gciA6IG47XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0LCBlLCBfaTE0Nykge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gMCksIHZvaWQgMCA9PT0gX2kxNDcgJiYgKF9pMTQ3ID0gdC5sZW5ndGgpO3ZhciBuID0gZSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIF9pMTQ3KTtyZXR1cm4gdm9pZCAwID09PSB0W25dID8gbnVsbCA6IHRbbl07XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHZhciBuID0gaSgxNTIpLFxuICAgICAgICByID0gZnVuY3Rpb24gcih0LCBlLCBpKSB7XG4gICAgICB2b2lkIDAgPT09IHQgJiYgKHQgPSAwKSwgdm9pZCAwID09PSBlICYmIChlID0gbnVsbCksIHZvaWQgMCA9PT0gaSAmJiAoaSA9IDEpLCBudWxsID09PSBlICYmIChlID0gdCwgdCA9IDApO2ZvciAodmFyIHIgPSBbXSwgcyA9IE1hdGgubWF4KG4oKGUgLSB0KSAvIChpIHx8IDEpKSwgMCksIGEgPSAwOyBhIDwgczsgYSsrKSB7XG4gICAgICAgIHIucHVzaCh0KSwgdCArPSBpO1xuICAgICAgfXJldHVybiByO1xuICAgIH07dC5leHBvcnRzID0gcjtcbiAgfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHtcbiAgICB2YXIgbiA9IGkoMjI3KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSwgaSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0gMCksIHZvaWQgMCA9PT0gaSAmJiAoaSA9IHQubGVuZ3RoKTt2YXIgciA9IGUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBpKTtyZXR1cm4gbih0LCByKTtcbiAgICB9O3QuZXhwb3J0cyA9IHI7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdC5leHBvcnRzID0geyBDZW50ZXJPbjogaSgxMDkpLCBHZXRCb3R0b206IGkoMTYpLCBHZXRDZW50ZXJYOiBpKDMyKSwgR2V0Q2VudGVyWTogaSgzNCksIEdldExlZnQ6IGkoMTgpLCBHZXRPZmZzZXRYOiBpKDk3MyksIEdldE9mZnNldFk6IGkoOTc0KSwgR2V0UmlnaHQ6IGkoMjApLCBHZXRUb3A6IGkoMjIpLCBTZXRCb3R0b206IGkoMTcpLCBTZXRDZW50ZXJYOiBpKDMzKSwgU2V0Q2VudGVyWTogaSgzNSksIFNldExlZnQ6IGkoMTkpLCBTZXRSaWdodDogaSgyMSksIFNldFRvcDogaSgyMykgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCkge1xuICAgICAgcmV0dXJuIHQud2lkdGggKiB0Lm9yaWdpblg7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC5oZWlnaHQgKiB0Lm9yaWdpblk7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgQ2xvbmU6IGkoNTgpLCBFeHRlbmQ6IGkoNjMpLCBHZXRBZHZhbmNlZFZhbHVlOiBpKDUpLCBHZXRGYXN0VmFsdWU6IGkoNyksIEdldE1pbk1heFZhbHVlOiBpKDk3NiksIEdldFZhbHVlOiBpKDIpLCBJc1BsYWluT2JqZWN0OiBpKDEwMiksIE1lcmdlOiBpKDkyKSwgTWVyZ2VSaWdodDogaSg5NzcpIH07XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDIpLFxuICAgICAgICByID0gaSg0OSksXG4gICAgICAgIHMgPSBmdW5jdGlvbiBzKHQsIGUsIGksIF9zMTMsIGEpIHtcbiAgICAgIHZvaWQgMCA9PT0gYSAmJiAoYSA9IGkpO3ZhciBvID0gbih0LCBlLCBhKTtyZXR1cm4gcihvLCBpLCBfczEzKTtcbiAgICB9O3QuZXhwb3J0cyA9IHM7XG4gIH0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7XG4gICAgdmFyIG4gPSBpKDU4KSxcbiAgICAgICAgciA9IGZ1bmN0aW9uIHIodCwgZSkge1xuICAgICAgdmFyIGkgPSBuKHQpO2ZvciAodmFyIHIgaW4gZSkge1xuICAgICAgICBpLmhhc093blByb3BlcnR5KHIpICYmIChpW3JdID0gZVtyXSk7XG4gICAgICB9cmV0dXJuIGk7XG4gICAgfTt0LmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAodCwgZSwgaSkge1xuICAgIHQuZXhwb3J0cyA9IHsgUGFkOiBpKDE2MiksIEZvcm1hdDogaSg5NzkpLCBSZXZlcnNlOiBpKDk4MCkgfTtcbiAgfSwgZnVuY3Rpb24gKHQsIGUpIHtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkodCwgZSkge1xuICAgICAgcmV0dXJuIHQucmVwbGFjZSgvJShbMC05XSspL2csIGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgICAgIHJldHVybiBlW051bWJlcihpKSAtIDFdO1xuICAgICAgfSksIHQ7XG4gICAgfTt0LmV4cG9ydHMgPSBpO1xuICB9LCBmdW5jdGlvbiAodCwgZSkge1xuICAgIHZhciBpID0gZnVuY3Rpb24gaSh0KSB7XG4gICAgICByZXR1cm4gdC5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTtcbiAgICB9O3QuZXhwb3J0cyA9IGk7XG4gIH1dKTtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3ZlbmRvci9waGFzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')},,function(module,exports){eval('module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, "loaded", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, "id", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanM/YzNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZighbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')}]);